var Ha=Object.defineProperty;var $a=(n,e,t)=>e in n?Ha(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ti=(n,e,t)=>($a(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var erudaExports={},eruda$1={get exports(){return erudaExports},set exports(n){erudaExports=n}};/*! eruda v2.11.2 https://eruda.liriliri.io/ */(function(module,exports){(function(n,e){module.exports=e()})(self,function(){return function(){var __webpack_modules__={8816:function(n,e,t){t.d(e,{Z:function(){return $n}});var r=t(168),i=t(181);function o(Vt,pe){return function(Xt){if(Array.isArray(Xt))return Xt}(Vt)||function(Xt,P){var O=Xt==null?null:typeof Symbol<"u"&&Xt[Symbol.iterator]||Xt["@@iterator"];if(O!=null){var V,J,Ot,bt,Ht=[],Yt=!0,ie=!1;try{if(Ot=(O=O.call(Xt)).next,P===0){if(Object(O)!==O)return;Yt=!1}else for(;!(Yt=(V=Ot.call(O)).done)&&(Ht.push(V.value),Ht.length!==P);Yt=!0);}catch(Ee){ie=!0,J=Ee}finally{try{if(!Yt&&O.return!=null&&(bt=O.return(),Object(bt)!==bt))return}finally{if(ie)throw J}}return Ht}}(Vt,pe)||(0,i.Z)(Vt,pe)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var s=t(5671),a=t(3144),l=t(1752),c=t(9340),u=t(2963),h=t(1120),d=t(7326),p=t(8901),f=t.n(p),m=t(3367),g=t.n(m),v=t(6341),_=t.n(v),y=t(6930),b=t.n(y),S=t(4187),T=t.n(S),A=t(3783),R=t.n(A),Z=t(4858),L=t.n(Z),G=t(8887),j=t.n(G),M=t(7756),E=t.n(M),I=t(3023),U=t.n(I);function N(Vt){return Vt.constructor&&Vt.constructor.name?Vt.constructor.name:U()({}.toString.call(Vt).replace(/(\[object )|]/g,""))}var Y=t(2461),D=t.n(Y),z=t(4331),$=t.n(z),rt=t(5610),ot=t.n(rt),st=t(7483),tt=t.n(st),nt=t(3990),Et=t.n(nt),yt=t(3875),Gt=t.n(yt),Nt=t(6954),jt=t.n(Nt),Rt=t(9585),Dt=t.n(Rt);function Ct(Vt){var pe="luna-".concat(Vt,"-");function Xt(P){return D()($()(P).split(/\s+/),function(O){return _()(O,pe)?O:O.replace(/[\w-]+/,function(V){return"".concat(pe).concat(V)})}).join(" ")}return function(P){if(/<[^>]*>/g.test(P))try{var O=tt().parse(P);return Q(O,function(V){V.attrs&&V.attrs.class&&(V.attrs.class=Xt(V.attrs.class))}),tt().stringify(O)}catch{return Xt(P)}return Xt(P)}}function Q(Vt,pe){for(var Xt=0,P=Vt.length;Xt<P;Xt++){var O=Vt[Xt];pe(O),O.content&&Q(O.content,pe)}}ot();function ft(){var Vt=jt()();return Vt==="os x"?"mac":Vt}var _t=Ct("console");function Lt(Vt){var pe,Xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=Xt.topObj,O=Xt.level,V=O===void 0?0:O,J=Xt.getterVal,Ot=J!==void 0&&J,bt=Xt.unenumerable,Ht=bt===void 0||bt,Yt="",ie="",Ee=5,ye=[],Oe=[],ze="";P=P||Vt;var ge={getterVal:Ot,unenumerable:Ht,level:V+1},Fe=V===0,Qe='<span class="'.concat(_t("key"),'">'),Xe='<span class="'.concat(_t("number"),'">'),In='<span class="'.concat(_t("null"),'">'),Ve='<span class="'.concat(_t("string"),'">'),On='<span class="'.concat(_t("boolean"),'">'),bn='<span class="'.concat(_t("special"),'">'),gn=function(ke){return f()(ke).replace(/\\n/g,"↵").replace(/\\f|\\r|\\t/g,"").replace(/\\/g,"")},He="</span>",Yn=function(ke){return Qe+gn(ke)+He},Dn=function(ke){return Xe+ke+He},En=function(ke){return Ve+ke+He},Zn=function(ke){return On+ke+He},Bn=function(ke){return In+ke+He};function ln(ke){return ke=g()(ke),_()(K,ke)||b()(ke,"Array[")?bn+gn(ke)+He:(ke.length>100&&(ke=E()(ke,100,{separator:" ",ellipsis:"…"})),Ve+gn('"'.concat(ke,'"'))+He)}function Sn(ke){if(pe>Ee)ze=", …";else{var rr=Yn(W(ke));if(!Ot){var ir=Object.getOwnPropertyDescriptor(Vt,ke);if(ir&&ir.get)return ye.push("".concat(rr,": ").concat(ln("(...)"))),void pe++}ye.push("".concat(rr,": ").concat(Lt(P[ke],ge))),pe++}}try{ie={}.toString.call(Vt)}catch{ie="[object Object]"}var wn=ie=="[object String]",An=ie=="[object Array]",Fn=ie=="[object Object]",zr=ie=="[object Number]",Hr=ie=="[object RegExp]",$r=ie=="[object Symbol]",Tn=ie=="[object Function]",Yr=ie=="[object Boolean]";if(wn)Yt=ln(W(Vt));else if(Hr)Yt=En(W(Vt.toString()));else if(Tn)Yt=ln("ƒ");else if(An)if(Fe){Yt="[";var vn=Vt.length,nr="";vn>100&&(vn=100,nr=", …");for(var Nn=0;Nn<vn;Nn++)ye.push("".concat(Lt(Vt[Nn],ge)));Yt+=ye.join(", ")+nr+"]"}else Yt="Array(".concat(Vt.length,")");else if(Fn)mt(Vt)&&(Vt=Object.getPrototypeOf(Vt)),Oe=Ht?Object.getOwnPropertyNames(Vt):Object.keys(Vt),Fe?(pe=1,Yt="{",R()(Oe,Sn),Yt+=ye.join(", ")+ze+"}"):(Yt=N(Vt))==="Object"&&(Yt="{…}");else if(zr)Yt=Vt+"",Yt=L()(Yt,"Infinity")||Yt==="NaN"?'"'.concat(Yt,'"'):Dn(Yt);else if(Yr)Yt=Zn(Vt?"true":"false");else if(Vt===null)Yt=Bn("null");else if($r)Yt=ln("Symbol");else if(Vt===void 0)Yt=ln("undefined");else try{mt(Vt)&&(Vt=Object.getPrototypeOf(Vt)),Fe?(pe=1,Yt="{",Oe=Ht?Object.getOwnPropertyNames(Vt):Object.keys(Vt),R()(Oe,Sn),Yt+=ye.join(", ")+ze+"}"):(Yt=N(Vt))==="Object"&&(Yt="{…}")}catch{Yt=ln(Vt)}return Yt}var K=["(...)","undefined","Symbol","Object","ƒ"];function mt(Vt){var pe=j()(Object.getOwnPropertyNames(Vt)),Xt=Object.getPrototypeOf(Vt);return pe&&Xt&&Xt!==Object.prototype}function W(Vt){return T()(Vt).replace(/\\'/g,"'").replace(/\t/g,"\\t")}var vt,ut=t(8299),ht=t(5564),$t=t(8209),gt=t(242),it=t.n(gt),At=t(5166),at=t.n(At),dt=t(6768),kt=t.n(dt),pt=t(2749),It=t.n(pt),Pt=t(6997),et=t.n(Pt),xt=t(4193),Bt=t.n(xt),Qt=t(9833),te=t.n(Qt),se=t(9296),_e=t.n(se),me=t(8099),he=t.n(me),be=t(6156),Re=t.n(be),we=t(1286),je=t.n(we),qe=t(4777),Je=t.n(qe),en=t(1352),ce=t.n(en),de=t(6472),ee=t.n(de),wt=t(42),Ft=t.n(wt),ct=t(4675),ne=t.n(ct),re=t(3063),ve=t.n(re),xe=t(2533),Ae=t.n(xe),Be=t(1512),Pe=t.n(Be),Ue=t(8613),qt=t.n(Ue),Kt=t(1443),Zt=t.n(Kt),Tt=t(6049),Mt=t.n(Tt),zt=t(4400),ue=t.n(zt),oe=t(2327),Wt=t.n(oe),Jt=t(9963),fe=t.n(Jt),ae=t(6837),Se=t.n(ae),Ce=t(3988),De=t.n(Ce),Ye=t(3651),Ke=t.n(Ye),sn=t(6053),nn=t.n(sn),un=t(1907),hn=t.n(un),Ze=t(4891),an=t.n(Ze),pn=t(5229),We=t.n(pn),rn=t(4696),cn=t.n(rn),mn=t(9804),Pn=t.n(mn),zn=t(1754),xn=t.n(zn);function mr(Vt){var pe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Xt,P=(0,h.Z)(Vt);if(pe){var O=(0,h.Z)(this).constructor;Xt=Reflect.construct(P,arguments,O)}else Xt=P.apply(this,arguments);return(0,u.Z)(this,Xt)}}var gr=/https?:\/\/([0-9.\-A-Za-z]+)(?::(\d+))?\/[A-Z.a-z0-9/]*\.js/g,vr={comment:"",string:"",number:"",keyword:"",operator:""},yr=function(Vt){(0,c.Z)(Xt,Vt);var pe=mr(Xt);function Xt(P,O){var V,J=O.type,Ot=J===void 0?"log":J,bt=O.args,Ht=bt===void 0?[]:bt,Yt=O.id,ie=O.group,Ee=O.targetGroup,ye=O.header,Oe=O.ignoreFilter,ze=Oe!==void 0&&Oe,ge=O.accessGetter,Fe=O.unenumerable,Qe=O.lazyEvaluation;(0,s.Z)(this,Xt),(V=pe.call(this)).container=qt()("div"),V.count=1,V.width=0,V.height=0,V.isHidden=!1,V.columns=[],V.elements={},V.objects={},V.console=P,V.type=Ot,V.group=ie,V.targetGroup=Ee,V.args=Ht,V.id=Yt,V.header=ye,V.ignoreFilter=ze,V.collapsed=!1,V.container.log=(0,d.Z)(V),V.height=0,V.width=0,V.$container=Pe()(V.container),V.accessGetter=ge,V.unenumerable=Fe,V.lazyEvaluation=Qe;var Xe="info";switch(Ot){case"debug":Xe="verbose";break;case"error":Xe="error";break;case"warn":Xe="warning"}return V.level=Xe,V.resizeSensor=new(it())(V.container),V.onResize=Mt()(function(){Dt()(V.container)?V.isHidden=!0:(V.isHidden||V.updateSize(!1),V.isHidden=!1)},16),V.formatMsg(),V.group&&V.checkGroup(),V.bindEvent(),V}return(0,a.Z)(Xt,[{key:"checkGroup",value:function(){for(var P=this.group,O=!1;P;){if(P.collapsed){O=!0;break}P=P.parent}return O!==this.collapsed&&(this.collapsed=O,!0)}},{key:"updateIcon",value:function(P){var O=this.console.c;return this.$container.find(O(".icon-container")).find(O(".icon")).rmAttr("class").addClass([O("icon"),O("icon-".concat(P))]),this}},{key:"addCount",value:function(){this.count++;var P=this.$container,O=this.count,V=this.console.c,J=P.find(V(".count-container")),Ot=P.find(V(".icon-container")),bt=J.find(V(".count"));return O===2&&J.rmClass(V("hidden")),bt.text(g()(O)),Ot.addClass(V("hidden")),this}},{key:"groupEnd",value:function(){var P=this.$container,O=this.console.c;return P.find(".".concat(O("nesting-level"),":not(.").concat(O("group-closed"),")")).last().addClass(O("group-closed")),this}},{key:"updateTime",value:function(P){var O=this.$container.find(this.console.c(".time-container"));return this.header&&(O.find("span").eq(0).text(P),this.header.time=P),this}},{key:"isAttached",value:function(){return!!this.container.parentNode}},{key:"isSimple",value:function(){return!nn()(this.args,function(P){return at()(P)})}},{key:"updateSize",value:function(){var P=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],O=this.container.getBoundingClientRect(),V=O.width,J=O.height,Ot=J-1;this.height!==Ot&&(this.height=Ot,P||this.emit("updateHeight")),this.width!==V&&(this.width=V)}},{key:"html",value:function(){return this.container.outerHTML}},{key:"text",value:function(){return this.content.textContent||""}},{key:"select",value:function(){this.$container.addClass(this.console.c("selected"))}},{key:"deselect",value:function(){this.$container.rmClass(this.console.c("selected"))}},{key:"copy",value:function(){var P=this.args,O="";R()(P,function(V,J){J!==0&&(O+=" "),at()(V)?O+=ue()(V):O+=g()(V)}),Wt()(O)}},{key:"bindEvent",value:function(){var P=this,O=this.console.c,V=this;this.resizeSensor.addListener(this.onResize),this.$container.on("click",O(".dom-viewer"),function(J){return J.stopPropagation()}).on("click",O(".preview"),function(J){J.stopPropagation();var Ot=Pe()(this).find(O(".preview-icon-container")).find(O(".icon")),bt="caret-down";Ot.hasClass(O("icon-caret-down"))&&(bt="caret-right"),Ot.rmAttr("class").addClass([O("icon"),O("icon-".concat(bt))]),V.renderObjectViewer(this)}).on("click",function(){return P.click()})}},{key:"renderEl",value:function(){var P=this.elements,O=this.console.c,V=this;this.$container.find(O(".dom-viewer")).each(function(){var J=Pe()(this).data("id");new $t.Z(this,{node:P[J],theme:V.console.getOption("theme")})})}},{key:"renderObjectViewer",value:function(P){var O=this.console,V=this.unenumerable,J=this.accessGetter,Ot=this.lazyEvaluation,bt=O.c,Ht=Pe()(P),Yt=Ht.data("id");if(Yt){var ie=this.objects[Yt],Ee=Ht.find(bt(".json"));if(Ee.hasClass(bt("hidden"))){if(Ee.data("init")!=="true"){if(Ot){var ye=new ut.Z(Ee.get(0),{unenumerable:V,accessGetter:J});ye.setOption("theme",O.getOption("theme")),ye.set(ie)}else{var Oe=new ut.q(Ee.get(0));Oe.setOption("theme",O.getOption("theme")),Oe.set(ie)}Ee.data("init","true")}Ee.rmClass(bt("hidden"))}else Ee.addClass(bt("hidden"))}}},{key:"renderTable",value:function(P){var O=this,V="__LunaConsoleValue",J=this.columns,Ot=this.$container,bt=this.console,Ht=bt.c,Yt=Ot.find(Ht(".data-grid")),ie=P[0],Ee=new ht.Z(Yt.get(0),{columns:he()([{id:"(index)",title:"(index)",sortable:!0}],D()(J,function(ye){return{id:ye,title:ye===V?"Value":ye,sortable:!0}})),theme:bt.getOption("theme")});R()(ie,function(ye,Oe){var ze={"(index)":g()(Oe)};J.forEach(function(ge){at()(ye)?ze[ge]=ge===V?"":O.formatTableVal(ye[ge]):et()(ye)&&(ze[ge]=ge===V?O.formatTableVal(ye):"")}),Ee.append(ze)})}},{key:"extractObj",value:function(P){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=arguments.length>2?arguments[2]:void 0,J=this.accessGetter,Ot=this.unenumerable;Bt()(O,{accessGetter:J,unenumerable:Ot,symbol:Ot,timeout:1e3}),xr(P,O,function(bt){return V(JSON.parse(bt))})}},{key:"click",value:function(){var P=this.type,O=this.$container,V=this.console,J=V.c;switch(P){case"log":case"warn":case"debug":case"output":case"table":case"dir":break;case"group":case"groupCollapsed":V.toggleGroup(this);break;case"error":O.find(J(".stack")).toggleClass(J("hidden"))}}},{key:"formatMsg",value:function(){var P=this.args,O=this.type,V=this.id,J=this.header,Ot=this.group,bt=this.console.c;P=ne()(P);var Ht,Yt,ie="";switch(O!=="group"&&O!=="groupCollapsed"||P.length===0&&(P=["console.group"]),O){case"log":case"debug":ie=this.formatCommon(P);break;case"dir":ie=this.formatDir(P);break;case"warn":Ht="warn",ie=this.formatCommon(P);break;case"error":kt()(P[0])&&P.length!==1&&(P=this.substituteStr(P)),Yt=P[0],Ht="error",Yt=It()(Yt)?Yt:new Error(this.formatCommon(P)),ie=this.formatErr(Yt);break;case"table":ie=this.formatTable(P);break;case"html":ie=P[0];break;case"input":ie=this.formatJs(P[0]),Ht="input";break;case"output":ie=this.formatCommon(P),Ht="output";break;case"groupCollapsed":ie=this.formatCommon(P),Ht="caret-right";break;case"group":ie=this.formatCommon(P),Ht="caret-down"}_()(["log","debug","warn"],O)&&this.isSimple()&&(ie=De()(ie,function(Ee){return'<a href="'.concat(Ee,'" target="_blank">').concat(Ee,"</a>")})),ie=this.render({msg:ie,type:O,icon:Ht,id:V,header:J,group:Ot}),this.$container.addClass("".concat(bt("log-container"))).html(ie),O==="table"&&(j()(this.columns)||this.renderTable(P)),j()(this.elements)||this.renderEl(),this.$content=this.$container.find(bt(".log-content")),this.content=this.$content.get(0)}},{key:"render",value:function(P){var O=this.console.c,V="",J="";if(P.group)for(var Ot=P.group.indentLevel,bt=0;bt<Ot;bt++)J+='<div class="'.concat(O("nesting-level"),'"></div>');P.header&&(V+=hn()(vt||(vt=(0,r.Z)([`
      <div class="`,`">
        `,`
        <div class="`,`">
          <span>`,"</span> <span>",`</span>
        </div>
      </div>`])),O("header"),J,O("time-from-container"),P.header.time,P.header.from));var Ht="";return P.icon&&(Ht='<div class="'.concat(O("icon-container"),'"><span class="').concat(O("icon icon-"+P.icon),'"></span></div>')),V+=`
    <div class="`.concat(O(P.type+" log-item"),`">
      `).concat(J,`
      `).concat(Ht,`
      <div class="`).concat(O("count-container hidden"),`">
        <div class="`).concat(O("count"),`"></div>
      </div>    
      <div class="`).concat(O("log-content-wrapper"),`">
        <div class="`).concat(O("log-content"),'">').concat(P.msg,`</div>
      </div>
    </div>`)}},{key:"formatTable",value:function(P){var O=P[0],V=P[1],J=[];return kt()(V)&&(V=ce()(V)),ee()(V)||(V=null),at()(O)?(R()(O,function(Ot){et()(Ot)?J.push("__LunaConsoleValue"):at()(Ot)&&(J=J.concat(Ae()(Ot)))}),(J=Ft()(J)).sort(),V&&(J=J.filter(function(Ot){return _()(V,Ot)})),J.length>20&&(J=J.slice(0,20)),j()(J)?this.formatCommon(P):(this.columns=J,this.console.c('<div class="data-grid"></div>')+this.formatPreview(O))):this.formatCommon(P)}},{key:"formatErr",value:function(P){var O=P.stack?P.stack.split(`
`):[],V="".concat(P.message||O[0],"<br/>");return O=O.map(function(J){return f()(J)}),V+'<div class="'.concat(this.console.c("stack hidden"),'">').concat(O.slice(1).join("<br/>"),"</div>").replace(gr,function(J){return'<a href="'.concat(J,'" target="_blank">').concat(J,"</a>")})}},{key:"formatCommon",value:function(P){var O=this.console.c,V=kt()(P[0])&&P.length!==1;V&&(P=this.substituteStr(P));for(var J=0,Ot=P.length;J<Ot;J++){var bt=P[J];te()(bt)?P[J]=this.formatEl(bt):Je()(bt)?P[J]=this.formatFn(bt):xn()(bt)?P[J]='<span class="'.concat(O("regexp"),'">').concat(f()(g()(bt)),"</span>"):at()(bt)?P[J]=this.formatPreview(bt):je()(bt)?P[J]='<span class="'.concat(O("undefined"),'">undefined</span>'):Re()(bt)?P[J]='<span class="'.concat(O("null"),'">null</span>'):Et()(bt)?P[J]='<span class="'.concat(O("number"),'">').concat(g()(bt),"</span>"):typeof bt=="bigint"?P[J]='<span class="'.concat(O("number"),'">').concat(g()(bt),"n</span>"):cn()(bt)?P[J]='<span class="'.concat(O("boolean"),'">').concat(g()(bt),"</span>"):Pn()(bt)?P[J]='<span class="'.concat(O("symbol"),'">').concat(f()(g()(bt)),"</span>"):(bt=g()(bt),J===0&&V||(bt=f()(bt)),bt.length>5e3&&(bt=E()(bt,5e3,{separator:" ",ellipsis:"…"})),P[J]=bt)}return P.join(" ")}},{key:"formatDir",value:function(P){return at()(P[0])?this.formatPreview(P[0]):this.formatCommon(P)}},{key:"formatTableVal",value:function(P){var O=this.console.c;return at()(P)?"{…}":et()(P)?an()('<div class="'.concat(O("preview"),'">').concat(Lt(P),"</div>")):g()(P)}},{key:"formatPreview",value:function(P){var O=this,V=this.console.c,J=We()();this.lazyEvaluation?this.objects[J]=P:this.extractObj(P,{},function(Ht){O.objects[J]=Ht});var Ot=_()(["dir","table"],this.type),bt=N(P);return bt==="Array"&&P.length>1?(bt="(".concat(P.length,")"),Ot&&(bt="Array".concat(bt))):bt==="RegExp"?bt=g()(P):te()(P)&&(bt=this.formatElName(P)),'<div class="'.concat(V("preview"),'" data-id="').concat(J,'">')+'<div class="'.concat(V("preview-container"),'">')+'<div class="'.concat(V("preview-icon-container"),'"><span class="').concat(V("icon icon-caret-right"),'"></span></div>')+'<span class="'.concat(V("preview-content-container"),'">')+'<span class="'.concat(V("descriptor"),'">').concat(f()(bt),"</span> ")+'<span class="'.concat(V("object-preview"),'">').concat(Ot?"":Lt(P,{getterVal:this.accessGetter,unenumerable:!1}),"</span>")+"</span></div>"+'<div class="'.concat(V("json hidden"),'"></div></div>')}},{key:"substituteStr",value:function(P){var O=f()(P[0]),V=!1,J="";P.shift();for(var Ot=0,bt=O.length;Ot<bt;Ot++){var Ht=O[Ot];if(Ht==="%"&&P.length!==0){Ot++;var Yt=P.shift();switch(O[Ot]){case"i":case"d":J+=_e()(Yt);break;case"f":J+=Gt()(Yt);break;case"s":J+=g()(Yt);break;case"O":at()(Yt)&&(J+=this.formatPreview(Yt));break;case"o":te()(Yt)?J+=this.formatEl(Yt):at()(Yt)&&(J+=this.formatPreview(Yt));break;case"c":if(O.length<=Ot+1)break;V&&(J+="</span>"),V=!0,J+='<span style="'.concat(_r(Yt),'">');break;default:Ot--,P.unshift(Yt),J+=Ht}}else J+=Ht}return V&&(J+="</span>"),P.unshift(J),P}},{key:"formatJs",value:function(P){return'<pre class="'.concat(this.console.c("code"),'">').concat(this.console.c(Ke()(P,"js",vr)),"</pre>")}},{key:"formatFn",value:function(P){return'<pre style="display:inline">'.concat(this.formatJs(P.toString()),"</pre>")}},{key:"formatElName",value:function(P){var O=P.id,V=P.className,J=P.tagName.toLowerCase();if(O!==""&&(J+="#".concat(O)),kt()(V)){var Ot="";R()(V.split(/\s+/g),function(bt){bt.trim()!==""&&(Ot+=".".concat(bt))}),J+=Ot}return J}},{key:"formatEl",value:function(P){var O=We()();return this.elements[O]=P,this.console.c('<div class="dom-viewer" data-id="'.concat(O,'"></div>'))}}]),Xt}(Zt());function _r(Vt){var pe=(Vt=ve()(Vt)).split(";"),Xt={};R()(pe,function(O){if(_()(O,":")){var V=o(O.split(":"),2),J=V[0],Ot=V[1];Xt[$()(J)]=$()(Ot)}}),Xt.display="inline-block",Xt["max-width"]="100%",delete Xt.width,delete Xt.height;var P="";return R()(Xt,function(O,V){P+="".concat(V,":").concat(O,";")}),P}function xr(Vt,pe,Xt){var P=fe()(Vt,pe);Se()(function(){return Xt(P)})}var br=t(1194),Mn=t.n(br),wr=t(8847),Hn=t.n(wr),Ar=t(6329),Kn=t.n(Ar),Tr=t(9001),Qn=t.n(Tr),Er=t(9702),Te=t.n(Er),Sr=t(2439),Jn=t.n(Sr),Cr=t(8933),kr=t.n(Cr),Rr=t(4407),Pr=t.n(Rr),Mr=t(5852),Ir=t.n(Mr);function Or(Vt){var pe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Xt,P=(0,h.Z)(Vt);if(pe){var O=(0,h.Z)(this).constructor;Xt=Reflect.construct(P,arguments,O)}else Xt=P.apply(this,arguments);return(0,u.Z)(this,Xt)}}var tr,Dr=function(Vt){(0,c.Z)(Xt,Vt);var pe=Or(Xt);function Xt(P,O){var V,J=O.compName,Ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},bt=Ot.theme,Ht=bt===void 0?"light":bt;return(0,s.Z)(this,Xt),(V=pe.call(this)).subComponents=[],V.compName=J,V.c=Ct(J),V.options={},V.container=P,V.$container=Pe()(P),V.$container.addClass(["luna-".concat(J),V.c("platform-".concat(ft()))]),V.on("optionChange",function(Yt,ie,Ee){var ye=V.c;Yt==="theme"&&(V.$container.rmClass(ye("theme-".concat(Ee))).addClass(ye("theme-".concat(ie))),R()(V.subComponents,function(Oe){return Oe.setOption("theme",ie)}))}),V.setOption("theme",Ht),V}return(0,a.Z)(Xt,[{key:"destroy",value:function(){this.destroySubComponents();var P=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(P("platform-".concat(ft()))).rmClass(P("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(P,O){var V=this,J=this.options,Ot={};typeof P=="string"?Ot[P]=O:Ot=P,R()(Ot,function(bt,Ht){var Yt=J[Ht];J[Ht]=bt,V.emit("optionChange",Ht,bt,Yt)})}},{key:"getOption",value:function(P){return this.options[P]}},{key:"addSubComponent",value:function(P){P.setOption("theme",this.options.theme),this.subComponents.push(P)}},{key:"removeSubComponent",value:function(P){Ir()(this.subComponents,function(O){return O===P})}},{key:"destroySubComponents",value:function(){R()(this.subComponents,function(P){return P.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(P){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Bt()(P,O),Kn()(this.options,P)}},{key:"find",value:function(P){return this.$container.find(this.c(P))}}]),Xt}(Zt()),Br=t(1571),Fr=t.n(Br);function Nr(Vt){var pe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Xt,P=(0,h.Z)(Vt);if(pe){var O=(0,h.Z)(this).constructor;Xt=Reflect.construct(P,arguments,O)}else Xt=P.apply(this,arguments);return(0,u.Z)(this,Xt)}}n=t.hmd(n);var er=navigator.userAgent,Lr=er.indexOf("Android")>-1||er.indexOf("Adr")>-1,Ur=0,$n=function(Vt){(0,c.Z)(Xt,Vt);var pe=Nr(Xt);function Xt(P){var O,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,s.Z)(this,Xt),(O=pe.call(this,P,{compName:"console"},V)).spaceHeight=0,O.topSpaceHeight=0,O.bottomSpaceHeight=0,O.lastScrollTop=0,O.lastTimestamp=0,O.speedToleranceFactor=100,O.maxSpeedTolerance=2e3,O.minSpeedTolerance=100,O.logs=[],O.displayLogs=[],O.timer={},O.counter={},O.asyncList=[],O.asyncTimer=null,O.isAtBottom=!0,O.groupStack=new(Qn()),O.selectedLog=null,O.onScroll=function(){var J=O.container,Ot=J.scrollHeight,bt=J.offsetHeight,Ht=J.scrollTop;if(!(Ht<=0||bt+Ht>Ot)){var Yt=!1;(Ot===bt||Ht===Ot-bt)&&(Yt=!0),O.isAtBottom=Yt;var ie=O.lastScrollTop,Ee=O.lastTimestamp,ye=Hn()(),Oe=ye-Ee,ze=Ht-ie,ge=Math.abs(ze/Oe)*O.speedToleranceFactor;Oe>1e3&&(ge=1e3),ge>O.maxSpeedTolerance&&(ge=O.maxSpeedTolerance),ge<O.minSpeedTolerance&&(ge=O.minSpeedTolerance),O.lastScrollTop=Ht,O.lastTimestamp=ye;var Fe=0,Qe=0;ie<Ht?(Fe=O.minSpeedTolerance,Qe=ge):(Fe=ge,Qe=O.minSpeedTolerance),O.topSpaceHeight<Ht-Fe&&O.topSpaceHeight+O.el.offsetHeight>Ht+bt+Qe||O.renderViewport({topTolerance:2*Fe,bottomTolerance:2*Qe})}},O.initTpl(),O.initOptions(V,{maxNum:0,asyncRender:!0,showHeader:!1,filter:"",level:["verbose","info","warning","error"],accessGetter:!1,unenumerable:!0,lazyEvaluation:!0}),O.$el=O.find(".logs"),O.el=O.$el.get(0),O.$fakeEl=O.find(".fake-logs"),O.fakeEl=O.$fakeEl.get(0),O.$space=O.find(".logs-space"),O.space=O.$space.get(0),Lr&&(O.speedToleranceFactor=800,O.maxSpeedTolerance=3e3,O.minSpeedTolerance=800),O.resizeSensor=new(it())(P),O.renderViewport=Jn()(function(J){O._renderViewport(J)},16),O.global={copy:function(J){kt()(J)||(J=JSON.stringify(J,null,2)),Wt()(J)},$:function(J){return document.querySelector(J)},$$:function(J){return ce()(document.querySelectorAll(J))},$x:function(J){return kr()(J)},clear:function(){O.clear()},dir:function(J){O.dir(J)},table:function(J,Ot){O.table(J,Ot)},keys:Ae()},O.bindEvent(),O}return(0,a.Z)(Xt,[{key:"setGlobal",value:function(P,O){this.global[P]=O}},{key:"destroy",value:function(){this.$container.off("scroll",this.onScroll),this.resizeSensor.destroy(),(0,l.Z)((0,h.Z)(Xt.prototype),"destroy",this).call(this)}},{key:"count",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default",O=this.counter;je()(O[P])?O[P]=1:O[P]++,this.info("".concat(P,": ").concat(O[P]))}},{key:"countReset",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";this.counter[P]=0}},{key:"assert",value:function(){for(var P=arguments.length,O=new Array(P),V=0;V<P;V++)O[V]=arguments[V];if(!j()(O)){var J=O.shift();J||(O.length===0&&O.unshift("console.assert"),O.unshift("Assertion failed: "),this.insert("error",O))}}},{key:"log",value:function(){for(var P=arguments.length,O=new Array(P),V=0;V<P;V++)O[V]=arguments[V];j()(O)||this.insert("log",O)}},{key:"debug",value:function(){for(var P=arguments.length,O=new Array(P),V=0;V<P;V++)O[V]=arguments[V];j()(O)||this.insert("debug",O)}},{key:"dir",value:function(P){je()(P)||this.insert("dir",[P])}},{key:"table",value:function(){for(var P=arguments.length,O=new Array(P),V=0;V<P;V++)O[V]=arguments[V];j()(O)||this.insert("table",O)}},{key:"time",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";if(this.timer[P])return this.insert("warn",["Timer '".concat(P,"' already exists")]);this.timer[P]=Mn()()}},{key:"timeLog",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default",O=this.timer[P];if(!O)return this.insert("warn",["Timer '".concat(P,"' does not exist")]);this.info("".concat(P,": ").concat(Mn()()-O,"ms"))}},{key:"timeEnd",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";this.timeLog(P),delete this.timer[P]}},{key:"clear",value:function(){var P=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.logs=[],this.displayLogs=[],this.selectLog(null),this.lastLog=void 0,this.counter={},this.timer={},this.groupStack=new(Qn()),this.asyncList=[],this.asyncTimer&&(clearTimeout(this.asyncTimer),this.asyncTimer=null),P?this.render():this.insert("log",["%cConsole was cleared","color:#808080;font-style:italic;"])}},{key:"info",value:function(){for(var P=arguments.length,O=new Array(P),V=0;V<P;V++)O[V]=arguments[V];j()(O)||this.insert("log",O)}},{key:"error",value:function(){for(var P=arguments.length,O=new Array(P),V=0;V<P;V++)O[V]=arguments[V];j()(O)||this.insert("error",O)}},{key:"warn",value:function(){for(var P=arguments.length,O=new Array(P),V=0;V<P;V++)O[V]=arguments[V];j()(O)||this.insert("warn",O)}},{key:"group",value:function(){for(var P=arguments.length,O=new Array(P),V=0;V<P;V++)O[V]=arguments[V];this.insert({type:"group",args:O,ignoreFilter:!0})}},{key:"groupCollapsed",value:function(){for(var P=arguments.length,O=new Array(P),V=0;V<P;V++)O[V]=arguments[V];this.insert({type:"groupCollapsed",args:O,ignoreFilter:!0})}},{key:"groupEnd",value:function(){this.insert("groupEnd")}},{key:"evaluate",value:function(P){this.insert({type:"input",args:[P],ignoreFilter:!0});try{this.output(this.evalJs(P))}catch(O){this.insert({type:"error",ignoreFilter:!0,args:[O]})}}},{key:"html",value:function(){for(var P=arguments.length,O=new Array(P),V=0;V<P;V++)O[V]=arguments[V];this.insert("html",O)}},{key:"toggleGroup",value:function(P){P.targetGroup.collapsed?this.openGroup(P):this.collapseGroup(P)}},{key:"output",value:function(P){this.insert({type:"output",args:[P],ignoreFilter:!0})}},{key:"render",value:function(){var P=this.logs,O=this.selectedLog;this.$el.html(""),this.isAtBottom=!0,this.updateBottomSpace(0),this.updateTopSpace(0),this.displayLogs=[];for(var V=0,J=P.length;V<J;V++)this.attachLog(P[V]);O&&(_()(this.displayLogs,O)||this.selectLog(null))}},{key:"insert",value:function(P,O){var V,J=this.options,Ot=J.showHeader,bt=J.asyncRender;if(Ot&&(V={time:Gr(),from:jr()}),bt)return this.insertAsync(P,O,V);this.insertSync(P,O,V)}},{key:"insertAsync",value:function(P,O,V){this.asyncList.push([P,O,V]),this.handleAsyncList()}},{key:"insertSync",value:function(P,O,V){var J,Ot=this,bt=this.logs,Ht=this.groupStack,Yt=this.options,ie=Yt.maxNum,Ee=Yt.accessGetter,ye=Yt.unenumerable,Oe=Yt.lazyEvaluation;if((J=kt()(P)?{type:P,args:O,header:V}:P).type==="groupEnd")return this.lastLog.groupEnd(),void this.groupStack.pop();if(Ht.size>0&&(J.group=Ht.peek()),Kn()(J,{id:++Ur,accessGetter:Ee,unenumerable:ye,lazyEvaluation:Oe}),J.type==="group"||J.type==="groupCollapsed"){var ze={id:We()("group"),collapsed:!1,parent:Ht.peek(),indentLevel:Ht.size+1};J.type==="groupCollapsed"&&(ze.collapsed=!0),J.targetGroup=ze,Ht.push(ze)}var ge=new yr(this,J);ge.on("updateHeight",function(){Ot.isAtBottom=!1,Ot.renderViewport()});var Fe=this.lastLog;if(Fe&&!_()(["html","group","groupCollapsed"],ge.type)&&Fe.type===ge.type&&ge.isSimple()&&Fe.text()===ge.text()?(Fe.addCount(),ge.header&&Fe.updateTime(ge.header.time),ge=Fe,this.detachLog(Fe)):(bt.push(ge),this.lastLog=ge),ie!==0&&bt.length>ie){var Qe=bt[0];this.detachLog(Qe),bt.shift()}this.attachLog(ge),this.emit("insert",ge)}},{key:"updateTopSpace",value:function(P){this.topSpaceHeight=P,this.el.style.top=P+"px"}},{key:"updateBottomSpace",value:function(P){this.bottomSpaceHeight=P}},{key:"updateSpace",value:function(P){this.spaceHeight!==P&&(this.spaceHeight=P,this.space.style.height=P+"px")}},{key:"detachLog",value:function(P){var O=this.displayLogs,V=O.indexOf(P);V>-1&&(O.splice(V,1),this.renderViewport())}},{key:"attachLog",value:function(P){if(this.filterLog(P)&&!P.collapsed){var O=this.displayLogs;if(O.length===0)return O.push(P),void this.renderViewport();var V=Te()(O);if(P.id>V.id)return O.push(P),void this.renderViewport();for(var J,Ot=0,bt=O.length-1,Ht=0;Ot<=bt;){if((J=O[Ht=Ot+Math.floor((bt-Ot)/2)]).id===P.id)return;J.id<P.id?Ot=Ht+1:bt=Ht-1}J.id<P.id?O.splice(Ht+1,0,P):O.splice(Ht,0,P),this.renderViewport()}}},{key:"handleAsyncList",value:function(){var P=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,V=this.asyncList;this.asyncTimer||(this.asyncTimer=setTimeout(function(){P.asyncTimer=null;var J,Ot,bt=!1,Ht=V.length;Ht<1e3?(Ot=200,J=400):Ht<5e3?(Ot=500,J=800):Ht<1e4?(Ot=800,J=1e3):Ht<25e3?(Ot=1e3,J=1200):Ht<5e4?(Ot=1500,J=1500):(Ot=2e3,J=2500),Ot>Ht&&(Ot=Ht,bt=!0);for(var Yt=0;Yt<Ot;Yt++){var ie=o(V.shift(),3),Ee=ie[0],ye=ie[1],Oe=ie[2];P.insertSync(Ee,ye,Oe)}bt||Fr()(function(){return P.handleAsyncList(J)})},O))}},{key:"injectGlobal",value:function(){R()(this.global,function(P,O){window[O]||(window[O]=P)})}},{key:"clearGlobal",value:function(){R()(this.global,function(P,O){window[O]&&window[O]===P&&delete window[O]})}},{key:"evalJs",value:function(P){var O;this.injectGlobal();try{O=eval.call(window,"(".concat(P,")"))}catch{O=eval.call(window,P)}return this.setGlobal("$_",O),this.clearGlobal(),O}},{key:"filterLog",value:function(P){var O=this.options,V=O.filter,J=O.level;if(P.ignoreFilter)return!0;if(!_()(J,P.level))return!1;if(V){if(Je()(V))return V(P);if(xn()(V))return V.test(ve()(P.text()));if(kt()(V)&&$()(V)!=="")return _()(P.text(),V)}return!0}},{key:"collapseGroup",value:function(P){P.targetGroup.collapsed=!0,P.updateIcon("caret-right"),this.updateGroup(P)}},{key:"openGroup",value:function(P){P.targetGroup.collapsed=!1,P.updateIcon("caret-down"),this.updateGroup(P)}},{key:"updateGroup",value:function(P){for(var O=P.targetGroup,V=this.logs,J=V.length,Ot=V.indexOf(P)+1;Ot<J;){var bt=V[Ot];if(!bt.checkGroup()&&bt.group===O)break;bt.collapsed?this.detachLog(bt):this.attachLog(bt),Ot++}}},{key:"selectLog",value:function(P){var O;this.selectedLog&&(this.selectedLog.deselect(),this.selectedLog=null),Re()(P)?this.emit("deselect"):(this.selectedLog=P,(O=this.selectedLog)===null||O===void 0||O.select(),this.emit("select",P))}},{key:"bindEvent",value:function(){var P=this,O=this.$el,V=this.c;this.resizeSensor.addListener(this.renderViewport);var J=this;O.on("click",V(".log-container"),function(){J.selectLog(this.log)}),this.on("optionChange",function(Ot,bt){var Ht=P.logs;switch(Ot){case"maxNum":bt>0&&Ht.length>bt&&(P.logs=Ht.slice(Ht.length-bt),P.render());break;case"filter":P.render();break;case"level":P.options.level=ce()(bt),P.render()}}),this.$container.on("scroll",this.onScroll)}},{key:"_renderViewport",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=P.topTolerance,V=O===void 0?500:O,J=P.bottomTolerance,Ot=J===void 0?500:J,bt=this.el,Ht=this.container,Yt=this.space;if(!Dt()(Ht)){for(var ie=Ht.scrollTop,Ee=Ht.offsetHeight,ye=Yt.getBoundingClientRect().width,Oe=ie-V,ze=ie+Ee+Ot,ge=this.displayLogs,Fe=0,Qe=0,Xe=0,In=ge.length,Ve=this.fakeEl,On=document.createDocumentFragment(),bn=[],gn=0;gn<In;gn++){var He=ge[gn],Yn=He.width,Dn=He.height;Dn!==0&&Yn===ye||(On.appendChild(He.container),bn.push(He))}if(bn.length>0){Ve.appendChild(On);for(var En=0,Zn=bn.length;En<Zn;En++)bn[En].updateSize();Ve.textContent=""}for(var Bn=document.createDocumentFragment(),ln=0;ln<In;ln++){var Sn=ge[ln],wn=Sn.container,An=Sn.height;Xe>ze?Qe+=An:Xe+An>Oe?Bn.appendChild(wn):Xe<Oe&&(Fe+=An),Xe+=An}for(this.updateSpace(Xe),this.updateTopSpace(Fe),this.updateBottomSpace(Qe);bt.firstChild;)bt.lastChild&&bt.removeChild(bt.lastChild);bt.appendChild(Bn);var Fn=Ht.scrollHeight;this.isAtBottom&&ie<=Fn-Ee&&(Ht.scrollTop=1e7)}}},{key:"initTpl",value:function(){this.$container.html(this.c(hn()(tr||(tr=(0,r.Z)([`
      <div class="logs-space">
        <div class="fake-logs"></div>
        <div class="logs"></div>
      </div>
    `])))))}}]),Xt}(Dr),Gr=function(){return Pr()("HH:MM:ss ")};function jr(){for(var Vt=new Error,pe="",Xt=Vt.stack?Vt.stack.split(`
`):"",P=0,O=Xt.length;P<O;P++)if((pe=Xt[P]).indexOf("winConsole")>-1&&P<O-1){pe=Xt[P+1];break}return pe}(function(Vt,pe){try{Vt.exports=pe,Vt.exports.default=pe}catch{}})(n,$n)},5564:function(n,e,t){t.d(e,{Z:function(){return qe}});var r=t(168),i=t(5671),o=t(3144),s=t(7326),a=t(1752),l=t(9340),c=t(2963),u=t(1120),h=t(1512),d=t.n(h),p=t(1907),f=t.n(p),m=t(1443),g=t.n(m),v=t(2461),_=t.n(v),y=t(4331),b=t.n(y),S=t(5610),T=t.n(S),A=t(7483),R=t.n(A),Z=(t(3990),t(6341)),L=t.n(Z),G=t(3875),j=t.n(G),M=t(6954),E=t.n(M);t(9585);function I(ce){var de="luna-".concat(ce,"-");function ee(wt){return _()(b()(wt).split(/\s+/),function(Ft){return L()(Ft,de)?Ft:Ft.replace(/[\w-]+/,function(ct){return"".concat(de).concat(ct)})}).join(" ")}return function(wt){if(/<[^>]*>/g.test(wt))try{var Ft=R().parse(wt);return U(Ft,function(ct){ct.attrs&&ct.attrs.class&&(ct.attrs.class=ee(ct.attrs.class))}),R().stringify(Ft)}catch{return ee(wt)}return ee(wt)}}function U(ce,de){for(var ee=0,wt=ce.length;ee<wt;ee++){var Ft=ce[ee];de(Ft),Ft.content&&U(Ft.content,de)}}var N="ontouchstart"in T(),Y={start:"touchstart",move:"touchmove",end:"touchend"},D={start:"mousedown",move:"mousemove",end:"mouseup"};function z(ce){return N?Y[ce]:D[ce]}function $(ce,de){var ee=ce==="x"?"clientX":"clientY";return de[ee]?de[ee]:de.changedTouches?de.changedTouches[0][ee]:0}function rt(){var ce=E()();return ce==="os x"?"mac":ce}var ot=t(3783),st=t.n(ot),tt=t(6329),nt=t.n(tt),Et=t(4193),yt=t.n(Et),Gt=t(5852),Nt=t.n(Gt);function jt(ce){var de=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ee,wt=(0,u.Z)(ce);if(de){var Ft=(0,u.Z)(this).constructor;ee=Reflect.construct(wt,arguments,Ft)}else ee=wt.apply(this,arguments);return(0,c.Z)(this,ee)}}var Rt,Dt=function(ce){(0,l.Z)(ee,ce);var de=jt(ee);function ee(wt,Ft){var ct,ne=Ft.compName,re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ve=re.theme,xe=ve===void 0?"light":ve;return(0,i.Z)(this,ee),(ct=de.call(this)).subComponents=[],ct.compName=ne,ct.c=I(ne),ct.options={},ct.container=wt,ct.$container=d()(wt),ct.$container.addClass(["luna-".concat(ne),ct.c("platform-".concat(rt()))]),ct.on("optionChange",function(Ae,Be,Pe){var Ue=ct.c;Ae==="theme"&&(ct.$container.rmClass(Ue("theme-".concat(Pe))).addClass(Ue("theme-".concat(Be))),st()(ct.subComponents,function(qt){return qt.setOption("theme",Be)}))}),ct.setOption("theme",xe),ct}return(0,o.Z)(ee,[{key:"destroy",value:function(){this.destroySubComponents();var wt=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(wt("platform-".concat(rt()))).rmClass(wt("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(wt,Ft){var ct=this,ne=this.options,re={};typeof wt=="string"?re[wt]=Ft:re=wt,st()(re,function(ve,xe){var Ae=ne[xe];ne[xe]=ve,ct.emit("optionChange",xe,ve,Ae)})}},{key:"getOption",value:function(wt){return this.options[wt]}},{key:"addSubComponent",value:function(wt){wt.setOption("theme",this.options.theme),this.subComponents.push(wt)}},{key:"removeSubComponent",value:function(wt){Nt()(this.subComponents,function(Ft){return Ft===wt})}},{key:"destroySubComponents",value:function(){st()(this.subComponents,function(wt){return wt.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(wt){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};yt()(wt,Ft),nt()(this.options,wt)}},{key:"find",value:function(wt){return this.$container.find(this.c(wt))}}]),ee}(g()),Ct=t(8901),Q=t.n(Ct),ft=t(8613),_t=t.n(ft),Lt=t(3367),K=t.n(Lt),mt=t(9833),W=t.n(mt),vt=t(1286),ut=t.n(vt),ht=t(242),$t=t.n(ht),gt=t(2439),it=t.n(gt),At=t(6930),at=t.n(At),dt=t(6156),kt=t.n(dt),pt=t(4777),It=t.n(pt),Pt=t(1754),et=t.n(Pt),xt=t(6768),Bt=t.n(xt),Qt=t(3063),te=t.n(Qt),se=t(9882),_e=t.n(se),me=t(9853),he=t.n(me),be=t(6435),Re=t.n(be);function we(ce){var de=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ee,wt=(0,u.Z)(ce);if(de){var Ft=(0,u.Z)(this).constructor;ee=Reflect.construct(wt,arguments,Ft)}else ee=wt.apply(this,arguments);return(0,c.Z)(this,ee)}}n=t.hmd(n);var je=d()(document),qe=function(ce){(0,l.Z)(ee,ce);var de=we(ee);function ee(wt,Ft){var ct;(0,i.Z)(this,ee),(ct=de.call(this,wt,{compName:"data-grid"},Ft)).resizeIdx=0,ct.resizeStartX=0,ct.resizeStartLeft=0,ct.resizeDeltaX=0,ct.nodes=[],ct.colWidthsInitialized=!1,ct.colMap={},ct.selectedNode=null,ct.isAscending=!0,ct.colWidths=[],ct.onResizeColMove=function(Ae){var Be=(0,s.Z)(ct),Pe=Be.resizeIdx,Ue=Be.$resizers,qt=Be.colWidths,Kt=Be.$colgroup,Zt=$("x",Ae=Ae.origEvent)-ct.resizeStartX,Tt=qt[Pe],Mt=qt[Pe+1],zt=Re()(24-Tt,0),ue=he()(Mt-24,0);Zt=_e()(Zt,zt,ue),Kt.each(function(){var Wt=d()(this).find("col");Wt.eq(Pe).css("width",Tt+Zt+"px"),Wt.eq(Pe+1).css("width",Mt-Zt+"px")}),ct.resizeDeltaX=Zt;var oe=ct.resizeStartLeft+Zt;Ue.eq(Pe).css("left","".concat(oe,"px"))},ct.onResizeColEnd=function(Ae){ct.onResizeColMove(Ae);var Be=(0,s.Z)(ct),Pe=Be.c,Ue=Be.colWidths,qt=Be.resizeIdx,Kt=Be.resizeDeltaX,Zt=ct.options.columns,Tt=Zt[qt],Mt=Zt[qt+1],zt=Ue[qt]+Kt,ue=zt+(Ue[qt+1]-Kt),oe=Tt.weight+Mt.weight,Wt=oe*(zt/ue),Jt=oe-Wt;Tt.weight=Wt,Mt.weight=Jt,ct.applyColWeights(),d()(document.body).rmClass(Pe("resizing")),je.off(z("move"),ct.onResizeColMove),je.off(z("end"),ct.onResizeColEnd)},ct.$container.attr("tabindex","0"),ct.resizeSensor=new($t())(wt),ct.onResize=it()(function(){ct.updateHeight(),ct.updateWeights()},16),Ft.height&&(Ft.maxHeight=Ft.height,Ft.minHeight=Ft.height),ct.initOptions(Ft,{minHeight:41,maxHeight:1/0,filter:""});var ne=ct.options,re=ne.columns,ve=ne.minHeight,xe=ne.maxHeight;return st()(re,function(Ae){yt()(Ae,{sortable:!1}),ct.colMap[Ae.id]=Ae}),xe<ve&&ct.setOption("maxHeight",ve),ct.initTpl(),ct.$headerRow=ct.find(".header").find("tr"),ct.$fillerRow=ct.find(".filler-row"),ct.fillerRow=ct.$fillerRow.get(0),ct.$tableBody=ct.find(".data").find("tbody"),ct.tableBody=ct.$tableBody.get(0),ct.$colgroup=ct.$container.find("colgroup"),ct.$dataContainer=ct.find(".data-container"),ct.renderHeader(),ct.renderResizers(),ct.updateWeights(),ct.updateHeight(),ct.bindEvent(),ct}return(0,o.Z)(ee,[{key:"destroy",value:function(){(0,a.Z)((0,u.Z)(ee.prototype),"destroy",this).call(this),this.resizeSensor.destroy(),this.$container.rmAttr("tabindex")}},{key:"remove",value:function(wt){var Ft=this.nodes,ct=Ft.indexOf(wt);ct>-1&&(wt.detach(),Ft.splice(ct,1),wt===this.selectedNode&&this.selectNode(Ft[ct]||Ft[ct-1]||null),this.updateHeight())}},{key:"append",value:function(wt,Ft){var ct=new Je(this,wt,Ft);return this.nodes.push(ct),this.sortId?this.sortNodes(this.sortId,this.isAscending):this.filterNode(ct)&&(this.tableBody.insertBefore(ct.container,this.fillerRow),this.updateHeight()),ct}},{key:"clear",value:function(){st()(this.nodes,function(wt){return wt.detach()}),this.nodes=[],this.selectNode(null),this.updateHeight()}},{key:"updateHeight",value:function(){var wt=this.$fillerRow,Ft=this.options,ct=Ft.maxHeight,ne=Ft.minHeight;this.$dataContainer.css({height:"auto"}),(ne-=23)<0&&(ne=0),ct-=23;var re=20*(this.$dataContainer.find("tr").length-1);re>ne?wt.hide():wt.show(),re<ne?re=ne:re>=ct&&(re=ct),this.$dataContainer.css({height:re})}},{key:"selectNode",value:function(wt){var Ft;(kt()(wt)||wt!=null&&wt.selectable)&&(this.selectedNode&&(this.selectedNode.deselect(),this.selectedNode=null),kt()(wt)?this.emit("deselect"):(this.selectedNode=wt,(Ft=this.selectedNode)===null||Ft===void 0||Ft.select(),this.emit("select",wt)))}},{key:"onResizeColStart",value:function(wt){var Ft,ct=this.c,ne=this.resizeIdx,re=this.$resizers;wt.stopPropagation(),wt.preventDefault(),wt=wt.origEvent,this.resizeStartX=$("x",wt),this.resizeStartLeft=(Ft=re.eq(ne).css("left"),j()(Ft.replace("px",""))),d()(document.body).addClass(ct("resizing")),je.on(z("move"),this.onResizeColMove),je.on(z("end"),this.onResizeColEnd)}},{key:"bindEvent",value:function(){var wt=this,Ft=this.c,ct=this.$headerRow,ne=this.$tableBody,re=this.$resizers;this.resizeSensor.addListener(this.onResize);var ve=this;ne.on("click",Ft(".node"),function(){ve.selectNode(this.dataGridNode)}),ct.on("click",Ft(".sortable"),function(xe){xe.stopPropagation();var Ae=d()(this),Be=Ae.data("id"),Pe=Ae.data("order")!=="descending";Ae.data("order",Pe?"descending":"ascending"),ve.sortNodes(Be,Pe),ct.find("th").each(function(){var Ue=d()(this);Ue.data("id")!==Be&&Ue.rmAttr("data-order")})}),re.on(z("start"),function(xe){var Ae=d()(this);ve.resizeIdx=j()(Ae.data("idx")),ve.onResizeColStart(xe)}),this.on("optionChange",function(xe){switch(xe){case"minHeight":case"maxHeight":wt.updateHeight();case"filter":wt.renderData()}})}},{key:"sortNodes",value:function(wt,Ft){var ct=this.colMap[wt].comparator||en;this.nodes.sort(function(ne,re){var ve=ne.data[wt],xe=re.data[wt];return W()(ve)&&(ve=ve.innerText),W()(xe)&&(xe=xe.innerText),Ft?ct(ve,xe):ct(xe,ve)}),this.renderData(),this.sortId=wt,this.isAscending=Ft}},{key:"updateWeights",value:function(){var wt=this.container,Ft=this.$headerRow,ct=this.options.columns,ne=wt.offsetWidth;if(!this.colWidthsInitialized&&ne){for(var re=0,ve=ct.length;re<ve;re++){var xe=ct[re];if(!xe.weight){var Ae=Ft.find("th").get(re).offsetWidth;xe.weight=100*Ae/ne}}this.colWidthsInitialized=!0}this.applyColWeights()}},{key:"applyColWeights",value:function(){var wt=this.container,Ft=this.$colgroup,ct=this.options.columns,ne=wt.offsetWidth;if(!(ne<=0)){for(var re=0,ve=ct.length,xe=0;xe<ve;xe++)re+=ct[xe].weight;var Ae="",Be=0,Pe=0;this.colWidths=[];for(var Ue=0;Ue<ve;Ue++){var qt=(Be+=ct[Ue].weight)*ne/re|0,Kt=Math.max(qt-Pe,14);Pe=qt,Ae+='<col style="width:'.concat(Kt,'px"></col>'),this.colWidths[Ue]=Kt}Ft.html(Ae),this.positionResizers()}}},{key:"positionResizers",value:function(){for(var wt=this.colWidths,Ft=[],ct=wt.length-1,ne=0;ne<ct;ne++)Ft[ne]=(Ft[ne-1]||0)+wt[ne];for(var re=0;re<ct;re++)this.$resizers.eq(re).css("left",Ft[re]+"px")}},{key:"renderData",value:function(){var wt=this,Ft=this.tableBody,ct=this.nodes,ne=this.fillerRow;st()(ct,function(re){return re.detach()}),st()(ct,function(re){wt.filterNode(re)&&Ft.insertBefore(re.container,ne)}),this.selectedNode&&!this.filterNode(this.selectedNode)&&this.selectNode(null),this.updateHeight()}},{key:"filterNode",value:function(wt){var Ft=this.options.filter;if(Ft){if(It()(Ft))return Ft(wt);if(et()(Ft))return Ft.test(wt.text());if(Bt()(Ft)&&(Ft=b()(Ft)))return L()(te()(wt.text()),te()(Ft))}return!0}},{key:"renderHeader",value:function(){var wt=this.c,Ft="",ct="";st()(this.options.columns,function(ne){var re=Q()(ne.title);ne.sortable?Ft+=wt('<th class="sortable" data-id="'.concat(ne.id,'">').concat(re,"</th>")):Ft+="<th>".concat(re,"</th>"),ct+="<td></td>"}),this.$headerRow.html(Ft),this.$fillerRow.html(ct)}},{key:"renderResizers",value:function(){for(var wt="",Ft=this.options.columns.length-1,ct=0;ct<Ft;ct++)wt+=this.c('<div class="resizer" data-idx="'.concat(ct,'"></div>'));this.$container.append(wt),this.$resizers=this.find(".resizer")}},{key:"initTpl",value:function(){this.$container.html(this.c(f()(Rt||(Rt=(0,r.Z)([`
        <div class="header-container">
          <table class="header">
            <colgroup></colgroup>
            <tbody>
              <tr></tr>
            </tbody>
          </table>
        </div>
        <div class="data-container">
          <table class="data">
            <colgroup></colgroup>
            <tbody>
              <tr class="filler-row"></tr>
            </tbody>
          </table>
        </div>
      `])))))}}]),ee}(Dt),Je=function(){function ce(de,ee){var wt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{selectable:!1};(0,i.Z)(this,ce),this.container=_t()("tr"),this.selectable=!1,this.container.dataGridNode=this,this.$container=d()(this.container),this.$container.addClass(de.c("node")),this.dataGrid=de,this.data=ee,wt.selectable&&(this.selectable=wt.selectable),this.render()}return(0,o.Z)(ce,[{key:"text",value:function(){return this.$container.text()}},{key:"detach",value:function(){this.$container.remove()}},{key:"select",value:function(){this.$container.addClass(this.dataGrid.c("selected"))}},{key:"deselect",value:function(){this.$container.rmClass(this.dataGrid.c("selected"))}},{key:"render",value:function(){var de=this.data,ee=this.$container,wt=this.container,Ft=this.dataGrid.getOption("columns");ee.html(""),st()(Ft,function(ct){var ne=_t()("td"),re=de[ct.id];ut()(re)||(W()(re)?ne.appendChild(re):ne.innerText=K()(re)),wt.appendChild(ne)})}}]),ce}();function en(ce,de){if(ce=K()(ce),de=K()(de),at()(ce,"_")&&!at()(de,"_"))return 1;if(at()(de,"_")&&!at()(ce,"_"))return-1;for(var ee,wt,Ft,ct,ne=/^\d+|^\D+/;;){if(!ce)return de?-1:0;if(!de)return 1;if(ee=ce.match(ne)[0],wt=de.match(ne)[0],Ft=!isNaN(ee),ct=!isNaN(wt),Ft&&!ct)return-1;if(ct&&!Ft)return 1;if(Ft&&ct){var re=ee-wt;if(re)return re;if(ee.length!==wt.length)return+ee||+wt?wt.length-ee.length:ee.length-wt.length}else if(ee!==wt)return ee<wt?-1:1;ce=ce.substring(ee.length),de=de.substring(wt.length)}}(function(ce,de){try{ce.exports=de,ce.exports.default=de}catch{}})(n,qe)},8209:function(n,e,t){t.d(e,{Z:function(){return at}});var r=t(1002),i=t(168),o=t(4942),s=t(5671),a=t(3144),l=t(7326),c=t(9340),u=t(2963),h=t(1120),d=t(1443),p=t.n(d),f=t(1512),m=t.n(f),g=t(2461),v=t.n(g),_=t(4331),y=t.n(_),b=t(5610),S=t.n(b),T=t(7483),A=t.n(T),R=(t(3990),t(6341)),Z=t.n(R),L=(t(3875),t(6954)),G=t.n(L);t(9585);function j(pt){var It="luna-".concat(pt,"-");function Pt(et){return v()(y()(et).split(/\s+/),function(xt){return Z()(xt,It)?xt:xt.replace(/[\w-]+/,function(Bt){return"".concat(It).concat(Bt)})}).join(" ")}return function(et){if(/<[^>]*>/g.test(et))try{var xt=A().parse(et);return M(xt,function(Bt){Bt.attrs&&Bt.attrs.class&&(Bt.attrs.class=Pt(Bt.attrs.class))}),A().stringify(xt)}catch{return Pt(et)}return Pt(et)}}function M(pt,It){for(var Pt=0,et=pt.length;Pt<et;Pt++){var xt=pt[Pt];It(xt),xt.content&&M(xt.content,It)}}var E="ontouchstart"in S();function I(){var pt=G()();return pt==="os x"?"mac":pt}var U=t(3783),N=t.n(U),Y=t(6329),D=t.n(Y),z=t(4193),$=t.n(z),rt=t(5852),ot=t.n(rt);function st(pt){var It=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Pt,et=(0,h.Z)(pt);if(It){var xt=(0,h.Z)(this).constructor;Pt=Reflect.construct(et,arguments,xt)}else Pt=et.apply(this,arguments);return(0,u.Z)(this,Pt)}}var tt,nt=function(pt){(0,c.Z)(Pt,pt);var It=st(Pt);function Pt(et,xt){var Bt,Qt=xt.compName,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},se=te.theme,_e=se===void 0?"light":se;return(0,s.Z)(this,Pt),(Bt=It.call(this)).subComponents=[],Bt.compName=Qt,Bt.c=j(Qt),Bt.options={},Bt.container=et,Bt.$container=m()(et),Bt.$container.addClass(["luna-".concat(Qt),Bt.c("platform-".concat(I()))]),Bt.on("optionChange",function(me,he,be){var Re=Bt.c;me==="theme"&&(Bt.$container.rmClass(Re("theme-".concat(be))).addClass(Re("theme-".concat(he))),N()(Bt.subComponents,function(we){return we.setOption("theme",he)}))}),Bt.setOption("theme",_e),Bt}return(0,a.Z)(Pt,[{key:"destroy",value:function(){this.destroySubComponents();var et=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(et("platform-".concat(I()))).rmClass(et("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(et,xt){var Bt=this,Qt=this.options,te={};typeof et=="string"?te[et]=xt:te=et,N()(te,function(se,_e){var me=Qt[_e];Qt[_e]=se,Bt.emit("optionChange",_e,se,me)})}},{key:"getOption",value:function(et){return this.options[et]}},{key:"addSubComponent",value:function(et){et.setOption("theme",this.options.theme),this.subComponents.push(et)}},{key:"removeSubComponent",value:function(et){ot()(this.subComponents,function(xt){return xt===et})}},{key:"destroySubComponents",value:function(){N()(this.subComponents,function(et){return et.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(et){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$()(et,xt),D()(this.options,et)}},{key:"find",value:function(et){return this.$container.find(this.c(et))}}]),Pt}(p()),Et=t(8613),yt=t.n(Et),Gt=t(5972),Nt=t.n(Gt),jt=t(1907),Rt=t.n(jt),Dt=t(1352),Ct=t.n(Dt),Q=t(2289),ft=t.n(Q),_t=t(3651),Lt=t.n(_t),K=t(7756),mt=t.n(K),W=t(8901),vt=t.n(W),ut=t(1672),ht=t.n(ut);function $t(pt,It){var Pt=Object.keys(pt);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(pt);It&&(et=et.filter(function(xt){return Object.getOwnPropertyDescriptor(pt,xt).enumerable})),Pt.push.apply(Pt,et)}return Pt}function gt(pt){for(var It=1;It<arguments.length;It++){var Pt=arguments[It]!=null?arguments[It]:{};It%2?$t(Object(Pt),!0).forEach(function(et){(0,o.Z)(pt,et,Pt[et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pt,Object.getOwnPropertyDescriptors(Pt)):$t(Object(Pt)).forEach(function(et){Object.defineProperty(pt,et,Object.getOwnPropertyDescriptor(Pt,et))})}return pt}function it(pt){var It=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Pt,et=(0,h.Z)(pt);if(It){var xt=(0,h.Z)(this).constructor;Pt=Reflect.construct(et,arguments,xt)}else Pt=et.apply(this,arguments);return(0,u.Z)(this,Pt)}}n=t.hmd(n);var At={comment:"",string:"",number:"",keyword:"",operator:""},at=function(pt){(0,c.Z)(Pt,pt);var It=it(Pt);function Pt(et){var xt,Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,s.Z)(this,Pt),(xt=It.call(this,et,{compName:"dom-viewer"},Bt)).isExpanded=!1,xt.childNodes=[],xt.childNodeDomViewers=[],xt.toggle=function(){xt.isExpanded?xt.collapse():xt.expand()},xt.initOptions(Bt,{node:document.documentElement,parent:null,isEndTag:!1,rootContainer:et,rootDomViewer:(0,l.Z)(xt),ignore:function(){return!1}}),xt.initTpl(),xt.bindEvent(),xt.options.isEndTag||xt.initObserver(),xt}return(0,a.Z)(Pt,[{key:"select",value:function(et){var xt=this.c,Bt=this.options;if(!et||et&&Bt.node===et)return this.$tag.hasClass(xt("selected"))?void 0:(m()(this.options.rootContainer).find(xt(".selected")).rmClass(xt("selected")).rmAttr("tabindex"),this.$tag.attr("tabindex","0").get(0).focus(),this.$tag.addClass(xt("selected")),void Bt.rootDomViewer.emit("select",Bt.node));if(et.nodeType===Node.ELEMENT_NODE)for(var Qt=et,te=et.parentElement;te;){if(te===Bt.node){this.expand(),this.childNodeDomViewers[this.childNodes.indexOf(Qt)].select(et);break}Qt=te,te=te.parentElement}}},{key:"attach",value:function(){this.container.appendChild(this.$tag.get(0)),this.$children&&this.container.appendChild(this.$children.get(0))}},{key:"isAttached",value:function(){return!!this.$tag.get(0).parentNode}},{key:"detach",value:function(){this.$tag.remove(),this.$children&&this.$children.remove()}},{key:"expand",value:function(){this.isExpandable()&&!this.isExpanded&&(this.isExpanded=!0,this.renderExpandTag(),this.renderChildNodes())}},{key:"collapse",value:function(){this.isExpandable()&&this.isExpanded&&(this.isExpanded=!1,this.renderCollapseTag())}},{key:"destroy",value:function(){var et=this.c;this.$tag.hasClass(et("selected"))&&this.options.rootDomViewer.emit("deselect"),this.detach(),this.observer&&this.observer.disconnect(),this.destroySubComponents(),this.options.rootDomViewer===this&&this.$container.rmClass("luna-dom-viewer").rmClass(et("platform-".concat(I()))).rmClass(et("theme-".concat(this.options.theme))),this.emit("destroy"),this.removeAllListeners()}},{key:"renderExpandTag",value:function(){var et=this.$tag,xt=this.c,Bt=this.options.node;et.html(this.renderHtmlTag(gt(gt({},dt(Bt)),{},{hasTail:!1,hasToggleButton:!0}))),et.addClass(xt("expanded")),this.$children.rmClass(xt("hidden"))}},{key:"renderCollapseTag",value:function(){var et=this.$tag,xt=this.c,Bt=this.options.node;this.$children.addClass(xt("hidden")),this.$tag.html(this.renderHtmlTag(gt(gt({},dt(Bt)),{},{hasTail:!0,hasToggleButton:!0}))),et.rmClass(xt("expanded"))}},{key:"initObserver",value:function(){var et=this;this.observer=new(ft())(function(xt){N()(xt,function(Bt){et.handleMutation(Bt)})}),this.observer.observe(this.options.node,{attributes:!0,childList:!0,characterData:!0})}},{key:"handleMutation",value:function(et){var xt=this.$tag,Bt=this.c,Qt=this.options,te=Qt.node,se=Qt.ignore;if(Z()(["attributes","childList"],et.type)){if(et.type==="childList"){if(ht()(et.addedNodes,se)&&ht()(et.removedNodes,se))return;this.renderChildNodes()}this.isExpandable()?this.isExpanded?this.renderExpandTag():this.renderCollapseTag():(this.$children.addClass(Bt("hidden")),xt.html(this.renderHtmlTag(gt(gt({},dt(te)),{},{hasTail:!1}))))}else et.type==="characterData"&&(te.nodeType===Node.TEXT_NODE?xt.html(this.renderTextNode(te)):te.nodeType===Node.COMMENT_NODE&&xt.html(this.renderHtmlComment(te.nodeValue)))}},{key:"bindEvent",value:function(){var et=this,xt=this.c,Bt=this.$tag;this.options.node.nodeType===Node.ELEMENT_NODE&&Bt.on("click",xt(".toggle"),function(Qt){Qt.stopPropagation(),et.toggle()}),E?Bt.on("click",function(){return et.select()}):Bt.on("mousedown",function(){return et.select()})}},{key:"isExpandable",value:function(){return this.options.node.nodeType===Node.ELEMENT_NODE&&this.getChildNodes().length>0}},{key:"getChildNodes",value:function(){var et=this.options,xt=et.rootContainer,Bt=et.ignore,Qt=this.options.node,te=Ct()(Qt.childNodes);return te=Nt()(te,function(se){if(se.nodeType===Node.TEXT_NODE||se.nodeType===Node.COMMENT_NODE){var _e=se.nodeValue;if(y()(_e)==="")return!1}return se!==xt&&!Bt(se)})}},{key:"initTpl",value:function(){var et=this.container,xt=this.c,Bt=this.options,Qt=Bt.node,te=Bt.isEndTag,se=m()(yt()("li"));if(se.addClass(xt("tree-item")),this.$tag=se,te)se.html(xt('<span class="html-tag" style="margin-left: -15px;">&lt;<span class="tag-name">/'.concat(Qt.tagName.toLocaleLowerCase(),'</span>&gt;</span><span class="selection"></span>')));else if(Qt.nodeType===Node.ELEMENT_NODE){var _e=this.isExpandable(),me=gt(gt({},dt(Qt)),{},{hasTail:_e,hasToggleButton:_e});se.html(this.renderHtmlTag(me))}else if(Qt.nodeType===Node.TEXT_NODE)se.html(this.renderTextNode(Qt));else{if(Qt.nodeType!==Node.COMMENT_NODE)return;var he=Qt.nodeValue;if(he.trim()==="")return;se.html(this.renderHtmlComment(he))}if(et.appendChild(se.get(0)),Qt.nodeType===Qt.ELEMENT_NODE){var be=m()(yt()("ul"));be.addClass([xt("children"),xt("hidden")]),et.appendChild(be.get(0)),this.$children=be}}},{key:"renderChildNodes",value:function(){var et=this,xt=this.options.node,Bt=this.options,Qt=Bt.rootContainer,te=Bt.ignore,se=Bt.rootDomViewer,_e=this.$children.get(0),me=this.childNodes,he=this.childNodeDomViewers;N()(he,function(we){we.detach(),et.removeSubComponent(we)}),this.endTagDomViewer&&this.endTagDomViewer.detach();var be=this.getChildNodes();this.childNodes=be;var Re=[];this.childNodeDomViewers=Re,N()(be,function(we,je){var qe,Je=me.indexOf(we);(qe=Je>-1?he[Je]:new Pt(_e,{node:we,parent:et,rootContainer:Qt,rootDomViewer:se,ignore:te})).attach(),Re[je]=qe,et.addSubComponent(qe)}),N()(he,function(we){we.isAttached()||we.destroy()}),xt&&(this.endTagDomViewer?this.endTagDomViewer.attach():(this.endTagDomViewer=new Pt(_e,{node:xt,parent:this,isEndTag:!0,rootContainer:Qt,rootDomViewer:se,ignore:te}),this.addSubComponent(this.endTagDomViewer)))}},{key:"renderHtmlTag",value:function(et){var xt=v()(et.attributes,function(te){var se=te.name,_e=te.value,me=te.isLink;return`<span class="attribute">
          <span class="attribute-name">`.concat(vt()(se),"</span>").concat(_e?'="<span class="attribute-value'.concat(me?" attribute-underline":"",'">').concat(vt()(_e),'</span>"'):"","</span>")}).join(""),Bt="";et.hasTail?Bt="".concat(et.hasTail?"…":"",'<span class="html-tag">&lt;<span class="tag-name">/').concat(et.tagName,"</span>&gt;</span>"):this.isExpandable()||(Bt='<span class="html-tag">&lt;<span class="tag-name">/'.concat(et.tagName,"</span>&gt;</span>"));var Qt="";return et.hasToggleButton&&(Qt='<div class="toggle "><span class="icon icon-arrow-right"></span><span class="icon icon-arrow-down"></span></div>'),this.c(Rt()(tt||(tt=(0,i.Z)([`
      `,`
      <span class="html-tag">&lt;<span class="tag-name">`,"</span>","&gt;</span>",`
      <span class="selection"></span>`])),Qt,et.tagName,xt,Bt))}},{key:"renderTextNode",value:function(et){var xt=this.c,Bt=et.nodeValue,Qt=et.parentElement,te='<span class="text-node">',se='</span><span class="selection"></span>';if(Qt&&Bt.length<1e4){if(Qt.tagName==="STYLE")return xt("".concat(te).concat(Lt()(Bt,"css",At)).concat(se));if(Qt.tagName==="SCRIPT")return xt("".concat(te).concat(Lt()(Bt,"js",At)).concat(se))}return xt('"'.concat(te).concat(vt()(mt()(Bt,1e4,{separator:" ",ellipsis:"…"}))).concat(se,'"'))}},{key:"renderHtmlComment",value:function(et){return this.c('<span class="html-comment">&lt;!-- '.concat(vt()(et),' --&gt;</span><span class="selection"></span>'))}}]),Pt}(nt);function dt(pt){var It={tagName:"",attributes:[]};It.tagName=pt.tagName.toLocaleLowerCase();var Pt=[];return N()(pt.attributes,function(et){var xt=et.name,Bt=et.value;Pt.push({name:xt,value:Bt,isLink:kt(pt,xt)})}),It.attributes=Pt,It}function kt(pt,It){var Pt=pt.tagName;return(Pt==="SCRIPT"||Pt==="IMAGE"||Pt==="VIDEO"||Pt==="AUDIO")&&It==="src"||Pt==="LINK"&&It==="href"}(0,r.Z)(n)!==void 0&&function(pt,It){try{pt.exports=It,pt.exports.default=It}catch{}}(n,at)},129:function(n,e,t){t.d(e,{Z:function(){return Dt}});var r=t(907),i=t(181);function o(K){return function(mt){if(Array.isArray(mt))return(0,r.Z)(mt)}(K)||function(mt){if(typeof Symbol<"u"&&mt[Symbol.iterator]!=null||mt["@@iterator"]!=null)return Array.from(mt)}(K)||(0,i.Z)(K)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var s=t(168),a=t(5671),l=t(3144),c=t(7326),u=t(1752),h=t(9340),d=t(2963),p=t(1120),f=t(1443),m=t.n(f),g=t(1512),v=t.n(g),_=t(2461),y=t.n(_),b=t(4331),S=t.n(b),T=t(5610),A=t.n(T),R=t(7483),Z=t.n(R),L=(t(3990),t(6341)),G=t.n(L),j=(t(3875),t(6954)),M=t.n(j);t(9585);function E(K){var mt="luna-".concat(K,"-");function W(vt){return y()(S()(vt).split(/\s+/),function(ut){return G()(ut,mt)?ut:ut.replace(/[\w-]+/,function(ht){return"".concat(mt).concat(ht)})}).join(" ")}return function(vt){if(/<[^>]*>/g.test(vt))try{var ut=Z().parse(vt);return I(ut,function(ht){ht.attrs&&ht.attrs.class&&(ht.attrs.class=W(ht.attrs.class))}),Z().stringify(ut)}catch{return W(vt)}return W(vt)}}function I(K,mt){for(var W=0,vt=K.length;W<vt;W++){var ut=K[W];mt(ut),ut.content&&I(ut.content,mt)}}A();function U(){var K=M()();return K==="os x"?"mac":K}var N=t(3783),Y=t.n(N),D=t(6329),z=t.n(D),$=t(4193),rt=t.n($),ot=t(5852),st=t.n(ot);function tt(K){var mt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var W,vt=(0,p.Z)(K);if(mt){var ut=(0,p.Z)(this).constructor;W=Reflect.construct(vt,arguments,ut)}else W=vt.apply(this,arguments);return(0,d.Z)(this,W)}}var nt,Et=function(K){(0,h.Z)(W,K);var mt=tt(W);function W(vt,ut){var ht,$t=ut.compName,gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},it=gt.theme,At=it===void 0?"light":it;return(0,a.Z)(this,W),(ht=mt.call(this)).subComponents=[],ht.compName=$t,ht.c=E($t),ht.options={},ht.container=vt,ht.$container=v()(vt),ht.$container.addClass(["luna-".concat($t),ht.c("platform-".concat(U()))]),ht.on("optionChange",function(at,dt,kt){var pt=ht.c;at==="theme"&&(ht.$container.rmClass(pt("theme-".concat(kt))).addClass(pt("theme-".concat(dt))),Y()(ht.subComponents,function(It){return It.setOption("theme",dt)}))}),ht.setOption("theme",At),ht}return(0,l.Z)(W,[{key:"destroy",value:function(){this.destroySubComponents();var vt=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(vt("platform-".concat(U()))).rmClass(vt("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(vt,ut){var ht=this,$t=this.options,gt={};typeof vt=="string"?gt[vt]=ut:gt=vt,Y()(gt,function(it,At){var at=$t[At];$t[At]=it,ht.emit("optionChange",At,it,at)})}},{key:"getOption",value:function(vt){return this.options[vt]}},{key:"addSubComponent",value:function(vt){vt.setOption("theme",this.options.theme),this.subComponents.push(vt)}},{key:"removeSubComponent",value:function(vt){st()(this.subComponents,function(ut){return ut===vt})}},{key:"destroySubComponents",value:function(){Y()(this.subComponents,function(vt){return vt.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(vt){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};rt()(vt,ut),z()(this.options,vt)}},{key:"find",value:function(vt){return this.$container.find(this.c(vt))}}]),W}(m()),yt=t(1907),Gt=t.n(yt),Nt=t(8613),jt=t.n(Nt);function Rt(K){var mt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var W,vt=(0,p.Z)(K);if(mt){var ut=(0,p.Z)(this).constructor;W=Reflect.construct(vt,arguments,ut)}else W=vt.apply(this,arguments);return(0,d.Z)(this,W)}}n=t.hmd(n);var Dt=function(K){(0,h.Z)(W,K);var mt=Rt(W);function W(vt){var ut,ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,a.Z)(this,W),(ut=mt.call(this,vt,{compName:"modal"},ht)).hide=function(){ut.$container.addClass(ut.c("hidden"))},ut.render=function(){var $t=(0,c.Z)(ut),gt=$t.options,it=$t.c,At=$t.$body;gt.title?(At.rmClass(it("no-title")),ut.$title.text(gt.title)):At.addClass(it("no-title")),gt.footer?(At.rmClass(it("no-footer")),ut.$footer.html("").append(gt.footer)):At.addClass(it("no-footer")),gt.showClose?ut.$close.show():ut.$close.hide(),ut.$body.css("width",gt.width+"px"),ut.$content.html("").append(gt.content)},ut.hide(),ut.initOptions(ht,{title:"",content:"",footer:"",showClose:!0,width:Lt()}),ut.initTpl(),ut.$title=ut.find(".title"),ut.$content=ut.find(".content"),ut.$body=ut.find(".body"),ut.$footer=ut.find(".footer"),ut.$close=ut.find(".icon-close"),ut.bindEvent(),ut}return(0,l.Z)(W,[{key:"show",value:function(){this.render(),this.$container.rmClass(this.c("hidden"))}},{key:"destroy",value:function(){(0,u.Z)((0,p.Z)(W.prototype),"destroy",this).call(this),this.$container.rmClass(this.c("hidden"))}},{key:"bindEvent",value:function(){this.$body.on("click",this.c(".icon-close"),this.hide),this.on("optionChange",this.render)}},{key:"initTpl",value:function(){this.$container.html(this.c(Gt()(nt||(nt=(0,s.Z)([`
      <div class="body">
        <span class="icon icon-close"></span>
        <div class="title"></div>
        <div class="content"></div>
        <div class="footer"></div>
      </div>
      `])))))}}],[{key:"alert",value:function(vt){var ut=ft(),ht=ut.c;ut.setOption({title:"",content:vt,width:Lt(),footer:_t({OK:{type:"primary",onclick:function(){ut.hide()}}},ht)}),ut.show()}},{key:"confirm",value:function(vt){return new Promise(function(ut){var ht=ft(),$t=ht.c;ht.setOption({title:"",content:vt,width:Lt(),footer:_t({Cancel:{type:"secondary",onclick:function(){ht.hide(),ut(!1)}},OK:{type:"primary",onclick:function(){ht.hide(),ut(!0)}}},$t)}),ht.show()})}},{key:"prompt",value:function(){var vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Promise(function(ht){var $t=ft(),gt=$t.c,it=jt()("input"+gt(".input"),{value:ut});function At(){$t.hide(),ht(it.value)}v()(it).on("keypress",function(dt){(dt=dt.origEvent).key==="Enter"&&At()}),$t.setOption({title:vt,content:it,width:Lt(),footer:_t({Cancel:{type:"secondary",onclick:function(){$t.hide(),ht(null)}},OK:{type:"primary",onclick:At}},gt)}),$t.show();var at=it.value.length;it.setSelectionRange(at,at),it.focus()})}},{key:"setContainer",value:function(vt){Q=vt}}]),W}(Et),Ct=null,Q=null;function ft(){return Q||(Q=jt()("div"),document.body.append(Q)),Ct||(Ct=new Dt(Q,{showClose:!1})),Ct}function _t(K,mt){var W=y()(K,function(vt,ut){return jt()(mt(".button")+mt("."+vt.type),{onclick:vt.onclick},ut)});return jt().apply(void 0,[mt(".button-group"),{}].concat(o(W)))}function Lt(){return window.innerWidth<500?window.innerWidth-32:500}(function(K,mt){try{K.exports=mt,K.exports.default=mt}catch{}})(n,Dt)},8299:function(n,e,t){t.d(e,{q:function(){return ve},Z:function(){return Pe}});var r=t(1002),i=t(5671),o=t(3144),s=t(7326),a=t(1752),l=t(9340),c=t(2963),u=t(1120),h=t(415),d=t.n(h),p=t(3990),f=t.n(p),m=t(4696),g=t.n(m),v=t(3063),_=t.n(v),y=t(5166),b=t.n(y),S=t(6472),T=t.n(S),A=t(3023),R=t.n(A),Z=t(2533),L=t.n(Z),G=t(3783),j=t.n(G),M=t(300),E=t.n(M),I=t(4321),U=t.n(I),N=t(3085),Y=t.n(N),D=t(1512),z=t.n(D),$=t(801),rt=t.n($),ot=t(7756),st=t.n(ot),tt=t(6768),nt=t.n(tt),Et=t(1116),yt=t.n(Et),Gt=t(5972),Nt=t.n(Gt),jt=t(996),Rt=t.n(jt),Dt=t(3367),Ct=t.n(Dt),Q=t(1214),ft=t.n(Q),_t=t(7658),Lt=t.n(_t),K=t(6329),mt=t.n(K),W=function(){function qt(){(0,i.Z)(this,qt),this.id=0,this.visited=[]}return(0,o.Z)(qt,[{key:"set",value:function(Kt,Zt){var Tt=this.visited,Mt=this.id,zt={id:Mt,val:Kt};return mt()(zt,Zt),Tt.push(zt),this.id++,Mt}},{key:"get",value:function(Kt){for(var Zt=this.visited,Tt=0,Mt=Zt.length;Tt<Mt;Tt++){var zt=Zt[Tt];if(Kt===zt.val)return zt}return!1}}]),qt}(),vt=t(4331),ut=t.n(vt),ht=t(8901),$t=t.n(ht),gt=function(qt){return $t()(Ct()(qt)).replace(/\n/g,"↵").replace(/\f|\r|\t/g,"")};function it(qt){return qt.length>500&&(qt=qt.slice(0,500)+"..."),"ƒ "+ut()(function(Kt){var Zt=Kt.match(At);return Zt?Zt[0]:Kt}(qt).replace("function",""))}var At=/function(.*?)\((.*?)\)/,at=t(6930),dt=t.n(at),kt=t(5229),pt=t.n(kt),It=t(3875),Pt=t.n(It),et=t(9433),xt=t.n(et),Bt=t(1443),Qt=t.n(Bt),te=t(2461),se=t.n(te),_e=t(5610),me=t.n(_e),he=t(7483),be=t.n(he),Re=t(6341),we=t.n(Re),je=t(6954),qe=t.n(je);t(9585);function Je(qt){var Kt="luna-".concat(qt,"-");function Zt(Tt){return se()(ut()(Tt).split(/\s+/),function(Mt){return we()(Mt,Kt)?Mt:Mt.replace(/[\w-]+/,function(zt){return"".concat(Kt).concat(zt)})}).join(" ")}return function(Tt){if(/<[^>]*>/g.test(Tt))try{var Mt=be().parse(Tt);return en(Mt,function(zt){zt.attrs&&zt.attrs.class&&(zt.attrs.class=Zt(zt.attrs.class))}),be().stringify(Mt)}catch{return Zt(Tt)}return Zt(Tt)}}function en(qt,Kt){for(var Zt=0,Tt=qt.length;Zt<Tt;Zt++){var Mt=qt[Zt];Kt(Mt),Mt.content&&en(Mt.content,Kt)}}me();function ce(){var qt=qe()();return qt==="os x"?"mac":qt}var de=t(4193),ee=t.n(de),wt=t(5852),Ft=t.n(wt);function ct(qt){var Kt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Zt,Tt=(0,u.Z)(qt);if(Kt){var Mt=(0,u.Z)(this).constructor;Zt=Reflect.construct(Tt,arguments,Mt)}else Zt=Tt.apply(this,arguments);return(0,c.Z)(this,Zt)}}var ne=function(qt){(0,l.Z)(Zt,qt);var Kt=ct(Zt);function Zt(Tt,Mt){var zt,ue=Mt.compName,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Wt=oe.theme,Jt=Wt===void 0?"light":Wt;return(0,i.Z)(this,Zt),(zt=Kt.call(this)).subComponents=[],zt.compName=ue,zt.c=Je(ue),zt.options={},zt.container=Tt,zt.$container=z()(Tt),zt.$container.addClass(["luna-".concat(ue),zt.c("platform-".concat(ce()))]),zt.on("optionChange",function(fe,ae,Se){var Ce=zt.c;fe==="theme"&&(zt.$container.rmClass(Ce("theme-".concat(Se))).addClass(Ce("theme-".concat(ae))),j()(zt.subComponents,function(De){return De.setOption("theme",ae)}))}),zt.setOption("theme",Jt),zt}return(0,o.Z)(Zt,[{key:"destroy",value:function(){this.destroySubComponents();var Tt=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(Tt("platform-".concat(ce()))).rmClass(Tt("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(Tt,Mt){var zt=this,ue=this.options,oe={};typeof Tt=="string"?oe[Tt]=Mt:oe=Tt,j()(oe,function(Wt,Jt){var fe=ue[Jt];ue[Jt]=Wt,zt.emit("optionChange",Jt,Wt,fe)})}},{key:"getOption",value:function(Tt){return this.options[Tt]}},{key:"addSubComponent",value:function(Tt){Tt.setOption("theme",this.options.theme),this.subComponents.push(Tt)}},{key:"removeSubComponent",value:function(Tt){Ft()(this.subComponents,function(Mt){return Mt===Tt})}},{key:"destroySubComponents",value:function(){j()(this.subComponents,function(Tt){return Tt.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(Tt){var Mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ee()(Tt,Mt),mt()(this.options,Tt)}},{key:"find",value:function(Tt){return this.$container.find(this.c(Tt))}}]),Zt}(Qt());function re(qt){var Kt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Zt,Tt=(0,u.Z)(qt);if(Kt){var Mt=(0,u.Z)(this).constructor;Zt=Reflect.construct(Tt,arguments,Mt)}else Zt=Tt.apply(this,arguments);return(0,c.Z)(this,Zt)}}var ve=function(qt){(0,l.Z)(Zt,qt);var Kt=re(Zt);function Zt(Tt){var Mt;return(0,i.Z)(this,Zt),(Mt=Kt.call(this,Tt,{compName:"object-viewer"})).onItemClick=function(zt){var ue=(0,s.Z)(Mt),oe=ue.map,Wt=ue.c,Jt=z()(zt.curTarget),fe=Jt.data("object-id"),ae=Jt.find("span").eq(0);if(!Jt.data("first-level")&&(fe&&(Jt.find("ul").html(Mt.objToHtml(oe[fe],!1)),Jt.rmAttr("data-object-id")),zt.stopImmediatePropagation(),ae.hasClass(Wt("expanded")))){var Se=Jt.find("ul").eq(0);ae.hasClass(Wt("collapsed"))?(ae.rmClass(Wt("collapsed")),Se.show()):(ae.addClass(Wt("collapsed")),Se.hide()),Mt.emit("change")}},Mt.bindEvent(),Mt}return(0,o.Z)(Zt,[{key:"set",value:function(Tt){nt()(Tt)&&(Tt=JSON.parse(Tt)),this.data={id:pt()("json"),enumerable:{0:Tt}},this.map={},xe(this.map,this.data),this.render()}},{key:"destroy",value:function(){(0,a.Z)((0,u.Z)(Zt.prototype),"destroy",this).call(this),this.$container.off("click","li",this.onItemClick)}},{key:"objToHtml",value:function(Tt,Mt){var zt=this,ue="";return j()(["enumerable","unenumerable","symbol"],function(oe){if(Tt[oe]){var Wt=L()(Tt[oe]);Lt()(Wt);for(var Jt=0,fe=Wt.length;Jt<fe;Jt++){var ae=Wt[Jt];ue+=zt.createEl(ae,Tt[oe][ae],oe,Mt)}}}),Tt.proto&&(ue===""?ue=this.objToHtml(Tt.proto):ue+=this.createEl("[[Prototype]]",Tt.proto,"proto")),ue}},{key:"createEl",value:function(Tt,Mt,zt){var ue=arguments.length>3&&arguments[3]!==void 0&&arguments[3],oe=this.c,Wt=(0,r.Z)(Mt);if(Mt===null)return"<li>".concat(De(Tt),'<span class="').concat(oe("null"),'">null</span></li>');if(f()(Mt)||g()(Mt))return"<li>".concat(De(Tt),'<span class="').concat(oe(Wt),'">').concat(gt(Mt),"</span></li>");if(Mt.type==="RegExp"&&(Wt="regexp"),Mt.type==="Number"&&(Wt="number"),Mt.type==="Number"||Mt.type==="RegExp")return"<li>".concat(De(Tt),'<span class="').concat(oe(Wt),'">').concat(gt(Mt.value),"</span></li>");if(Mt.type==="Undefined"||Mt.type==="Symbol")return"<li>".concat(De(Tt),'<span class="').concat(oe("special"),'">').concat(_()(Mt.type),"</span></li>");if(Mt==="(...)")return"<li>".concat(De(Tt),'<span class="').concat(oe("special"),'">').concat(Mt,"</span></li>");if(b()(Mt)){var Jt=Mt.id,fe=Mt.reference,ae=Ae(Mt)||R()(Wt),Se=ue?"":'<span class="'.concat(oe("expanded collapsed"),'"><span class="').concat(oe("icon icon-caret-right"),'"></span><span class="').concat(oe("icon icon-caret-down"),'"></span></span>'),Ce="<li ".concat(ue?'data-first-level="true"':""," ").concat('data-object-id="'+(fe||Jt)+'"',">").concat(Se).concat(De(Tt),'<span class="').concat(oe("open"),'">').concat(ue?"":ae,'</span><ul class="').concat(oe(Wt),'" ').concat(ue?"":'style="display:none"',">");return ue&&(Ce+=this.objToHtml(this.map[Jt])),Ce+'</ul><span class="'.concat(oe("close"),'"></span></li>')}function De(Ye){if(ue||b()(Mt)&&Mt.jsonSplitArr)return"";var Ke=oe("key");return zt==="unenumerable"||zt==="symbol"?Ke=oe("key-lighter"):zt==="proto"&&(Ke=oe("key-special")),'<span class="'.concat(Ke,'">').concat(gt(Ye),"</span>: ")}return nt()(Mt)&&Mt.length>1e4&&(Mt=st()(Mt,50,{separator:" ",ellipsis:"…"})),"<li>".concat(De(Tt),'<span class="').concat(oe((0,r.Z)(Mt)),'">"').concat(gt(Mt),'"</span></li>')}},{key:"render",value:function(){var Tt=this.map[this.data.id];this.$container.html(this.objToHtml(Tt,!0))}},{key:"bindEvent",value:function(){this.$container.on("click","li",this.onItemClick)}}]),Zt}(ne);function xe(qt,Kt){var Zt=Kt.id;if(Zt||Zt===0){if(Kt.type&&dt()(Kt.type,"Array")&&Kt.enumerable){var Tt=function(Wt,Jt,fe){var ae=[],Se={};return j()(Wt.enumerable,function(Ce,De){var Ye=Pt()(De);xt()(Ye)?Se[De]=Ce:ae[Ye]=Ce}),ae.enumerable=Se,ae.type=fe,ae.id=Jt,Wt.unenumerable&&(ae.unenumerable=Wt.unenumerable),Wt.symbol&&(ae.symbol=Wt.symbol),Wt.proto&&(ae.proto=Wt.proto),ae}(Kt,Zt,Kt.type);Tt.length>100&&(Kt=function(Wt){var Jt=0,fe={};j()(Rt()(Wt,100),function(Se){var Ce={},De=Jt;Ce.type="["+De,Ce.enumerable={},j()(Se,function(Ke){Ce.enumerable[Jt]=Ke,Jt+=1});var Ye=Jt-1;Ce.type+=(Ye-De>0?" … "+Ye:"")+"]",Ce.id=pt()("json"),Ce.jsonSplitArr=!0,fe[Jt]=Ce});var ae={};return ae.enumerable=fe,ae.id=Wt.id,ae.type=Wt.type,Wt.unenumerable&&(ae.unenumerable=Wt.unenumerable),Wt.symbol&&(ae.symbol=Wt.symbol),Wt.proto&&(ae.proto=Wt.proto),ae}(Tt))}qt[Zt]=Kt;var Mt=[];j()(["enumerable","unenumerable","symbol"],function(Wt){if(Kt[Wt])for(var Jt in Kt[Wt])Mt.push(Kt[Wt][Jt])}),Kt.proto&&Mt.push(Kt.proto);for(var zt=0,ue=Mt.length;zt<ue;zt++){var oe=Mt[zt];b()(oe)&&xe(qt,oe)}}}function Ae(qt){var Kt=qt.type,Zt=qt.value;if(Kt)return Kt==="Function"?it(Zt):Kt==="Array"&&qt.unenumerable?"Array(".concat(qt.unenumerable.length,")"):qt.type}function Be(qt){var Kt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Zt,Tt=(0,u.Z)(qt);if(Kt){var Mt=(0,u.Z)(this).constructor;Zt=Reflect.construct(Tt,arguments,Mt)}else Zt=Tt.apply(this,arguments);return(0,c.Z)(this,Zt)}}n=t.hmd(n);var Pe=function(qt){(0,l.Z)(Zt,qt);var Kt=Be(Zt);function Zt(Tt){var Mt,zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,i.Z)(this,Zt),(Mt=Kt.call(this,Tt,{compName:"object-viewer"})).onItemClick=function(ue){var oe=(0,s.Z)(Mt),Wt=oe.map,Jt=oe.c,fe=z()(ue.curTarget),ae=fe.data("object-id"),Se=fe.find("span").eq(0);if(!fe.data("first-level")&&(ae&&(fe.find("ul").html(Mt.objToHtml(Wt[ae],!1)),fe.rmAttr("data-object-id")),ue.stopImmediatePropagation(),Se.hasClass(Jt("expanded")))){var Ce=fe.find("ul").eq(0);Se.hasClass(Jt("collapsed"))?(Se.rmClass(Jt("collapsed")),Ce.show()):(Se.addClass(Jt("collapsed")),Ce.hide()),Mt.emit("change")}},Mt.initOptions(zt,{unenumerable:!1,accessGetter:!1}),Mt.bindEvent(),Mt}return(0,o.Z)(Zt,[{key:"set",value:function(Tt){this.data=[Tt],this.visitor=new W,this.map={},this.render()}},{key:"destroy",value:function(){(0,a.Z)((0,u.Z)(Zt.prototype),"destroy",this).call(this),this.$container.off("click","li",this.onItemClick)}},{key:"objToHtml",value:function(Tt,Mt){var zt=this,ue=this.visitor,oe=Tt,Wt=!1,Jt=ue.get(Tt);Jt&&Jt.self&&(oe=Jt.self);var fe="",ae=["enumerable"],Se=L()(Tt),Ce=[],De=[],Ye=[],Ke={};if(this.options.unenumerable&&!Mt&&(ae.push("unenumerable"),ae.push("symbol"),Ce=rt()(yt()(Tt,{prototype:!1,unenumerable:!0}),Se),De=Nt()(yt()(Tt,{prototype:!1,symbol:!0}),function(Ze){return(0,r.Z)(Ze)==="symbol"})),T()(Tt)&&Tt.length>100){ae.unshift("virtual"),Wt=!0;var sn=0,nn={};j()(Rt()(Tt,100),function(Ze){var an=Object.create(null),pn=sn,We="["+pn;j()(Ze,function(cn){an[sn]=cn,nn[sn]=!0,sn++});var rn=sn-1;Ke[We+=(rn-pn>0?" … "+rn:"")+"]"]=an}),Ye=L()(Ke),Se=Nt()(Se,function(Ze){return!nn[Ze]})}j()(ae,function(Ze){var an=[];an=Ze==="symbol"?De:Ze==="unenumerable"?Ce:Ze==="virtual"?Ye:Se,Wt||Lt()(an);for(var pn=0,We=an.length;pn<We;pn++){var rn=Ct()(an[pn]),cn="",mn=Object.getOwnPropertyDescriptor(Tt,rn),Pn=mn&&mn.get,zn=mn&&mn.set;if(Pn&&!zt.options.accessGetter)cn="(...)";else try{cn=Ze==="virtual"?Ke[rn]:oe[rn],U()(cn)&&cn.catch(ft())}catch(xn){cn=xn instanceof Error?xn.message:Ct()(xn)}fe+=zt.createEl(rn,Tt,cn,Ze,Mt),Pn&&(fe+=zt.createEl("get ".concat(rn),Tt,mn.get,Ze,Mt)),zn&&(fe+=zt.createEl("set ".concat(rn),Tt,mn.set,Ze,Mt))}});var un=d()(Tt);if(!Mt&&un)if(fe===""){var hn=ue.set(un,{self:Tt});this.map[hn]=un,fe=this.objToHtml(un)}else fe+=this.createEl("[[Prototype]]",oe||Tt,un,"proto");return fe}},{key:"createEl",value:function(Tt,Mt,zt,ue){var oe=arguments.length>4&&arguments[4]!==void 0&&arguments[4],Wt=this.visitor,Jt=this.c,fe=(0,r.Z)(zt),ae=Y()(zt,!1);if(ue==="virtual"&&(ae=Tt),zt===null)return"<li>".concat(nn(Tt),'<span class="').concat(Jt("null"),'">null</span></li>');if(f()(zt)||g()(zt))return"<li>".concat(nn(Tt),'<span class="').concat(Jt(fe),'">').concat(gt(zt),"</span></li>");if(ae==="RegExp"&&(fe="regexp"),ae==="Number"&&(fe="number"),ae==="Undefined"||ae==="Symbol")return"<li>".concat(nn(Tt),'<span class="').concat(Jt("special"),'">').concat(_()(ae),"</span></li>");if(zt==="(...)")return"<li>".concat(nn(Tt),'<span class="').concat(Jt("special"),'">').concat(zt,"</span></li>");if(b()(zt)){var Se,Ce=Wt.get(zt);if(Ce)Se=Ce.id;else{var De={};ue==="proto"&&(De.self=Mt),Se=Wt.set(zt,De),this.map[Se]=zt}var Ye="Object";Ye=fe==="regexp"?'<span class="'.concat(Jt(fe),'">').concat(gt(zt)):gt(Ue(zt,ae)||R()(fe));var Ke=oe?"":'<span class="'.concat(Jt("expanded collapsed"),'"><span class="').concat(Jt("icon icon-caret-right"),'"></span><span class="').concat(Jt("icon icon-caret-down"),'"></span></span>'),sn="<li ".concat(oe?'data-first-level="true"':""," ").concat('data-object-id="'+Se+'"',">").concat(Ke).concat(nn(Tt),'<span class="').concat(Jt("open"),'">').concat(oe?"":Ye,'</span><ul class="').concat(Jt(fe),'" ').concat(oe?"":'style="display:none"',">");return oe&&(sn+=this.objToHtml(zt)),sn+'</ul><span class="'.concat(Jt("close"),'"></span></li>')}function nn(un){if(oe||b()(zt)&&ue==="virtual")return"";var hn=Jt("key");return ue==="unenumerable"||ue==="symbol"?hn=Jt("key-lighter"):ue==="proto"&&(hn=Jt("key-special")),'<span class="'.concat(hn,'">').concat(gt(un),"</span>: ")}return nt()(zt)&&zt.length>1e4&&(zt=st()(zt,50,{separator:" ",ellipsis:"…"})),"<li>".concat(nn(Tt),'<span class="').concat(Jt((0,r.Z)(zt)),'">"').concat(gt(zt),'"</span></li>')}},{key:"render",value:function(){this.$container.html(this.objToHtml(this.data,!0))}},{key:"bindEvent",value:function(){this.$container.on("click","li",this.onItemClick)}}]),Zt}(ne);function Ue(qt,Kt){if(Kt)return Kt==="Function"?it(E()(qt)):Kt==="Array"?"Array(".concat(qt.length,")"):Kt}Pe.Static=ve,function(qt,Kt){try{qt.exports=Kt,qt.exports.default=Kt}catch{}}(n,Pe)},4714:function(n,e,t){t.d(e,{Z:function(){return _t}});var r=t(7326),i=t(5671),o=t(3144),s=t(9340),a=t(2963),l=t(1120),c=t(1512),u=t.n(c),h=t(8613),d=t.n(h),p=t(8901),f=t.n(p),m=t(5229),g=t.n(m),v=t(5166),_=t.n(v),y=t(4193),b=t.n(y),S=t(2461),T=t.n(S),A=t(3875),R=t.n(A),Z=t(3367),L=t.n(Z),G=t(4777),j=t.n(G),M=t(1443),E=t.n(M),I=t(4331),U=t.n(I),N=t(5610),Y=t.n(N),D=t(7483),z=t.n(D),$=(t(3990),t(6341)),rt=t.n($),ot=t(6954),st=t.n(ot);t(9585);function tt(it){var At="luna-".concat(it,"-");function at(dt){return T()(U()(dt).split(/\s+/),function(kt){return rt()(kt,At)?kt:kt.replace(/[\w-]+/,function(pt){return"".concat(At).concat(pt)})}).join(" ")}return function(dt){if(/<[^>]*>/g.test(dt))try{var kt=z().parse(dt);return nt(kt,function(pt){pt.attrs&&pt.attrs.class&&(pt.attrs.class=at(pt.attrs.class))}),z().stringify(kt)}catch{return at(dt)}return at(dt)}}function nt(it,At){for(var at=0,dt=it.length;at<dt;at++){var kt=it[at];At(kt),kt.content&&nt(kt.content,At)}}Y();function Et(){var it=st()();return it==="os x"?"mac":it}var yt=t(3783),Gt=t.n(yt),Nt=t(6329),jt=t.n(Nt),Rt=t(5852),Dt=t.n(Rt);function Ct(it){var At=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var at,dt=(0,l.Z)(it);if(At){var kt=(0,l.Z)(this).constructor;at=Reflect.construct(dt,arguments,kt)}else at=dt.apply(this,arguments);return(0,a.Z)(this,at)}}var Q=function(it){(0,s.Z)(at,it);var At=Ct(at);function at(dt,kt){var pt,It=kt.compName,Pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},et=Pt.theme,xt=et===void 0?"light":et;return(0,i.Z)(this,at),(pt=At.call(this)).subComponents=[],pt.compName=It,pt.c=tt(It),pt.options={},pt.container=dt,pt.$container=u()(dt),pt.$container.addClass(["luna-".concat(It),pt.c("platform-".concat(Et()))]),pt.on("optionChange",function(Bt,Qt,te){var se=pt.c;Bt==="theme"&&(pt.$container.rmClass(se("theme-".concat(te))).addClass(se("theme-".concat(Qt))),Gt()(pt.subComponents,function(_e){return _e.setOption("theme",Qt)}))}),pt.setOption("theme",xt),pt}return(0,o.Z)(at,[{key:"destroy",value:function(){this.destroySubComponents();var dt=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(dt("platform-".concat(Et()))).rmClass(dt("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(dt,kt){var pt=this,It=this.options,Pt={};typeof dt=="string"?Pt[dt]=kt:Pt=dt,Gt()(Pt,function(et,xt){var Bt=It[xt];It[xt]=et,pt.emit("optionChange",xt,et,Bt)})}},{key:"getOption",value:function(dt){return this.options[dt]}},{key:"addSubComponent",value:function(dt){dt.setOption("theme",this.options.theme),this.subComponents.push(dt)}},{key:"removeSubComponent",value:function(dt){Dt()(this.subComponents,function(kt){return kt===dt})}},{key:"destroySubComponents",value:function(){Gt()(this.subComponents,function(dt){return dt.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(dt){var kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};b()(dt,kt),jt()(this.options,dt)}},{key:"find",value:function(dt){return this.$container.find(this.c(dt))}}]),at}(E());function ft(it){var At=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var at,dt=(0,l.Z)(it);if(At){var kt=(0,l.Z)(this).constructor;at=Reflect.construct(dt,arguments,kt)}else at=dt.apply(this,arguments);return(0,a.Z)(this,at)}}n=t.hmd(n);var _t=function(it){(0,s.Z)(at,it);var At=ft(at);function at(dt){var kt,pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,i.Z)(this,at),(kt=At.call(this,dt,{compName:"setting"},pt)).initOptions(pt,{separatorCollapse:!0}),kt}return(0,o.Z)(at,[{key:"appendTitle",value:function(dt){var kt=new K(this,dt);return this.append(kt),kt}},{key:"appendSeparator",value:function(){var dt=this.lastItem;if(this.options.separatorCollapse&&dt instanceof mt)return dt;var kt=new mt(this);return this.append(kt),kt}},{key:"appendNumber",value:function(dt,kt,pt,It,Pt){_()(It)&&(Pt=It,It="");var et=new vt(this,dt,kt,pt,It,Pt);return this.append(et),et}},{key:"appendButton",value:function(dt,kt,pt){j()(kt)&&(pt=kt,kt="");var It=new gt(this,dt,kt,pt);return this.append(It),It}},{key:"appendInput",value:function(dt,kt,pt){var It=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",Pt=new W(this,dt,kt,pt,It);return this.append(Pt),Pt}},{key:"appendCheckbox",value:function(dt,kt,pt,It){It||(It=pt,pt="");var Pt=new ht(this,dt,kt,pt,It);return this.append(Pt),Pt}},{key:"appendSelect",value:function(dt,kt,pt,It,Pt){_()(It)&&(Pt=It,It="");var et=new $t(this,dt,kt,pt,It,Pt);return this.append(et),et}},{key:"clear",value:function(){this.$container.text("")}},{key:"append",value:function(dt){this.lastItem=dt,this.$container.append(dt.container)}}]),at}(Q),Lt=function(){function it(At,at,dt,kt){(0,i.Z)(this,it),this.container=d()("div"),this.setting=At,this.$container=u()(this.container),this.$container.addClass(At.c("item")).addClass(At.c("item-".concat(kt))),this.key=at,this.value=dt}return(0,o.Z)(it,[{key:"detach",value:function(){this.$container.remove()}},{key:"onChange",value:function(At){this.setting.emit("change",this.key,At,this.value),this.value=At}}]),it}(),K=function(it){(0,s.Z)(at,it);var At=ft(at);function at(dt,kt){var pt;return(0,i.Z)(this,at),(pt=At.call(this,dt,"","","title")).$container.text(kt),pt}return(0,o.Z)(at)}(Lt),mt=function(it){(0,s.Z)(at,it);var At=ft(at);function at(dt){return(0,i.Z)(this,at),At.call(this,dt,"","","separator")}return(0,o.Z)(at)}(Lt),W=function(it){(0,s.Z)(at,it);var At=ft(at);function at(dt,kt,pt,It,Pt){var et;(0,i.Z)(this,at),(et=At.call(this,dt,kt,pt,"input")).$container.html(dt.c('<div class="title">'.concat(f()(It),`</div>
      <div class="description">`).concat(f()(Pt),`</div>
      <div class="control">
        <input type="text"></input>
      </div>`)));var xt=et.$container.find("input");return xt.val(pt),xt.on("change",function(){return et.onChange(xt.val())}),et}return(0,o.Z)(at)}(Lt),vt=function(it){(0,s.Z)(at,it);var At=ft(at);function at(dt,kt,pt,It,Pt){var et,xt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};(0,i.Z)(this,at),et=At.call(this,dt,kt,pt,"number"),b()(xt,{min:0,max:10,step:1});var Bt=(0,r.Z)(et),Qt=Bt.$container,te=!!xt.range;delete xt.range;var se=xt.min,_e=xt.max,me='<input type="'.concat(te?"range":"number",'"').concat(T()(xt,function(we,je){return" ".concat(je,'="').concat(we,'"')}),"></input>");te&&(console.log(pt,se,_e),me="".concat(se,`<div class="range-container">
        <div class="range-track">
          <div class="range-track-bar">
            <div class="range-track-progress" style="width: `).concat(ut(pt,se,_e),`%;"></div>
          </div>
        </div>
        `).concat(me,`
      </div><span class="value">`).concat(pt,"</span>/").concat(_e)),Qt.html(dt.c('<div class="title">'.concat(f()(It),`</div>
      <div class="description">`).concat(f()(Pt),`</div>
      <div class="control">`).concat(me,"</div>")));var he=Qt.find(dt.c(".value")),be=Qt.find("input"),Re=Qt.find(dt.c(".range-track-progress"));return be.val(L()(pt)),be.on("change",function(){var we=R()(be.val());et.onChange(we)}),be.on("input",function(){var we=R()(be.val());Re.css("width",ut(we,se,_e)+"%"),he.text(L()(we))}),et}return(0,o.Z)(at)}(Lt),ut=function(it,At,at){return((it-At)/(at-At)*100).toFixed(2)},ht=function(it){(0,s.Z)(at,it);var At=ft(at);function at(dt,kt,pt,It,Pt){var et;(0,i.Z)(this,at),et=At.call(this,dt,kt,pt,"checkbox");var xt=g()(dt.c("checkbox-"));et.$container.html(dt.c('<div class="title">'.concat(f()(It),`</div>
      <div class="control">
        <input type="checkbox" id="`).concat(xt,`"></input>
        <label for="`).concat(xt,'">').concat(f()(Pt),`</label>
      </div>`)));var Bt=et.$container.find("input"),Qt=Bt.get(0);return Qt.checked=pt,Bt.on("change",function(){return et.onChange(Qt.checked)}),et}return(0,o.Z)(at)}(Lt),$t=function(it){(0,s.Z)(at,it);var At=ft(at);function at(dt,kt,pt,It,Pt,et){var xt;(0,i.Z)(this,at),(xt=At.call(this,dt,kt,pt,"select")).$container.html(dt.c('<div class="title">'.concat(f()(It),`</div>
      <div class="description">`).concat(f()(Pt),`</div>
      <div class="control">
        <div class="select">
          <select>
            `).concat(T()(et,function(Qt,te){return'<option value="'.concat(f()(Qt),'"').concat(Qt===pt?" selected":"",">").concat(f()(te),"</option>")}).join(""),`
          </select>
        </div>
      </div>`)));var Bt=xt.$container.find("select");return Bt.on("change",function(){return xt.onChange(Bt.val())}),xt}return(0,o.Z)(at)}(Lt),gt=function(it){(0,s.Z)(at,it);var At=ft(at);function at(dt,kt,pt,It){var Pt;return(0,i.Z)(this,at),pt||(pt=kt,kt=""),(Pt=At.call(this,dt,"","","button")).$container.html(dt.c('<div class="title">'.concat(f()(kt),`</div>
      <div class="control">
        <button>`).concat(pt,`</button>
      </div>`))),Pt.$container.find("button").on("click",It),Pt}return(0,o.Z)(at)}(Lt);(function(it,At){try{it.exports=At,it.exports.default=At}catch{}})(n,_t)},7638:function(n,e,t){t.d(e,{Z:function(){return jt}});var r=t(168),i=t(5671),o=t(3144),s=t(9340),a=t(2963),l=t(1120),c=t(1443),u=t.n(c),h=t(1512),d=t.n(h),p=t(2461),f=t.n(p),m=t(4331),g=t.n(m),v=t(5610),_=t.n(v),y=t(7483),b=t.n(y),S=t(3990),T=t.n(S),A=t(6341),R=t.n(A),Z=(t(3875),t(6954)),L=t.n(Z);t(9585);function G(Rt){var Dt="luna-".concat(Rt,"-");function Ct(Q){return f()(g()(Q).split(/\s+/),function(ft){return R()(ft,Dt)?ft:ft.replace(/[\w-]+/,function(_t){return"".concat(Dt).concat(_t)})}).join(" ")}return function(Q){if(/<[^>]*>/g.test(Q))try{var ft=b().parse(Q);return j(ft,function(_t){_t.attrs&&_t.attrs.class&&(_t.attrs.class=Ct(_t.attrs.class))}),b().stringify(ft)}catch{return Ct(Q)}return Ct(Q)}}function j(Rt,Dt){for(var Ct=0,Q=Rt.length;Ct<Q;Ct++){var ft=Rt[Ct];Dt(ft),ft.content&&j(ft.content,Dt)}}var M;_();function E(){var Rt=L()();return Rt==="os x"?"mac":Rt}var I=t(3783),U=t.n(I),N=t(6329),Y=t.n(N),D=t(4193),z=t.n(D),$=t(5852),rt=t.n($);function ot(Rt){var Dt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ct,Q=(0,l.Z)(Rt);if(Dt){var ft=(0,l.Z)(this).constructor;Ct=Reflect.construct(Q,arguments,ft)}else Ct=Q.apply(this,arguments);return(0,a.Z)(this,Ct)}}var st,tt=function(Rt){(0,s.Z)(Ct,Rt);var Dt=ot(Ct);function Ct(Q,ft){var _t,Lt=ft.compName,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},mt=K.theme,W=mt===void 0?"light":mt;return(0,i.Z)(this,Ct),(_t=Dt.call(this)).subComponents=[],_t.compName=Lt,_t.c=G(Lt),_t.options={},_t.container=Q,_t.$container=d()(Q),_t.$container.addClass(["luna-".concat(Lt),_t.c("platform-".concat(E()))]),_t.on("optionChange",function(vt,ut,ht){var $t=_t.c;vt==="theme"&&(_t.$container.rmClass($t("theme-".concat(ht))).addClass($t("theme-".concat(ut))),U()(_t.subComponents,function(gt){return gt.setOption("theme",ut)}))}),_t.setOption("theme",W),_t}return(0,o.Z)(Ct,[{key:"destroy",value:function(){this.destroySubComponents();var Q=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(Q("platform-".concat(E()))).rmClass(Q("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(Q,ft){var _t=this,Lt=this.options,K={};typeof Q=="string"?K[Q]=ft:K=Q,U()(K,function(mt,W){var vt=Lt[W];Lt[W]=mt,_t.emit("optionChange",W,mt,vt)})}},{key:"getOption",value:function(Q){return this.options[Q]}},{key:"addSubComponent",value:function(Q){Q.setOption("theme",this.options.theme),this.subComponents.push(Q)}},{key:"removeSubComponent",value:function(Q){rt()(this.subComponents,function(ft){return ft===Q})}},{key:"destroySubComponents",value:function(){U()(this.subComponents,function(Q){return Q.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(Q){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};z()(Q,ft),Y()(this.options,Q)}},{key:"find",value:function(Q){return this.$container.find(this.c(Q))}}]),Ct}(u()),nt=t(1907),Et=t.n(nt),yt=t(8901),Gt=t.n(yt);function Nt(Rt){var Dt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ct,Q=(0,l.Z)(Rt);if(Dt){var ft=(0,l.Z)(this).constructor;Ct=Reflect.construct(Q,arguments,ft)}else Ct=Q.apply(this,arguments);return(0,a.Z)(this,Ct)}}n=t.hmd(n);var jt=function(Rt){(0,s.Z)(Ct,Rt);var Dt=Nt(Ct);function Ct(Q){var ft,_t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,i.Z)(this,Ct),(ft=Dt.call(this,Q,{compName:"tab"},_t)).initOptions(_t,{height:30}),ft.initTpl(),ft.find(".tabs-container").css("height",ft.options.height+"px"),ft.$tabs=ft.find(".tabs"),ft.tabs=ft.$tabs.get(0),ft.$slider=ft.find(".slider"),ft.bindEvent(),ft.hideScrollbar(),ft}return(0,o.Z)(Ct,[{key:"length",get:function(){return this.$tabs.find(this.c(".item")).length}},{key:"insert",value:function(Q,ft){var _t=this.c,Lt=this.$tabs,K=this.options.height-1,mt=Lt.find(_t(".item")),W=mt.length,vt='<div class="'.concat(this.c("item"),'" data-id="').concat(Gt()(ft.id),'" style="height: ').concat(K,"px; line-height: ").concat(K,'px;">').concat(Gt()(ft.title),"</div>");Q>W-1?Lt.append(vt):mt.eq(Q).before(vt),this.updateSlider()}},{key:"append",value:function(Q){this.insert(this.length,Q)}},{key:"remove",value:function(Q){var ft=this.c,_t=this;this.$tabs.find(ft(".item")).each(function(){var Lt=d()(this);if(Lt.data("id")===Q){if(Lt.hasClass(ft("selected")))if(_t.length>0){var K=_t.$tabs.find(ft(".item")).eq(0).data("id");_t.select(K)}else _t.emit("deselect");Lt.remove()}}),this.updateSlider()}},{key:"select",value:function(Q){var ft=this.c,_t=this;this.$tabs.find(ft(".item")).each(function(){var Lt=d()(this);Lt.data("id")===Q?(Lt.addClass(ft("selected")),_t.updateSlider(),_t.scrollToSelected(),_t.emit("select",Q)):Lt.rmClass(ft("selected"))})}},{key:"scrollToSelected",value:function(){var Q,ft=this.$tabs,_t=this.tabs,Lt=this.c,K=ft.find(Lt(".selected")).get(0),mt=K.offsetLeft,W=K.offsetWidth,vt=_t.offsetWidth,ut=_t.scrollLeft;mt<ut?Q=mt:mt+W>vt+ut&&(Q=mt+W-vt),T()(Q)&&(_t.scrollLeft=Q)}},{key:"hideScrollbar",value:function(){var Q=this.$tabs;if(getComputedStyle(this.tabs,"::-webkit-scrollbar").display!=="none"){var ft=function(){if(T()(M))return M;if(!document)return 16;var _t=document.createElement("div"),Lt=document.createElement("div");_t.setAttribute("style","display: block; width: 100px; height: 100px; overflow: scroll;"),Lt.setAttribute("style","height: 200px"),_t.appendChild(Lt);var K=document.body||document.documentElement;return K.appendChild(_t),M=_t.offsetWidth-_t.clientWidth,K.removeChild(_t),M}();Q.css("height",this.options.height-1+ft+"px")}}},{key:"updateSlider",value:function(){var Q=this.$slider,ft=this.$tabs,_t=this.c,Lt=ft.find(_t(".selected")).get(0);Lt?Q.css({width:Lt.offsetWidth,left:Lt.offsetLeft-ft.get(0).scrollLeft}):Q.css({width:0})}},{key:"bindEvent",value:function(){var Q=this,ft=this.tabs,_t=this.c,Lt=this;this.$tabs.on("wheel",function(K){K.preventDefault(),ft.scrollLeft+=K.origEvent.deltaY}).on("click",_t(".item"),function(){var K=d()(this);Lt.select(K.data("id"))}).on("scroll",function(){Q.updateSlider()})}},{key:"initTpl",value:function(){this.$container.html(this.c(Et()(st||(st=(0,r.Z)([`
        <div class="tabs-container">
          <div class="tabs"></div>
        </div>
        <div class="slider"></div>
      `])))))}}]),Ct}(tt);(function(Rt,Dt){try{Rt.exports=Dt,Rt.exports.default=Dt}catch{}})(n,jt)},7049:function(n,e,t){t.d(e,{Z:function(){return W}});var r=t(5671),i=t(3144),o=t(7326),s=t(1752),a=t(9340),l=t(2963),c=t(1120),u=t(1443),h=t.n(u),d=t(1512),p=t.n(d),f=t(2461),m=t.n(f),g=t(4331),v=t.n(g),_=t(5610),y=t.n(_),b=t(7483),S=t.n(b),T=(t(3990),t(6341)),A=t.n(T),R=(t(3875),t(6954)),Z=t.n(R);t(9585);function L(ut){var ht="luna-".concat(ut,"-");function $t(gt){return m()(v()(gt).split(/\s+/),function(it){return A()(it,ht)?it:it.replace(/[\w-]+/,function(At){return"".concat(ht).concat(At)})}).join(" ")}return function(gt){if(/<[^>]*>/g.test(gt))try{var it=S().parse(gt);return G(it,function(At){At.attrs&&At.attrs.class&&(At.attrs.class=$t(At.attrs.class))}),S().stringify(it)}catch{return $t(gt)}return $t(gt)}}function G(ut,ht){for(var $t=0,gt=ut.length;$t<gt;$t++){var it=ut[$t];ht(it),it.content&&G(it.content,ht)}}var j="ontouchstart"in y();function M(){var ut=Z()();return ut==="os x"?"mac":ut}var E=t(3783),I=t.n(E),U=t(6329),N=t.n(U),Y=t(4193),D=t.n(Y),z=t(5852),$=t.n(z);function rt(ut){var ht=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var $t,gt=(0,c.Z)(ut);if(ht){var it=(0,c.Z)(this).constructor;$t=Reflect.construct(gt,arguments,it)}else $t=gt.apply(this,arguments);return(0,l.Z)(this,$t)}}var ot=function(ut){(0,a.Z)($t,ut);var ht=rt($t);function $t(gt,it){var At,at=it.compName,dt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},kt=dt.theme,pt=kt===void 0?"light":kt;return(0,r.Z)(this,$t),(At=ht.call(this)).subComponents=[],At.compName=at,At.c=L(at),At.options={},At.container=gt,At.$container=p()(gt),At.$container.addClass(["luna-".concat(at),At.c("platform-".concat(M()))]),At.on("optionChange",function(It,Pt,et){var xt=At.c;It==="theme"&&(At.$container.rmClass(xt("theme-".concat(et))).addClass(xt("theme-".concat(Pt))),I()(At.subComponents,function(Bt){return Bt.setOption("theme",Pt)}))}),At.setOption("theme",pt),At}return(0,i.Z)($t,[{key:"destroy",value:function(){this.destroySubComponents();var gt=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(gt("platform-".concat(M()))).rmClass(gt("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(gt,it){var At=this,at=this.options,dt={};typeof gt=="string"?dt[gt]=it:dt=gt,I()(dt,function(kt,pt){var It=at[pt];at[pt]=kt,At.emit("optionChange",pt,kt,It)})}},{key:"getOption",value:function(gt){return this.options[gt]}},{key:"addSubComponent",value:function(gt){gt.setOption("theme",this.options.theme),this.subComponents.push(gt)}},{key:"removeSubComponent",value:function(gt){$()(this.subComponents,function(it){return it===gt})}},{key:"destroySubComponents",value:function(){I()(this.subComponents,function(gt){return gt.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(gt){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D()(gt,it),N()(this.options,gt)}},{key:"find",value:function(gt){return this.$container.find(this.c(gt))}}]),$t}(h()),st=t(9702),tt=t.n(st),nt=t(8887),Et=t.n(nt),yt=t(2439),Gt=t.n(yt),Nt=t(6049),jt=t.n(Nt),Rt=t(2327),Dt=t.n(Rt),Ct=t(8901),Q=t.n(Ct),ft=t(7387),_t=t.n(ft),Lt=t(8648),K=t.n(Lt);function mt(ut){var ht=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var $t,gt=(0,c.Z)(ut);if(ht){var it=(0,c.Z)(this).constructor;$t=Reflect.construct(gt,arguments,it)}else $t=gt.apply(this,arguments);return(0,l.Z)(this,$t)}}n=t.hmd(n);var W=function(ut){(0,a.Z)($t,ut);var ht=mt($t);function $t(gt){var it,At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,r.Z)(this,$t),(it=ht.call(this,gt,{compName:"text-viewer"},At)).lineNum=0,it.copy=function(){var at=(0,o.Z)(it).c,dt=it.options,kt=dt.text,pt=dt.escape;Dt()(pt?kt:_t()(K()(kt)));var It=it.$copy.find(at(".icon"));It.addClass(at("icon-check")).rmClass(at("icon-copy")),setTimeout(function(){It.rmClass(at("icon-check")).addClass(at("icon-copy"))},1e3)},it._updateCopyPos=function(){var at=(0,o.Z)(it).container;it.$copy.css({top:at.scrollTop+5,right:5-at.scrollLeft})},it.initOptions(At,{text:"",escape:!0,showLineNumbers:!0,wrapLongLines:!0,maxHeight:1/0}),it.render=Gt()(function(){return it._render()},16),it.updateCopyPos=jt()(function(){return it._updateCopyPos()},300),it.initTpl(),it.$text=it.find(".text"),it.$copy=it.find(".copy"),j&&it.$copy.css("opacity","1"),it.options.text&&it.render(),it.bindEvent(),it.updateHeight(),it}return(0,i.Z)($t,[{key:"append",value:function(gt){var it=this,At=this.options,at=this.$copy,dt=this.c,kt=this.$text,pt=At.showLineNumbers;if(this.options.text+=gt,!pt)return this.$text.append(At.escape?Q()(gt):gt);var It=function(et){return et.length===0?[]:et.split(vt)}(gt);Et()(It)&&(It=["&nbsp;"]),v()(tt()(It))||It.pop();var Pt="";I()(It,function(et,xt){it.lineNum+=1,Pt+='<div class="'.concat(dt("table-row"),'"><div class="').concat(dt("line-number"),'">').concat(it.lineNum,'</div><div class="').concat(dt("line-text"),'">').concat(At.escape?Q()(et):et||" ","</div></div>")}),kt.find(dt(".table")).append(Pt),at.hide(),kt.offset().height>40&&at.show(),this.updateCopyPos()}},{key:"destroy",value:function(){this.$container.off("scroll",this.updateCopyPos),(0,s.Z)((0,c.Z)($t.prototype),"destroy",this).call(this)}},{key:"updateHeight",value:function(){var gt=this.options.maxHeight;gt>0&&gt!==1/0?this.$text.css("max-height",gt):this.$text.css("max-height","none")}},{key:"initTpl",value:function(){this.$container.html(this.c('<div class="text"></div><div class="copy"><span class="icon icon-copy"></span></div>'))}},{key:"bindEvent",value:function(){var gt=this;this.on("optionChange",function(it){it==="maxHeight"?gt.updateHeight():gt.render()}),this.$container.on("scroll",this.updateCopyPos),this.$copy.on("click",this.copy)}},{key:"_render",value:function(){var gt=this.c,it=this.$text,At=this.options,at=At.text,dt=At.wrapLongLines,kt=At.showLineNumbers;dt?it.addClass(gt("wrap-long-lines")):it.rmClass(gt("wrap-long-lines")),kt?it.addClass(gt("line-numbers")):it.rmClass(gt("line-numbers")),it.html('<div class="'.concat(gt("table"),'"></div>')),this.lineNum=0,this.options.text="",this.append(at)}}]),$t}(ot),vt=/\r\n|\r|\n/g;(function(ut,ht){try{ut.exports=ht,ut.exports.default=ht}catch{}})(n,W)},6672:function(n,e,t){t.d(e,{Z:function(){return za}});var r={};t.r(r),t.d(r,{$:function(){return b()},$attr:function(){return It()},$class:function(){return et()},$css:function(){return Bt()},$data:function(){return te()},$event:function(){return _e()},$insert:function(){return he()},$offset:function(){return Re()},$property:function(){return je()},$remove:function(){return Je()},$safeEls:function(){return ce()},$show:function(){return ee()},Class:function(){return v()},Emitter:function(){return d()},Enum:function(){return Ft()},LocalStore:function(){return T()},Logger:function(){return ne()},MediaQuery:function(){return ve()},MutationObserver:function(){return Ae()},Select:function(){return Pe()},SingleEmitter:function(){return qt()},Stack:function(){return Zt()},Store:function(){return Mt()},Url:function(){return ue()},ajax:function(){return Wt()},allKeys:function(){return fe()},before:function(){return Se()},camelCase:function(){return De()},castPath:function(){return Ke()},clamp:function(){return nn()},classPrefix:function(){return X},clone:function(){return Y()},cloneDeep:function(){return hn()},concat:function(){return an()},contain:function(){return U()},copy:function(){return We()},create:function(){return cn()},createAssigner:function(){return Pn()},dateFormat:function(){return xn()},debounce:function(){return gr()},defaults:function(){return nt()},defineProp:function(){return yr()},delegate:function(){return xr()},detectBrowser:function(){return Mn()},detectOs:function(){return Hn()},difference:function(){return Kn()},drag:function(){return dn},each:function(){return L()},endWith:function(){return Qn()},escape:function(){return Te()},escapeJsStr:function(){return Jn()},escapeJsonStr:function(){return Ps},escapeRegExp:function(){return kr()},evalCss:function(){return Ms},eventClient:function(){return Cn},eventPage:function(){return Bs},extend:function(){return yt()},extendOwn:function(){return Pr()},extractUrls:function(){return Ir()},filter:function(){return j()},flatten:function(){return tr()},freeze:function(){return Br()},getFileName:function(){return vi},getProto:function(){return Nr()},has:function(){return Lr()},hasSafeArea:function(){return gi},highlight:function(){return $n()},identity:function(){return jr()},idxOf:function(){return pe()},inherits:function(){return P()},isArgs:function(){return V()},isArr:function(){return Nt()},isArrLike:function(){return Ot()},isBool:function(){return Ht()},isBrowser:function(){return ie()},isBuffer:function(){return ye()},isChobitsuEl:function(){return yi},isDarkMode:function(){return ze()},isDate:function(){return Fe()},isEl:function(){return Xe()},isEmpty:function(){return Ve()},isErr:function(){return bn()},isErudaEl:function(){return Wn},isFn:function(){return He()},isHidden:function(){return Dn()},isMatch:function(){return Zn()},isMiniProgram:function(){return ln()},isMobile:function(){return wn()},isNaN:function(){return Fn()},isNil:function(){return Hr()},isNull:function(){return Tn()},isNum:function(){return vn()},isObj:function(){return Nn()},isPrimitive:function(){return rr()},isPromise:function(){return Ui()},isRegExp:function(){return ei()},isSorted:function(){return zi()},isStr:function(){return E()},isUndef:function(){return Zr()},kebabCase:function(){return st()},keys:function(){return rt()},last:function(){return or()},linkify:function(){return Zi()},loadJs:function(){return ni()},lowerCase:function(){return ri()},lpad:function(){return qi()},ltrim:function(){return Qi()},map:function(){return Ne()},mapObj:function(){return eo()},matcher:function(){return ro()},memStorage:function(){return ii()},memoize:function(){return so()},mergeArr:function(){return co()},meta:function(){return uo()},ms:function(){return oi()},nextTick:function(){return at()},noop:function(){return si()},now:function(){return ai()},objToStr:function(){return go()},once:function(){return yo()},optimizeCb:function(){return xo()},orientation:function(){return kt()},partial:function(){return wo()},perfNow:function(){return To()},pick:function(){return ci()},prefix:function(){return Co()},property:function(){return Ro()},pxToNum:function(){return Un},query:function(){return Mo()},raf:function(){return Oo()},repeat:function(){return Bo()},restArgs:function(){return No()},reverse:function(){return Uo()},root:function(){return li()},rtrim:function(){return zo()},safeCb:function(){return $o()},safeGet:function(){return ui()},safeSet:function(){return Xo()},safeStorage:function(){return Xr},sameOrigin:function(){return hi()},slice:function(){return qo()},some:function(){return Qo()},sortKeys:function(){return di()},splitCase:function(){return es()},startWith:function(){return Xn()},stringify:function(){return is()},stringifyAll:function(){return ss()},throttle:function(){return fi()},toArr:function(){return sr()},toInt:function(){return us()},toNum:function(){return ar()},toSrc:function(){return fs()},toStr:function(){return z()},trim:function(){return yn()},type:function(){return gs()},types:function(){return ys()},uncaught:function(){return cr()},uniqId:function(){return R()},unique:function(){return Ln()},upperFirst:function(){return Vn()},values:function(){return As()},viewportScale:function(){return pi()},wrap:function(){return Ss()},xpath:function(){return ks()}}),t(1532),t(1150);var i=t(5671),o=t(3144),s=t(7326),a=t(9340),l=t(2963),c=t(1120),u=t(4942),h=t(1443),d=t.n(h),p=new(d());p.ADD="ADD",p.SHOW="SHOW",p.SCALE="SCALE";var f=p,m=t(1752),g=t(7496),v=t.n(g),_=v()({init:function(F){this._$el=F},show:function(){return this._$el.show(),this},hide:function(){return this._$el.hide(),this},destroy:function(){this._$el.remove()}}),y=t(1512),b=t.n(y),S=t(125),T=t.n(S),A=t(5229),R=t.n(A),Z=t(3783),L=t.n(Z),G=t(5972),j=t.n(G),M=t(6768),E=t.n(M),I=t(6341),U=t.n(I),N=t(4675),Y=t.n(N),D=t(3367),z=t.n(D),$=t(2533),rt=t.n($),ot=t(7622),st=t.n(ot),tt=t(4193),nt=t.n(tt),Et=t(6329),yt=t.n(Et),Gt=t(6472),Nt=t.n(Gt),jt=["background","foreground","selectForeground","accent","highlight","border","primary","contrast","varColor","stringColor","keywordColor","numberColor","operatorColor","linkColor","textColor","tagNameColor","functionColor","attributeNameColor","commentColor"],Rt=jt.length;function Dt(F){for(var B={},k=0;k<Rt;k++)B[jt[k]]=F[k];return B}function Ct(F){return Nt()(F)&&(F=Dt(F)),F.darkerBackground||(F.darkerBackground=F.contrast),yt()({consoleWarnBackground:"#332a00",consoleWarnForeground:"#ffcb6b",consoleWarnBorder:"#650",consoleErrorBackground:"#290000",consoleErrorForeground:"#ff8080",consoleErrorBorder:"#5c0000",light:"#ccc",dark:"#aaa"},F)}function Q(F){return Nt()(F)&&(F=Dt(F)),F.darkerBackground||(F.darkerBackground=F.contrast),yt()({consoleWarnBackground:"#fffbe5",consoleWarnForeground:"#5c5c00",consoleWarnBorder:"#fff5c2",consoleErrorBackground:"#fff0f0",consoleErrorForeground:"#f00",consoleErrorBorder:"#ffd6d6",light:"#fff",dark:"#eee"},F)}var ft=["Dark","Material Oceanic","Material Darker","Material Palenight","Material Deep Ocean","Monokai Pro","Dracula","Arc Dark","Atom One Dark","Solarized Dark","Night Owl"],_t={Light:Q({darkerBackground:"#f3f3f3",background:"#fff",foreground:"#333",selectForeground:"#333",accent:"#1a73e8",highlight:"#eaeaea",border:"#ccc",primary:"#333",contrast:"#f2f7fd",varColor:"#c80000",stringColor:"#1a1aa6",keywordColor:"#881280",numberColor:"#1c00cf",operatorColor:"#808080",linkColor:"#1155cc",textColor:"#8097bd",tagNameColor:"#881280",functionColor:"#222",attributeNameColor:"#994500",commentColor:"#236e25",cssProperty:"#c80000"}),Dark:Ct({darkerBackground:"#333",background:"#242424",foreground:"#a5a5a5",selectForeground:"#eaeaea",accent:"#555",highlight:"#000",border:"#3d3d3d",primary:"#ccc",contrast:"#0b2544",varColor:"#e36eec",stringColor:"#f29766",keywordColor:"#9980ff",numberColor:"#9980ff",operatorColor:"#7f7f7f",linkColor:"#ababab",textColor:"#42597f",tagNameColor:"#5db0d7",functionColor:"#d5d5d5",attributeNameColor:"#9bbbdc",commentColor:"#747474"}),"Material Oceanic":Ct(["#263238","#B0BEC5","#FFFFFF","#009688","#425B67","#2A373E","#607D8B","#1E272C","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#B0BEC5","#f07178","#82aaff","#ffcb6b","#546e7a"]),"Material Darker":Ct(["#212121","#B0BEC5","#FFFFFF","#FF9800","#3F3F3F","#292929","#727272","#1A1A1A","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#B0BEC5","#f07178","#82aaff","#ffcb6b","#616161"]),"Material Lighter":Q(["#FAFAFA","#546E7A","#546e7a","#00BCD4","#E7E7E8","#d3e1e8","#94A7B0","#F4F4F4","#272727","#91B859","#7C4DFF","#F76D47","#39ADB5","#39ADB5","#546E7A","#E53935","#6182B8","#F6A434","#AABFC9"]),"Material Palenight":Ct(["#292D3E","#A6ACCD","#FFFFFF","#ab47bc","#444267","#2b2a3e","#676E95","#202331","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#A6ACCD","#f07178","#82aaff","#ffcb6b","#676E95"]),"Material Deep Ocean":Ct(["#0F111A","#8F93A2","#FFFFFF","#84ffff","#1F2233","#41465b","#4B526D","#090B10","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#8F93A2","#f07178","#82aaff","#ffcb6b","#717CB4"]),"Monokai Pro":Ct(["#2D2A2E","#fcfcfa","#FFFFFF","#ffd866","#5b595c","#423f43","#939293","#221F22","#FCFCFA","#FFD866","#FF6188","#AB9DF2","#FF6188","#78DCE8","#fcfcfa","#FF6188","#A9DC76","#78DCE8","#727072"]),Dracula:Ct(["#282A36","#F8F8F2","#8BE9FD","#FF79C5","#6272A4","#21222C","#6272A4","#191A21","#F8F8F2","#F1FA8C","#FF79C6","#BD93F9","#FF79C6","#F1FA8C","#F8F8F2","#FF79C6","#50FA78","#50FA7B","#6272A4"]),"Arc Dark":Ct(["#2f343f","#D3DAE3","#FFFFFF","#42A5F5","#3F3F46","#404552","#8b9eb5","#262b33","#CF6A4C","#8F9D6A","#9B859D","#CDA869","#A7A7A7","#7587A6","#D3DAE3","#CF6A4C","#7587A6","#F9EE98","#747C84"]),"Atom One Dark":Ct(["#282C34","#979FAD","#FFFFFF","#2979ff","#383D48","#2e3239","#979FAD","#21252B","#D19A66","#98C379","#C679DD","#D19A66","#61AFEF","#56B6C2","#979FAD","#F07178","#61AEEF","#E5C17C","#59626F"]),"Atom One Light":Q(["#FAFAFA","#232324","#232324","#2979ff","#EAEAEB","#DBDBDC","#9D9D9F","#FFFFFF","#986801","#50A14E","#A626A4","#986801","#4078F2","#0184BC","#232324","#E4564A","#4078F2","#C18401","#A0A1A7"]),"Solarized Dark":Ct(["#002B36","#839496","#FFFFFF","#d33682","#11353F","#0D3640","#586e75","#00252E","#268BD2","#2AA198","#859900","#D33682","#93A1A1","#268BD2","#839496","#268BD2","#B58900","#B58900","#657B83"]),"Solarized Light":Q(["#fdf6e3","#586e75","#002b36","#d33682","#F6F0DE","#f7f2e2","#93a1a1","#eee8d5","#268BD2","#2AA198","#859900","#D33682","#657B83","#268BD2","#586e75","#268BD2","#B58900","#657B83","#93A1A1"]),Github:Q(["#F7F8FA","#5B6168","#FFFFFF","#79CB60","#CCE5FF","#DFE1E4","#292D31","#FFFFFF","#24292E","#032F62","#D73A49","#005CC5","#D73A49","#005CC5","#5B6168","#22863A","#6F42C1","#6F42C1","#6A737D"]),"Night Owl":Ct(["#011627","#b0bec5","#ffffff","#7e57c2","#152C3B","#2a373e","#607d8b","#001424","#addb67","#ecc48d","#c792ea","#f78c6c","#c792ea","#80CBC4","#b0bec5","#7fdbca","#82AAFF","#FAD430","#637777"]),"Light Owl":Q(["#FAFAFA","#546e7a","#403f53","#269386","#E0E7EA","#efefef","#403F53","#FAFAFA","#0C969B","#c96765","#994cc3","#aa0982","#7d818b","#994cc3","#546e7a","#994cc3","#4876d6","#4876d6","#637777"])},Lt=[],K=1,mt=_t.Light,W=function F(B,k){B=z()(B);for(var x=0,w=Lt.length;x<w;x++)if(Lt[x].css===B)return;k=k||F.container||document.head;var C=document.createElement("style");C.type="text/css",k.appendChild(C);var H={css:B,el:C,container:k};return ut(H),Lt.push(H),H};function vt(){L()(Lt,function(F){return ut(F)})}function ut(F){var B=F.css,k=F.el;B=(B=B.replace(/(\d+)px/g,function(w,C){return+C*K+"px"})).replace(/_/g,"eruda-");var x=rt()(_t.Light);L()(x,function(w){B=B.replace(new RegExp("var\\(--".concat(st()(w),"\\)"),"g"),mt[w])}),k.innerText=B}W.setScale=function(F){K=F,vt()},W.setTheme=function(F){mt=E()(F)?_t[F]||_t.Light:nt()(F,_t.Light),vt()},W.getCurTheme=function(){return mt},W.getThemes=function(){return _t},W.clear=function(){L()(Lt,function(F){var B=F.container,k=F.el;return B.removeChild(k)}),Lt=[]},W.remove=function(F){Lt=j()(Lt,function(B){return B!==F}),F.container.removeChild(F.el)};var ht=W,$t=t(4714);function gt(F){var B=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var k,x=(0,c.Z)(F);if(B){var w=(0,c.Z)(this).constructor;k=Reflect.construct(x,arguments,w)}else k=x.apply(this,arguments);return(0,l.Z)(this,k)}}var it=function(F){(0,a.Z)(k,F);var B=gt(k);function k(){var x;return(0,i.Z)(this,k),(x=B.call(this))._style=ht(t(8011)),x.name="settings",x._settings=[],x}return(0,o.Z)(k,[{key:"init",value:function(x){(0,m.Z)((0,c.Z)(k.prototype),"init",this).call(this,x),this._setting=new $t.Z(x.get(0)),this._bindEvent()}},{key:"remove",value:function(x,w){return E()(x)?this._$el.find(".luna-setting-item-title").each(function(){var C=b()(this);C.text()===x&&C.remove()}):this._settings=j()(this._settings,function(C){return C.config!==x||C.key!==w||(C.item.detach(),!1)}),this._cleanSeparator(),this}},{key:"destroy",value:function(){this._setting.destroy(),(0,m.Z)((0,c.Z)(k.prototype),"destroy",this).call(this),ht.remove(this._style)}},{key:"clear",value:function(){this._settings=[],this._setting.clear()}},{key:"switch",value:function(x,w,C){var H=this._genId("settings"),q=this._setting.appendCheckbox(H,!!x.get(w),C);return this._settings.push({config:x,key:w,id:H,item:q}),this}},{key:"select",value:function(x,w,C,H){var q=this._genId("settings"),lt={};L()(H,function(Ut){return lt[Ut]=Ut});var St=this._setting.appendSelect(q,x.get(w),"",C,lt);return this._settings.push({config:x,key:w,id:q,item:St}),this}},{key:"range",value:function(x,w,C,H){var q=H.min,lt=q===void 0?0:q,St=H.max,Ut=St===void 0?1:St,le=H.step,Me=le===void 0?.1:le,$e=this._genId("settings"),Ie=this._setting.appendNumber($e,x.get(w),C,{max:Ut,min:lt,step:Me,range:!0});return this._settings.push({config:x,key:w,min:lt,max:Ut,step:Me,id:$e,item:Ie}),this}},{key:"button",value:function(x,w){return this._setting.appendButton(x,w),this}},{key:"separator",value:function(){return this._setting.appendSeparator(),this}},{key:"text",value:function(x){return this._setting.appendTitle(x),this}},{key:"_cleanSeparator",value:function(){var x=Y()(this._$el.get(0).children);function w(q){return U()(q.getAttribute("class"),"luna-setting-item-separator")}for(var C=0,H=x.length;C<H-1;C++)w(x[C])&&w(x[C+1])&&b()(x[C]).remove()}},{key:"_genId",value:function(){return R()("eruda-settings")}},{key:"_getSetting",value:function(x){var w;return L()(this._settings,function(C){C.id===x&&(w=C)}),w}},{key:"_bindEvent",value:function(){var x=this;this._setting.on("change",function(w,C){var H=x._getSetting(w);H.config.set(H.key,C)})}}],[{key:"createCfg",value:function(x,w){return new(T())("eruda-"+x,w)}}]),k}(_),At=t(6837),at=t.n(At),dt=t(442),kt=t.n(dt),pt=t(4991),It=t.n(pt),Pt=t(7781),et=t.n(Pt),xt=t(975),Bt=t.n(xt),Qt=t(8381),te=t.n(Qt),se=t(5543),_e=t.n(se),me=t(8908),he=t.n(me),be=t(6906),Re=t.n(be),we=t(4209),je=t.n(we),qe=t(6757),Je=t.n(qe),en=t(2341),ce=t.n(en),de=t(7665),ee=t.n(de),wt=t(9640),Ft=t.n(wt),ct=t(4989),ne=t.n(ct),re=t(2765),ve=t.n(re),xe=t(2289),Ae=t.n(xe),Be=t(3244),Pe=t.n(Be),Ue=t(8985),qt=t.n(Ue),Kt=t(9001),Zt=t.n(Kt),Tt=t(5128),Mt=t.n(Tt),zt=t(6334),ue=t.n(zt),oe=t(8991),Wt=t.n(oe),Jt=t(1116),fe=t.n(Jt),ae=t(5637),Se=t.n(ae),Ce=t(7494),De=t.n(Ce),Ye=t(2848),Ke=t.n(Ye),sn=t(9882),nn=t.n(sn),un=t(550),hn=t.n(un),Ze=t(8099),an=t.n(Ze),pn=t(2327),We=t.n(pn),rn=t(1662),cn=t.n(rn),mn=t(4427),Pn=t.n(mn),zn=t(4407),xn=t.n(zn),mr=t(6049),gr=t.n(mr),vr=t(9803),yr=t.n(vr),_r=t(2443),xr=t.n(_r),br=t(4541),Mn=t.n(br),wr=t(6954),Hn=t.n(wr),Ar=t(801),Kn=t.n(Ar),Tr=t(4858),Qn=t.n(Tr),Er=t(8901),Te=t.n(Er),Sr=t(4187),Jn=t.n(Sr),Cr=t(2337),kr=t.n(Cr),Rr=t(3021),Pr=t.n(Rr),Mr=t(2581),Ir=t.n(Mr),Or=t(1225),tr=t.n(Or),Dr=t(4454),Br=t.n(Dr),Fr=t(415),Nr=t.n(Fr),er=t(6257),Lr=t.n(er),Ur=t(3651),$n=t.n(Ur),Gr=t(6362),jr=t.n(Gr),Vt=t(496),pe=t.n(Vt),Xt=t(5022),P=t.n(Xt),O=t(7403),V=t.n(O),J=t(1369),Ot=t.n(J),bt=t(4696),Ht=t.n(bt),Yt=t(2727),ie=t.n(Yt),Ee=t(2349),ye=t.n(Ee),Oe=t(2520),ze=t.n(Oe),ge=t(2106),Fe=t.n(ge),Qe=t(9833),Xe=t.n(Qe),In=t(8887),Ve=t.n(In),On=t(2749),bn=t.n(On),gn=t(4777),He=t.n(gn),Yn=t(9585),Dn=t.n(Yn),En=t(7949),Zn=t.n(En),Bn=t(9537),ln=t.n(Bn),Sn=t(9956),wn=t.n(Sn),An=t(9433),Fn=t.n(An),zr=t(2763),Hr=t.n(zr),$r=t(6156),Tn=t.n($r),Yr=t(3990),vn=t.n(Yr),nr=t(5166),Nn=t.n(nr),ke=t(6997),rr=t.n(ke),ir=t(4321),Ui=t.n(ir),Gi=t(1754),ei=t.n(Gi),ji=t(3843),zi=t.n(ji),Hi=t(1286),Zr=t.n(Hi),$i=t(9702),or=t.n($i),Yi=t(3988),Zi=t.n(Yi),Xi=t(9622),ni=t.n(Xi),Vi=t(3063),ri=t.n(Vi),Wi=t(5351),qi=t.n(Wi),Ki=t(7767),Qi=t.n(Ki),Ji=t(2461),Ne=t.n(Ji),to=t(8820),eo=t.n(to),no=t(4491),ro=t.n(no),io=t(5026),ii=t.n(io),oo=t(1475),so=t.n(oo),ao=t(9971),co=t.n(ao),lo=t(8573),uo=t.n(lo),ho=t(4677),oi=t.n(ho),fo=t(1214),si=t.n(fo),po=t(8847),ai=t.n(po),mo=t(106),go=t.n(mo),vo=t(8763),yo=t.n(vo),_o=t(3955),xo=t.n(_o),bo=t(4198),wo=t.n(bo),Ao=t(1194),To=t.n(Ao),Eo=t(3487),ci=t.n(Eo),So=t(747),Co=t.n(So),ko=t(2994),Ro=t.n(ko),Po=t(1745),Mo=t.n(Po),Io=t(1571),Oo=t.n(Io),Do=t(4552),Bo=t.n(Do),Fo=t(1137),No=t.n(Fo),Lo=t(1527),Uo=t.n(Lo),Go=t(5610),li=t.n(Go),jo=t(3597),zo=t.n(jo),Ho=t(2838),$o=t.n(Ho),Yo=t(7653),ui=t.n(Yo),Zo=t(8079),Xo=t.n(Zo),Vo=t(4224),hi=t.n(Vo),Wo=t(9677),qo=t.n(Wo),Ko=t(6053),Qo=t.n(Ko),Jo=t(3629),di=t.n(Jo),ts=t(8935),es=t.n(ts),ns=t(6930),Xn=t.n(ns),rs=t(4400),is=t.n(rs),os=t(9963),ss=t.n(os),as=t(2439),fi=t.n(as),cs=t(1352),sr=t.n(cs),ls=t(9296),us=t.n(ls),hs=t(3875),ar=t.n(hs),ds=t(300),fs=t.n(ds),ps=t(4331),yn=t.n(ps),ms=t(3085),gs=t.n(ms),vs=t(9016),ys=t.n(vs),_s=t(5484),cr=t.n(_s),xs=t(42),Ln=t.n(xs),bs=t(3023),Vn=t.n(bs),ws=t(2578),As=t.n(ws),Ts=t(3514),pi=t.n(Ts),Es=t(5491),Ss=t.n(Es),Cs=t(8933),ks=t.n(Cs),Rs=t(7483),mi=t.n(Rs);function gi(){var F=!1,B=document.createElement("div");if(CSS.supports("padding-bottom: env(safe-area-inset-bottom)")?(B.style.paddingBottom="env(safe-area-inset-bottom)",F=!0):CSS.supports("padding-bottom: constant(safe-area-inset-bottom)")&&(B.style.paddingBottom="constant(safe-area-inset-bottom)",F=!0),F){document.body.appendChild(B);var k=parseInt(window.getComputedStyle(B).paddingBottom);if(document.body.removeChild(B),k>0)return!0}return!1}function Ps(F){return Jn()(F).replace(/\\'/g,"'").replace(/\t/g,"\\t")}function Xr(F,B){var k;switch(Zr()(B)&&(B=!0),F){case"local":k=window.localStorage;break;case"session":k=window.sessionStorage}try{var x="test-localStorage-"+Date.now();k.setItem(x,x);var w=k.getItem(x);if(k.removeItem(x),w!==x)throw new Error}catch{return B?ii():void 0}return k}function vi(F){var B=or()(F.split("/"));return B===""&&(B=(F=new(ue())(F)).hostname),B}function Un(F){return ar()(F.replace("px",""))}function Wn(F){for(;F;){if(F.id==="eruda")return!0;F=F.parentNode}return!1}function yi(F){for(;F;){var B="";if(F.getAttribute&&(B=F.getAttribute("class")||""),U()(B,"__chobitsu-hide__"))return!0;F=F.parentNode}return!1}var Ms=ht;function X(F){if(/<[^>]*>/g.test(F))try{var B=mi().parse(F);return _i(B,function(k){k.attrs&&k.attrs.class&&(k.attrs.class=Vr(k.attrs.class))}),mi().stringify(B)}catch{return Vr(F)}return Vr(F)}function _i(F,B){for(var k=0,x=F.length;k<x;k++){var w=F[k];B(w),w.content&&_i(w.content,B)}}function Vr(F){var B="eruda-";return Ne()(yn()(F).split(/\s+/),function(k){return U()(k,B)?k:k.replace(/[\w-]+/,function(x){return"".concat(B).concat(x)})}).join(" ")}var Is="ontouchstart"in li(),Os={start:"touchstart",move:"touchmove",end:"touchend"},Ds={start:"mousedown",move:"mousemove",end:"mouseup"};function dn(F){return Is?Os[F]:Ds[F]}function Cn(F,B){var k=F==="x"?"clientX":"clientY";return B[k]?B[k]:B.changedTouches?B.changedTouches[0][k]:0}function Bs(F,B){var k=F==="x"?"pageX":"pageY";return B[k]?B[k]:B.changedTouches?B.changedTouches[0][k]:0}function Fs(F){var B=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var k,x=(0,c.Z)(F);if(B){var w=(0,c.Z)(this).constructor;k=Reflect.construct(x,arguments,w)}else k=x.apply(this,arguments);return(0,l.Z)(this,k)}}var xi,lr=b()(document),Ns=function(F){(0,a.Z)(k,F);var B=Fs(k);function k(x){var w;return(0,i.Z)(this,k),w=B.call(this),(0,u.Z)((0,s.Z)(w),"_onDragStart",function(C){var H=w._$el;H.addClass(X("active")),w._isClick=!0,C=C.origEvent,w._startX=Cn("x",C),w._oldX=Un(H.css("left")),w._oldY=Un(H.css("top")),w._startY=Cn("y",C),lr.on(dn("move"),w._onDragMove),lr.on(dn("end"),w._onDragEnd)}),(0,u.Z)((0,s.Z)(w),"_onDragMove",function(C){var H=w._$el.get(0).offsetWidth,q=w._$container.get(0).offsetWidth,lt=w._$container.get(0).offsetHeight,St=Cn("x",C=C.origEvent)-w._startX,Ut=Cn("y",C)-w._startY;(Math.abs(St)>3||Math.abs(Ut)>3)&&(w._isClick=!1);var le=w._oldX+St,Me=w._oldY+Ut;le<0?le=0:le>q-H&&(le=q-H),Me<0?Me=0:Me>lt-H&&(Me=lt-H),w._$el.css({left:le,top:Me})}),(0,u.Z)((0,s.Z)(w),"_onDragEnd",function(C){var H=w._$el;w._isClick&&w.emit("click"),w._onDragMove(C),lr.off(dn("move"),w._onDragMove),lr.off(dn("end"),w._onDragEnd);var q=w.config;q.get("rememberPos")&&q.set("pos",{x:Un(H.css("left")),y:Un(H.css("top"))}),H.rmClass("eruda-active")}),w._style=ht(t(9195)),w._$container=x,w._initTpl(),w._bindEvent(),w._registerListener(),w}return(0,o.Z)(k,[{key:"hide",value:function(){this._$el.hide()}},{key:"show",value:function(){this._$el.show()}},{key:"setPos",value:function(x){this._isOutOfRange(x)&&(x=this._getDefPos()),this._$el.css({left:x.x,top:x.y}),this.config.set("pos",x)}},{key:"getPos",value:function(){return this.config.get("pos")}},{key:"destroy",value:function(){ht.remove(this._style),this._unregisterListener(),this._$el.remove()}},{key:"_isOutOfRange",value:function(x){x=x||this.config.get("pos");var w=this._getDefPos();return x.x>w.x+10||x.x<0||x.y<0||x.y>w.y+10}},{key:"_registerListener",value:function(){var x=this;this._scaleListener=function(){return at()(function(){x._isOutOfRange()&&x._resetPos()})},f.on(f.SCALE,this._scaleListener)}},{key:"_unregisterListener",value:function(){f.off(f.SCALE,this._scaleListener)}},{key:"_initTpl",value:function(){var x=this._$container;x.append(X('<div class="entry-btn"><span class="icon-tool"></span></div>')),this._$el=x.find(".eruda-entry-btn")}},{key:"_resetPos",value:function(x){var w=this.config,C=w.get("pos"),H=this._getDefPos();w.get("rememberPos")&&!x||(C=H),this.setPos(C)}},{key:"_bindEvent",value:function(){var x=this;this._$el.on(dn("start"),this._onDragStart),kt().on("change",function(){return x._resetPos(!0)}),window.addEventListener("resize",function(){return x._resetPos()})}},{key:"initCfg",value:function(x){var w=this.config=it.createCfg("entry-button",{rememberPos:!0,pos:this._getDefPos()});x.switch(w,"rememberPos","Remember Entry Button Position"),this._resetPos()}},{key:"_getDefPos",value:function(){var x=this._$el.get(0).offsetWidth+10;return{x:window.innerWidth-x,y:window.innerHeight-x}}}]),k}(d()),Gn=xi=new(ne())("[Eruda]","warn");xi.formatter=function(F,B){return B.unshift(this.name),B};var Ls=t(4270),Us=t.n(Ls),Gs=t(6093),js=t.n(Gs),kn=t(129),zs=t(7638);function Hs(F){var B=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var k,x=(0,c.Z)(F);if(B){var w=(0,c.Z)(this).constructor;k=Reflect.construct(x,arguments,w)}else k=x.apply(this,arguments);return(0,l.Z)(this,k)}}var $s=function(F){(0,a.Z)(k,F);var B=Hs(k);function k(x){var w,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=C.defaults,q=H===void 0?{}:H;return(0,i.Z)(this,k),w=B.call(this),(0,u.Z)((0,s.Z)(w),"_checkSafeArea",function(){var lt=(0,s.Z)(w).$container;gi()?lt.addClass(X("safe-area")):lt.rmClass(X("safe-area"))}),w._defCfg=yt()({transparency:1,displaySize:80,theme:ze()()?"Dark":"Light"},q),w._style=ht(t(13)),w.$container=x,w._isShow=!1,w._opacity=1,w._tools={},w._isResizing=!1,w._resizeTimer=null,w._resizeStartY=0,w._resizeStartSize=0,w._initTpl(),w._initTab(),w._initNotification(),w._initModal(),Us()(function(){return w._checkSafeArea()}),w._bindEvent(),w}return(0,o.Z)(k,[{key:"show",value:function(){var x=this;return this._isShow=!0,this._$el.show(),this._tab.updateSlider(),setTimeout(function(){x._$el.css("opacity",x._opacity)},50),this.emit("show"),this}},{key:"hide",value:function(){var x=this;return this._isShow=!1,this.emit("hide"),this._$el.css({opacity:0}),setTimeout(function(){return x._$el.hide()},300),this}},{key:"toggle",value:function(){return this._isShow?this.hide():this.show()}},{key:"add",value:function(x){var w=this._tab;if(!(x instanceof _)){var C=new _,H=C.init,q=C.show,lt=C.hide,St=C.destroy;nt()(x,{init:H,show:q,hide:lt,destroy:St})}var Ut=x.name;return Ut?(Ut=Ut.toLowerCase(),this._tools[Ut]?Gn.warn("Tool ".concat(Ut," already exists")):(this._$tools.prepend('<div id="'.concat(X(Ut),'" class="').concat(X(Ut+" tool"),'"></div>')),x.init(this._$tools.find(".".concat(X(Ut),".").concat(X("tool"))),this),x.active=!1,this._tools[Ut]=x,Ut==="settings"?w.append({id:Ut,title:Ut}):w.insert(w.length-1,{id:Ut,title:Ut}),this)):Gn.error("You must specify a name for a tool")}},{key:"remove",value:function(x){var w=this._tools;if(!w[x])return Gn.warn("Tool ".concat(x," doesn't exist"));this._tab.remove(x);var C=w[x];if(delete w[x],C.active){var H=rt()(w);H.length>0&&this.showTool(w[or()(H)].name)}return C.destroy(),this}},{key:"removeAll",value:function(){var x=this;return L()(this._tools,function(w){return x.remove(w.name)}),this}},{key:"get",value:function(x){var w=this._tools[x];if(w)return w}},{key:"showTool",value:function(x){if(this._curTool===x)return this;this._curTool=x;var w=this._tools,C=w[x];if(C){var H={};return L()(w,function(q){q.active&&(H=q,q.active=!1,q.hide())}),C.active=!0,C.show(),this._tab.select(x),this.emit("showTool",x,H),this}}},{key:"initCfg",value:function(x){var w=this,C=this.config=it.createCfg("dev-tools",this._defCfg);this._setTransparency(C.get("transparency")),this._setDisplaySize(C.get("displaySize")),this._setTheme(C.get("theme")),C.on("change",function(H,q){switch(H){case"transparency":return w._setTransparency(q);case"displaySize":return w._setDisplaySize(q);case"theme":return w._setTheme(q)}}),x.separator().select(C,"theme","Theme",rt()(ht.getThemes())).range(C,"transparency","Transparency",{min:.2,max:1,step:.01}).range(C,"displaySize","Display Size",{min:40,max:100,step:1}).button("Restore defaults and reload",function(){var H=Xr("local"),q=JSON.parse(JSON.stringify(H));L()(q,function(lt,St){E()(lt)&&Xn()(St,"eruda")&&H.removeItem(St)}),window.location.reload()}).separator()}},{key:"notify",value:function(x,w){this._notification.notify(x,w)}},{key:"destroy",value:function(){ht.remove(this._style),this.removeAll(),this._tab.destroy(),this._$el.remove(),window.removeEventListener("resize",this._checkSafeArea)}},{key:"_setTheme",value:function(x){var w=this.$container;(function(C){return U()(ft,C)})(x)?w.addClass(X("dark")):w.rmClass(X("dark")),ht.setTheme(x)}},{key:"_setTransparency",value:function(x){vn()(x)&&(this._opacity=x,this._isShow&&this._$el.css({opacity:x}))}},{key:"_setDisplaySize",value:function(x){vn()(x)&&this._$el.css({height:x+"%"})}},{key:"_initTpl",value:function(){var x=this.$container;x.append(X(`
      <div class="dev-tools">
        <div class="resizer"></div>
        <div class="tab"></div>
        <div class="tools"></div>
        <div class="notification"></div>
        <div class="modal"></div>
      </div>
      `)),this._$el=x.find(X(".dev-tools")),this._$tools=this._$el.find(X(".tools"))}},{key:"_initTab",value:function(){var x=this;this._tab=new zs.Z(this._$el.find(X(".tab")).get(0),{height:40}),this._tab.on("select",function(w){return x.showTool(w)})}},{key:"_initNotification",value:function(){this._notification=new(js())(this._$el.find(X(".notification")).get(0),{position:{x:"center",y:"top"}})}},{key:"_initModal",value:function(){kn.Z.setContainer(this._$el.find(X(".modal")).get(0))}},{key:"_bindEvent",value:function(){var x=this,w=this._$el.find(X(".resizer")),C=this._$el.find(X(".nav-bar")),H=b()(document),q=function(St){if(x._isResizing){St.preventDefault(),St.stopPropagation(),St=St.origEvent;var Ut=(x._resizeStartY-Cn("y",St))/window.innerHeight*100,le=x._resizeStartSize+Ut;le<40?le=40:le>100&&(le=100),x.config.set("displaySize",ar()(le.toFixed(2)))}},lt=function St(){clearTimeout(x._resizeTimer),x._isResizing=!1,w.css("height",10),H.off(dn("move"),q),H.off(dn("end"),St)};w.css("height",10),w.on(dn("start"),function(St){St.preventDefault(),St.stopPropagation(),St=St.origEvent,x._isResizing=!0,x._resizeStartSize=x.config.get("displaySize"),x._resizeStartY=Cn("y",St),w.css("height","100%"),H.on(dn("move"),q),H.on(dn("end"),lt)}),C.on("contextmenu",function(St){return St.preventDefault()}),this.$container.on("click",function(St){return St.stopPropagation()}),window.addEventListener("resize",this._checkSafeArea)}}]),k}(d()),Ys=t(8816);function Zs(F){var B=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var k,x=(0,c.Z)(F);if(B){var w=(0,c.Z)(this).constructor;k=Reflect.construct(x,arguments,w)}else k=x.apply(this,arguments);return(0,l.Z)(this,k)}}cr().start();var Xs=function(F){(0,a.Z)(k,F);var B=Zs(k);function k(){var x,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=w.name,H=C===void 0?"console":C;return(0,i.Z)(this,k),x=B.call(this),(0,u.Z)((0,s.Z)(x),"_handleShow",function(){Dn()(x._$el.get(0))||x._logger.renderViewport()}),(0,u.Z)((0,s.Z)(x),"_handleErr",function(q){x._logger.error(q)}),d().mixin((0,s.Z)(x)),x.name=H,x._scale=1,x._selectedLog=null,x._registerListener(),x}return(0,o.Z)(k,[{key:"init",value:function(x,w){(0,m.Z)((0,c.Z)(k.prototype),"init",this).call(this,x),this._container=w,this._appendTpl(),this._initCfg(),this._initLogger(),this._exposeLogger(),this._bindEvent()}},{key:"show",value:function(){(0,m.Z)((0,c.Z)(k.prototype),"show",this).call(this),this._handleShow()}},{key:"overrideConsole",value:function(){var x=this,w=this._origConsole={},C=window.console;return Wr.forEach(function(H){var q=w[H]=si();C[H]&&(q=w[H]=C[H].bind(C)),C[H]=function(){x[H].apply(x,arguments),q.apply(void 0,arguments)}}),this}},{key:"setGlobal",value:function(x,w){this._logger.setGlobal(x,w)}},{key:"restoreConsole",value:function(){var x=this;return this._origConsole?(Wr.forEach(function(w){return window.console[w]=x._origConsole[w]}),delete this._origConsole,this):this}},{key:"catchGlobalErr",value:function(){return cr().addListener(this._handleErr),this}},{key:"ignoreGlobalErr",value:function(){return cr().rmListener(this._handleErr),this}},{key:"filter",value:function(x){var w=this._$filterText,C=this._logger;E()(x)?(w.text(x),C.setOption("filter",yn()(x))):ei()(x)?(w.text(z()(x)),C.setOption("filter",x)):He()(x)&&(w.text("ƒ"),C.setOption("filter",x))}},{key:"destroy",value:function(){this._logger.destroy(),(0,m.Z)((0,c.Z)(k.prototype),"destroy",this).call(this),this._container.off("show",this._handleShow),this._style&&ht.remove(this._style),this.ignoreGlobalErr(),this.restoreConsole(),this._unregisterListener(),this._rmCfg()}},{key:"_enableJsExecution",value:function(x){var w=this._$el,C=w.find(X(".js-input"));x?(C.show(),w.rmClass(X("js-input-hidden"))):(C.hide(),w.addClass(X("js-input-hidden")))}},{key:"_registerListener",value:function(){var x=this;this._scaleListener=function(w){return x._scale=w},f.on(f.SCALE,this._scaleListener)}},{key:"_unregisterListener",value:function(){f.off(f.SCALE,this._scaleListener)}},{key:"_appendTpl",value:function(){var x=this._$el;this._style=ht(t(3191)),x.append(X(`
      <div class="control">
        <span class="icon-clear clear-console"></span>
        <span class="level active" data-level="all">All</span>
        <span class="level" data-level="info">Info</span>
        <span class="level" data-level="warning">Warning</span>
        <span class="level" data-level="error">Error</span>
        <span class="filter-text"></span>
        <span class="icon-filter filter"></span>
        <span class="icon-copy icon-disabled copy"></span>
      </div>
      <div class="logs-container"></div>
      <div class="js-input">
        <div class="buttons">
          <div class="button cancel">Cancel</div>
          <div class="button execute">Execute</div>
        </div>
        <span class="icon-arrow-right"></span>
        <textarea></textarea>
      </div>
    `));var w=x.find(X(".js-input")),C=w.find("textarea"),H=w.find(X(".buttons"));yt()(this,{_$control:x.find(X(".control")),_$logs:x.find(X(".logs-container")),_$inputContainer:w,_$input:C,_$inputBtns:H,_$filterText:x.find(X(".filter-text"))})}},{key:"_initLogger",value:function(){var x=this.config,w=x.get("maxLogNum");w=w==="infinite"?0:+w;var C=this._$control.find(X(".level")),H=new Ys.Z(this._$logs.get(0),{asyncRender:x.get("asyncRender"),maxNum:w,showHeader:x.get("displayExtraInfo"),unenumerable:x.get("displayUnenumerable"),accessGetter:x.get("displayGetterVal"),lazyEvaluation:x.get("lazyEvaluation")});H.on("optionChange",function(q,lt){q==="level"&&C.each(function(){var St=b()(this),Ut=St.data("level");St[Ut===lt||Ut==="all"&&Nt()(lt)?"addClass":"rmClass"](X("active"))})}),x.get("overrideConsole")&&this.overrideConsole(),this._logger=H}},{key:"_exposeLogger",value:function(){var x=this,w=this._logger;["html"].concat(Wr).forEach(function(C){return x[C]=function(){for(var H=arguments.length,q=new Array(H),lt=0;lt<H;lt++)q[lt]=arguments[lt];return w[C].apply(w,q),x.emit.apply(x,[C].concat(q)),x}})}},{key:"_bindEvent",value:function(){var x=this,w=this._container,C=this._$input,H=this._$inputBtns,q=this._$control,lt=this._logger,St=this.config;q.on("click",X(".clear-console"),function(){return lt.clear(!0)}).on("click",X(".level"),function(){var Ut=b()(this).data("level");Ut==="all"&&(Ut=["verbose","info","warning","error"]),lt.setOption("level",Ut)}).on("click",X(".filter"),function(){kn.Z.prompt("Filter").then(function(Ut){Tn()(Ut)||x.filter(Ut)})}).on("click",X(".copy"),function(){x._selectedLog.copy(),w.notify("Copied")}),H.on("click",X(".cancel"),function(){return x._hideInput()}).on("click",X(".execute"),function(){var Ut=C.val().trim();Ut!==""&&(lt.evaluate(Ut),C.val("").get(0).blur(),x._hideInput())}),C.on("focusin",function(){return x._showInput()}),lt.on("insert",function(Ut){Ut.type==="error"&&St.get("displayIfErr")&&w.showTool("console").show()}),lt.on("select",function(Ut){x._selectedLog=Ut,q.find(X(".icon-copy")).rmClass(X("icon-disabled"))}),lt.on("deselect",function(){x._selectedLog=null,q.find(X(".icon-copy")).addClass(X("icon-disabled"))}),w.on("show",this._handleShow)}},{key:"_hideInput",value:function(){this._$inputContainer.rmClass(X("active")),this._$inputBtns.css("display","none")}},{key:"_showInput",value:function(){this._$inputContainer.addClass(X("active")),this._$inputBtns.css("display","flex")}},{key:"_rmCfg",value:function(){var x=this.config,w=this._container.get("settings");w&&w.remove(x,"asyncRender").remove(x,"jsExecution").remove(x,"catchGlobalErr").remove(x,"overrideConsole").remove(x,"displayExtraInfo").remove(x,"displayUnenumerable").remove(x,"displayGetterVal").remove(x,"lazyEvaluation").remove(x,"displayIfErr").remove(x,"maxLogNum").remove(Vn()(this.name))}},{key:"_initCfg",value:function(){var x=this,w=this._container,C=this.config=it.createCfg(this.name,{asyncRender:!0,catchGlobalErr:!0,jsExecution:!0,overrideConsole:!0,displayExtraInfo:!1,displayUnenumerable:!0,displayGetterVal:!0,lazyEvaluation:!0,displayIfErr:!1,maxLogNum:"infinite"});this._enableJsExecution(C.get("jsExecution")),C.get("catchGlobalErr")&&this.catchGlobalErr(),C.on("change",function(q,lt){var St=x._logger;switch(q){case"asyncRender":return St.setOption("asyncRender",lt);case"jsExecution":return x._enableJsExecution(lt);case"catchGlobalErr":return lt?x.catchGlobalErr():x.ignoreGlobalErr();case"overrideConsole":return lt?x.overrideConsole():x.restoreConsole();case"maxLogNum":return St.setOption("maxNum",lt==="infinite"?0:+lt);case"displayExtraInfo":return St.setOption("showHeader",lt);case"displayUnenumerable":return St.setOption("unenumerable",lt);case"displayGetterVal":return St.setOption("accessGetter",lt);case"lazyEvaluation":return St.setOption("lazyEvaluation",lt)}});var H=w.get("settings");H&&H.text(Vn()(this.name)).switch(C,"asyncRender","Asynchronous Rendering").switch(C,"jsExecution","Enable JavaScript Execution").switch(C,"catchGlobalErr","Catch Global Errors").switch(C,"overrideConsole","Override Console").switch(C,"displayIfErr","Auto Display If Error Occurs").switch(C,"displayExtraInfo","Display Extra Information").switch(C,"displayUnenumerable","Display Unenumerable Properties").switch(C,"displayGetterVal","Access Getter Value").switch(C,"lazyEvaluation","Lazy Evaluation").select(C,"maxLogNum","Max Log Number",["infinite","250","125","100","50","10"]).separator()}}]),k}(_),Wr=["log","error","info","warn","dir","time","timeLog","timeEnd","clear","table","assert","count","countReset","debug","group","groupCollapsed","groupEnd"],Vs=t(4219),Ws=t.n(Vs),qs=t(7756),ur=t.n(qs);function Ks(F){var B=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var k,x=(0,c.Z)(F);if(B){var w=(0,c.Z)(this).constructor;k=Reflect.construct(x,arguments,w)}else k=x.apply(this,arguments);return(0,l.Z)(this,k)}}var Qs=function(F){(0,a.Z)(k,F);var B=Ks(k);function k(x,w){var C;return(0,i.Z)(this,k),C=B.call(this),(0,u.Z)((0,s.Z)(C),"_copyRes",function(){var H=C._detailData,q="".concat(H.method," ").concat(H.url," ").concat(H.status,`
`);Ve()(H.reqHeaders)||(q+=`
Request Headers

`,L()(H.reqHeaders,function(lt,St){return q+="".concat(St,": ").concat(lt,`
`)})),Ve()(H.resHeaders)||(q+=`
Response Headers

`,L()(H.resHeaders,function(lt,St){return q+="".concat(St,": ").concat(lt,`
`)})),H.resTxt&&(q+=`
`.concat(H.resTxt,`
`)),We()(q),C._devtools.notify("Copied")}),C._$container=x,C._devtools=w,C._detailData={},C._bindEvent(),C}return(0,o.Z)(k,[{key:"show",value:function(x){x.resTxt&&yn()(x.resTxt)===""&&delete x.resTxt,Ve()(x.resHeaders)&&delete x.resHeaders,Ve()(x.reqHeaders)&&delete x.reqHeaders;var w="";x.data&&(w='<pre class="'.concat(X("data"),'">').concat(Te()(x.data),"</pre>"));var C="<tr><td>Empty</td></tr>";x.reqHeaders&&(C=Ne()(x.reqHeaders,function(Ut,le){return`<tr>
          <td class="`.concat(X("key"),'">').concat(Te()(le),`</td>
          <td>`).concat(Te()(Ut),`</td>
        </tr>`)}).join(""));var H="<tr><td>Empty</td></tr>";x.resHeaders&&(H=Ne()(x.resHeaders,function(Ut,le){return`<tr>
          <td class="`.concat(X("key"),'">').concat(Te()(le),`</td>
          <td>`).concat(Te()(Ut),`</td>
        </tr>`)}).join(""));var q="";if(x.resTxt){var lt=x.resTxt;lt.length>bi&&(lt=ur()(lt,bi)),q='<pre class="'.concat(X("response"),'">').concat(Te()(lt),"</pre>")}var St='<div class="'.concat(X("control"),`">
      <span class="`).concat(X("icon-arrow-left back"),`"></span>
      <span class="`).concat(X("icon-delete back"),`"></span>
      <span class="`).concat(X("url"),'">').concat(Te()(x.url),`</span>
      <span class="`).concat(X("icon-copy copy-res"),`"></span>
    </div>
    <div class="`).concat(X("http"),`">
      `).concat(w,`
      <div class="`).concat(X("section"),`">
        <h2>Response Headers</h2>
        <table class="`).concat(X("headers"),`">
          <tbody>
            `).concat(H,`
          </tbody>
        </table>
      </div>
      <div class="`).concat(X("section"),`">
        <h2>Request Headers</h2>
        <table class="`).concat(X("headers"),`">
          <tbody>
            `).concat(C,`
          </tbody>
        </table>
      </div>
      `).concat(q,`
    </div>`);this._$container.html(St).show(),this._detailData=x}},{key:"hide",value:function(){this._$container.hide(),this.emit("hide")}},{key:"_bindEvent",value:function(){var x=this,w=this._devtools;this._$container.on("click",X(".back"),function(){return x.hide()}).on("click",X(".copy-res"),this._copyRes).on("click",X(".http .response"),function(){var H=x._detailData,q=H.resTxt;if(Ws()(q))return C("object",q);switch(H.subType){case"css":return C("css",q);case"html":return C("html",q);case"javascript":return C("js",q);case"json":return C("object",q)}return H.type==="image"?C("img",H.url):void 0});var C=function(H,q){var lt=w.get("sources");lt&&(lt.set(H,q),w.showTool("sources"))}}}]),k}(d()),bi=1e5,Js=t(9143),ta=t.n(Js),ea=t(2139),na=t(8689),qr=t(7935),ra=t(9119);function wi(F,B){var k=Object.keys(F);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(F);B&&(x=x.filter(function(w){return Object.getOwnPropertyDescriptor(F,w).enumerable})),k.push.apply(k,x)}return k}function Ai(F){for(var B=1;B<arguments.length;B++){var k=arguments[B]!=null?arguments[B]:{};B%2?wi(Object(k),!0).forEach(function(x){(0,u.Z)(F,x,k[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(k)):wi(Object(k)).forEach(function(x){Object.defineProperty(F,x,Object.getOwnPropertyDescriptor(k,x))})}return F}var qn=new(ta());qn.register("Network",ea),qn.register("Overlay",na),qn.register("DOM",Ai(Ai({},qr),{},{getNodeId:qr.getDOMNodeId,getNode:qr.getDOMNode})),qn.register("Storage",ra);var Ge=qn,Kr=t(5564),ia=t(242),oa=t.n(ia),sa=t(7913),aa=t.n(sa);function ca(F){var B=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var k,x=(0,c.Z)(F);if(B){var w=(0,c.Z)(this).constructor;k=Reflect.construct(x,arguments,w)}else k=x.apply(this,arguments);return(0,l.Z)(this,k)}}var la=function(F){(0,a.Z)(k,F);var B=ca(k);function k(){var x;return(0,i.Z)(this,k),x=B.call(this),(0,u.Z)((0,s.Z)(x),"_reqWillBeSent",function(w){if(x._isRecording){var C,H={name:vi(w.request.url),url:w.request.url,status:"pending",type:"unknown",subType:"unknown",size:0,data:w.request.postData,method:w.request.method,startTime:1e3*w.timestamp,time:0,resTxt:"",done:!1,reqHeaders:w.request.headers||{},resHeaders:{}};H.render=function(){var q={name:H.name,method:H.method,status:H.status,type:H.subType,size:H.size,time:H.displayTime};C?(C.data=q,C.render()):(C=x._requestDataGrid.append(q,{selectable:!0}),b()(C.container).data("id",w.requestId)),H.hasErr&&b()(C.container).addClass(X("request-error"))},H.render(),x._requests[w.requestId]=H}}),(0,u.Z)((0,s.Z)(x),"_resReceivedExtraInfo",function(w){var C=x._requests[w.requestId];x._isRecording&&C&&(C.resHeaders=w.headers,x._updateType(C),C.render())}),(0,u.Z)((0,s.Z)(x),"_resReceived",function(w){var C=x._requests[w.requestId];if(x._isRecording&&C){var H=w.response,q=H.status,lt=H.headers;C.status=q,(q<200||q>=300)&&(C.hasErr=!0),lt&&(C.resHeaders=lt,x._updateType(C)),C.render()}}),(0,u.Z)((0,s.Z)(x),"_loadingFinished",function(w){var C=x._requests[w.requestId];if(x._isRecording&&C){var H=1e3*w.timestamp;C.time=H-C.startTime,C.displayTime=oi()(C.time),C.size=w.encodedDataLength,C.done=!0,C.resTxt=Ge.domain("Network").getResponseBody({requestId:w.requestId}).body,C.render()}}),(0,u.Z)((0,s.Z)(x),"_copyCurl",function(){var w=x._selectedRequest;We()(function(C){var H=Hn()();H==="windows"&&(H="win");var q=[],lt=aa()(["accept-encoding","host","method","path","scheme","version"]),St=H==="win"?function(tn){var fn=/[\r\n]/.test(tn)?'^"':'"';return fn+tn.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/[^a-zA-Z0-9\s_\-:=+~'\/.',?;()*`&]/g,"^$&").replace(/%(?=[a-zA-Z0-9_])/g,"%^").replace(/\r?\n/g,`^

`)+fn}:function(tn){return/[\0-\x1F\x7F-\x9F!]|\'/.test(tn)?"$'"+tn.replace(/\\/g,"\\\\").replace(/\'/g,"\\'").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\0-\x1F\x7F-\x9F!]/g,function(fn){for(var Rn=fn.charCodeAt(0).toString(16);Rn.length<4;)Rn="0"+Rn;return"\\u"+Rn})+"'":"'"+tn+"'"};q.push(St(C.url()).replace(/[[{}\]]/g,"\\$&"));var Ut="GET",le=[],Me=C.requestFormData();Me&&(le.push("--data-raw "+St(Me)),lt["content-length"]=!0,Ut="POST"),C.requestMethod!==Ut&&q.push("-X "+St(C.requestMethod));for(var $e=C.requestHeaders(),Ie=0;Ie<$e.length;Ie++){var Le=$e[Ie],on=Le.name.replace(/^:/,"");lt[on.toLowerCase()]||q.push("-H "+St(on+": "+Le.value))}return(q=q.concat(le)).push("--compressed"),"curl "+q.join(q.length>=3?H==="win"?` ^
  `:` \\
  `:" ")}({requestMethod:w.method,url:function(){return w.url},requestFormData:function(){return w.data},requestHeaders:function(){var C=w.reqHeaders||{};return yt()(C,{"User-Agent":navigator.userAgent,Referer:location.href}),Ne()(C,function(H,q){return{name:q,value:H}})}})),x._container.notify("Copied")}),(0,u.Z)((0,s.Z)(x),"_toggleRecording",function(){x._$control.find(X(".record")).toggleClass(X("recording")),x._isRecording=!x._isRecording}),(0,u.Z)((0,s.Z)(x),"_showDetail",function(){x._selectedRequest&&(x._splitMode&&x._$network.css("width","50%"),x._detail.show(x._selectedRequest))}),x._style=ht(t(3180)),x.name="network",x._requests={},x._selectedRequest=null,x._isRecording=!0,x}return(0,o.Z)(k,[{key:"init",value:function(x,w){(0,m.Z)((0,c.Z)(k.prototype),"init",this).call(this,x),this._container=w,this._initTpl(),this._detail=new Qs(this._$detail,w),this._splitMeidaQuery=new(ve())("screen and (min-width: 680px)"),this._splitMode=this._splitMeidaQuery.isMatch(),this._requestDataGrid=new Kr.Z(this._$requests.get(0),{columns:[{id:"name",title:"Name",sortable:!0,weight:30},{id:"method",title:"Method",sortable:!0,weight:14},{id:"status",title:"Status",sortable:!0,weight:14},{id:"type",title:"Type",sortable:!0,weight:14},{id:"size",title:"Size",sortable:!0,weight:14},{id:"time",title:"Time",sortable:!0,weight:14}]}),this._resizeSensor=new(oa())(x.get(0)),this._bindEvent()}},{key:"show",value:function(){(0,m.Z)((0,c.Z)(k.prototype),"show",this).call(this),this._updateDataGridHeight()}},{key:"clear",value:function(){this._requests={},this._requestDataGrid.clear()}},{key:"requests",value:function(){var x=[];return L()(this._requests,function(w){x.push(w)}),x}},{key:"_updateDataGridHeight",value:function(){var x=this._$el.offset().height-41;this._requestDataGrid.setOption("minHeight",x),this._requestDataGrid.setOption("maxHeight",x)}},{key:"_updateType",value:function(x){var w=function(q){if(!q)return"unknown";var lt=q.split(";")[0].split("/");return{type:lt[0],subType:or()(lt)}}(x.resHeaders["content-type"]||""),C=w.type,H=w.subType;x.type=C,x.subType=H}},{key:"_updateButtons",value:function(){var x=this._$control,w=x.find(X(".show-detail")),C=x.find(X(".copy-curl")),H=X("icon-disabled");w.addClass(H),C.addClass(H),this._selectedRequest&&(w.rmClass(H),C.rmClass(H))}},{key:"_bindEvent",value:function(){var x=this,w=this._$control,C=this._$filterText,H=this._requestDataGrid,q=this;w.on("click",X(".clear-request"),function(){return x.clear()}).on("click",X(".show-detail"),this._showDetail).on("click",X(".copy-curl"),this._copyCurl).on("click",X(".record"),this._toggleRecording).on("click",X(".filter"),function(){kn.Z.prompt("Filter").then(function(St){Tn()(St)||(C.text(St),H.setOption("filter",yn()(St)))})}),H.on("select",function(St){var Ut=b()(St.container).data("id"),le=q._requests[Ut];x._selectedRequest=le,x._updateButtons(),x._splitMode&&x._showDetail()}),H.on("deselect",function(){x._selectedRequest=null,x._updateButtons(),x._detail.hide()}),this._resizeSensor.addListener(fi()(function(){return x._updateDataGridHeight()},15)),this._splitMeidaQuery.on("match",function(){x._detail.hide(),x._splitMode=!0}),this._splitMeidaQuery.on("unmatch",function(){x._detail.hide(),x._splitMode=!1}),this._detail.on("hide",function(){x._splitMode&&x._$network.css("width","100%")}),Ge.domain("Network").enable();var lt=Ge.domain("Network");lt.on("requestWillBeSent",this._reqWillBeSent),lt.on("responseReceivedExtraInfo",this._resReceivedExtraInfo),lt.on("responseReceived",this._resReceived),lt.on("loadingFinished",this._loadingFinished)}},{key:"destroy",value:function(){(0,m.Z)((0,c.Z)(k.prototype),"destroy",this).call(this),this._resizeSensor.destroy(),ht.remove(this._style),this._splitMeidaQuery.removeAllListeners();var x=Ge.domain("Network");x.off("requestWillBeSent",this._reqWillBeSent),x.off("responseReceivedExtraInfo",this._resReceivedExtraInfo),x.off("responseReceived",this._resReceived),x.off("loadingFinished",this._loadingFinished)}},{key:"_initTpl",value:function(){var x=this._$el;x.html(X(`<div class="network">
        <div class="control">
          <span class="icon-record record recording"></span>
          <span class="icon-clear clear-request"></span>
          <span class="icon-eye icon-disabled show-detail"></span>
          <span class="icon-copy icon-disabled copy-curl"></span>
          <span class="filter-text"></span>
          <span class="icon-filter filter"></span>
        </div>
        <div class="requests"></div>
      </div>
      <div class="detail"></div>`)),this._$network=x.find(X(".network")),this._$detail=x.find(X(".detail")),this._$requests=x.find(X(".requests")),this._$control=x.find(X(".control")),this._$filterText=x.find(X(".filter-text"))}}]),k}(_),ua=t(8209);function Ti(F){for(var B={},k=0,x=F.length;k<x;k++){var w=F[k];F[w]!=="initial"&&(B[w]=F[w])}return function(C){return di()(C,{comparator:function(H,q){for(var lt=H.length,St=q.length,Ut=lt>St?St:lt,le=0;le<Ut;le++){var Me=da(H.charCodeAt(le),q.charCodeAt(le));if(Me!==0)return Me}return lt>St?1:lt<St?-1:0}})}(B)}var Ei=Element.prototype,Qr=function(){return!1};Ei.webkitMatchesSelector?Qr=function(F,B){return F.webkitMatchesSelector(B)}:Ei.mozMatchesSelector&&(Qr=function(F,B){return F.mozMatchesSelector(B)});var ha=function(){function F(B){(0,i.Z)(this,F),this._el=B}return(0,o.Z)(F,[{key:"getComputedStyle",value:function(){return Ti(window.getComputedStyle(this._el))}},{key:"getMatchedCSSRules",value:function(){var B=this,k=[];return L()(document.styleSheets,function(x){try{if(!x.cssRules)return}catch{return}L()(x.cssRules,function(w){var C=!1;try{C=B._elMatchesSel(w.selectorText)}catch{}C&&k.push({selectorText:w.selectorText,style:Ti(w.style)})})}),k}},{key:"_elMatchesSel",value:function(B){return Qr(this._el,B)}}]),F}();function da(F,B){return(F=Si(F))>(B=Si(B))?1:F<B?-1:0}function Si(F){return F===45?123:F}function Ci(F){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=B.noAttr,x=k!==void 0&&k;if(F.nodeType===Node.TEXT_NODE)return'<span class="'.concat(X("tag-name-color"),'">(text)</span>');if(F.nodeType===Node.COMMENT_NODE)return'<span class="'.concat(X("tag-name-color"),'"><!--></span>');var w=F.id,C=F.className,H=F.attributes,q='<span class="eruda-tag-name-color">'.concat(F.tagName.toLowerCase(),"</span>");if(w!==""&&(q+='<span class="eruda-function-color">#'.concat(w,"</span>")),E()(C)){var lt="";L()(C.split(/\s+/g),function(St){St.trim()!==""&&(lt+=".".concat(St))}),q+='<span class="eruda-attribute-name-color">'.concat(lt,"</span>")}return x||L()(H,function(St){var Ut=St.name;Ut!=="id"&&Ut!=="class"&&Ut!=="style"&&(q+=' <span class="eruda-attribute-name-color">'.concat(Ut,'</span><span class="eruda-operator-color">="</span><span class="eruda-string-color">').concat(St.value,'</span><span class="eruda-operator-color">"</span>'))}),q}var fa=function(){function F(B,k){var x=this;(0,i.Z)(this,F),(0,u.Z)(this,"hide",function(){x._$container.hide(),x._disableObserver(),Ge.domain("Overlay").hideHighlight()}),this._$container=B,this._devtools=k,this._curEl=document.documentElement,this._bindEvent(),this._initObserver(),this._initCfg()}return(0,o.Z)(F,[{key:"show",value:function(B){this._curEl=B,this._rmDefComputedStyle=!0,this._computedStyleSearchKeyword="",this._enableObserver(),this._render();var k=Ge.domain("DOM").getNodeId({node:B}).nodeId;Ge.domain("Overlay").highlightNode({nodeId:k,highlightConfig:{showInfo:!0,contentColor:"rgba(111, 168, 220, .66)",paddingColor:"rgba(147, 196, 125, .55)",borderColor:"rgba(255, 229, 153, .66)",marginColor:"rgba(246, 178, 107, .66)"}})}},{key:"destroy",value:function(){this._disableObserver(),this.restoreEventTarget(),this._rmCfg()}},{key:"overrideEventTarget",value:function(){var B=Mi(),k=this._origAddEvent=B.addEventListener,x=this._origRmEvent=B.removeEventListener;B.addEventListener=function(w,C,H){_a(this,w,C,H),k.apply(this,arguments)},B.removeEventListener=function(w,C,H){xa(this,w,C,H),x.apply(this,arguments)}}},{key:"restoreEventTarget",value:function(){var B=Mi();this._origAddEvent&&(B.addEventListener=this._origAddEvent),this._origRmEvent&&(B.removeEventListener=this._origRmEvent)}},{key:"_toggleAllComputedStyle",value:function(){this._rmDefComputedStyle=!this._rmDefComputedStyle,this._render()}},{key:"_render",value:function(){var B=this._getData(this._curEl),k="<tr><td>Empty</td></tr>";Ve()(B.attributes)||(k=Ne()(B.attributes,function(le){var Me=le.name,$e=le.value;return`<tr>
          <td class="`.concat(X("attribute-name-color"),'">').concat(Te()(Me),`</td>
          <td class="`).concat(X("string-color"),'">').concat($e,`</td>
        </tr>`)}).join("")),k='<div class="'.concat(X("attributes section"),`">
      <h2>Attributes</h2>
      <div class="`).concat(X("table-wrapper"),`">
        <table>
          <tbody>
            `).concat(k,` 
          </tbody>
        </table>
      </div>
    </div>`);var x="";if(!Ve()(B.styles)){var w=Ne()(B.styles,function(le){var Me=le.selectorText,$e=le.style;return $e=Ne()($e,function(Ie,Le){return'<div class="'.concat(X("rule"),'"><span>').concat(Te()(Le),"</span>: ").concat(Ie,";</div>")}).join(""),'<div class="'.concat(X("style-rules"),`">
          <div>`).concat(Te()(Me),` {</div>
            `).concat($e,`
          <div>}</div>
        </div>`)}).join("");x='<div class="'.concat(X("styles section"),`">
        <h2>Styles</h2>
        <div class="`).concat(X("style-wrapper"),`">
          `).concat(w,`
        </div>
      </div>`)}var C="";if(B.computedStyle){var H=X(`<div class="btn toggle-all-computed-style">
        <span class="icon-expand"></span>
      </div>`);B.rmDefComputedStyle&&(H=X(`<div class="btn toggle-all-computed-style">
          <span class="icon-compress"></span>
        </div>`));var q=B.boxModel,lt=['<div class="'.concat(X("box-model"),'">'),q.position?'<div class="'.concat(X("position"),'">'):"",q.position?'<div class="'.concat(X("label"),'">position</div><div class="').concat(X("top"),'">').concat(q.position.top,'</div><br><div class="').concat(X("left"),'">').concat(q.position.left,"</div>"):"",'<div class="'.concat(X("margin"),'">'),'<div class="'.concat(X("label"),'">margin</div><div class="').concat(X("top"),'">').concat(q.margin.top,'</div><br><div class="').concat(X("left"),'">').concat(q.margin.left,"</div>"),'<div class="'.concat(X("border"),'">'),'<div class="'.concat(X("label"),'">border</div><div class="').concat(X("top"),'">').concat(q.border.top,'</div><br><div class="').concat(X("left"),'">').concat(q.border.left,"</div>"),'<div class="'.concat(X("padding"),'">'),'<div class="'.concat(X("label"),'">padding</div><div class="').concat(X("top"),'">').concat(q.padding.top,'</div><br><div class="').concat(X("left"),'">').concat(q.padding.left,"</div>"),'<div class="'.concat(X("content"),'">'),"<span>".concat(q.content.width,"</span>&nbsp;×&nbsp;<span>").concat(q.content.height,"</span>"),"</div>",'<div class="'.concat(X("right"),'">').concat(q.padding.right,'</div><br><div class="').concat(X("bottom"),'">').concat(q.padding.bottom,"</div>"),"</div>",'<div class="'.concat(X("right"),'">').concat(q.border.right,'</div><br><div class="').concat(X("bottom"),'">').concat(q.border.bottom,"</div>"),"</div>",'<div class="'.concat(X("right"),'">').concat(q.margin.right,'</div><br><div class="').concat(X("bottom"),'">').concat(q.margin.bottom,"</div>"),"</div>",q.position?'<div class="'.concat(X("right"),'">').concat(q.position.right,'</div><br><div class="').concat(X("bottom"),'">').concat(q.position.bottom,"</div>"):"",q.position?"</div>":"","</div>"].join("");C='<div class="'.concat(X("computed-style section"),`">
        <h2>
          Computed Style
          `).concat(H,`
          <div class="`).concat(X("btn computed-style-search"),`">
            <span class="`).concat(X("icon-filter"),`"></span>
          </div>
          `).concat(B.computedStyleSearchKeyword?'<div class="'.concat(X("btn filter-text"),'">').concat(Te()(B.computedStyleSearchKeyword),"</div>"):"",`
        </h2>
        `).concat(lt,`
        <div class="`).concat(X("table-wrapper"),`">
          <table>
            <tbody>
            `).concat(Ne()(B.computedStyle,function(le,Me){return`<tr>
                <td class="`.concat(X("key"),'">').concat(Te()(Me),`</td>
                <td>`).concat(le,`</td>
              </tr>`)}).join(""),`
            </tbody>
          </table>
        </div>
      </div>`)}var St="";B.listeners&&(St=Ne()(B.listeners,function(le,Me){return le=Ne()(le,function($e){var Ie=$e.useCapture,Le=$e.listenerStr;return"<li ".concat(Ie?'class="'.concat(X("capture"),'"'):"",">").concat(Te()(Le),"</li>")}).join(""),'<div class="'.concat(X("listener"),`">
          <div class="`).concat(X("listener-type"),'">').concat(Te()(Me),`</div>
          <ul class="`).concat(X("listener-content"),`">
            `).concat(le,`
          </ul>
        </div>`)}).join(""),St='<div class="'.concat(X("listeners section"),`">
        <h2>Event Listeners</h2>
        <div class="`).concat(X("listener-wrapper"),`">
          `).concat(St,` 
        </div>
      </div>`));var Ut='<div class="'.concat(X("control"),`">
      <span class="`).concat(X("icon-arrow-left back"),`"></span>
      <span class="`).concat(X("element-name"),'">').concat(B.name,`</span>
      <span class="`).concat(X("icon-refresh refresh"),`"></span>
    </div>
    <div class="`).concat(X("element"),`">
      `).concat(k,`
      `).concat(x,`
      `).concat(C,`
      `).concat(St,`
    </div>`);this._$container.html(Ut).show()}},{key:"_getData",value:function(B){var k={},x=new ha(B),w=B.className,C=B.id,H=B.attributes,q=B.tagName;k.computedStyleSearchKeyword=this._computedStyleSearchKeyword,k.attributes=pa(H),k.name=Ci({tagName:q,id:C,className:w,attributes:H});var lt=B.erudaEvents;if(lt&&rt()(lt).length!==0&&(k.listeners=lt),ya(q))return k;var St=x.getComputedStyle();function Ut(Ie){var Le=["top","left","right","bottom"];return Ie!=="position"&&(Le=Ne()(Le,function(on){return"".concat(Ie,"-").concat(on)})),Ie==="border"&&(Le=Ne()(Le,function(on){return"".concat(on,"-width")})),{top:jn(St[Le[0]],Ie),left:jn(St[Le[1]],Ie),right:jn(St[Le[2]],Ie),bottom:jn(St[Le[3]],Ie)}}var le={margin:Ut("margin"),border:Ut("border"),padding:Ut("padding"),content:{width:jn(St.width),height:jn(St.height)}};St.position!=="static"&&(le.position=Ut("position")),k.boxModel=le;var Me=x.getMatchedCSSRules();Me.unshift(function(Ie){for(var Le={selectorText:"element.style",style:{}},on=0,tn=Ie.length;on<tn;on++){var fn=Ie[on];Le.style[fn]=Ie[fn]}return Le}(B.style)),Me.forEach(function(Ie){return ki(Ie.style)}),k.styles=Me,this._rmDefComputedStyle&&(St=function(Ie,Le){var on={},tn=["display","width","height"];return L()(Le,function(fn){tn=tn.concat(rt()(fn.style))}),tn=Ln()(tn),L()(Ie,function(fn,Rn){U()(tn,Rn)&&(on[Rn]=fn)}),on}(St,Me)),k.rmDefComputedStyle=this._rmDefComputedStyle;var $e=ri()(k.computedStyleSearchKeyword);return $e&&(St=ci()(St,function(Ie,Le){return U()(Le,$e)||U()(Ie,$e)})),ki(St),k.computedStyle=St,k}},{key:"_bindEvent",value:function(){var B=this,k=this._devtools;this._$container.on("click",X(".toggle-all-computed-style"),function(){return B._toggleAllComputedStyle()}).on("click",X(".computed-style-search"),function(){kn.Z.prompt("Filter").then(function(x){Tn()(x)||(x=yn()(x),B._computedStyleSearchKeyword=x,B._render())})}).on("click",".eruda-listener-content",function(){var x=b()(this).text(),w=k.get("sources");w&&(w.set("js",x),k.showTool("sources"))}).on("click",X(".element-name"),function(){var x=k.get("sources");x&&(x.set("object",B._curEl),k.showTool("sources"))}).on("click",X(".back"),this.hide).on("click",X(".refresh"),function(){B._render(),k.notify("Refreshed")})}},{key:"_initObserver",value:function(){var B=this;this._observer=new(Ae())(function(k){L()(k,function(x){return B._handleMutation(x)})})}},{key:"_enableObserver",value:function(){this._observer.observe(document.documentElement,{attributes:!0,childList:!0,subtree:!0})}},{key:"_disableObserver",value:function(){this._observer.disconnect()}},{key:"_handleMutation",value:function(B){if(!Wn(B.target)&&B.type==="attributes"){if(B.target!==this._curEl)return;this._render()}}},{key:"_rmCfg",value:function(){var B=this.config,k=this._devtools.get("settings");k&&k.remove(B,"overrideEventTarget").remove(B,"observeElement").remove("Elements")}},{key:"_initCfg",value:function(){var B=this,k=this.config=it.createCfg("elements",{overrideEventTarget:!0});k.get("overrideEventTarget")&&this.overrideEventTarget(),k.on("change",function(w,C){if(w==="overrideEventTarget")return C?B.overrideEventTarget():B.restoreEventTarget()});var x=this._devtools.get("settings");x&&(x.text("Elements").switch(k,"overrideEventTarget","Catch Event Listeners"),x.separator())}}]),F}();function ki(F){L()(F,function(B,k){return F[k]=Ri(B)})}var pa=function(F){return Ne()(F,function(B){var k=B.value,x=B.name;return k=Te()(k),(x==="src"||x==="href")&&!Xn()(k,"data")&&(k=Pi(k)),x==="style"&&(k=Ri(k)),{name:x,value:k}})},ma=/rgba?\((.*?)\)/g,ga=/url\("?(.*?)"?\)/g;function Ri(F){return(F=z()(F)).replace(ma,'<span class="eruda-style-color" style="background-color: $&"></span>$&').replace(ga,function(B,k){return'url("'.concat(Pi(k),'")')})}var va=["script","style","meta","title","link","head"],ya=function(F){return va.indexOf(F.toLowerCase())>-1},Pi=function(F){return'<a href="'.concat(F,'" target="_blank">').concat(F,"</a>")};function jn(F,B){if(vn()(F))return F;if(!E()(F))return"‒";var k=Un(F);return Fn()(k)?F:B==="position"?k:k===0?"‒":k}function _a(F,B,k){var x=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(Xe()(F)&&He()(k)&&Ht()(x)){var w=F.erudaEvents=F.erudaEvents||{};w[B]=w[B]||[],w[B].push({listener:k,listenerStr:k.toString(),useCapture:x})}}function xa(F,B,k){var x=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(Xe()(F)&&He()(k)&&Ht()(x)){var w=F.erudaEvents;if(w&&w[B]){for(var C=w[B],H=0,q=C.length;H<q;H++)if(C[H].listener===k){C.splice(H,1);break}C.length===0&&delete w[B],rt()(w).length===0&&delete F.erudaEvents}}}var Mi=function(){return ui()(window,"EventTarget.prototype")||window.Node.prototype};function ba(F){var B=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var k,x=(0,c.Z)(F);if(B){var w=(0,c.Z)(this).constructor;k=Reflect.construct(x,arguments,w)}else k=x.apply(this,arguments);return(0,l.Z)(this,k)}}var wa=function(F){(0,a.Z)(k,F);var B=ba(k);function k(){var x;return(0,i.Z)(this,k),x=B.call(this),(0,u.Z)((0,s.Z)(x),"_showDetail",function(){x._isShow&&x._curNode&&(x._curNode.nodeType===Node.ELEMENT_NODE?x._detail.show(x._curNode):x._detail.show(x._curNode.parentNode))}),(0,u.Z)((0,s.Z)(x),"_back",function(){if(x._curNode!==x._htmlEl){for(var w=x._curParentQueue,C=w.shift();!Ii(C);)C=w.shift();x.set(C)}}),(0,u.Z)((0,s.Z)(x),"_deleteNode",function(){var w=x._curNode;w.parentNode&&w.parentNode.removeChild(w)}),(0,u.Z)((0,s.Z)(x),"_copyNode",function(){var w=x._curNode;w.nodeType===Node.ELEMENT_NODE?We()(w.outerHTML):We()(w.nodeValue),x._container.notify("Copied")}),(0,u.Z)((0,s.Z)(x),"_toggleSelect",function(){x._$el.find(X(".select")).toggleClass(X("active")),x._selectElement=!x._selectElement,x._selectElement?(Ge.domain("Overlay").setInspectMode({mode:"searchForNode",highlightConfig:{showInfo:!wn()(),showRulers:!1,showAccessibilityInfo:!wn()(),showExtensionLines:!1,contrastAlgorithm:"aa",contentColor:"rgba(111, 168, 220, .66)",paddingColor:"rgba(147, 196, 125, .55)",borderColor:"rgba(255, 229, 153, .66)",marginColor:"rgba(246, 178, 107, .66)"}}),x._container.hide()):(Ge.domain("Overlay").setInspectMode({mode:"none"}),Ge.domain("Overlay").hideHighlight())}),(0,u.Z)((0,s.Z)(x),"_inspectNodeRequested",function(w){var C=w.backendNodeId;x._container.show(),x._toggleSelect();var H=Ge.domain("DOM").getNode({nodeId:C}).node;x.select(H)}),(0,u.Z)((0,s.Z)(x),"_setNode",function(w){if(w!==x._curNode){x._curNode=w,x._renderCrumbs();for(var C=[],H=w.parentNode;H;)C.push(H),H=H.parentNode;x._curParentQueue=C,x._splitMode&&x._showDetail(),x._updateButtons(),x._updateHistory()}}),x._style=ht(t(5896)),x.name="elements",x._selectElement=!1,x._observeElement=!0,x._history=[],d().mixin((0,s.Z)(x)),x}return(0,o.Z)(k,[{key:"init",value:function(x,w){var C=this;(0,m.Z)((0,c.Z)(k.prototype),"init",this).call(this,x),this._container=w,this._initTpl(),this._htmlEl=document.documentElement,this._detail=new fa(this._$detail,w),this.config=this._detail.config,this._splitMediaQuery=new(ve())("screen and (min-width: 680px)"),this._splitMode=this._splitMediaQuery.isMatch(),this._domViewer=new ua.Z(this._$domViewer.get(0),{node:this._htmlEl,ignore:function(H){return Wn(H)||yi(H)}}),this._domViewer.expand(),this._bindEvent(),Ge.domain("Overlay").enable(),at()(function(){return C._updateHistory()})}},{key:"show",value:function(){(0,m.Z)((0,c.Z)(k.prototype),"show",this).call(this),this._isShow=!0,this._curNode?this._splitMode&&this._showDetail():this.select(document.body)}},{key:"hide",value:function(){(0,m.Z)((0,c.Z)(k.prototype),"hide",this).call(this),this._isShow=!1,Ge.domain("Overlay").hideHighlight()}},{key:"set",value:function(x){return this.select(x)}},{key:"select",value:function(x){return this._domViewer.select(x),this._setNode(x),this.emit("change",x),this}},{key:"destroy",value:function(){(0,m.Z)((0,c.Z)(k.prototype),"destroy",this).call(this),ht.remove(this._style),this._detail.destroy(),Ge.domain("Overlay").off("inspectNodeRequested",this._inspectNodeRequested),Ge.domain("Overlay").disable(),this._splitMediaQuery.removeAllListeners()}},{key:"_updateButtons",value:function(){var x=this._$control,w=x.find(X(".show-detail")),C=x.find(X(".copy-node")),H=x.find(X(".delete-node")),q=X("icon-disabled");w.addClass(q),C.addClass(q),H.addClass(q);var lt=this._curNode;lt&&(lt!==document.documentElement&&lt!==document.body&&H.rmClass(q),C.rmClass(q),lt.nodeType===Node.ELEMENT_NODE&&w.rmClass(q))}},{key:"_initTpl",value:function(){var x=this._$el;x.html(X(`<div class="elements">
        <div class="control">
          <span class="icon icon-select select"></span>
          <span class="icon icon-eye show-detail"></span>
          <span class="icon icon-copy copy-node"></span>
          <span class="icon icon-delete delete-node"></span>
        </div>
        <div class="dom-viewer-container">
          <div class="dom-viewer"></div>
        </div>
        <div class="crumbs"></div>
      </div>
      <div class="detail"></div>`)),this._$detail=x.find(X(".detail")),this._$domViewer=x.find(X(".dom-viewer")),this._$control=x.find(X(".control")),this._$crumbs=x.find(X(".crumbs"))}},{key:"_renderCrumbs",value:function(){var x=function(C){for(var H=[],q=0;C;)H.push({text:Ci(C,{noAttr:!0}),idx:q++}),C=C.parentElement;return H.reverse()}(this._curNode),w="";Ve()(x)||(w=Ne()(x,function(C){var H=C.text,q=C.idx;return'<li class="'.concat(X("crumb"),'" data-idx="').concat(q,'">').concat(H,"</div></li>")}).join("")),this._$crumbs.html(w)}},{key:"_bindEvent",value:function(){var x=this,w=this;this._$el.on("click",X(".crumb"),function(){for(var C=ar()(b()(this).data("idx")),H=w._curNode;C--&&H.parentElement;)H=H.parentElement;Ii(H)&&w.select(H)}),this._$control.on("click",X(".select"),this._toggleSelect).on("click",X(".show-detail"),this._showDetail).on("click",X(".copy-node"),this._copyNode).on("click",X(".delete-node"),this._deleteNode),this._domViewer.on("select",this._setNode).on("deselect",this._back),Ge.domain("Overlay").on("inspectNodeRequested",this._inspectNodeRequested),this._splitMediaQuery.on("match",function(){x._splitMode=!0,x._showDetail()}),this._splitMediaQuery.on("unmatch",function(){x._splitMode=!1,x._detail.hide()})}},{key:"_updateHistory",value:function(){var x=this._container.get("console");if(x){var w=this._history;w.unshift(this._curNode),w.length>5&&w.pop();for(var C=0;C<5;C++)x.setGlobal("$".concat(C),w[C])}}}]),k}(_),Ii=function(F){return Xe()(F)&&F.parentNode},hr=null,Aa=[{name:"Border All",fn:function(){if(hr)return ht.remove(hr),void(hr=null);hr=ht("* { outline: 2px dashed #707d8b; outline-offset: -3px; }",document.head)},desc:"Add color borders to all elements"},{name:"Refresh Page",fn:function(){var F=new(ue());F.setQuery("timestamp",ai()()),window.location.replace(F.toString())},desc:"Add timestamp to url and refresh"},{name:"Search Text",fn:function(){kn.Z.prompt("Enter the text").then(function(F){F&&yn()(F)!==""&&function(B){var k=document.body,x=new RegExp(B,"ig");Jr(k,function(w){var C=b()(w);if(C.hasClass("eruda-search-highlight-block"))return document.createTextNode(C.text())}),Jr(k,function(w){if(w.nodeType===3){var C=w.nodeValue;if((C=C.replace(x,function(q){return'<span class="eruda-keyword">'.concat(q,"</span>")}))!==w.nodeValue){var H=b()(document.createElement("div"));return H.html(C),H.addClass("eruda-search-highlight-block"),H.get(0)}}})}(F)})},desc:"Highlight given text on page"},{name:"Edit Page",fn:function(){var F=document.body;F.contentEditable=F.contentEditable!=="true"},desc:"Toggle body contentEditable"},{name:"Fit Screen",fn:function(){var F=document.body,B=document.documentElement,k=b()(F);if(k.data("scaled"))window.scrollTo(0,+k.data("scaled")),k.rmAttr("data-scaled"),k.css("transform","none");else{var x=Math.max(F.scrollHeight,F.offsetHeight,B.clientHeight,B.scrollHeight,B.offsetHeight),w=Math.max(document.documentElement.clientHeight,window.innerHeight||0),C=w/x;k.css("transform","scale(".concat(C,")")),k.data("scaled",window.scrollY),window.scrollTo(0,x/2-w/2)}},desc:"Scale down the whole page to fit screen"},{name:"Load Fps Plugin",fn:function(){_n("fps")},desc:"Display page fps"},{name:"Load Features Plugin",fn:function(){_n("features")},desc:"Browser feature detections"},{name:"Load Timing Plugin",fn:function(){_n("timing")},desc:"Show performance and resource timing"},{name:"Load Memory Plugin",fn:function(){_n("memory")},desc:"Display memory"},{name:"Load Code Plugin",fn:function(){_n("code")},desc:"Edit and run JavaScript"},{name:"Load Benchmark Plugin",fn:function(){_n("benchmark")},desc:"Run JavaScript benchmarks"},{name:"Load Geolocation Plugin",fn:function(){_n("geolocation")},desc:"Test geolocation"},{name:"Load Orientation Plugin",fn:function(){_n("orientation")},desc:"Test orientation api"},{name:"Load Touches Plugin",fn:function(){_n("touches")},desc:"Visualize screen touches"}];function Jr(F,B){var k=F.childNodes;if(!Wn(F)){for(var x=0,w=k.length;x<w;x++){var C=Jr(k[x],B);C&&F.replaceChild(C,k[x])}return B(F)}}function _n(F){var B="eruda"+Vn()(F);if(!window[B]){var k=location.protocol;Xn()(k,"http")||(k="http:"),ni()("".concat(k,"//cdn.jsdelivr.net/npm/eruda-").concat(F,"@").concat(Ta[F]),function(x){if(!x||!window[B])return Gn.error("Fail to load plugin "+F);f.emit(f.ADD,window[B]),f.emit(f.SHOW,F)})}}ht(t(7346),document.head);var Ta={fps:"2.0.0",features:"2.0.0",timing:"2.0.1",memory:"2.0.0",code:"2.1.0",benchmark:"2.0.0",geolocation:"2.0.0",dom:"2.0.0",orientation:"2.0.0",touches:"2.0.0"};function Ea(F){var B=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var k,x=(0,c.Z)(F);if(B){var w=(0,c.Z)(this).constructor;k=Reflect.construct(x,arguments,w)}else k=x.apply(this,arguments);return(0,l.Z)(this,k)}}var Sa=function(F){(0,a.Z)(k,F);var B=Ea(k);function k(){var x;return(0,i.Z)(this,k),(x=B.call(this))._style=ht(t(5571)),x.name="snippets",x._snippets=[],x}return(0,o.Z)(k,[{key:"init",value:function(x){(0,m.Z)((0,c.Z)(k.prototype),"init",this).call(this,x),this._bindEvent(),this._addDefSnippets()}},{key:"destroy",value:function(){(0,m.Z)((0,c.Z)(k.prototype),"destroy",this).call(this),ht.remove(this._style)}},{key:"add",value:function(x,w,C){return this._snippets.push({name:x,fn:w,desc:C}),this._render(),this}},{key:"remove",value:function(x){for(var w=this._snippets,C=0,H=w.length;C<H;C++)w[C].name===x&&w.splice(C,1);return this._render(),this}},{key:"run",value:function(x){for(var w=this._snippets,C=0,H=w.length;C<H;C++)w[C].name===x&&this._run(C);return this}},{key:"clear",value:function(){return this._snippets=[],this._render(),this}},{key:"_bindEvent",value:function(){var x=this;this._$el.on("click",".eruda-run",function(){var w=b()(this).data("idx");x._run(w)})}},{key:"_run",value:function(x){this._snippets[x].fn.call(null)}},{key:"_addDefSnippets",value:function(){var x=this;L()(Aa,function(w){x.add(w.name,w.fn,w.desc)})}},{key:"_render",value:function(){var x=Ne()(this._snippets,function(w,C){return'<div class="'.concat(X("section run"),'" data-idx="').concat(C,`">
        <h2 class="`).concat(X("name"),'">').concat(Te()(w.name),`
          <div class="`).concat(X("btn"),`">
            <span class="`).concat(X("icon-play"),`"></span>
          </div>
        </h2>
        <div class="`).concat(X("description"),`">
          `).concat(Te()(w.desc),`
        </div>
      </div>`)}).join("");this._renderHtml(x)}},{key:"_renderHtml",value:function(x){x!==this._lastHtml&&(this._lastHtml=x,this._$el.html(x))}}]),k}(_),Oi=function(){function F(B,k,x,w){(0,i.Z)(this,F),this._type=w,this._$container=B,this._devtools=k,this._resources=x,this._selectedItem=null,this._storeData=[],this._initTpl(),this._dataGrid=new Kr.Z(this._$dataGrid.get(0),{columns:[{id:"key",title:"Key",weight:30},{id:"value",title:"Value",weight:90}],minHeight:60,maxHeight:223}),this._bindEvent()}return(0,o.Z)(F,[{key:"refresh",value:function(){var B=this._dataGrid;this._refreshStorage(),B.clear(),L()(this._storeData,function(k){var x=k.key,w=k.val;B.append({key:x,value:w},{selectable:!0})})}},{key:"_refreshStorage",value:function(){var B=this._resources,k=Xr(this._type,!1);if(k){var x=[];k=JSON.parse(JSON.stringify(k)),L()(k,function(w,C){E()(w)&&(B.config.get("hideErudaSetting")&&(Xn()(C,"eruda")||C==="active-eruda")||x.push({key:C,val:ur()(w,200)}))}),this._storeData=x}}},{key:"_updateButtons",value:function(){var B=this._$container,k=B.find(X(".show-detail")),x=B.find(X(".delete-storage")),w=B.find(X(".copy-storage")),C=X("btn-disabled");k.addClass(C),x.addClass(C),w.addClass(C),this._selectedItem&&(k.rmClass(C),x.rmClass(C),w.rmClass(C))}},{key:"_initTpl",value:function(){var B=this._$container,k=this._type;B.html(X(`<h2 class="title">
      `.concat(k==="local"?"Local":"Session",` Storage
      <div class="btn refresh-storage">
        <span class="icon icon-refresh"></span>
      </div>
      <div class="btn show-detail btn-disabled">
        <span class="icon icon-eye"></span>
      </div>
      <div class="btn copy-storage btn-disabled">
        <span class="icon icon-copy"></span>
      </div>
      <div class="btn delete-storage btn-disabled">
        <span class="icon icon-delete"></span>
      </div>
      <div class="btn clear-storage">
        <span class="icon icon-clear"></span>
      </div>
      <div class="btn filter">
        <span class="icon icon-filter"></span>
      </div>
      <div class="btn filter-text"></div>
    </h2>
    <div class="data-grid"></div>`))),this._$dataGrid=B.find(X(".data-grid")),this._$filterText=B.find(X(".filter-text"))}},{key:"_getVal",value:function(B){return this._type==="local"?localStorage.getItem(B):sessionStorage.getItem(B)}},{key:"_bindEvent",value:function(){var B=this,k=this._type,x=this._devtools;function w(C,H){var q=x.get("sources");if(q)return q.set(C,H),x.showTool("sources"),!0}this._$container.on("click",X(".refresh-storage"),function(){x.notify("Refreshed"),B.refresh()}).on("click",X(".clear-storage"),function(){L()(B._storeData,function(C){k==="local"?localStorage.removeItem(C.key):sessionStorage.removeItem(C.key)}),B.refresh()}).on("click",X(".show-detail"),function(){var C=B._selectedItem,H=B._getVal(C);try{w("object",JSON.parse(H))}catch{w("raw",H)}}).on("click",X(".copy-storage"),function(){var C=B._selectedItem;We()(B._getVal(C)),x.notify("Copied")}).on("click",X(".filter"),function(){kn.Z.prompt("Filter").then(function(C){Tn()(C)||(C=yn()(C),B._$filterText.text(C),B._dataGrid.setOption("filter",C))})}).on("click",X(".delete-storage"),function(){var C=B._selectedItem;k==="local"?localStorage.removeItem(C):sessionStorage.removeItem(C),B.refresh()}),this._dataGrid.on("select",function(C){B._selectedItem=C.data.key,B._updateButtons()}).on("deselect",function(){B._selectedItem=null,B._updateButtons()})}}]),F}();function dr(F,B){F.rmClass(X("ok")).rmClass(X("danger")).rmClass(X("warn")).addClass(X(B))}function fr(F,B){if(B===0)return"";var k=0,x=0;switch(F){case"cookie":k=30,x=60;break;case"script":k=5,x=10;break;case"stylesheet":k=4,x=8;break;case"image":k=50,x=100}return B>=x?"danger":B>=k?"warn":"ok"}var Ca=function(){function F(B,k){(0,i.Z)(this,F),this._$container=B,this._devtools=k,this._selectedItem=null,this._initTpl(),this._dataGrid=new Kr.Z(this._$dataGrid.get(0),{columns:[{id:"key",title:"Key",weight:30},{id:"value",title:"Value",weight:90}],minHeight:60,maxHeight:223}),this._bindEvent()}return(0,o.Z)(F,[{key:"refresh",value:function(){var B=this._$container,k=this._dataGrid,x=Ge.domain("Network").getCookies().cookies,w=Ne()(x,function(C){return{key:C.name,val:C.value}});k.clear(),L()(w,function(C){var H=C.key,q=C.val;k.append({key:H,value:q},{selectable:!0})}),dr(B,fr("cookie",w.length))}},{key:"_initTpl",value:function(){var B=this._$container;B.html(X(`<h2 class="title">
      Cookie
      <div class="btn refresh-cookie">
        <span class="icon-refresh"></span>
      </div>
      <div class="btn show-detail btn-disabled">
        <span class="icon icon-eye"></span>
      </div>
      <div class="btn copy-cookie btn-disabled">
        <span class="icon icon-copy"></span>
      </div>
      <div class="btn delete-cookie btn-disabled">
        <span class="icon icon-delete"></span>
      </div>
      <div class="btn clear-cookie">
        <span class="icon-clear"></span>
      </div>
      <div class="btn filter" data-type="cookie">
        <span class="icon-filter"></span>
      </div>
      <div class="btn filter-text"></div>
    </h2>
    <div class="data-grid"></div>`)),this._$dataGrid=B.find(X(".data-grid")),this._$filterText=B.find(X(".filter-text"))}},{key:"_updateButtons",value:function(){var B=this._$container,k=B.find(X(".show-detail")),x=B.find(X(".delete-cookie")),w=B.find(X(".copy-cookie")),C=X("btn-disabled");k.addClass(C),x.addClass(C),w.addClass(C),this._selectedItem&&(k.rmClass(C),x.rmClass(C),w.rmClass(C))}},{key:"_getVal",value:function(B){for(var k=Ge.domain("Network").getCookies().cookies,x=0,w=k.length;x<w;x++)if(k[x].name===B)return k[x].value;return""}},{key:"_bindEvent",value:function(){var B=this,k=this._devtools;function x(w,C){var H=k.get("sources");if(H)return H.set(w,C),k.showTool("sources"),!0}this._$container.on("click",X(".refresh-cookie"),function(){k.notify("Refreshed"),B.refresh()}).on("click",X(".clear-cookie"),function(){Ge.domain("Storage").clearDataForOrigin({storageTypes:"cookies"}),B.refresh()}).on("click",X(".delete-cookie"),function(){var w=B._selectedItem;Ge.domain("Network").deleteCookies({name:w}),B.refresh()}).on("click",X(".show-detail"),function(){var w=B._selectedItem,C=B._getVal(w);try{x("object",JSON.parse(C))}catch{x("raw",C)}}).on("click",X(".copy-cookie"),function(){var w=B._selectedItem;We()(B._getVal(w)),k.notify("Copied")}).on("click",X(".filter"),function(){kn.Z.prompt("Filter").then(function(w){Tn()(w)||(w=yn()(w),B._filter=w,B._$filterText.text(w),B._dataGrid.setOption("filter",w))})}),this._dataGrid.on("select",function(w){B._selectedItem=w.data.key,B._updateButtons()}).on("deselect",function(){B._selectedItem=null,B._updateButtons()})}}]),F}();function ka(F,B){var k=typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(!k){if(Array.isArray(F)||(k=function(lt,St){if(lt){if(typeof lt=="string")return Di(lt,St);var Ut=Object.prototype.toString.call(lt).slice(8,-1);if(Ut==="Object"&&lt.constructor&&(Ut=lt.constructor.name),Ut==="Map"||Ut==="Set")return Array.from(lt);if(Ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ut))return Di(lt,St)}}(F))||B&&F&&typeof F.length=="number"){k&&(F=k);var x=0,w=function(){};return{s:w,n:function(){return x>=F.length?{done:!0}:{done:!1,value:F[x++]}},e:function(lt){throw lt},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C,H=!0,q=!1;return{s:function(){k=k.call(F)},n:function(){var lt=k.next();return H=lt.done,lt},e:function(lt){q=!0,C=lt},f:function(){try{H||k.return==null||k.return()}finally{if(q)throw C}}}}function Di(F,B){(B==null||B>F.length)&&(B=F.length);for(var k=0,x=new Array(B);k<B;k++)x[k]=F[k];return x}function Ra(F){var B=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var k,x=(0,c.Z)(F);if(B){var w=(0,c.Z)(this).constructor;k=Reflect.construct(x,arguments,w)}else k=x.apply(this,arguments);return(0,l.Z)(this,k)}}var Pa=function(F){(0,a.Z)(k,F);var B=Ra(k);function k(){var x;return(0,i.Z)(this,k),(x=B.call(this))._style=ht(t(2488)),x.name="resources",x._hideErudaSetting=!1,x._observeElement=!0,x}return(0,o.Z)(k,[{key:"init",value:function(x,w){(0,m.Z)((0,c.Z)(k.prototype),"init",this).call(this,x),this._container=w,this._initTpl(),this._localStorage=new Oi(this._$localStorage,w,this,"local"),this._sessionStorage=new Oi(this._$sessionStorage,w,this,"session"),this._cookie=new Ca(this._$cookie,w),this._bindEvent(),this._initObserver(),this._initCfg()}},{key:"refresh",value:function(){return this.refreshLocalStorage().refreshSessionStorage().refreshCookie().refreshScript().refreshStylesheet().refreshIframe().refreshImage()}},{key:"destroy",value:function(){(0,m.Z)((0,c.Z)(k.prototype),"destroy",this).call(this),this._disableObserver(),ht.remove(this._style),this._rmCfg()}},{key:"refreshScript",value:function(){var x=[];b()("script").each(function(){var lt=this.src;lt!==""&&x.push(lt)});var w=fr("script",(x=Ln()(x)).length),C="<li>Empty</li>";Ve()(x)||(C=Ne()(x,function(lt){return lt=Te()(lt),'<li><a href="'.concat(lt,'" target="_blank" class="').concat(X("js-link"),'">').concat(lt,"</a></li>")}).join(""));var H='<h2 class="'.concat(X("title"),`">
      Script
      <div class="`).concat(X("btn refresh-script"),`">
        <span class="`).concat(X("icon-refresh"),`"></span>
      </div>
    </h2>
    <ul class="`).concat(X("link-list"),`">
      `).concat(C,`
    </ul>`),q=this._$script;return dr(q,w),q.html(H),this}},{key:"refreshStylesheet",value:function(){var x=[];b()("link").each(function(){this.rel==="stylesheet"&&x.push(this.href)});var w=fr("stylesheet",(x=Ln()(x)).length),C="<li>Empty</li>";x||(C=Ne()(x,function(lt){return lt=Te()(lt),' <li><a href="'.concat(lt,'" target="_blank" class="').concat(X("css-link"),'">').concat(lt,"</a></li>")}).join(""));var H='<h2 class="'.concat(X("title"),`">
      Stylesheet
      <div class="`).concat(X("btn refresh-stylesheet"),`">
        <span class="`).concat(X("icon-refresh"),`"></span>
      </div>
    </h2>
    <ul class="`).concat(X("link-list"),`">
      `).concat(C,`
    </ul>`),q=this._$stylesheet;return dr(q,w),q.html(H),this}},{key:"refreshIframe",value:function(){var x=[];b()("iframe").each(function(){var H=b()(this).attr("src");H&&x.push(H)}),x=Ln()(x);var w="<li>Empty</li>";Ve()(x)||(w=Ne()(x,function(H){return H=Te()(H),'<li><a href="'.concat(H,'" target="_blank" class="').concat(X("iframe-link"),'">').concat(H,"</a></li>")}).join(""));var C='<h2 class="'.concat(X("title"),`">
      Iframe
      <div class="`).concat(X("btn refresh-iframe"),`">
        <span class="`).concat(X("icon-refresh"),`"></span>
      </div>
    </h2>
    <ul class="`).concat(X("link-list"),`">
      `).concat(w,`
    </ul>`);return this._$iframe.html(C),this}},{key:"refreshLocalStorage",value:function(){return this._localStorage.refresh(),this}},{key:"refreshSessionStorage",value:function(){return this._sessionStorage.refresh(),this}},{key:"refreshCookie",value:function(){return this._cookie.refresh(),this}},{key:"refreshImage",value:function(){var x=[],w=this._performance=window.webkitPerformance||window.performance;w&&w.getEntries?this._performance.getEntries().forEach(function(St){if(St.initiatorType==="img"||Ia(St.name)){if(U()(St.name,"exclude=true"))return;x.push(St.name)}}):b()("img").each(function(){var St=b()(this),Ut=St.attr("src");St.data("exclude")!=="true"&&x.push(Ut)}),(x=Ln()(x)).sort();var C=fr("image",x.length),H="<li>Empty</li>";Ve()(x)||(H=Ne()(x,function(St){return'<li class="'.concat(X("image"),`">
          <img src="`).concat(Te()(St),'" data-exclude="true" class="').concat(X("img-link"),`"/>
        </li>`)}).join(""));var q='<h2 class="'.concat(X("title"),`">
      Image
      <div class="`).concat(X("btn refresh-image"),`">
        <span class="`).concat(X("icon-refresh"),`"></span>
      </div>
    </h2>
    <ul class="`).concat(X("image-list"),`">
      `).concat(H,`
    </ul>`),lt=this._$image;return dr(lt,C),lt.html(q),this}},{key:"show",value:function(){return(0,m.Z)((0,c.Z)(k.prototype),"show",this).call(this),this._observeElement&&this._enableObserver(),this.refresh()}},{key:"hide",value:function(){return this._disableObserver(),(0,m.Z)((0,c.Z)(k.prototype),"hide",this).call(this)}},{key:"_initTpl",value:function(){var x=this._$el;x.html(X(`<div class="section local-storage"></div>
      <div class="section session-storage"></div>
      <div class="section cookie"></div>
      <div class="section script"></div>
      <div class="section stylesheet"></div>
      <div class="section iframe"></div>
      <div class="section image"></div>`)),this._$localStorage=x.find(X(".local-storage")),this._$sessionStorage=x.find(X(".session-storage")),this._$cookie=x.find(X(".cookie")),this._$script=x.find(X(".script")),this._$stylesheet=x.find(X(".stylesheet")),this._$iframe=x.find(X(".iframe")),this._$image=x.find(X(".image"))}},{key:"_bindEvent",value:function(){var x=this,w=this._$el,C=this._container;function H(lt,St){var Ut=C.get("sources");if(Ut)return Ut.set(lt,St),C.showTool("sources"),!0}function q(lt){return function(St){if(C.get("sources")){St.preventDefault();var Ut=b()(this).attr("href");lt!=="iframe"&&hi()(location.href,Ut)?Wt()({url:Ut,success:function(le){H(lt,le)},dataType:"raw"}):H("iframe",Ut)}}}w.on("click",".eruda-refresh-script",function(){C.notify("Refreshed"),x.refreshScript()}).on("click",".eruda-refresh-stylesheet",function(){C.notify("Refreshed"),x.refreshStylesheet()}).on("click",".eruda-refresh-iframe",function(){C.notify("Refreshed"),x.refreshIframe()}).on("click",".eruda-refresh-image",function(){C.notify("Refreshed"),x.refreshImage()}).on("click",".eruda-img-link",function(){H("img",b()(this).attr("src"))}).on("click",".eruda-css-link",q("css")).on("click",".eruda-js-link",q("js")).on("click",".eruda-iframe-link",q("iframe"))}},{key:"_rmCfg",value:function(){var x=this.config,w=this._container.get("settings");w&&w.remove(x,"hideErudaSetting").remove(x,"observeElement").remove("Resources")}},{key:"_initCfg",value:function(){var x=this,w=this.config=it.createCfg("resources",{hideErudaSetting:!0,observeElement:!0});w.get("hideErudaSetting")&&(this._hideErudaSetting=!0),w.get("observeElement")||(this._observeElement=!1),w.on("change",function(C,H){switch(C){case"hideErudaSetting":return void(x._hideErudaSetting=H);case"observeElement":return x._observeElement=H,H?x._enableObserver():x._disableObserver()}}),this._container.get("settings").text("Resources").switch(w,"hideErudaSetting","Hide Eruda Setting").switch(w,"observeElement","Auto Refresh Elements").separator()}},{key:"_initObserver",value:function(){var x=this;this._observer=new(Ae())(function(w){L()(w,function(C){x._handleMutation(C)})})}},{key:"_handleMutation",value:function(x){var w=this;if(!Wn(x.target)){var C=function(St){var Ut=function(le){return le.tagName?le.tagName.toLowerCase():""}(St);switch(Ut){case"script":w.refreshScript();break;case"img":w.refreshImage();break;case"link":w.refreshStylesheet()}};if(x.type==="attributes")C(x.target);else if(x.type==="childList"){C(x.target);var H,q=sr()(x.addedNodes),lt=ka(q=an()(q,sr()(x.removedNodes)));try{for(lt.s();!(H=lt.n()).done;)C(H.value)}catch(St){lt.e(St)}finally{lt.f()}}}}},{key:"_enableObserver",value:function(){this._observer.observe(document.documentElement,{attributes:!0,childList:!0,subtree:!0})}},{key:"_disableObserver",value:function(){this._observer.disconnect()}}]),k}(_),Ma=/\.(jpeg|jpg|gif|png)$/,Ia=function(F){return Ma.test(F)},Bi=Mn()(),Oa=[{name:"Location",val:function(){return Te()(location.href)}},{name:"User Agent",val:navigator.userAgent},{name:"Device",val:["<table><tbody>",'<tr><td class="eruda-device-key">screen</td><td>'.concat(screen.width," * ").concat(screen.height,"</td></tr>"),"<tr><td>viewport</td><td>".concat(window.innerWidth," * ").concat(window.innerHeight,"</td></tr>"),"<tr><td>pixel ratio</td><td>".concat(window.devicePixelRatio,"</td></tr>"),"</tbody></table>"].join("")},{name:"System",val:["<table><tbody>",'<tr><td class="eruda-system-key">os</td><td>'.concat(Hn()(),"</td></tr>"),"<tr><td>browser</td><td>".concat(Bi.name+" "+Bi.version,"</td></tr>"),"</tbody></table>"].join("")},{name:"About",val:'<a href="https://eruda.liriliri.io" target="_blank">Eruda v2.11.2</a>'},{name:"Backers",val:function(){return'<a rel="noreferrer noopener" href="https://opencollective.com/eruda" target="_blank"><img data-exclude="true" style="width: 100%;"src="https://opencollective.com/eruda/backers.svg?width='.concat(1.5*window.innerWidth,'&exclude=true"></a>')}}];function Da(F){var B=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var k,x=(0,c.Z)(F);if(B){var w=(0,c.Z)(this).constructor;k=Reflect.construct(x,arguments,w)}else k=x.apply(this,arguments);return(0,l.Z)(this,k)}}var Ba=function(F){(0,a.Z)(k,F);var B=Da(k);function k(){var x;return(0,i.Z)(this,k),(x=B.call(this))._style=ht(t(879)),x.name="info",x._infos=[],x}return(0,o.Z)(k,[{key:"init",value:function(x,w){(0,m.Z)((0,c.Z)(k.prototype),"init",this).call(this,x),this._container=w,this._addDefInfo(),this._bindEvent()}},{key:"destroy",value:function(){(0,m.Z)((0,c.Z)(k.prototype),"destroy",this).call(this),ht.remove(this._style)}},{key:"add",value:function(x,w){var C=this._infos,H=!1;return L()(C,function(q){x===q.name&&(q.val=w,H=!0)}),H||C.push({name:x,val:w}),this._render(),this}},{key:"get",value:function(x){var w,C=this._infos;return Zr()(x)?hn()(C):(L()(C,function(H){x===H.name&&(w=H.val)}),w)}},{key:"remove",value:function(x){for(var w=this._infos,C=w.length-1;C>=0;C--)w[C].name===x&&w.splice(C,1);return this._render(),this}},{key:"clear",value:function(){return this._infos=[],this._render(),this}},{key:"_addDefInfo",value:function(){var x=this;L()(Oa,function(w){return x.add(w.name,w.val)})}},{key:"_render",value:function(){var x=[];L()(this._infos,function(C){var H=C.name,q=C.val;He()(q)&&(q=q()),x.push({name:H,val:q})});var w="<ul>".concat(Ne()(x,function(C){return'<li><h2 class="'.concat(X("title"),'">').concat(Te()(C.name),'<span class="').concat(X("icon-copy copy"),'"></span></h2><div class="').concat(X("content"),'">').concat(C.val,"</div></li>")}).join(""),"</ul>");this._renderHtml(w)}},{key:"_bindEvent",value:function(){var x=this._container;this._$el.on("click",X(".copy"),function(){var w=b()(this).parent().parent(),C=w.find(X(".title")).text(),H=w.find(X(".content")).text();We()("".concat(C,": ").concat(H)),x.notify("Copied")})}},{key:"_renderHtml",value:function(x){x!==this._lastHtml&&(this._lastHtml=x,this._$el.html(x))}}]),k}(_),Fa=t(8299),Na=t(8368),La=t.n(Na),Fi=t(7049);function Ua(F){var B=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var k,x=(0,c.Z)(F);if(B){var w=(0,c.Z)(this).constructor;k=Reflect.construct(x,arguments,w)}else k=x.apply(this,arguments);return(0,l.Z)(this,k)}}var Ga=function(F){(0,a.Z)(k,F);var B=Ua(k);function k(){var x;return(0,i.Z)(this,k),(x=B.call(this))._style=ht(t(1344)),x.name="sources",x._showLineNum=!0,x}return(0,o.Z)(k,[{key:"init",value:function(x,w){(0,m.Z)((0,c.Z)(k.prototype),"init",this).call(this,x),this._container=w,this._bindEvent(),this._initCfg()}},{key:"destroy",value:function(){(0,m.Z)((0,c.Z)(k.prototype),"destroy",this).call(this),ht.remove(this._style),this._rmCfg()}},{key:"set",value:function(x,w){if(x==="img"){this._isFetchingData=!0;var C=new Image,H=this;return C.onload=function(){H._isFetchingData=!1,H._data={type:"img",val:{width:this.width,height:this.height,src:w}},H._render()},C.onerror=function(){H._isFetchingData=!1},void(C.src=w)}return this._data={type:x,val:w},this._render(),this}},{key:"show",value:function(){return(0,m.Z)((0,c.Z)(k.prototype),"show",this).call(this),this._data||this._isFetchingData||this._renderDef(),this}},{key:"_renderDef",value:function(){var x=this;if(this._html)return this._data={type:"html",val:this._html},this._render();this._isGettingHtml||(this._isGettingHtml=!0,Wt()({url:location.href,success:function(w){return x._html=w},error:function(){return x._html="Sorry, unable to fetch source code:("},complete:function(){x._isGettingHtml=!1,x._renderDef()},dataType:"raw"}))}},{key:"_bindEvent",value:function(){var x=this;this._container.on("showTool",function(w,C){w!==x.name&&C.name===x.name&&delete x._data})}},{key:"_rmCfg",value:function(){var x=this.config,w=this._container.get("settings");w&&w.remove(x,"showLineNum").remove("Sources")}},{key:"_initCfg",value:function(){var x=this,w=this.config=it.createCfg("sources",{showLineNum:!0});w.get("showLineNum")||(this._showLineNum=!1),w.on("change",function(C,H){C!=="showLineNum"||(x._showLineNum=H)}),this._container.get("settings").text("Sources").switch(w,"showLineNum","Show Line Numbers").separator()}},{key:"_render",value:function(){switch(this._isInit=!0,this._data.type){case"html":case"js":case"css":return this._renderCode();case"img":return this._renderImg();case"object":return this._renderObj();case"raw":return this._renderRaw();case"iframe":return this._renderIframe()}}},{key:"_renderImg",value:function(){var x=this._data.val,w=x.width,C=x.height,H=x.src;this._renderHtml('<div class="'.concat(X("image"),`">
      <div class="`).concat(X("breadcrumb"),'">').concat(Te()(H),`</div>
      <div class="`).concat(X("img-container"),`" data-exclude="true">
        <img src="`).concat(Te()(H),`">
      </div>
      <div class="`).concat(X("img-info"),'">').concat(Te()(w)," × ").concat(Te()(C),`</div>
    </div>`))}},{key:"_renderCode",value:function(){var x=this._data;this._renderHtml('<div class="'.concat(X("code"),'" data-type="').concat(x.type,'"></div>'),!1);var w=x.val,C=x.val.length;C>pr&&(w=ur()(w,pr)),C<ja?(w=$n()(w,x.type,{comment:"",string:"",number:"",keyword:"",operator:""}),L()(["comment","string","number","keyword","operator"],function(q){w=La()(w,'class="'.concat(q,'"'),'class="'.concat(X(q),'"'))})):w=Te()(w);var H=this._$el.find(X(".code")).get(0);new Fi.Z(H,{text:w,escape:!1,wrapLongLines:!0,showLineNumbers:x.val.length<Ni&&this._showLineNum})}},{key:"_renderObj",value:function(){this._renderHtml('<ul class="'.concat(X("json"),'"></ul>'),!1);var x=this._data.val;try{E()(x)&&(x=JSON.parse(x))}catch{}new Fa.Z(this._$el.find(".eruda-json").get(0),{unenumerable:!0,accessGetter:!0}).set(x)}},{key:"_renderRaw",value:function(){var x=this._data;this._renderHtml('<div class="'.concat(X("raw-wrapper"),`">
      <div class="`).concat(X("raw"),`"></div>
    </div>`));var w=x.val,C=this._$el.find(X(".raw")).get(0);w.length>pr&&(w=ur()(w,pr)),new Fi.Z(C,{text:w,wrapLongLines:!0,showLineNumbers:w.length<Ni&&this._showLineNum})}},{key:"_renderIframe",value:function(){this._renderHtml('<iframe src="'.concat(Te()(this._data.val),'"></iframe>'))}},{key:"_renderHtml",value:function(x){var w=this,C=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];C&&x===this._lastHtml||(this._lastHtml=x,this._$el.html(x),setTimeout(function(){return w._$el.get(0).scrollTop=0},0))}}]),k}(_),ja=3e4,Ni=8e4,pr=1e5,za={init:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=F.container,k=F.tool,x=F.autoScale,w=x===void 0||x,C=F.useShadowDom,H=C===void 0||C,q=F.defaults,lt=q===void 0?{}:q;this._isInit||(this._isInit=!0,this._scale=1,this._initContainer(B,H),this._initStyle(),this._initDevTools(lt),this._initEntryBtn(),this._initSettings(),this._initTools(k),this._registerListener(),w&&this._autoScale())},_isInit:!1,version:"2.11.2",util:r,chobitsu:Ge,Tool:_,Console:Xs,Elements:wa,Network:la,Sources:Ga,Resources:Pa,Info:Ba,Snippets:Sa,Settings:it,get:function(F){if(this._checkInit()){if(F==="entryBtn")return this._entryBtn;var B=this._devTools;return F?B.get(F):B}},add:function(F){if(this._checkInit())return He()(F)&&(F=F(this)),this._devTools.add(F),this},remove:function(F){return this._devTools.remove(F),this},show:function(F){if(this._checkInit()){var B=this._devTools;return F?B.showTool(F):B.show(),this}},hide:function(){if(this._checkInit())return this._devTools.hide(),this},destroy:function(){this._devTools.destroy(),delete this._devTools,this._entryBtn.destroy(),delete this._entryBtn,this._unregisterListener(),b()(this._container).remove(),ht.clear(),this._isInit=!1,this._container=null,this._shadowRoot=null},scale:function(F){return vn()(F)?(this._scale=F,f.emit(f.SCALE,F),this):this._scale},position:function(F){var B=this._entryBtn;return Nn()(F)?(B.setPos(F),this):B.getPos()},_autoScale:function(){wn()()&&this.scale(1/pi()())},_registerListener:function(){var F=this;this._addListener=function(){return F.add.apply(F,arguments)},this._showListener=function(){return F.show.apply(F,arguments)},f.on(f.ADD,this._addListener),f.on(f.SHOW,this._showListener),f.on(f.SCALE,ht.setScale)},_unregisterListener:function(){f.off(f.ADD,this._addListener),f.off(f.SHOW,this._showListener),f.off(f.SCALE,ht.setScale)},_checkInit:function(){return this._isInit||Gn.error('Please call "eruda.init()" first'),this._isInit},_initContainer:function(F,B){var k,x;F||(F=document.createElement("div"),document.documentElement.appendChild(F)),F.id="eruda",F.style.all="initial",this._container=F,B&&(F.attachShadow?k=F.attachShadow({mode:"open"}):F.createShadowRoot&&(k=F.createShadowRoot()),k&&(ht.container=document.head,ht(t(5357)+t(9327)+t(4821)+t(8903)+t(5777)),x=document.createElement("div"),k.appendChild(x),this._shadowRoot=k)),this._shadowRoot||(x=document.createElement("div"),F.appendChild(x)),yt()(x,{className:"eruda-container __chobitsu-hide__",contentEditable:!1}),Mn()().name==="ios"&&x.setAttribute("ontouchstart",""),this._$el=b()(x)},_initDevTools:function(F){this._devTools=new $s(this._$el,{defaults:F})},_initStyle:function(){var F="eruda-style-container",B=this._$el;this._shadowRoot?(ht.container=this._shadowRoot,ht(":host { all: initial }")):(B.append('<div class="'.concat(F,'"></div>')),ht.container=B.find(".".concat(F)).get(0)),ht(t(8020)+t(4821)+t(9327)+t(7591)+t(4987)+t(8903)+t(5512)+t(2156)+t(5777)+t(9819)+t(8516)+t(5357))},_initEntryBtn:function(){var F=this;this._entryBtn=new Ns(this._$el),this._entryBtn.on("click",function(){return F._devTools.toggle()})},_initSettings:function(){var F=this._devTools,B=new it;F.add(B),this._entryBtn.initCfg(B),F.initCfg(B)},_initTools:function(){var F=this,B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["console","elements","network","resources","sources","info","snippets"];B=sr()(B);var k=this._devTools;B.forEach(function(x){var w=F[Vn()(x)];try{w&&k.add(new w)}catch(C){at()(function(){Gn.error("Something wrong when initializing tool ".concat(x,":"),C.message)})}}),k.showTool(B[0]||"settings")}}},2027:function(n,e,t){var r=t(6672).Z;n.exports=r,n.exports.default=r},6610:function(n,e,t){t.r(e),e.default={}},9143:function(n,e,t){var r=this&&this.__awaiter||function(p,f,m,g){return new(m||(m=Promise))(function(v,_){function y(T){try{S(g.next(T))}catch(A){_(A)}}function b(T){try{S(g.throw(T))}catch(A){_(A)}}function S(T){var A;T.done?v(T.value):(A=T.value,A instanceof m?A:new m(function(R){R(A)})).then(y,b)}S((g=g.apply(p,f||[])).next())})},i=this&&this.__generator||function(p,f){var m,g,v,_,y={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return _={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function b(S){return function(T){return function(A){if(m)throw new TypeError("Generator is already executing.");for(;y;)try{if(m=1,g&&(v=2&A[0]?g.return:A[0]?g.throw||((v=g.return)&&v.call(g),0):g.next)&&!(v=v.call(g,A[1])).done)return v;switch(g=0,v&&(A=[2&A[0],v.value]),A[0]){case 0:case 1:v=A;break;case 4:return y.label++,{value:A[1],done:!1};case 5:y.label++,g=A[1],A=[0];continue;case 7:A=y.ops.pop(),y.trys.pop();continue;default:if(v=y.trys,!((v=v.length>0&&v[v.length-1])||A[0]!==6&&A[0]!==2)){y=0;continue}if(A[0]===3&&(!v||A[1]>v[0]&&A[1]<v[3])){y.label=A[1];break}if(A[0]===6&&y.label<v[1]){y.label=v[1],v=A;break}if(v&&y.label<v[2]){y.label=v[2],y.ops.push(A);break}v[2]&&y.ops.pop(),y.trys.pop();continue}A=f.call(p,y)}catch(R){A=[6,R],g=0}finally{m=v=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([S,T])}}},o=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(3276)),a=o(t(1214)),l=o(t(5936)),c=o(t(3783)),u=o(t(1443)),h=t(316),d=function(){function p(){var f=this;this.resolves=new Map,this.domains=new Map,this.onMessage=a.default,s.default.on("message",function(m){var g=JSON.parse(m),v=f.resolves.get(g.id);if(v&&v(g.result),!g.id){var _=g.method.split("."),y=_[0],b=_[1],S=f.domains.get(y);S&&S.emit(b,g.params)}f.onMessage(m)})}return p.prototype.domain=function(f){return this.domains.get(f)},p.prototype.setOnMessage=function(f){this.onMessage=f},p.prototype.sendMessage=function(f,m){var g=this;m===void 0&&(m={});var v=l.default();return this.sendRawMessage(JSON.stringify({id:v,method:f,params:m})),new Promise(function(_){g.resolves.set(v,_)})},p.prototype.sendRawMessage=function(f){return r(this,void 0,void 0,function(){var m,g,v,_,y,b,S;return i(this,function(T){switch(T.label){case 0:m=JSON.parse(f),g=m.method,v=m.params,_=m.id,y={id:_},T.label=1;case 1:return T.trys.push([1,3,,4]),b=y,[4,this.callMethod(g,v)];case 2:return b.result=T.sent(),[3,4];case 3:return(S=T.sent())instanceof h.ErrorWithCode?y.error={message:S.message,code:S.code}:S instanceof Error&&(y.error={message:S.message}),[3,4];case 4:return s.default.emit("message",JSON.stringify(y)),[2]}})})},p.prototype.register=function(f,m){var g=this.domains,v=g.get(f);v||(v={},u.default.mixin(v)),c.default(m,function(_,y){v[y]=_}),g.set(f,v)},p.prototype.callMethod=function(f,m){return r(this,void 0,void 0,function(){var g,v,_,y;return i(this,function(b){if(g=f.split("."),v=g[0],_=g[1],(y=this.domain(v))&&y[_])return[2,y[_](m)||{}];throw Error(f+" unimplemented")})})},p}();e.default=d},7935:function(n,e,t){var r=this&&this.__createBinding||(Object.create?function(E,I,U,N){N===void 0&&(N=U),Object.defineProperty(E,N,{enumerable:!0,get:function(){return I[U]}})}:function(E,I,U,N){N===void 0&&(N=U),E[N]=I[U]}),i=this&&this.__setModuleDefault||(Object.create?function(E,I){Object.defineProperty(E,"default",{enumerable:!0,value:I})}:function(E,I){E.default=I}),o=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var I={};if(E!=null)for(var U in E)U!=="default"&&Object.hasOwnProperty.call(E,U)&&r(I,E,U);return i(I,E),I},s=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(e,"__esModule",{value:!0}),e.getDOMNode=e.getDOMNodeId=e.setOuterHTML=e.setNodeValue=e.setInspectedNode=e.setAttributeValue=e.setAttributesAsText=e.resolveNode=e.requestNode=e.requestChildNodes=e.removeNode=e.pushNodesByBackendIdsToFrontend=e.discardSearchResults=e.pushNodesToFrontend=e.getSearchResults=e.performSearch=e.moveTo=e.getOuterHTML=e.getDocument=e.enable=e.copyTo=e.collectClassNamesFromSubtree=void 0;var a=s(t(3276)),l=o(t(2049)),c=t(2049),u=o(t(7923)),h=s(t(6126)),d=s(t(1512)),p=s(t(6156)),f=s(t(8887)),m=s(t(7483)),g=s(t(2461)),v=s(t(42)),_=s(t(6341)),y=s(t(3063)),b=s(t(3783)),S=s(t(1352)),T=s(t(8933)),A=s(t(8099)),R=t(1628),Z=t(316);e.collectClassNamesFromSubtree=function(E){var I=c.getNode(E.nodeId),U=[];return M(I,function(N){if(N.nodeType===1){var Y=N.getAttribute("class");if(Y)for(var D=0,z=Y.split(/\s+/);D<z.length;D++){var $=z[D];U.push($)}}}),{classNames:v.default(U)}},e.copyTo=function(E){var I=E.nodeId,U=E.targetNodeId,N=c.getNode(I),Y=c.getNode(U),D=N.cloneNode(!0);Y.appendChild(D)},e.enable=function(){h.default.observe(),l.clear()},e.getDocument=function(){return{root:l.wrap(document,{depth:2})}},e.getOuterHTML=function(E){return{outerHTML:c.getNode(E.nodeId).outerHTML}},e.moveTo=function(E){var I=E.nodeId,U=E.targetNodeId,N=c.getNode(I);c.getNode(U).appendChild(N)};var L=new Map;function G(E){for(var I=[E],U=E.parentNode;U&&(I.push(U),!(Y=c.getNodeId(U)));)U=U.parentNode;for(;I.length;){var N=I.pop(),Y=c.getNodeId(N);a.default.trigger("DOM.setChildNodes",{parentId:Y,nodes:l.getChildNodes(N,1)})}return c.getNodeId(E)}e.performSearch=function(E){var I=y.default(E.query),U=[];try{U=A.default(U,S.default(document.querySelectorAll(I)))}catch{}try{U=A.default(U,T.default(I))}catch{}M(document,function(Y){var D=Y.nodeType;if(D===1){var z=Y.localName;if(_.default("<"+z+" ",I)||_.default("</"+z+">",I))return void U.push(Y);var $=[];b.default(Y.attributes,function(st){var tt=st.name,nt=st.value;return $.push(tt,nt)});for(var rt=0,ot=$.length;rt<ot;rt++)if(_.default(y.default($[rt]),I)){U.push(Y);break}}else D===3&&_.default(y.default(Y.nodeValue),I)&&U.push(Y)});var N=Z.createId();return L.set(N,U),{searchId:N,resultCount:U.length}},e.getSearchResults=function(E){var I=E.searchId,U=E.fromIndex,N=E.toIndex,Y=L.get(I).slice(U,N);return{nodeIds:g.default(Y,function(D){var z=c.getNodeId(D);return z||G(D)})}},e.pushNodesToFrontend=G,e.discardSearchResults=function(E){L.delete(E.searchId)},e.pushNodesByBackendIdsToFrontend=function(E){return{nodeIds:E.backendNodeIds}},e.removeNode=function(E){var I=c.getNode(E.nodeId);d.default(I).remove()},e.requestChildNodes=function(E){var I=E.nodeId,U=E.depth,N=U===void 0?1:U,Y=c.getNode(I);a.default.trigger("DOM.setChildNodes",{parentId:I,nodes:l.getChildNodes(Y,N)})},e.requestNode=function(E){var I=u.getObj(E.objectId);return{nodeId:c.getNodeId(I)}},e.resolveNode=function(E){var I=c.getNode(E.nodeId);return{object:u.wrap(I)}},e.setAttributesAsText=function(E){var I,U=E.name,N=E.text,Y=E.nodeId,D=c.getNode(Y);U&&D.removeAttribute(U),d.default(D).attr((I="<div "+(I=N)+"></div>",m.default.parse(I)[0].attrs))},e.setAttributeValue=function(E){var I=E.nodeId,U=E.name,N=E.value;c.getNode(I).setAttribute(U,N)};var j=[];function M(E,I){for(var U=l.filterNodes(E.childNodes),N=0,Y=U.length;N<Y;N++){var D=U[N];I(D),M(D,I)}}e.setInspectedNode=function(E){var I=c.getNode(E.nodeId);j.unshift(I),j.length>5&&j.pop();for(var U=0;U<5;U++)R.setGlobal("$"+U,j[U])},e.setNodeValue=function(E){var I=E.nodeId,U=E.value;c.getNode(I).nodeValue=U},e.setOuterHTML=function(E){var I=E.nodeId,U=E.outerHTML;c.getNode(I).outerHTML=U},e.getDOMNodeId=function(E){var I=E.node;return{nodeId:l.getOrCreateNodeId(I)}},e.getDOMNode=function(E){var I=E.nodeId;return{node:c.getNode(I)}},h.default.on("attributes",function(E,I){var U=c.getNodeId(E);if(U){var N=E.getAttribute(I);p.default(N)?a.default.trigger("DOM.attributeRemoved",{nodeId:U,name:I}):a.default.trigger("DOM.attributeModified",{nodeId:U,name:I,value:N})}}),h.default.on("childList",function(E,I,U){var N=c.getNodeId(E);if(N){if(I=l.filterNodes(I),U=l.filterNodes(U),!f.default(I)){st();for(var Y=0,D=I.length;Y<D;Y++){var z=I[Y],$=l.getPreviousNode(z),rt=$?c.getNodeId($):0,ot={node:l.wrap(z,{depth:0}),parentNodeId:N,previousNodeId:rt};a.default.trigger("DOM.childNodeInserted",ot)}}if(!f.default(U))for(Y=0,D=U.length;Y<D;Y++){if(z=U[Y],!c.getNodeId(z)){st();break}a.default.trigger("DOM.childNodeRemoved",{nodeId:c.getNodeId(z),parentNodeId:N})}}function st(){a.default.trigger("DOM.childNodeCountUpdated",{childNodeCount:l.wrap(E,{depth:0}).childNodeCount,nodeId:N})}}),h.default.on("characterData",function(E){var I=c.getNodeId(E);I&&a.default.trigger("DOM.characterDataModified",{characterData:E.nodeValue,nodeId:I})})},2139:function(n,e,t){var r=this&&this.__spreadArrays||function(){for(var g=0,v=0,_=arguments.length;v<_;v++)g+=arguments[v].length;var y=Array(g),b=0;for(v=0;v<_;v++)for(var S=arguments[v],T=0,A=S.length;T<A;T++,b++)y[b]=S[T];return y},i=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0}),e.getResponseBody=e.enable=e.getCookies=e.deleteCookies=void 0;var o=i(t(4331)),s=i(t(3783)),a=i(t(1420)),l=i(t(5031)),c=i(t(8763)),u=i(t(8740)),h=i(t(6341)),d=t(2636),p=i(t(3276));e.deleteCookies=function(g){l.default(g.name)},e.getCookies=function(){var g=[],v=document.cookie;return o.default(v)!==""&&s.default(v.split(";"),function(_){_=_.split("=");var y=o.default(_.shift());_=a.default(_.join("=")),g.push({name:y,value:_})}),{cookies:g}};var f=new Map;function m(g){return!h.default(g,"__chobitsu-hide__=true")}e.enable=c.default(function(){var g=window.XMLHttpRequest.prototype,v=g.send,_=g.open,y=g.setRequestHeader;g.open=function(T,A){if(!m(A))return _.apply(this,arguments);var R=this,Z=R.chobitsuRequest=new d.XhrRequest(R,T,A);Z.on("send",function(L,G){var j={method:G.method,url:G.url,headers:G.reqHeaders};G.data&&(j.postData=G.data),p.default.trigger("Network.requestWillBeSent",{requestId:L,type:"XHR",request:j,timestamp:G.time/1e3})}),Z.on("headersReceived",function(L,G){p.default.trigger("Network.responseReceivedExtraInfo",{requestId:L,blockedCookies:[],headers:G.resHeaders})}),Z.on("done",function(L,G){p.default.trigger("Network.responseReceived",{requestId:L,type:"XHR",response:{status:G.status},timestamp:G.time/1e3}),f.set(L,G.resTxt),p.default.trigger("Network.loadingFinished",{requestId:L,encodedDataLength:G.size,timestamp:G.time/1e3})}),R.addEventListener("readystatechange",function(){switch(R.readyState){case 2:return Z.handleHeadersReceived();case 4:return Z.handleDone()}}),_.apply(this,arguments)},g.send=function(T){var A=this.chobitsuRequest;A&&A.handleSend(T),v.apply(this,arguments)},g.setRequestHeader=function(T,A){var R=this.chobitsuRequest;R&&R.handleReqHeadersSet(T,A),y.apply(this,arguments)};var b=!1;if(window.fetch&&(b=u.default(window.fetch)),!b&&navigator.serviceWorker&&(b=!0),b){var S=window.fetch;window.fetch=function(){for(var T=[],A=0;A<arguments.length;A++)T[A]=arguments[A];var R=new(d.FetchRequest.bind.apply(d.FetchRequest,r([void 0],T)));R.on("send",function(L,G){var j={method:G.method,url:G.url,headers:G.reqHeaders};G.data&&(j.postData=G.data),p.default.trigger("Network.requestWillBeSent",{requestId:L,type:"Fetch",request:j,timestamp:G.time/1e3})}),R.on("done",function(L,G){p.default.trigger("Network.responseReceived",{requestId:L,type:"Fetch",response:{status:G.status,headers:G.resHeaders},timestamp:G.time/1e3}),f.set(L,G.resTxt),p.default.trigger("Network.loadingFinished",{requestId:L,encodedDataLength:G.size,timestamp:G.time/1e3})});var Z=S.apply(void 0,T);return R.send(Z),Z}}}),e.getResponseBody=function(g){return{base64Encoded:!1,body:f.get(g.requestId)}}},8689:function(n,e,t){var r=this&&this.__createBinding||(Object.create?function(tt,nt,Et,yt){yt===void 0&&(yt=Et),Object.defineProperty(tt,yt,{enumerable:!0,get:function(){return nt[Et]}})}:function(tt,nt,Et,yt){yt===void 0&&(yt=Et),tt[yt]=nt[Et]}),i=this&&this.__setModuleDefault||(Object.create?function(tt,nt){Object.defineProperty(tt,"default",{enumerable:!0,value:nt})}:function(tt,nt){tt.default=nt}),o=this&&this.__importStar||function(tt){if(tt&&tt.__esModule)return tt;var nt={};if(tt!=null)for(var Et in tt)Et!=="default"&&Object.hasOwnProperty.call(tt,Et)&&r(nt,tt,Et);return i(nt,tt),nt},s=this&&this.__importDefault||function(tt){return tt&&tt.__esModule?tt:{default:tt}};Object.defineProperty(e,"__esModule",{value:!0}),e.setInspectMode=e.setShowViewportSizeOnResize=e.hideHighlight=e.highlightNode=e.disable=e.enable=void 0;var a,l,c=t(2049),u=t(7935),h=s(t(1512)),d=s(t(8613)),p=s(t(642)),f=s(t(4193)),m=s(t(6329)),g=s(t(3276)),v=s(t(5610)),_=s(t(3474)),y=s(t(4210)),b=s(t(7715)),S=o(t(7923)),T=!1,A=!1,R=y.default("clip-path","polygon(50% 0px, 0px 100%, 100% 100%)"),Z="ontouchstart"in v.default,L=t(2777).replace("/*# sourceMappingURL=luna-dom-highlighter.css.map*/","");function G(tt){var nt,Et=tt.nodeId,yt=tt.highlightConfig,Gt=tt.objectId;Et&&(nt=c.getNode(Et)),Gt&&(nt=S.getObj(Gt)),nt.nodeType!==1&&nt.nodeType!==3||(f.default(yt,{contentColor:"transparent",paddingColor:"transparent",borderColor:"transparent",marginColor:"transparent"}),R||m.default(yt,{showInfo:!1}),a.highlight(nt,yt))}function j(){a.hide()}e.enable=function(){if(!A){var tt=d.default("div",{class:"__chobitsu-hide__",style:{all:"initial"}});l=h.default(tt),document.documentElement.appendChild(tt);var nt=null,Et=null;if(tt.attachShadow?Et=tt.attachShadow({mode:"open"}):tt.createShadowRoot&&(Et=tt.createShadowRoot()),Et){var yt=document.createElement("style");yt.textContent=L,yt.type="text/css",Et.appendChild(yt),nt=document.createElement("div"),Et.appendChild(nt)}else nt=document.createElement("div"),tt.appendChild(nt),T||(p.default(L),T=!0);a=new b.default(nt,{monitorResize:_.default(v.default.ResizeObserver),showInfo:R}),window.addEventListener("resize",rt),A=!0}},e.disable=function(){a.destroy(),l.remove(),window.removeEventListener("resize",rt),A=!1},e.highlightNode=G,e.hideHighlight=j;var M=!1;e.setShowViewportSizeOnResize=function(tt){M=tt.show};var E={},I="none";function U(tt){if(Z){var nt=tt.touches[0]||tt.changedTouches[0];return document.elementFromPoint(nt.clientX,nt.clientY)}return document.elementFromPoint(tt.clientX,tt.clientY)}e.setInspectMode=function(tt){E=tt.highlightConfig,I=tt.mode};var N=-1;function Y(tt){if(I!=="none"){var nt=U(tt);if(nt&&c.isValidNode(nt)){var Et=c.getNodeId(nt);Et||(Et=u.pushNodesToFrontend(nt)),G({nodeId:Et,highlightConfig:E}),Et!==N&&(g.default.trigger("Overlay.nodeHighlightRequested",{nodeId:Et}),N=Et)}}}function D(tt){if(I!=="none"){tt.preventDefault(),tt.stopImmediatePropagation();var nt=U(tt);g.default.trigger("Overlay.inspectNodeRequested",{backendNodeId:c.getNodeId(nt)}),N=-1,j()}}function z(tt,nt){document.documentElement.addEventListener(tt,nt,!0)}Z?(z("touchstart",Y),z("touchmove",Y),z("touchend",D)):(z("mousemove",Y),z("mouseout",function(){I!=="none"&&j()}),z("click",D));var $=d.default("div",{class:"__chobitsu-hide__",style:{position:"fixed",right:0,top:0,background:"#fff",fontSize:13,opacity:.5,padding:"4px 6px"}});function rt(){M&&(st.text(window.innerWidth+"px × "+window.innerHeight+"px"),ot?clearTimeout(ot):document.documentElement.appendChild($),ot=setTimeout(function(){st.remove(),ot=null},1e3))}var ot,st=h.default($)},9119:function(n,e,t){var r=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.getTrustTokens=e.clearDataForOrigin=e.getUsageAndQuota=void 0;var i=r(t(3783)),o=r(t(5031)),s=r(t(615)),a=t(2139),l=s.default("local"),c=s.default("session");e.getUsageAndQuota=function(){return{quota:0,usage:0,usageBreakdown:[]}},e.clearDataForOrigin=function(u){var h=u.storageTypes.split(",");i.default(h,function(d){if(d==="cookies"){var p=a.getCookies().cookies;i.default(p,function(f){var m=f.name;return o.default(m)})}else d==="local_storage"&&(l.clear(),c.clear())})},e.getTrustTokens=function(){return{tokens:[]}}},3276:function(n,e,t){var r,i=this&&this.__extends||(r=function(a,l){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var h in u)u.hasOwnProperty(h)&&(c[h]=u[h])},r(a,l)},function(a,l){function c(){this.constructor=a}r(a,l),a.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}),o=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var s=function(a){function l(){return a!==null&&a.apply(this,arguments)||this}return i(l,a),l.prototype.trigger=function(c,u){this.emit("message",JSON.stringify({method:c,params:u}))},l}(o(t(1443)).default);e.default=new s},1628:function(n,e,t){var r=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.setGlobal=void 0;var i=r(t(6768)),o=r(t(2327)),s=r(t(1352)),a=r(t(2533)),l=r(t(8933)),c=r(t(3783)),u={copy:function(h){i.default(h)||(h=JSON.stringify(h,null,2)),o.default(h)},$:function(h){return document.querySelector(h)},$$:function(h){return s.default(document.querySelectorAll(h))},$x:function(h){return l.default(h)},keys:a.default};e.setGlobal=function(h,d){u[h]=d},e.default=function(h){var d;c.default(u,function(p,f){window[f]||(window[f]=p)});try{d=eval.call(window,"("+h+")")}catch{d=eval.call(window,h)}return c.default(u,function(p,f){window[f]&&window[f]===p&&delete window[f]}),d}},6126:function(n,e,t){var r,i=this&&this.__extends||(r=function(c,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var p in d)d.hasOwnProperty(p)&&(h[p]=d[p])},r(c,u)},function(c,u){function h(){this.constructor=c}r(c,u),c.prototype=u===null?Object.create(u):(h.prototype=u.prototype,new h)}),o=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(1443)),a=o(t(3783)),l=function(c){function u(){var h=c.call(this)||this;return h.observer=new MutationObserver(function(d){a.default(d,function(p){return h.handleMutation(p)})}),h}return i(u,c),u.prototype.observe=function(){var h=this.observer;h.disconnect(),h.observe(document.documentElement,{attributes:!0,childList:!0,characterData:!0,subtree:!0})},u.prototype.handleMutation=function(h){h.type==="attributes"?this.emit("attributes",h.target,h.attributeName):h.type==="childList"?this.emit("childList",h.target,h.addedNodes,h.removedNodes):h.type==="characterData"&&this.emit("characterData",h.target)},u}(s.default);e.default=new l},2049:function(n,e,t){var r=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.getNode=e.isValidNode=e.filterNodes=e.getPreviousNode=e.getChildNodes=e.wrap=e.getNodeId=e.clear=e.getOrCreateNodeId=void 0;var i=r(t(2461)),o=r(t(5972)),s=r(t(3783)),a=r(t(4331)),l=r(t(6341)),c=r(t(6329)),u=t(316),h=new Map,d=new Map,p=1;function f(y){var b=d.get(y);return b||(b=p++,d.set(y,b),h.set(b,y),b)}function m(y,b){var S=(b===void 0?{}:b).depth,T=S===void 0?1:S,A=f(y),R={nodeName:y.nodeName,nodeType:y.nodeType,localName:y.localName||"",nodeValue:y.nodeValue||"",nodeId:A,backendNodeId:A};if(y.parentNode&&(R.parentId=f(y.parentNode)),y.nodeType===10)return c.default(R,{publicId:"",systemId:""});if(y.attributes){var Z=[];s.default(y.attributes,function(j){var M=j.name,E=j.value;return Z.push(M,E)}),R.attributes=Z}var L=v(y.childNodes);R.childNodeCount=L.length;var G=R.childNodeCount===1&&L[0].nodeType===3;return(T>0||G)&&(R.children=g(y,T)),R}function g(y,b){var S=v(y.childNodes);return i.default(S,function(T){return m(T,{depth:b-1})})}function v(y){return o.default(y,function(b){return _(b)})}function _(y){if(y.nodeType===1){var b=y.getAttribute("class")||"";if(l.default(b,"__chobitsu-hide__")||l.default(b,"html2canvas-container"))return!1}var S=!(y.nodeType===3&&a.default(y.nodeValue||"")==="");return S&&y.parentNode?_(y.parentNode):S}e.getOrCreateNodeId=f,e.clear=function(){h.clear(),d.clear()},e.getNodeId=function(y){return d.get(y)},e.wrap=m,e.getChildNodes=g,e.getPreviousNode=function(y){var b=y.previousSibling;if(b){for(;!_(b)&&b.previousSibling;)b=b.previousSibling;return b&&_(b)?b:void 0}},e.filterNodes=v,e.isValidNode=_,e.getNode=function(y){var b=h.get(y);if(!b||b.nodeType===10)throw u.createErr(-32e3,"Could not find node with given id");return b}},7923:function(n,e,t){var r=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(e,"__esModule",{value:!0}),e.getProperties=e.releaseObj=e.getObj=e.wrap=e.clear=void 0;var i=r(t(3367)),o=r(t(6156)),s=r(t(6472)),a=r(t(4777)),l=r(t(9833)),c=r(t(2749)),u=r(t(3708)),h=r(t(7470)),d=r(t(1754)),p=r(t(3085)),f=r(t(2533)),m=r(t(300)),g=r(t(1116)),v=r(t(8740)),_=r(t(415)),y=r(t(9804)),b=r(t(6257)),S=new Map,T=new Map,A=new Map,R=new Map,Z=1;function L(D,z){var $=T.get(D);return $||($=JSON.stringify({injectedScriptId:0,id:Z++}),T.set(D,$),S.set($,D),A.set($,z),$)}function G(D,z){var $=z===void 0?{}:z,rt=$.generatePreview,ot=rt!==void 0&&rt,st=$.self,tt=st===void 0?D:st,nt=U(D),Et=nt.type,yt=nt.subtype;return Et==="undefined"?nt:Et==="string"||Et==="boolean"||yt==="null"?(nt.value=D,nt):(nt.description=I(D,tt),Et==="number"?(nt.value=D,nt):Et==="symbol"?(nt.objectId=L(D,tt),nt):(nt.className=Et==="function"?"Function":yt==="array"?"Array":yt==="map"?"Map":yt==="set"?"Set":yt==="regexp"?"RegExp":yt==="error"?D.name:p.default(D,!1),ot&&(nt.preview=M(D,tt)),nt.objectId=L(D,tt),nt))}function j(D){return S.get(D)}e.clear=function(){S.clear(),T.clear(),A.clear()},e.wrap=G,e.getObj=j,e.releaseObj=function(D){var z=j(D);T.delete(z),A.delete(D),S.delete(D)},e.getProperties=function(D){for(var z=D.accessorPropertiesOnly,$=D.objectId,rt=D.ownProperties,ot=D.generatePreview,st=[],tt={prototype:!rt,unenumerable:!0,symbol:!z},nt=S.get($),Et=A.get($),yt=g.default(nt,tt),Gt=_.default(nt),Nt=0,jt=yt.length;Nt<jt;Nt++){var Rt=yt[Nt],Dt=void 0;try{Dt=Et[Rt]}catch{}var Ct={name:i.default(Rt),isOwn:b.default(Et,Rt)},Q=Object.getOwnPropertyDescriptor(nt,Rt);if(!Q&&Gt&&(Q=Object.getOwnPropertyDescriptor(Gt,Rt)),Q){if(z&&!Q.get&&!Q.set)continue;Ct.configurable=Q.configurable,Ct.enumerable=Q.enumerable,Ct.writable=Q.writable,Q.get&&(Ct.get=G(Q.get)),Q.set&&(Ct.set=G(Q.set))}Gt&&b.default(Gt,Rt)&&Ct.enumerable&&(Ct.isOwn=!0);var ft=!0;!Ct.isOwn&&Ct.get&&(ft=!1),ft&&(y.default(Rt)?(Ct.symbol=G(Rt),Ct.value={type:"undefined"}):Ct.value=G(Dt,{generatePreview:ot})),z&&a.default(Dt)&&v.default(Dt)||st.push(Ct)}if(!Gt||rt||Y(nt)||st.push({name:"__proto__",configurable:!0,enumerable:!1,isOwn:b.default(nt,"__proto__"),value:G(Gt,{self:Et}),writable:!1}),z)return{result:st};var _t=[];if(Gt&&!Y(nt)&&_t.push({name:"[[Prototype]]",value:G(Gt,{self:Et})}),u.default(nt)||h.default(nt)){var Lt=function(K){for(var mt=R.get(K),W=mt?j(mt):[],vt=K.entries(),ut=vt.next().value;ut;)u.default(K)?W.push(new N(ut[1],ut[0])):W.push(new N(ut[1])),ut=vt.next().value;return W}(nt);_t.push({name:"[[Entries]]",value:G(Lt)})}return{internalProperties:_t,result:st}};function M(D,z){z===void 0&&(z=D);var $=U(D);$.description=I(D,z);var rt=!1,ot=[],st=f.default(D),tt=st.length;tt>5&&(tt=5,rt=!0);for(var nt=0;nt<tt;nt++){var Et=st[nt];ot.push(E(Et,z[Et]))}if($.properties=ot,u.default(D)){for(var yt=[],Gt=(nt=0,D.keys()),Nt=Gt.next().value;Nt;){if(nt>5){rt=!0;break}yt.push({key:M(Nt),value:M(D.get(Nt))}),nt++,Nt=Gt.next().value}$.entries=yt}else if(h.default(D)){var jt=[],Rt=(nt=0,D.keys());for(Nt=Rt.next().value;Nt;){if(nt>5){rt=!0;break}jt.push({value:M(Nt)}),nt++,Nt=Rt.next().value}$.entries=jt}return $.overflow=rt,$}function E(D,z){var $=U(z);$.name=D;var rt,ot=$.subtype;return rt=$.type==="object"?ot==="null"?"null":ot==="array"?"Array("+z.length+")":ot==="map"?"Map("+z.size+")":ot==="set"?"Set("+z.size+")":p.default(z,!1):i.default(z),$.value=rt,$}function I(D,z){z===void 0&&(z=D);var $=U(D),rt=$.type,ot=$.subtype;return rt==="string"?D:rt==="number"||rt==="symbol"?i.default(D):rt==="function"?m.default(D):ot==="array"?"Array("+D.length+")":ot==="map"?"Map("+z.size+")":ot==="set"?"Set("+z.size+")":ot==="regexp"?i.default(D):ot==="error"?D.stack:ot==="internal#entry"?D.name?'{"'+i.default(D.name)+'" => "'+i.default(D.value)+'"}':'"'+i.default(D.value)+'"':p.default(D,!1)}function U(D){var z=typeof D,$="object";if(D instanceof N)$="internal#entry";else if(o.default(D))$="null";else if(s.default(D))$="array";else if(d.default(D))$="regexp";else if(c.default(D))$="error";else if(u.default(D))$="map";else if(h.default(D))$="set";else try{l.default(D)&&($="node")}catch{}return{type:z,subtype:$}}var N=function(D,z){z&&(this.name=z),this.value=D};function Y(D){return D instanceof N||!!(D[0]&&D[0]instanceof N)}},2636:function(n,e,t){var r,i=this&&this.__extends||(r=function(M,E){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,U){I.__proto__=U}||function(I,U){for(var N in U)U.hasOwnProperty(N)&&(I[N]=U[N])},r(M,E)},function(M,E){function I(){this.constructor=M}r(M,E),M.prototype=E===null?Object.create(E):(I.prototype=E.prototype,new I)}),o=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(e,"__esModule",{value:!0}),e.fullUrl=e.FetchRequest=e.XhrRequest=void 0;var s=o(t(1443)),a=o(t(6768)),l=o(t(9702)),c=o(t(6334)),u=o(t(8887)),h=o(t(4331)),d=o(t(8847)),p=o(t(3783)),f=o(t(6930)),m=o(t(3875)),g=t(316),v=function(M){function E(I,U,N){var Y=M.call(this)||this;return Y.xhr=I,Y.reqHeaders={},Y.method=U,Y.url=R(N),Y.id=g.createId(),Y}return i(E,M),E.prototype.toJSON=function(){return{method:this.method,url:this.url,id:this.id}},E.prototype.handleSend=function(I){a.default(I)||(I=""),I={name:Z(this.url),url:this.url,data:I,time:d.default(),reqHeaders:this.reqHeaders,method:this.method},u.default(this.reqHeaders)||(I.reqHeaders=this.reqHeaders),this.emit("send",this.id,I)},E.prototype.handleReqHeadersSet=function(I,U){I&&U&&(this.reqHeaders[I]=U)},E.prototype.handleHeadersReceived=function(){var I=this.xhr,U=L(I.getResponseHeader("Content-Type")||"");this.emit("headersReceived",this.id,{type:U.type,subType:U.subType,size:T(I,!0,this.url),time:d.default(),resHeaders:S(I)})},E.prototype.handleDone=function(){var I,U,N,Y=this,D=this.xhr,z=D.responseType,$="",rt=function(){Y.emit("done",Y.id,{status:D.status,size:T(D,!1,Y.url),time:d.default(),resTxt:$})},ot=L(D.getResponseHeader("Content-Type")||"");z!=="blob"||ot.type!=="text"&&ot.subType!=="javascript"&&ot.subType!=="json"?(z!==""&&z!=="text"||($=D.responseText),z==="json"&&($=JSON.stringify(D.response)),rt()):(I=D.response,U=function(st,tt){tt&&($=tt),rt()},(N=new FileReader).onload=function(){U(null,N.result)},N.onerror=function(st){U(st)},N.readAsText(I))},E}(s.default);e.XhrRequest=v;var _=function(M){function E(I,U){U===void 0&&(U={});var N=M.call(this)||this;return I instanceof window.Request&&(I=I.url),N.url=R(I),N.id=g.createId(),N.options=U,N.reqHeaders=U.headers||{},N.method=U.method||"GET",N}return i(E,M),E.prototype.send=function(I){var U=this,N=this.options,Y=a.default(N.body)?N.body:"";this.emit("send",this.id,{name:Z(this.url),url:this.url,data:Y,reqHeaders:this.reqHeaders,time:d.default(),method:this.method}),I.then(function(D){var z=L((D=D.clone()).headers.get("Content-Type"));return D.text().then(function($){var rt={type:z.type,subType:z.subType,time:d.default(),size:y(D,$),resTxt:$,resHeaders:b(D),status:D.status};u.default(U.reqHeaders)||(rt.reqHeaders=U.reqHeaders),U.emit("done",U.id,rt)}),D})},E}(s.default);function y(M,E){var I=M.headers.get("Content-length");return I?m.default(I):j(E)}function b(M){var E={};return M.headers.forEach(function(I,U){return E[U]=I}),E}function S(M){var E=M.getAllResponseHeaders().split(`
`),I={};return p.default(E,function(U){if((U=h.default(U))!==""){var N=U.split(":",2),Y=N[0],D=N[1];I[Y]=h.default(D)}}),I}function T(M,E,I){var U=0;function N(){if(!E){var Y=M.responseType,D="";Y!==""&&Y!=="text"||(D=M.responseText),D&&(U=j(D))}}if(function(Y){return!f.default(Y,G)}(I))N();else try{U=m.default(M.getResponseHeader("Content-Length"))}catch{N()}return U===0&&N(),U}e.FetchRequest=_;var A=document.createElement("a");function R(M){return A.href=M,A.protocol+"//"+A.host+A.pathname+A.search+A.hash}function Z(M){var E=l.default(M.split("/"));return E.indexOf("?")>-1&&(E=h.default(E.split("?")[0])),E===""&&(E=new c.default(M).hostname),E}function L(M){if(!M)return{type:"unknown",subType:"unknown"};var E=M.split(";")[0].split("/");return{type:E[0],subType:l.default(E)}}e.fullUrl=R;var G=window.location.origin;function j(M){var E=encodeURIComponent(M).match(/%[89ABab]/g);return M.length+(E?E.length:0)}},316:function(n,e,t){var r,i=this&&this.__extends||(r=function(_,y){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,S){b.__proto__=S}||function(b,S){for(var T in S)S.hasOwnProperty(T)&&(b[T]=S[T])},r(_,y)},function(_,y){function b(){this.constructor=_}r(_,y),_.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}),o=this&&this.__awaiter||function(_,y,b,S){return new(b||(b=Promise))(function(T,A){function R(G){try{L(S.next(G))}catch(j){A(j)}}function Z(G){try{L(S.throw(G))}catch(j){A(j)}}function L(G){var j;G.done?T(G.value):(j=G.value,j instanceof b?j:new b(function(M){M(j)})).then(R,Z)}L((S=S.apply(_,y||[])).next())})},s=this&&this.__generator||function(_,y){var b,S,T,A,R={label:0,sent:function(){if(1&T[0])throw T[1];return T[1]},trys:[],ops:[]};return A={next:Z(0),throw:Z(1),return:Z(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function Z(L){return function(G){return function(j){if(b)throw new TypeError("Generator is already executing.");for(;R;)try{if(b=1,S&&(T=2&j[0]?S.return:j[0]?S.throw||((T=S.return)&&T.call(S),0):S.next)&&!(T=T.call(S,j[1])).done)return T;switch(S=0,T&&(j=[2&j[0],T.value]),j[0]){case 0:case 1:T=j;break;case 4:return R.label++,{value:j[1],done:!1};case 5:R.label++,S=j[1],j=[0];continue;case 7:j=R.ops.pop(),R.trys.pop();continue;default:if(T=R.trys,!((T=T.length>0&&T[T.length-1])||j[0]!==6&&j[0]!==2)){R=0;continue}if(j[0]===3&&(!T||j[1]>T[0]&&j[1]<T[3])){R.label=j[1];break}if(j[0]===6&&R.label<T[1]){R.label=T[1],T=j;break}if(T&&R.label<T[2]){R.label=T[2],R.ops.push(j);break}T[2]&&R.ops.pop(),R.trys.pop();continue}j=y.call(_,R)}catch(M){j=[6,M],S=0}finally{b=T=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}([L,G])}}},a=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(e,"__esModule",{value:!0}),e.getBase64Content=e.getTextContent=e.getOrigin=e.getUrl=e.createErr=e.ErrorWithCode=e.getAbsoluteUrl=e.createId=void 0;var l=a(t(5229)),c=a(t(1216)),u=a(t(6930)),h=a(t(6334)),d=a(t(1792)),p=a(t(6610)),f=c.default(1e3,9999)+".";e.createId=function(){return l.default(f)},e.getAbsoluteUrl=function(_){var y=document.createElement("a");return y.href=_,y.href};var m=function(_){function y(b,S){var T=this.constructor,A=_.call(this,S)||this;return A.code=b,Object.setPrototypeOf(A,T.prototype),A}return i(y,_),y}(Error);function g(_,y,b){return b===void 0&&(b=""),o(this,void 0,void 0,function(){var S;return s(this,function(T){switch(T.label){case 0:return T.trys.push([0,2,,8]),(S=new h.default(_)).setQuery("__chobitsu-hide__","true"),[4,p.default.get(S.toString(),{responseType:y})];case 1:return[2,T.sent().data];case 2:if(T.sent(),!b)return[3,7];T.label=3;case 3:return T.trys.push([3,6,,7]),[4,p.default.get(v(b,_),{responseType:y})];case 4:return[4,T.sent().data];case 5:return[2,T.sent()];case 6:return T.sent(),[3,7];case 7:return[3,8];case 8:return[2,y==="arraybuffer"?new ArrayBuffer(0):""]}})})}function v(_,y){var b=new h.default(_);return b.setQuery("url",y),b.setQuery("__chobitsu-hide__","true"),b.toString()}e.ErrorWithCode=m,e.createErr=function(_,y){return new m(_,y)},e.getUrl=function(){var _=location.href;return u.default(_,"about:")?parent.location.href:_},e.getOrigin=function(){var _=location.origin;return _==="null"?parent.location.origin:_},e.getTextContent=function(_,y){return y===void 0&&(y=""),o(this,void 0,void 0,function(){return s(this,function(b){switch(b.label){case 0:return[4,g(_,"text",y)];case 1:return[2,b.sent()]}})})},e.getBase64Content=function(_,y){return y===void 0&&(y=""),o(this,void 0,void 0,function(){var b;return s(this,function(S){switch(S.label){case 0:return b=d.default,[4,g(_,"arraybuffer",y)];case 1:return[2,b.apply(void 0,[S.sent(),"base64"])]}})})}},7633:function(n,e,t){t(9170),t(6992),t(1539),t(8674),t(7922),t(4668),t(7727),t(8783);var r=t(857);n.exports=r.Promise},9662:function(n,e,t){var r=t(614),i=t(6330),o=TypeError;n.exports=function(s){if(r(s))return s;throw o(i(s)+" is not a function")}},9483:function(n,e,t){var r=t(4411),i=t(6330),o=TypeError;n.exports=function(s){if(r(s))return s;throw o(i(s)+" is not a constructor")}},6077:function(n,e,t){var r=t(614),i=String,o=TypeError;n.exports=function(s){if(typeof s=="object"||r(s))return s;throw o("Can't set "+i(s)+" as a prototype")}},1223:function(n,e,t){var r=t(5112),i=t(30),o=t(3070).f,s=r("unscopables"),a=Array.prototype;a[s]==null&&o(a,s,{configurable:!0,value:i(null)}),n.exports=function(l){a[s][l]=!0}},5787:function(n,e,t){var r=t(7976),i=TypeError;n.exports=function(o,s){if(r(s,o))return o;throw i("Incorrect invocation")}},9670:function(n,e,t){var r=t(111),i=String,o=TypeError;n.exports=function(s){if(r(s))return s;throw o(i(s)+" is not an object")}},7556:function(n,e,t){var r=t(7293);n.exports=r(function(){if(typeof ArrayBuffer=="function"){var i=new ArrayBuffer(8);Object.isExtensible(i)&&Object.defineProperty(i,"a",{value:8})}})},1318:function(n,e,t){var r=t(5656),i=t(1400),o=t(6244),s=function(a){return function(l,c,u){var h,d=r(l),p=o(d),f=i(u,p);if(a&&c!=c){for(;p>f;)if((h=d[f++])!=h)return!0}else for(;p>f;f++)if((a||f in d)&&d[f]===c)return a||f||0;return!a&&-1}};n.exports={includes:s(!0),indexOf:s(!1)}},1589:function(n,e,t){var r=t(1400),i=t(6244),o=t(6135),s=Array,a=Math.max;n.exports=function(l,c,u){for(var h=i(l),d=r(c,h),p=r(u===void 0?h:u,h),f=s(a(p-d,0)),m=0;d<p;d++,m++)o(f,m,l[d]);return f.length=m,f}},206:function(n,e,t){var r=t(1702);n.exports=r([].slice)},7072:function(n,e,t){var r=t(5112)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,function(){throw 2})}catch{}n.exports=function(a,l){if(!l&&!i)return!1;var c=!1;try{var u={};u[r]=function(){return{next:function(){return{done:c=!0}}}},a(u)}catch{}return c}},4326:function(n,e,t){var r=t(1702),i=r({}.toString),o=r("".slice);n.exports=function(s){return o(i(s),8,-1)}},648:function(n,e,t){var r=t(1694),i=t(614),o=t(4326),s=t(5112)("toStringTag"),a=Object,l=o(function(){return arguments}())=="Arguments";n.exports=r?o:function(c){var u,h,d;return c===void 0?"Undefined":c===null?"Null":typeof(h=function(p,f){try{return p[f]}catch{}}(u=a(c),s))=="string"?h:l?o(u):(d=o(u))=="Object"&&i(u.callee)?"Arguments":d}},5631:function(n,e,t){var r=t(3070).f,i=t(30),o=t(9190),s=t(9974),a=t(5787),l=t(8554),c=t(408),u=t(1656),h=t(6178),d=t(6340),p=t(9781),f=t(2423).fastKey,m=t(9909),g=m.set,v=m.getterFor;n.exports={getConstructor:function(_,y,b,S){var T=_(function(G,j){a(G,A),g(G,{type:y,index:i(null),first:void 0,last:void 0,size:0}),p||(G.size=0),l(j)||c(j,G[S],{that:G,AS_ENTRIES:b})}),A=T.prototype,R=v(y),Z=function(G,j,M){var E,I,U=R(G),N=L(G,j);return N?N.value=M:(U.last=N={index:I=f(j,!0),key:j,value:M,previous:E=U.last,next:void 0,removed:!1},U.first||(U.first=N),E&&(E.next=N),p?U.size++:G.size++,I!=="F"&&(U.index[I]=N)),G},L=function(G,j){var M,E=R(G),I=f(j);if(I!=="F")return E.index[I];for(M=E.first;M;M=M.next)if(M.key==j)return M};return o(A,{clear:function(){for(var G=R(this),j=G.index,M=G.first;M;)M.removed=!0,M.previous&&(M.previous=M.previous.next=void 0),delete j[M.index],M=M.next;G.first=G.last=void 0,p?G.size=0:this.size=0},delete:function(G){var j=this,M=R(j),E=L(j,G);if(E){var I=E.next,U=E.previous;delete M.index[E.index],E.removed=!0,U&&(U.next=I),I&&(I.previous=U),M.first==E&&(M.first=I),M.last==E&&(M.last=U),p?M.size--:j.size--}return!!E},forEach:function(G){for(var j,M=R(this),E=s(G,arguments.length>1?arguments[1]:void 0);j=j?j.next:M.first;)for(E(j.value,j.key,this);j&&j.removed;)j=j.previous},has:function(G){return!!L(this,G)}}),o(A,b?{get:function(G){var j=L(this,G);return j&&j.value},set:function(G,j){return Z(this,G===0?0:G,j)}}:{add:function(G){return Z(this,G=G===0?0:G,G)}}),p&&r(A,"size",{get:function(){return R(this).size}}),T},setStrong:function(_,y,b){var S=y+" Iterator",T=v(y),A=v(S);u(_,y,function(R,Z){g(this,{type:S,target:R,state:T(R),kind:Z,last:void 0})},function(){for(var R=A(this),Z=R.kind,L=R.last;L&&L.removed;)L=L.previous;return R.target&&(R.last=L=L?L.next:R.state.first)?h(Z=="keys"?L.key:Z=="values"?L.value:[L.key,L.value],!1):(R.target=void 0,h(void 0,!0))},b?"entries":"values",!b,!0),d(y)}}},7710:function(n,e,t){var r=t(2109),i=t(7854),o=t(1702),s=t(4705),a=t(8052),l=t(2423),c=t(408),u=t(5787),h=t(614),d=t(8554),p=t(111),f=t(7293),m=t(7072),g=t(8003),v=t(9587);n.exports=function(_,y,b){var S=_.indexOf("Map")!==-1,T=_.indexOf("Weak")!==-1,A=S?"set":"add",R=i[_],Z=R&&R.prototype,L=R,G={},j=function(Y){var D=o(Z[Y]);a(Z,Y,Y=="add"?function(z){return D(this,z===0?0:z),this}:Y=="delete"?function(z){return!(T&&!p(z))&&D(this,z===0?0:z)}:Y=="get"?function(z){return T&&!p(z)?void 0:D(this,z===0?0:z)}:Y=="has"?function(z){return!(T&&!p(z))&&D(this,z===0?0:z)}:function(z,$){return D(this,z===0?0:z,$),this})};if(s(_,!h(R)||!(T||Z.forEach&&!f(function(){new R().entries().next()}))))L=b.getConstructor(y,_,S,A),l.enable();else if(s(_,!0)){var M=new L,E=M[A](T?{}:-0,1)!=M,I=f(function(){M.has(1)}),U=m(function(Y){new R(Y)}),N=!T&&f(function(){for(var Y=new R,D=5;D--;)Y[A](D,D);return!Y.has(-0)});U||((L=y(function(Y,D){u(Y,Z);var z=v(new R,Y,L);return d(D)||c(D,z[A],{that:z,AS_ENTRIES:S}),z})).prototype=Z,Z.constructor=L),(I||N)&&(j("delete"),j("has"),S&&j("get")),(N||E)&&j(A),T&&Z.clear&&delete Z.clear}return G[_]=L,r({global:!0,constructor:!0,forced:L!=R},G),g(L,_),T||b.setStrong(L,_,S),L}},9920:function(n,e,t){var r=t(2597),i=t(3887),o=t(1236),s=t(3070);n.exports=function(a,l,c){for(var u=i(l),h=s.f,d=o.f,p=0;p<u.length;p++){var f=u[p];r(a,f)||c&&r(c,f)||h(a,f,d(l,f))}}},8544:function(n,e,t){var r=t(7293);n.exports=!r(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},6178:function(n){n.exports=function(e,t){return{value:e,done:t}}},8880:function(n,e,t){var r=t(9781),i=t(3070),o=t(9114);n.exports=r?function(s,a,l){return i.f(s,a,o(1,l))}:function(s,a,l){return s[a]=l,s}},9114:function(n){n.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:function(n,e,t){var r=t(4948),i=t(3070),o=t(9114);n.exports=function(s,a,l){var c=r(a);c in s?i.f(s,c,o(0,l)):s[c]=l}},8052:function(n,e,t){var r=t(614),i=t(3070),o=t(6339),s=t(3072);n.exports=function(a,l,c,u){u||(u={});var h=u.enumerable,d=u.name!==void 0?u.name:l;if(r(c)&&o(c,d,u),u.global)h?a[l]=c:s(l,c);else{try{u.unsafe?a[l]&&(h=!0):delete a[l]}catch{}h?a[l]=c:i.f(a,l,{value:c,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return a}},9190:function(n,e,t){var r=t(8052);n.exports=function(i,o,s){for(var a in o)r(i,a,o[a],s);return i}},3072:function(n,e,t){var r=t(7854),i=Object.defineProperty;n.exports=function(o,s){try{i(r,o,{value:s,configurable:!0,writable:!0})}catch{r[o]=s}return s}},9781:function(n,e,t){var r=t(7293);n.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},4154:function(n){var e=typeof document=="object"&&document.all,t=e===void 0&&e!==void 0;n.exports={all:e,IS_HTMLDDA:t}},317:function(n,e,t){var r=t(7854),i=t(111),o=r.document,s=i(o)&&i(o.createElement);n.exports=function(a){return s?o.createElement(a):{}}},8324:function(n){n.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(n,e,t){var r=t(317)("span").classList,i=r&&r.constructor&&r.constructor.prototype;n.exports=i===Object.prototype?void 0:i},7871:function(n,e,t){var r=t(3823),i=t(5268);n.exports=!r&&!i&&typeof window=="object"&&typeof document=="object"},3823:function(n){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},1528:function(n,e,t){var r=t(8113);n.exports=/ipad|iphone|ipod/i.test(r)&&typeof Pebble<"u"},6833:function(n,e,t){var r=t(8113);n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:function(n,e,t){var r=t(4326);n.exports=typeof process<"u"&&r(process)=="process"},1036:function(n,e,t){var r=t(8113);n.exports=/web0s(?!.*chrome)/i.test(r)},8113:function(n){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},7392:function(n,e,t){var r,i,o=t(7854),s=t(8113),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(i=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=+r[1]),n.exports=i},748:function(n){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:function(n,e,t){var r=t(1702),i=Error,o=r("".replace),s=String(i("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(s);n.exports=function(c,u){if(l&&typeof c=="string"&&!i.prepareStackTrace)for(;u--;)c=o(c,a,"");return c}},5392:function(n,e,t){var r=t(8880),i=t(1060),o=t(2914),s=Error.captureStackTrace;n.exports=function(a,l,c,u){o&&(s?s(a,l):r(a,"stack",i(c,u)))}},2914:function(n,e,t){var r=t(7293),i=t(9114);n.exports=!r(function(){var o=Error("a");return!("stack"in o)||(Object.defineProperty(o,"stack",i(1,7)),o.stack!==7)})},2109:function(n,e,t){var r=t(7854),i=t(1236).f,o=t(8880),s=t(8052),a=t(3072),l=t(9920),c=t(4705);n.exports=function(u,h){var d,p,f,m,g,v=u.target,_=u.global,y=u.stat;if(d=_?r:y?r[v]||a(v,{}):(r[v]||{}).prototype)for(p in h){if(m=h[p],f=u.dontCallGetSet?(g=i(d,p))&&g.value:d[p],!c(_?p:v+(y?".":"#")+p,u.forced)&&f!==void 0){if(typeof m==typeof f)continue;l(m,f)}(u.sham||f&&f.sham)&&o(m,"sham",!0),s(d,p,m,u)}}},7293:function(n){n.exports=function(e){try{return!!e()}catch{return!0}}},6677:function(n,e,t){var r=t(7293);n.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},2104:function(n,e,t){var r=t(4374),i=Function.prototype,o=i.apply,s=i.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},9974:function(n,e,t){var r=t(1470),i=t(9662),o=t(4374),s=r(r.bind);n.exports=function(a,l){return i(a),l===void 0?a:o?s(a,l):function(){return a.apply(l,arguments)}}},4374:function(n,e,t){var r=t(7293);n.exports=!r(function(){var i=function(){}.bind();return typeof i!="function"||i.hasOwnProperty("prototype")})},6916:function(n,e,t){var r=t(4374),i=Function.prototype.call;n.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(n,e,t){var r=t(9781),i=t(2597),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),l=a&&function(){}.name==="something",c=a&&(!r||r&&s(o,"name").configurable);n.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},1470:function(n,e,t){var r=t(4326),i=t(1702);n.exports=function(o){if(r(o)==="Function")return i(o)}},1702:function(n,e,t){var r=t(4374),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);n.exports=r?s:function(a){return function(){return o.apply(a,arguments)}}},5005:function(n,e,t){var r=t(7854),i=t(614),o=function(s){return i(s)?s:void 0};n.exports=function(s,a){return arguments.length<2?o(r[s]):r[s]&&r[s][a]}},1246:function(n,e,t){var r=t(648),i=t(8173),o=t(8554),s=t(7497),a=t(5112)("iterator");n.exports=function(l){if(!o(l))return i(l,a)||i(l,"@@iterator")||s[r(l)]}},4121:function(n,e,t){var r=t(6916),i=t(9662),o=t(9670),s=t(6330),a=t(1246),l=TypeError;n.exports=function(c,u){var h=arguments.length<2?a(c):u;if(i(h))return o(r(h,c));throw l(s(c)+" is not iterable")}},8173:function(n,e,t){var r=t(9662),i=t(8554);n.exports=function(o,s){var a=o[s];return i(a)?void 0:r(a)}},7854:function(n,e,t){var r=function(i){return i&&i.Math==Math&&i};n.exports=r(typeof globalThis=="object"&&globalThis)||r(typeof window=="object"&&window)||r(typeof self=="object"&&self)||r(typeof t.g=="object"&&t.g)||function(){return this}()||Function("return this")()},2597:function(n,e,t){var r=t(1702),i=t(7908),o=r({}.hasOwnProperty);n.exports=Object.hasOwn||function(s,a){return o(i(s),a)}},3501:function(n){n.exports={}},842:function(n){n.exports=function(e,t){try{arguments.length==1?console.error(e):console.error(e,t)}catch{}}},490:function(n,e,t){var r=t(5005);n.exports=r("document","documentElement")},4664:function(n,e,t){var r=t(9781),i=t(7293),o=t(317);n.exports=!r&&!i(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!=7})},8361:function(n,e,t){var r=t(1702),i=t(7293),o=t(4326),s=Object,a=r("".split);n.exports=i(function(){return!s("z").propertyIsEnumerable(0)})?function(l){return o(l)=="String"?a(l,""):s(l)}:s},9587:function(n,e,t){var r=t(614),i=t(111),o=t(7674);n.exports=function(s,a,l){var c,u;return o&&r(c=a.constructor)&&c!==l&&i(u=c.prototype)&&u!==l.prototype&&o(s,u),s}},2788:function(n,e,t){var r=t(1702),i=t(614),o=t(5465),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(a){return s(a)}),n.exports=o.inspectSource},8340:function(n,e,t){var r=t(111),i=t(8880);n.exports=function(o,s){r(s)&&"cause"in s&&i(o,"cause",s.cause)}},2423:function(n,e,t){var r=t(2109),i=t(1702),o=t(3501),s=t(111),a=t(2597),l=t(3070).f,c=t(8006),u=t(1156),h=t(2050),d=t(9711),p=t(6677),f=!1,m=d("meta"),g=0,v=function(y){l(y,m,{value:{objectID:"O"+g++,weakData:{}}})},_=n.exports={enable:function(){_.enable=function(){},f=!0;var y=c.f,b=i([].splice),S={};S[m]=1,y(S).length&&(c.f=function(T){for(var A=y(T),R=0,Z=A.length;R<Z;R++)if(A[R]===m){b(A,R,1);break}return A},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(y,b){if(!s(y))return typeof y=="symbol"?y:(typeof y=="string"?"S":"P")+y;if(!a(y,m)){if(!h(y))return"F";if(!b)return"E";v(y)}return y[m].objectID},getWeakData:function(y,b){if(!a(y,m)){if(!h(y))return!0;if(!b)return!1;v(y)}return y[m].weakData},onFreeze:function(y){return p&&f&&h(y)&&!a(y,m)&&v(y),y}};o[m]=!0},9909:function(n,e,t){var r,i,o,s=t(4811),a=t(7854),l=t(111),c=t(8880),u=t(2597),h=t(5465),d=t(6200),p=t(3501),f="Object already initialized",m=a.TypeError,g=a.WeakMap;if(s||h.state){var v=h.state||(h.state=new g);v.get=v.get,v.has=v.has,v.set=v.set,r=function(y,b){if(v.has(y))throw m(f);return b.facade=y,v.set(y,b),b},i=function(y){return v.get(y)||{}},o=function(y){return v.has(y)}}else{var _=d("state");p[_]=!0,r=function(y,b){if(u(y,_))throw m(f);return b.facade=y,c(y,_,b),b},i=function(y){return u(y,_)?y[_]:{}},o=function(y){return u(y,_)}}n.exports={set:r,get:i,has:o,enforce:function(y){return o(y)?i(y):r(y,{})},getterFor:function(y){return function(b){var S;if(!l(b)||(S=i(b)).type!==y)throw m("Incompatible receiver, "+y+" required");return S}}}},7659:function(n,e,t){var r=t(5112),i=t(7497),o=r("iterator"),s=Array.prototype;n.exports=function(a){return a!==void 0&&(i.Array===a||s[o]===a)}},614:function(n,e,t){var r=t(4154),i=r.all;n.exports=r.IS_HTMLDDA?function(o){return typeof o=="function"||o===i}:function(o){return typeof o=="function"}},4411:function(n,e,t){var r=t(1702),i=t(7293),o=t(614),s=t(648),a=t(5005),l=t(2788),c=function(){},u=[],h=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=r(d.exec),f=!d.exec(c),m=function(v){if(!o(v))return!1;try{return h(c,u,v),!0}catch{return!1}},g=function(v){if(!o(v))return!1;switch(s(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(d,l(v))}catch{return!0}};g.sham=!0,n.exports=!h||i(function(){var v;return m(m.call)||!m(Object)||!m(function(){v=!0})||v})?g:m},4705:function(n,e,t){var r=t(7293),i=t(614),o=/#|\.prototype\./,s=function(h,d){var p=l[a(h)];return p==u||p!=c&&(i(d)?r(d):!!d)},a=s.normalize=function(h){return String(h).replace(o,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";n.exports=s},8554:function(n){n.exports=function(e){return e==null}},111:function(n,e,t){var r=t(614),i=t(4154),o=i.all;n.exports=i.IS_HTMLDDA?function(s){return typeof s=="object"?s!==null:r(s)||s===o}:function(s){return typeof s=="object"?s!==null:r(s)}},1913:function(n){n.exports=!1},2190:function(n,e,t){var r=t(5005),i=t(614),o=t(7976),s=t(3307),a=Object;n.exports=s?function(l){return typeof l=="symbol"}:function(l){var c=r("Symbol");return i(c)&&o(c.prototype,a(l))}},408:function(n,e,t){var r=t(9974),i=t(6916),o=t(9670),s=t(6330),a=t(7659),l=t(6244),c=t(7976),u=t(4121),h=t(1246),d=t(9212),p=TypeError,f=function(g,v){this.stopped=g,this.result=v},m=f.prototype;n.exports=function(g,v,_){var y,b,S,T,A,R,Z,L=_&&_.that,G=!(!_||!_.AS_ENTRIES),j=!(!_||!_.IS_RECORD),M=!(!_||!_.IS_ITERATOR),E=!(!_||!_.INTERRUPTED),I=r(v,L),U=function(Y){return y&&d(y,"normal",Y),new f(!0,Y)},N=function(Y){return G?(o(Y),E?I(Y[0],Y[1],U):I(Y[0],Y[1])):E?I(Y,U):I(Y)};if(j)y=g.iterator;else if(M)y=g;else{if(!(b=h(g)))throw p(s(g)+" is not iterable");if(a(b)){for(S=0,T=l(g);T>S;S++)if((A=N(g[S]))&&c(m,A))return A;return new f(!1)}y=u(g,b)}for(R=j?g.next:y.next;!(Z=i(R,y)).done;){try{A=N(Z.value)}catch(Y){d(y,"throw",Y)}if(typeof A=="object"&&A&&c(m,A))return A}return new f(!1)}},9212:function(n,e,t){var r=t(6916),i=t(9670),o=t(8173);n.exports=function(s,a,l){var c,u;i(s);try{if(!(c=o(s,"return"))){if(a==="throw")throw l;return l}c=r(c,s)}catch(h){u=!0,c=h}if(a==="throw")throw l;if(u)throw c;return i(c),l}},3061:function(n,e,t){var r=t(3383).IteratorPrototype,i=t(30),o=t(9114),s=t(8003),a=t(7497),l=function(){return this};n.exports=function(c,u,h,d){var p=u+" Iterator";return c.prototype=i(r,{next:o(+!d,h)}),s(c,p,!1,!0),a[p]=l,c}},1656:function(n,e,t){var r=t(2109),i=t(6916),o=t(1913),s=t(6530),a=t(614),l=t(3061),c=t(9518),u=t(7674),h=t(8003),d=t(8880),p=t(8052),f=t(5112),m=t(7497),g=t(3383),v=s.PROPER,_=s.CONFIGURABLE,y=g.IteratorPrototype,b=g.BUGGY_SAFARI_ITERATORS,S=f("iterator"),T="keys",A="values",R="entries",Z=function(){return this};n.exports=function(L,G,j,M,E,I,U){l(j,G,M);var N,Y,D,z=function(Et){if(Et===E&&tt)return tt;if(!b&&Et in ot)return ot[Et];switch(Et){case T:case A:case R:return function(){return new j(this,Et)}}return function(){return new j(this)}},$=G+" Iterator",rt=!1,ot=L.prototype,st=ot[S]||ot["@@iterator"]||E&&ot[E],tt=!b&&st||z(E),nt=G=="Array"&&ot.entries||st;if(nt&&(N=c(nt.call(new L)))!==Object.prototype&&N.next&&(o||c(N)===y||(u?u(N,y):a(N[S])||p(N,S,Z)),h(N,$,!0,!0),o&&(m[$]=Z)),v&&E==A&&st&&st.name!==A&&(!o&&_?d(ot,"name",A):(rt=!0,tt=function(){return i(st,this)})),E)if(Y={values:z(A),keys:I?tt:z(T),entries:z(R)},U)for(D in Y)(b||rt||!(D in ot))&&p(ot,D,Y[D]);else r({target:G,proto:!0,forced:b||rt},Y);return o&&!U||ot[S]===tt||p(ot,S,tt,{name:E}),m[G]=tt,Y}},3383:function(n,e,t){var r,i,o,s=t(7293),a=t(614),l=t(111),c=t(30),u=t(9518),h=t(8052),d=t(5112),p=t(1913),f=d("iterator"),m=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):m=!0),!l(r)||s(function(){var g={};return r[f].call(g)!==g})?r={}:p&&(r=c(r)),a(r[f])||h(r,f,function(){return this}),n.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},7497:function(n){n.exports={}},6244:function(n,e,t){var r=t(7466);n.exports=function(i){return r(i.length)}},6339:function(n,e,t){var r=t(1702),i=t(7293),o=t(614),s=t(2597),a=t(9781),l=t(6530).CONFIGURABLE,c=t(2788),u=t(9909),h=u.enforce,d=u.get,p=String,f=Object.defineProperty,m=r("".slice),g=r("".replace),v=r([].join),_=a&&!i(function(){return f(function(){},"length",{value:8}).length!==8}),y=String(String).split("String"),b=n.exports=function(S,T,A){m(p(T),0,7)==="Symbol("&&(T="["+g(p(T),/^Symbol\(([^)]*)\)/,"$1")+"]"),A&&A.getter&&(T="get "+T),A&&A.setter&&(T="set "+T),(!s(S,"name")||l&&S.name!==T)&&(a?f(S,"name",{value:T,configurable:!0}):S.name=T),_&&A&&s(A,"arity")&&S.length!==A.arity&&f(S,"length",{value:A.arity});try{A&&s(A,"constructor")&&A.constructor?a&&f(S,"prototype",{writable:!1}):S.prototype&&(S.prototype=void 0)}catch{}var R=h(S);return s(R,"source")||(R.source=v(y,typeof T=="string"?T:"")),S};Function.prototype.toString=b(function(){return o(this)&&d(this).source||c(this)},"toString")},4758:function(n){var e=Math.ceil,t=Math.floor;n.exports=Math.trunc||function(r){var i=+r;return(i>0?t:e)(i)}},5948:function(n,e,t){var r,i,o,s,a,l=t(7854),c=t(9974),u=t(1236).f,h=t(261).set,d=t(8572),p=t(6833),f=t(1528),m=t(1036),g=t(5268),v=l.MutationObserver||l.WebKitMutationObserver,_=l.document,y=l.process,b=l.Promise,S=u(l,"queueMicrotask"),T=S&&S.value;if(!T){var A=new d,R=function(){var Z,L;for(g&&(Z=y.domain)&&Z.exit();L=A.get();)try{L()}catch(G){throw A.head&&r(),G}Z&&Z.enter()};p||g||m||!v||!_?!f&&b&&b.resolve?((s=b.resolve(void 0)).constructor=b,a=c(s.then,s),r=function(){a(R)}):g?r=function(){y.nextTick(R)}:(h=c(h,l),r=function(){h(R)}):(i=!0,o=_.createTextNode(""),new v(R).observe(o,{characterData:!0}),r=function(){o.data=i=!i}),T=function(Z){A.head||r(),A.add(Z)}}n.exports=T},8523:function(n,e,t){var r=t(9662),i=TypeError,o=function(s){var a,l;this.promise=new s(function(c,u){if(a!==void 0||l!==void 0)throw i("Bad Promise constructor");a=c,l=u}),this.resolve=r(a),this.reject=r(l)};n.exports.f=function(s){return new o(s)}},6277:function(n,e,t){var r=t(1340);n.exports=function(i,o){return i===void 0?arguments.length<2?"":o:r(i)}},30:function(n,e,t){var r,i=t(9670),o=t(6048),s=t(748),a=t(3501),l=t(490),c=t(317),u=t(6200),h="prototype",d="script",p=u("IE_PROTO"),f=function(){},m=function(_){return"<"+d+">"+_+"</"+d+">"},g=function(_){_.write(m("")),_.close();var y=_.parentWindow.Object;return _=null,y},v=function(){try{r=new ActiveXObject("htmlfile")}catch{}var _,y,b;v=typeof document<"u"?document.domain&&r?g(r):(y=c("iframe"),b="java"+d+":",y.style.display="none",l.appendChild(y),y.src=String(b),(_=y.contentWindow.document).open(),_.write(m("document.F=Object")),_.close(),_.F):g(r);for(var S=s.length;S--;)delete v[h][s[S]];return v()};a[p]=!0,n.exports=Object.create||function(_,y){var b;return _!==null?(f[h]=i(_),b=new f,f[h]=null,b[p]=_):b=v(),y===void 0?b:o.f(b,y)}},6048:function(n,e,t){var r=t(9781),i=t(3353),o=t(3070),s=t(9670),a=t(5656),l=t(1956);e.f=r&&!i?Object.defineProperties:function(c,u){s(c);for(var h,d=a(u),p=l(u),f=p.length,m=0;f>m;)o.f(c,h=p[m++],d[h]);return c}},3070:function(n,e,t){var r=t(9781),i=t(4664),o=t(3353),s=t(9670),a=t(4948),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",p="writable";e.f=r?o?function(f,m,g){if(s(f),m=a(m),s(g),typeof f=="function"&&m==="prototype"&&"value"in g&&p in g&&!g[p]){var v=u(f,m);v&&v[p]&&(f[m]=g.value,g={configurable:d in g?g[d]:v[d],enumerable:h in g?g[h]:v[h],writable:!1})}return c(f,m,g)}:c:function(f,m,g){if(s(f),m=a(m),s(g),i)try{return c(f,m,g)}catch{}if("get"in g||"set"in g)throw l("Accessors not supported");return"value"in g&&(f[m]=g.value),f}},1236:function(n,e,t){var r=t(9781),i=t(6916),o=t(5296),s=t(9114),a=t(5656),l=t(4948),c=t(2597),u=t(4664),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(d,p){if(d=a(d),p=l(p),u)try{return h(d,p)}catch{}if(c(d,p))return s(!i(o.f,d,p),d[p])}},1156:function(n,e,t){var r=t(4326),i=t(5656),o=t(8006).f,s=t(1589),a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(l){return a&&r(l)=="Window"?function(c){try{return o(c)}catch{return s(a)}}(l):o(i(l))}},8006:function(n,e,t){var r=t(6324),i=t(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(o){return r(o,i)}},5181:function(n,e){e.f=Object.getOwnPropertySymbols},9518:function(n,e,t){var r=t(2597),i=t(614),o=t(7908),s=t(6200),a=t(8544),l=s("IE_PROTO"),c=Object,u=c.prototype;n.exports=a?c.getPrototypeOf:function(h){var d=o(h);if(r(d,l))return d[l];var p=d.constructor;return i(p)&&d instanceof p?p.prototype:d instanceof c?u:null}},2050:function(n,e,t){var r=t(7293),i=t(111),o=t(4326),s=t(7556),a=Object.isExtensible,l=r(function(){});n.exports=l||s?function(c){return!!i(c)&&(!s||o(c)!="ArrayBuffer")&&(!a||a(c))}:a},7976:function(n,e,t){var r=t(1702);n.exports=r({}.isPrototypeOf)},6324:function(n,e,t){var r=t(1702),i=t(2597),o=t(5656),s=t(1318).indexOf,a=t(3501),l=r([].push);n.exports=function(c,u){var h,d=o(c),p=0,f=[];for(h in d)!i(a,h)&&i(d,h)&&l(f,h);for(;u.length>p;)i(d,h=u[p++])&&(~s(f,h)||l(f,h));return f}},1956:function(n,e,t){var r=t(6324),i=t(748);n.exports=Object.keys||function(o){return r(o,i)}},5296:function(n,e){var t={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!t.call({1:2},1);e.f=i?function(o){var s=r(this,o);return!!s&&s.enumerable}:t},7674:function(n,e,t){var r=t(1702),i=t(9670),o=t(6077);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,a=!1,l={};try{(s=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(l,[]),a=l instanceof Array}catch{}return function(c,u){return i(c),o(u),a?s(c,u):c.__proto__=u,c}}():void 0)},288:function(n,e,t){var r=t(1694),i=t(648);n.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},2140:function(n,e,t){var r=t(6916),i=t(614),o=t(111),s=TypeError;n.exports=function(a,l){var c,u;if(l==="string"&&i(c=a.toString)&&!o(u=r(c,a))||i(c=a.valueOf)&&!o(u=r(c,a))||l!=="string"&&i(c=a.toString)&&!o(u=r(c,a)))return u;throw s("Can't convert object to primitive value")}},3887:function(n,e,t){var r=t(5005),i=t(1702),o=t(8006),s=t(5181),a=t(9670),l=i([].concat);n.exports=r("Reflect","ownKeys")||function(c){var u=o.f(a(c)),h=s.f;return h?l(u,h(c)):u}},857:function(n,e,t){var r=t(7854);n.exports=r},2534:function(n){n.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},3702:function(n,e,t){var r=t(7854),i=t(2492),o=t(614),s=t(4705),a=t(2788),l=t(5112),c=t(7871),u=t(3823),h=t(1913),d=t(7392),p=i&&i.prototype,f=l("species"),m=!1,g=o(r.PromiseRejectionEvent),v=s("Promise",function(){var _=a(i),y=_!==String(i);if(!y&&d===66||h&&(!p.catch||!p.finally))return!0;if(!d||d<51||!/native code/.test(_)){var b=new i(function(T){T(1)}),S=function(T){T(function(){},function(){})};if((b.constructor={})[f]=S,!(m=b.then(function(){})instanceof S))return!0}return!y&&(c||u)&&!g});n.exports={CONSTRUCTOR:v,REJECTION_EVENT:g,SUBCLASSING:m}},2492:function(n,e,t){var r=t(7854);n.exports=r.Promise},9478:function(n,e,t){var r=t(9670),i=t(111),o=t(8523);n.exports=function(s,a){if(r(s),i(a)&&a.constructor===s)return a;var l=o.f(s);return(0,l.resolve)(a),l.promise}},612:function(n,e,t){var r=t(2492),i=t(7072),o=t(3702).CONSTRUCTOR;n.exports=o||!i(function(s){r.all(s).then(void 0,function(){})})},8572:function(n){var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var r={item:t,next:null},i=this.tail;i?i.next=r:this.head=r,this.tail=r},get:function(){var t=this.head;if(t)return(this.head=t.next)===null&&(this.tail=null),t.item}},n.exports=e},4488:function(n,e,t){var r=t(8554),i=TypeError;n.exports=function(o){if(r(o))throw i("Can't call method on "+o);return o}},6340:function(n,e,t){var r=t(5005),i=t(3070),o=t(5112),s=t(9781),a=o("species");n.exports=function(l){var c=r(l),u=i.f;s&&c&&!c[a]&&u(c,a,{configurable:!0,get:function(){return this}})}},8003:function(n,e,t){var r=t(3070).f,i=t(2597),o=t(5112)("toStringTag");n.exports=function(s,a,l){s&&!l&&(s=s.prototype),s&&!i(s,o)&&r(s,o,{configurable:!0,value:a})}},6200:function(n,e,t){var r=t(2309),i=t(9711),o=r("keys");n.exports=function(s){return o[s]||(o[s]=i(s))}},5465:function(n,e,t){var r=t(7854),i=t(3072),o="__core-js_shared__",s=r[o]||i(o,{});n.exports=s},2309:function(n,e,t){var r=t(1913),i=t(5465);(n.exports=function(o,s){return i[o]||(i[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.27.2",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:function(n,e,t){var r=t(9670),i=t(9483),o=t(8554),s=t(5112)("species");n.exports=function(a,l){var c,u=r(a).constructor;return u===void 0||o(c=r(u)[s])?l:i(c)}},8710:function(n,e,t){var r=t(1702),i=t(9303),o=t(1340),s=t(4488),a=r("".charAt),l=r("".charCodeAt),c=r("".slice),u=function(h){return function(d,p){var f,m,g=o(s(d)),v=i(p),_=g.length;return v<0||v>=_?h?"":void 0:(f=l(g,v))<55296||f>56319||v+1===_||(m=l(g,v+1))<56320||m>57343?h?a(g,v):f:h?c(g,v,v+2):m-56320+(f-55296<<10)+65536}};n.exports={codeAt:u(!1),charAt:u(!0)}},6293:function(n,e,t){var r=t(7392),i=t(7293);n.exports=!!Object.getOwnPropertySymbols&&!i(function(){var o=Symbol();return!String(o)||!(Object(o)instanceof Symbol)||!Symbol.sham&&r&&r<41})},261:function(n,e,t){var r,i,o,s,a=t(7854),l=t(2104),c=t(9974),u=t(614),h=t(2597),d=t(7293),p=t(490),f=t(206),m=t(317),g=t(8053),v=t(6833),_=t(5268),y=a.setImmediate,b=a.clearImmediate,S=a.process,T=a.Dispatch,A=a.Function,R=a.MessageChannel,Z=a.String,L=0,G={},j="onreadystatechange";d(function(){r=a.location});var M=function(N){if(h(G,N)){var Y=G[N];delete G[N],Y()}},E=function(N){return function(){M(N)}},I=function(N){M(N.data)},U=function(N){a.postMessage(Z(N),r.protocol+"//"+r.host)};y&&b||(y=function(N){g(arguments.length,1);var Y=u(N)?N:A(N),D=f(arguments,1);return G[++L]=function(){l(Y,void 0,D)},i(L),L},b=function(N){delete G[N]},_?i=function(N){S.nextTick(E(N))}:T&&T.now?i=function(N){T.now(E(N))}:R&&!v?(s=(o=new R).port2,o.port1.onmessage=I,i=c(s.postMessage,s)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&r&&r.protocol!=="file:"&&!d(U)?(i=U,a.addEventListener("message",I,!1)):i=j in m("script")?function(N){p.appendChild(m("script"))[j]=function(){p.removeChild(this),M(N)}}:function(N){setTimeout(E(N),0)}),n.exports={set:y,clear:b}},1400:function(n,e,t){var r=t(9303),i=Math.max,o=Math.min;n.exports=function(s,a){var l=r(s);return l<0?i(l+a,0):o(l,a)}},5656:function(n,e,t){var r=t(8361),i=t(4488);n.exports=function(o){return r(i(o))}},9303:function(n,e,t){var r=t(4758);n.exports=function(i){var o=+i;return o!=o||o===0?0:r(o)}},7466:function(n,e,t){var r=t(9303),i=Math.min;n.exports=function(o){return o>0?i(r(o),9007199254740991):0}},7908:function(n,e,t){var r=t(4488),i=Object;n.exports=function(o){return i(r(o))}},7593:function(n,e,t){var r=t(6916),i=t(111),o=t(2190),s=t(8173),a=t(2140),l=t(5112),c=TypeError,u=l("toPrimitive");n.exports=function(h,d){if(!i(h)||o(h))return h;var p,f=s(h,u);if(f){if(d===void 0&&(d="default"),p=r(f,h,d),!i(p)||o(p))return p;throw c("Can't convert object to primitive value")}return d===void 0&&(d="number"),a(h,d)}},4948:function(n,e,t){var r=t(7593),i=t(2190);n.exports=function(o){var s=r(o,"string");return i(s)?s:s+""}},1694:function(n,e,t){var r={};r[t(5112)("toStringTag")]="z",n.exports=String(r)==="[object z]"},1340:function(n,e,t){var r=t(648),i=String;n.exports=function(o){if(r(o)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return i(o)}},6330:function(n){var e=String;n.exports=function(t){try{return e(t)}catch{return"Object"}}},9711:function(n,e,t){var r=t(1702),i=0,o=Math.random(),s=r(1 .toString);n.exports=function(a){return"Symbol("+(a===void 0?"":a)+")_"+s(++i+o,36)}},3307:function(n,e,t){var r=t(6293);n.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},3353:function(n,e,t){var r=t(9781),i=t(7293);n.exports=r&&i(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},8053:function(n){var e=TypeError;n.exports=function(t,r){if(t<r)throw e("Not enough arguments");return t}},4811:function(n,e,t){var r=t(7854),i=t(614),o=r.WeakMap;n.exports=i(o)&&/native code/.test(String(o))},5112:function(n,e,t){var r=t(7854),i=t(2309),o=t(2597),s=t(9711),a=t(6293),l=t(3307),c=r.Symbol,u=i("wks"),h=l?c.for||c:c&&c.withoutSetter||s;n.exports=function(d){return o(u,d)||(u[d]=a&&o(c,d)?c[d]:h("Symbol."+d)),u[d]}},6967:function(n,e,t){var r=t(2109),i=t(7976),o=t(9518),s=t(7674),a=t(9920),l=t(30),c=t(8880),u=t(9114),h=t(8340),d=t(5392),p=t(408),f=t(6277),m=t(5112)("toStringTag"),g=Error,v=[].push,_=function(b,S){var T,A=i(y,this);s?T=s(g(),A?o(this):y):(T=A?this:l(y),c(T,m,"Error")),S!==void 0&&c(T,"message",f(S)),d(T,_,T.stack,1),arguments.length>2&&h(T,arguments[2]);var R=[];return p(b,v,{that:R}),c(T,"errors",R),T};s?s(_,g):a(_,g,{name:!0});var y=_.prototype=l(g.prototype,{constructor:u(1,_),message:u(1,""),name:u(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:_})},9170:function(n,e,t){t(6967)},6992:function(n,e,t){var r=t(5656),i=t(1223),o=t(7497),s=t(9909),a=t(3070).f,l=t(1656),c=t(6178),u=t(1913),h=t(9781),d="Array Iterator",p=s.set,f=s.getterFor(d);n.exports=l(Array,"Array",function(g,v){p(this,{type:d,target:r(g),index:0,kind:v})},function(){var g=f(this),v=g.target,_=g.kind,y=g.index++;return!v||y>=v.length?(g.target=void 0,c(void 0,!0)):c(_=="keys"?y:_=="values"?v[y]:[y,v[y]],!1)},"values");var m=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&h&&m.name!=="values")try{a(m,"name",{value:"values"})}catch{}},9098:function(n,e,t){t(7710)("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},t(5631))},1532:function(n,e,t){t(9098)},1539:function(n,e,t){var r=t(1694),i=t(8052),o=t(288);r||i(Object.prototype,"toString",o,{unsafe:!0})},7922:function(n,e,t){var r=t(2109),i=t(6916),o=t(9662),s=t(8523),a=t(2534),l=t(408);r({target:"Promise",stat:!0,forced:t(612)},{allSettled:function(c){var u=this,h=s.f(u),d=h.resolve,p=h.reject,f=a(function(){var m=o(u.resolve),g=[],v=0,_=1;l(c,function(y){var b=v++,S=!1;_++,i(m,u,y).then(function(T){S||(S=!0,g[b]={status:"fulfilled",value:T},--_||d(g))},function(T){S||(S=!0,g[b]={status:"rejected",reason:T},--_||d(g))})}),--_||d(g)});return f.error&&p(f.value),h.promise}})},821:function(n,e,t){var r=t(2109),i=t(6916),o=t(9662),s=t(8523),a=t(2534),l=t(408);r({target:"Promise",stat:!0,forced:t(612)},{all:function(c){var u=this,h=s.f(u),d=h.resolve,p=h.reject,f=a(function(){var m=o(u.resolve),g=[],v=0,_=1;l(c,function(y){var b=v++,S=!1;_++,i(m,u,y).then(function(T){S||(S=!0,g[b]=T,--_||d(g))},p)}),--_||d(g)});return f.error&&p(f.value),h.promise}})},4668:function(n,e,t){var r=t(2109),i=t(6916),o=t(9662),s=t(5005),a=t(8523),l=t(2534),c=t(408),u=t(612),h="No one promise resolved";r({target:"Promise",stat:!0,forced:u},{any:function(d){var p=this,f=s("AggregateError"),m=a.f(p),g=m.resolve,v=m.reject,_=l(function(){var y=o(p.resolve),b=[],S=0,T=1,A=!1;c(d,function(R){var Z=S++,L=!1;T++,i(y,p,R).then(function(G){L||A||(A=!0,g(G))},function(G){L||A||(L=!0,b[Z]=G,--T||v(new f(b,h)))})}),--T||v(new f(b,h))});return _.error&&v(_.value),m.promise}})},4164:function(n,e,t){var r=t(2109),i=t(1913),o=t(3702).CONSTRUCTOR,s=t(2492),a=t(5005),l=t(614),c=t(8052),u=s&&s.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(d){return this.then(void 0,d)}}),!i&&l(s)){var h=a("Promise").prototype.catch;u.catch!==h&&c(u,"catch",h,{unsafe:!0})}},3401:function(n,e,t){var r,i,o,s=t(2109),a=t(1913),l=t(5268),c=t(7854),u=t(6916),h=t(8052),d=t(7674),p=t(8003),f=t(6340),m=t(9662),g=t(614),v=t(111),_=t(5787),y=t(6707),b=t(261).set,S=t(5948),T=t(842),A=t(2534),R=t(8572),Z=t(9909),L=t(2492),G=t(3702),j=t(8523),M="Promise",E=G.CONSTRUCTOR,I=G.REJECTION_EVENT,U=G.SUBCLASSING,N=Z.getterFor(M),Y=Z.set,D=L&&L.prototype,z=L,$=D,rt=c.TypeError,ot=c.document,st=c.process,tt=j.f,nt=tt,Et=!!(ot&&ot.createEvent&&c.dispatchEvent),yt="unhandledrejection",Gt=function(K){var mt;return!(!v(K)||!g(mt=K.then))&&mt},Nt=function(K,mt){var W,vt,ut,ht=mt.value,$t=mt.state==1,gt=$t?K.ok:K.fail,it=K.resolve,At=K.reject,at=K.domain;try{gt?($t||(mt.rejection===2&&Q(mt),mt.rejection=1),gt===!0?W=ht:(at&&at.enter(),W=gt(ht),at&&(at.exit(),ut=!0)),W===K.promise?At(rt("Promise-chain cycle")):(vt=Gt(W))?u(vt,W,it,At):it(W)):At(ht)}catch(dt){at&&!ut&&at.exit(),At(dt)}},jt=function(K,mt){K.notified||(K.notified=!0,S(function(){for(var W,vt=K.reactions;W=vt.get();)Nt(W,K);K.notified=!1,mt&&!K.rejection&&Dt(K)}))},Rt=function(K,mt,W){var vt,ut;Et?((vt=ot.createEvent("Event")).promise=mt,vt.reason=W,vt.initEvent(K,!1,!0),c.dispatchEvent(vt)):vt={promise:mt,reason:W},!I&&(ut=c["on"+K])?ut(vt):K===yt&&T("Unhandled promise rejection",W)},Dt=function(K){u(b,c,function(){var mt,W=K.facade,vt=K.value;if(Ct(K)&&(mt=A(function(){l?st.emit("unhandledRejection",vt,W):Rt(yt,W,vt)}),K.rejection=l||Ct(K)?2:1,mt.error))throw mt.value})},Ct=function(K){return K.rejection!==1&&!K.parent},Q=function(K){u(b,c,function(){var mt=K.facade;l?st.emit("rejectionHandled",mt):Rt("rejectionhandled",mt,K.value)})},ft=function(K,mt,W){return function(vt){K(mt,vt,W)}},_t=function(K,mt,W){K.done||(K.done=!0,W&&(K=W),K.value=mt,K.state=2,jt(K,!0))},Lt=function(K,mt,W){if(!K.done){K.done=!0,W&&(K=W);try{if(K.facade===mt)throw rt("Promise can't be resolved itself");var vt=Gt(mt);vt?S(function(){var ut={done:!1};try{u(vt,mt,ft(Lt,ut,K),ft(_t,ut,K))}catch(ht){_t(ut,ht,K)}}):(K.value=mt,K.state=1,jt(K,!1))}catch(ut){_t({done:!1},ut,K)}}};if(E&&($=(z=function(K){_(this,$),m(K),u(r,this);var mt=N(this);try{K(ft(Lt,mt),ft(_t,mt))}catch(W){_t(mt,W)}}).prototype,(r=function(K){Y(this,{type:M,done:!1,notified:!1,parent:!1,reactions:new R,rejection:!1,state:0,value:void 0})}).prototype=h($,"then",function(K,mt){var W=N(this),vt=tt(y(this,z));return W.parent=!0,vt.ok=!g(K)||K,vt.fail=g(mt)&&mt,vt.domain=l?st.domain:void 0,W.state==0?W.reactions.add(vt):S(function(){Nt(vt,W)}),vt.promise}),i=function(){var K=new r,mt=N(K);this.promise=K,this.resolve=ft(Lt,mt),this.reject=ft(_t,mt)},j.f=tt=function(K){return K===z||K===void 0?new i(K):nt(K)},!a&&g(L)&&D!==Object.prototype)){o=D.then,U||h(D,"then",function(K,mt){var W=this;return new z(function(vt,ut){u(o,W,vt,ut)}).then(K,mt)},{unsafe:!0});try{delete D.constructor}catch{}d&&d(D,$)}s({global:!0,constructor:!0,wrap:!0,forced:E},{Promise:z}),p(z,M,!1,!0),f(M)},7727:function(n,e,t){var r=t(2109),i=t(1913),o=t(2492),s=t(7293),a=t(5005),l=t(614),c=t(6707),u=t(9478),h=t(8052),d=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&s(function(){d.finally.call({then:function(){}},function(){})})},{finally:function(f){var m=c(this,a("Promise")),g=l(f);return this.then(g?function(v){return u(m,f()).then(function(){return v})}:f,g?function(v){return u(m,f()).then(function(){throw v})}:f)}}),!i&&l(o)){var p=a("Promise").prototype.finally;d.finally!==p&&h(d,"finally",p,{unsafe:!0})}},8674:function(n,e,t){t(3401),t(821),t(4164),t(6027),t(683),t(6294)},6027:function(n,e,t){var r=t(2109),i=t(6916),o=t(9662),s=t(8523),a=t(2534),l=t(408);r({target:"Promise",stat:!0,forced:t(612)},{race:function(c){var u=this,h=s.f(u),d=h.reject,p=a(function(){var f=o(u.resolve);l(c,function(m){i(f,u,m).then(h.resolve,d)})});return p.error&&d(p.value),h.promise}})},683:function(n,e,t){var r=t(2109),i=t(6916),o=t(8523);r({target:"Promise",stat:!0,forced:t(3702).CONSTRUCTOR},{reject:function(s){var a=o.f(this);return i(a.reject,void 0,s),a.promise}})},6294:function(n,e,t){var r=t(2109),i=t(5005),o=t(1913),s=t(2492),a=t(3702).CONSTRUCTOR,l=t(9478),c=i("Promise"),u=o&&!a;r({target:"Promise",stat:!0,forced:o||a},{resolve:function(h){return l(u&&this===c?s:this,h)}})},8783:function(n,e,t){var r=t(8710).charAt,i=t(1340),o=t(9909),s=t(1656),a=t(6178),l="String Iterator",c=o.set,u=o.getterFor(l);s(String,"String",function(h){c(this,{type:l,string:i(h),index:0})},function(){var h,d=u(this),p=d.string,f=d.index;return f>=p.length?a(void 0,!0):(h=r(p,f),d.index+=h.length,a(h,!1))})},3948:function(n,e,t){var r=t(7854),i=t(8324),o=t(8509),s=t(6992),a=t(8880),l=t(5112),c=l("iterator"),u=l("toStringTag"),h=s.values,d=function(f,m){if(f){if(f[c]!==h)try{a(f,c,h)}catch{f[c]=h}if(f[u]||a(f,u,m),i[m]){for(var g in s)if(f[g]!==s[g])try{a(f,g,s[g])}catch{f[g]=s[g]}}}};for(var p in i)d(r[p]&&r[p].prototype,p);d(o,"DOMTokenList")},1150:function(n,e,t){var r=t(7633);t(3948),n.exports=r},3191:function(n,e,t){(e=t(3645)(!1)).push([n.id,"#_console{padding-top:40px;padding-bottom:24px;width:100%;height:100%}#_console._js-input-hidden{padding-bottom:0}#_console ._control{position:absolute;width:100%;height:40px;left:0;top:0;cursor:default;font-size:0;background:var(--darker-background);color:var(--primary);line-height:20px;border-bottom:1px solid var(--border);padding:10px 10px 10px 35px}#_console ._control [class*=' _icon-'],#_console ._control [class^='_icon-']{display:inline-block;padding:10px;font-size:16px;position:absolute;top:0;cursor:pointer;transition:color .3s}#_console ._control [class*=' _icon-']._active,#_console ._control [class*=' _icon-']:active,#_console ._control [class^='_icon-']._active,#_console ._control [class^='_icon-']:active{color:var(--accent)}#_console ._control ._icon-clear{padding-right:0;left:0}#_console ._control ._icon-copy{right:0}#_console ._control ._icon-filter{right:23px}#_console ._control ._level{cursor:pointer;font-size:12px;height:20px;display:inline-block;margin:0 2px;padding:0 4px;line-height:20px;transition:background-color .3s,color .3s}#_console ._control ._level._active{background:var(--highlight);color:var(--select-foreground)}#_console ._control ._filter-text{white-space:nowrap;position:absolute;line-height:20px;max-width:80px;overflow:hidden;right:55px;font-size:14px;text-overflow:ellipsis}#_console ._js-input{pointer-events:none;position:absolute;z-index:100;left:0;bottom:0;width:100%;border-top:1px solid var(--border);height:24px}#_console ._js-input ._icon-arrow-right{line-height:23px;color:var(--accent);position:absolute;left:10px;top:0;z-index:10}#_console ._js-input._active{height:100%;padding-top:40px;padding-bottom:40px;border-top:none}#_console ._js-input._active ._icon-arrow-right{display:none}#_console ._js-input._active textarea{overflow:auto;padding-left:10px}#_console ._js-input ._buttons{display:none;position:absolute;left:0;bottom:0;width:100%;height:40px;color:var(--primary);background:var(--darker-background);font-size:12px;border-top:1px solid var(--border)}#_console ._js-input ._buttons ._button{pointer-events:all;cursor:pointer;flex:1;text-align:center;border-right:1px solid var(--border);height:40px;line-height:40px;transition:background-color .3s,color .3s}#_console ._js-input ._buttons ._button:last-child{border-right:none}#_console ._js-input ._buttons ._button:active{color:var(--select-foreground);background:var(--highlight)}#_console ._js-input textarea{overflow:hidden;pointer-events:all;padding:3px 10px;padding-left:25px;outline:0;border:none;font-size:14px;width:100%;height:100%;-webkit-user-select:text;user-select:text;resize:none;color:var(--primary);background:var(--background)}._safe-area #_console{padding-bottom:calc(24px + env(safe-area-inset-bottom))}._safe-area #_console._js-input-hidden{padding-bottom:0}._safe-area #_console ._js-input{height:calc(24px + env(safe-area-inset-bottom))}._safe-area #_console ._js-input._active{height:100%;padding-bottom:calc(40px + env(safe-area-inset-bottom))}._safe-area #_console ._js-input ._buttons{height:calc(40px + env(safe-area-inset-bottom))}._safe-area #_console ._js-input ._buttons ._button{height:calc(40px + env(safe-area-inset-bottom))}",""]),n.exports=e},13:function(n,e,t){(e=t(3645)(!1)).push([n.id,"._dev-tools{position:absolute;width:100%;height:100%;left:0;bottom:0;background:var(--background);z-index:500;display:none;padding-top:40px!important;opacity:0;transition:opacity .3s;border-top:1px solid var(--border)}._dev-tools ._resizer{position:absolute;width:100%;left:0;top:-8px;cursor:row-resize;z-index:120}._dev-tools ._tools{overflow:auto;-webkit-overflow-scrolling:touch;height:100%;width:100%;position:relative}._dev-tools ._tools ._tool{position:absolute;width:100%;height:100%;left:0;top:0;overflow:hidden;display:none}",""]),n.exports=e},5896:function(n,e,t){(e=t(3645)(!1)).push([n.id,"#_elements ._elements{position:absolute;width:100%;height:100%;left:0;top:0;padding-top:40px;padding-bottom:24px;font-size:14px}#_elements ._control{position:absolute;width:100%;height:40px;left:0;top:0;cursor:default;font-size:0;background:var(--darker-background);color:var(--primary);line-height:20px;border-bottom:1px solid var(--border);padding:10px 0}#_elements ._control [class*=' _icon-'],#_elements ._control [class^='_icon-']{display:inline-block;padding:10px;font-size:16px;position:absolute;top:0;cursor:pointer;transition:color .3s}#_elements ._control [class*=' _icon-']._active,#_elements ._control [class*=' _icon-']:active,#_elements ._control [class^='_icon-']._active,#_elements ._control [class^='_icon-']:active{color:var(--accent)}#_elements ._control ._icon-eye{right:0}#_elements ._control ._icon-copy{right:23px}#_elements ._control ._icon-delete{right:46px}#_elements ._dom-viewer-container{overflow-y:auto;-webkit-overflow-scrolling:touch;height:100%;padding:5px 0}#_elements ._crumbs{position:absolute;width:100%;height:24px;left:0;top:0;top:initial;line-height:24px;bottom:0;border-top:1px solid var(--border);background:var(--darker-background);color:var(--primary);font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#_elements ._crumbs li{cursor:pointer;padding:0 7px;display:inline-block}#_elements ._crumbs li:hover,#_elements ._crumbs li:last-child{background:var(--highlight)}#_elements ._crumbs ._icon-arrow-right{font-size:12px;position:relative;top:1px}#_elements ._detail{position:absolute;width:100%;height:100%;left:0;top:0;z-index:10;padding-top:40px;display:none;background:var(--background)}#_elements ._detail ._control{padding:10px 35px}#_elements ._detail ._control ._element-name{font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;display:inline-block}#_elements ._detail ._control ._icon-arrow-left{left:0}#_elements ._detail ._control ._icon-refresh{right:0}#_elements ._detail ._element{overflow-y:auto;-webkit-overflow-scrolling:touch;height:100%}#_elements ._section{border-bottom:1px solid var(--border);color:var(--foreground);margin:10px 0}#_elements ._section h2{color:var(--primary);background:var(--darker-background);border-top:1px solid var(--border);padding:10px;line-height:18px;font-size:14px;transition:background-color .3s}#_elements ._section h2 ._btn{margin-left:5px;float:right;color:var(--primary);width:18px;height:18px;font-size:16px;cursor:pointer;transition:color .3s}#_elements ._section h2 ._btn._filter-text{width:auto;max-width:80px;font-size:14px;overflow:hidden;font-weight:400;text-overflow:ellipsis;display:inline-block}#_elements ._section h2 ._btn:active{color:var(--accent)}#_elements ._section h2 ._btn._btn-disabled{color:inherit!important;cursor:default!important;pointer-events:none;opacity:.5}#_elements ._section h2 ._btn._btn-disabled *{pointer-events:none}#_elements ._section h2._active-effect{cursor:pointer}#_elements ._section h2._active-effect:active{background:var(--highlight);color:var(--select-foreground)}#_elements ._attributes{font-size:12px}#_elements ._attributes a{color:var(--link-color)}#_elements ._attributes ._table-wrapper{overflow-x:auto;-webkit-overflow-scrolling:touch}#_elements ._attributes table td{padding:5px 10px}#_elements ._text-content{background:#fff}#_elements ._text-content ._content{overflow-x:auto;-webkit-overflow-scrolling:touch;padding:10px}#_elements ._style-color{position:relative;top:1px;width:10px;height:10px;border-radius:50%;margin-right:2px;border:1px solid var(--border);display:inline-block}#_elements ._box-model{overflow-x:auto;-webkit-overflow-scrolling:touch;color:#222;font-size:12px;padding:10px;text-align:center;white-space:nowrap;border-bottom:1px solid var(--color)}#_elements ._box-model ._label{position:absolute;margin-left:3px;padding:0 2px}#_elements ._box-model ._bottom,#_elements ._box-model ._left,#_elements ._box-model ._right,#_elements ._box-model ._top{display:inline-block}#_elements ._box-model ._left,#_elements ._box-model ._right{vertical-align:middle}#_elements ._box-model ._border,#_elements ._box-model ._content,#_elements ._box-model ._margin,#_elements ._box-model ._padding,#_elements ._box-model ._position{position:relative;background:#fff;display:inline-block;text-align:center;vertical-align:middle;padding:3px;margin:3px}#_elements ._box-model ._position{border:1px grey dotted}#_elements ._box-model ._margin{border:1px dashed;background:rgba(246,178,107,.66)}#_elements ._box-model ._border{border:1px #000 solid;background:rgba(255,229,153,.66)}#_elements ._box-model ._padding{border:1px grey dashed;background:rgba(147,196,125,.55)}#_elements ._box-model ._content{border:1px grey solid;min-width:100px;background:rgba(111,168,220,.66)}#_elements ._computed-style{font-size:12px}#_elements ._computed-style a{color:var(--link-color)}#_elements ._computed-style ._table-wrapper{overflow-y:auto;-webkit-overflow-scrolling:touch;max-height:200px;border-top:1px solid var(--border)}#_elements ._computed-style table td{padding:5px 10px}#_elements ._computed-style table td._key{white-space:nowrap;color:var(--var-color)}#_elements ._styles{font-size:12px}#_elements ._styles ._style-wrapper{padding:10px}#_elements ._styles ._style-wrapper ._style-rules{border:1px solid var(--border);padding:10px;margin-bottom:10px}#_elements ._styles ._style-wrapper ._style-rules ._rule{padding-left:2em;word-break:break-all}#_elements ._styles ._style-wrapper ._style-rules ._rule a{color:var(--link-color)}#_elements ._styles ._style-wrapper ._style-rules ._rule span{color:var(--var-color)}#_elements ._styles ._style-wrapper ._style-rules:last-child{margin-bottom:0}#_elements ._listeners{font-size:12px}#_elements ._listeners ._listener-wrapper{padding:10px}#_elements ._listeners ._listener-wrapper ._listener{margin-bottom:10px;overflow:hidden;border:1px solid var(--border)}#_elements ._listeners ._listener-wrapper ._listener ._listener-type{padding:10px;background:var(--darker-background);color:var(--primary)}#_elements ._listeners ._listener-wrapper ._listener ._listener-content li{overflow-x:auto;-webkit-overflow-scrolling:touch;padding:10px;border-top:none}._safe-area #_elements ._elements{padding-bottom:calc(24px + env(safe-area-inset-bottom))}._safe-area #_elements ._crumbs{height:calc(24px + env(safe-area-inset-bottom))}._safe-area #_elements ._element{padding-bottom:calc(0px + env(safe-area-inset-bottom))}@media screen and (min-width:680px){#_elements ._elements{width:50%}#_elements ._elements ._control ._icon-eye{display:none}#_elements ._elements ._control ._icon-copy{right:0}#_elements ._elements ._control ._icon-delete{right:23px}#_elements ._detail{width:50%;left:initial;right:0;border-left:1px solid var(--border)}#_elements ._detail ._control{padding-left:10px}#_elements ._detail ._control ._icon-arrow-left{display:none}}",""]),n.exports=e},9195:function(n,e,t){(e=t(3645)(!1)).push([n.id,"._container ._entry-btn{touch-action:none;width:40px;height:40px;display:flex;background:#000;opacity:.3;border-radius:10px;position:relative;z-index:1000;transition:opacity .3s;color:#fff;font-size:25px;align-items:center;justify-content:center}._container ._entry-btn._active,._container ._entry-btn:active{opacity:.8}",""]),n.exports=e},879:function(n,e,t){(e=t(3645)(!1)).push([n.id,"#_info{overflow-y:auto;-webkit-overflow-scrolling:touch}#_info li{margin:10px;border:1px solid var(--border)}#_info li ._content,#_info li ._title{padding:10px}#_info li ._title{position:relative;padding-bottom:0;color:var(--accent)}#_info li ._title ._icon-copy{position:absolute;right:10px;top:14px;color:var(--primary);cursor:pointer;transition:color .3s}#_info li ._title ._icon-copy:active{color:var(--accent)}#_info li ._content{margin:0;-webkit-user-select:text;user-select:text;color:var(--foreground);font-size:12px;word-break:break-all}#_info li ._content table{width:100%;border-collapse:collapse}#_info li ._content table td,#_info li ._content table th{border:1px solid var(--border);padding:10px}#_info li ._content *{-webkit-user-select:text;user-select:text}#_info li ._content a{color:var(--link-color)}#_info li ._device-key,#_info li ._system-key{width:100px}._safe-area #_info{padding-bottom:calc(10px + env(safe-area-inset-bottom))}",""]),n.exports=e},3180:function(n,e,t){(e=t(3645)(!1)).push([n.id,"#_network ._network{position:absolute;width:100%;height:100%;left:0;top:0;padding-top:39px}#_network ._control{position:absolute;width:100%;height:40px;left:0;top:0;cursor:default;font-size:0;background:var(--darker-background);color:var(--primary);line-height:20px;border-bottom:1px solid var(--border);padding:10px;border-bottom:none}#_network ._control [class*=' _icon-'],#_network ._control [class^='_icon-']{display:inline-block;padding:10px;font-size:16px;position:absolute;top:0;cursor:pointer;transition:color .3s}#_network ._control [class*=' _icon-']._active,#_network ._control [class*=' _icon-']:active,#_network ._control [class^='_icon-']._active,#_network ._control [class^='_icon-']:active{color:var(--accent)}#_network ._control ._title{font-size:14px}#_network ._control ._icon-clear{left:23px}#_network ._control ._icon-eye{right:0}#_network ._control ._icon-copy{right:23px}#_network ._control ._icon-filter{right:46px}#_network ._control ._filter-text{white-space:nowrap;position:absolute;line-height:20px;max-width:80px;overflow:hidden;right:88px;font-size:14px;text-overflow:ellipsis}#_network ._control ._icon-record{left:0}#_network ._control ._icon-record._recording{color:var(--console-error-foreground);text-shadow:0 0 4px var(--console-error-foreground)}#_network ._request-error{color:var(--console-error-foreground)}#_network .luna-data-grid:focus .luna-data-grid-data-container ._request-error.luna-data-grid-selected{background:var(--console-error-background)}#_network .luna-data-grid{border-left:none;border-right:none}#_network ._detail{position:absolute;width:100%;height:100%;left:0;top:0;z-index:10;display:none;padding-top:40px;background:var(--background)}#_network ._detail ._control{padding:10px 35px;border-bottom:1px solid var(--border)}#_network ._detail ._control ._url{font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;display:inline-block}#_network ._detail ._control ._icon-arrow-left{left:0}#_network ._detail ._control ._icon-delete{left:0;display:none}#_network ._detail ._control ._icon-copy{right:0}#_network ._detail ._http{overflow-y:auto;-webkit-overflow-scrolling:touch;height:100%}#_network ._detail ._http ._section{border-top:1px solid var(--border);border-bottom:1px solid var(--border);margin-top:10px;margin-bottom:10px}#_network ._detail ._http ._section h2{background:var(--darker-background);color:var(--primary);padding:10px;line-height:18px;font-size:14px}#_network ._detail ._http ._section table{color:var(--foreground)}#_network ._detail ._http ._section table *{-webkit-user-select:text;user-select:text}#_network ._detail ._http ._section table td{font-size:12px;padding:5px 10px;word-break:break-all}#_network ._detail ._http ._section table ._key{white-space:nowrap;font-weight:700;color:var(--accent)}#_network ._detail ._http ._data,#_network ._detail ._http ._response{-webkit-user-select:text;user-select:text;overflow-x:auto;-webkit-overflow-scrolling:touch;padding:10px;font-size:12px;margin:10px 0;white-space:pre-wrap;border-top:1px solid var(--border);color:var(--foreground);border-bottom:1px solid var(--border)}._safe-area #_network ._http{padding-bottom:calc(0px + env(safe-area-inset-bottom))}@media screen and (min-width:680px){#_network ._network ._control ._icon-eye{display:none}#_network ._network ._control ._icon-copy{right:0}#_network ._network ._control ._icon-filter{right:23px}#_network ._network ._control ._filter-text{right:55px}#_network ._detail{width:50%;left:initial;right:0;border-left:1px solid var(--border)}#_network ._detail ._control ._icon-arrow-left{display:none}#_network ._detail ._control ._icon-delete{display:block}}",""]),n.exports=e},2488:function(n,e,t){(e=t(3645)(!1)).push([n.id,"#_resources{overflow-y:auto;-webkit-overflow-scrolling:touch;padding:10px;font-size:14px}#_resources ._section{margin-bottom:10px;overflow:hidden;border:1px solid var(--border)}#_resources ._section._warn{border:1px solid var(--console-warn-border)}#_resources ._section._warn ._title{background:var(--console-warn-background);color:var(--console-warn-foreground)}#_resources ._section._danger{border:1px solid var(--console-error-border)}#_resources ._section._danger ._title{background:var(--console-error-background);color:var(--console-error-foreground)}#_resources ._section._cookie,#_resources ._section._local-storage,#_resources ._section._session-storage{border:none}#_resources ._section._cookie ._title,#_resources ._section._local-storage ._title,#_resources ._section._session-storage ._title{border:1px solid var(--border);border-bottom:none}#_resources ._title{padding:10px;line-height:18px;color:var(--primary);background:var(--darker-background)}#_resources ._title ._btn{margin-left:5px;float:right;color:var(--primary);width:18px;height:18px;font-size:16px;cursor:pointer;transition:color .3s}#_resources ._title ._btn._filter-text{width:auto;max-width:80px;font-size:14px;overflow:hidden;font-weight:400;text-overflow:ellipsis;display:inline-block}#_resources ._title ._btn:active{color:var(--accent)}#_resources ._title ._btn._btn-disabled{color:inherit!important;cursor:default!important;pointer-events:none;opacity:.5}#_resources ._title ._btn._btn-disabled *{pointer-events:none}#_resources ._link-list{font-size:12px;color:var(--foreground)}#_resources ._link-list li{padding:10px;word-break:break-all}#_resources ._link-list li a{color:var(--link-color)!important}#_resources ._image-list{color:var(--foreground);font-size:12px;display:flex;flex-wrap:wrap;padding:10px!important}#_resources ._image-list:after{content:'';display:block;clear:both}#_resources ._image-list li{flex-grow:1;cursor:pointer;overflow-y:hidden}#_resources ._image-list li._image{height:100px;font-size:0}#_resources ._image-list li img{height:100px;min-width:100%;-o-object-fit:cover;object-fit:cover}._safe-area #_resources{padding-bottom:calc(10px + env(safe-area-inset-bottom))}",""]),n.exports=e},8011:function(n,e,t){(e=t(3645)(!1)).push([n.id,"#_settings{overflow-y:auto;-webkit-overflow-scrolling:touch}._safe-area #_settings{padding-bottom:calc(0px + env(safe-area-inset-bottom))}",""]),n.exports=e},5571:function(n,e,t){(e=t(3645)(!1)).push([n.id,"#_snippets{overflow-y:auto;-webkit-overflow-scrolling:touch;padding:10px}#_snippets ._section{margin-bottom:10px;border:1px solid var(--border);overflow:hidden;cursor:pointer}#_snippets ._section:active ._name{background:var(--highlight);color:var(--select-foreground)}#_snippets ._section ._name{padding:10px;line-height:18px;color:var(--primary);background:var(--darker-background);transition:background-color .3s}#_snippets ._section ._name ._btn{margin-left:10px;float:right;text-align:center;width:18px;height:18px;font-size:12px}#_snippets ._section ._description{font-size:12px;color:var(--foreground);padding:10px;transition:background-color .3s}._safe-area #_snippets{padding-bottom:calc(10px + env(safe-area-inset-bottom))}",""]),n.exports=e},7346:function(n,e,t){(e=t(3645)(!1)).push([n.id,"._search-highlight-block{display:inline}._search-highlight-block ._keyword{background:var(--console-warn-background);color:var(--console-warn-foreground)}",""]),n.exports=e},1344:function(n,e,t){(e=t(3645)(!1)).push([n.id,"#_sources{font-size:0;overflow-y:auto;-webkit-overflow-scrolling:touch;color:var(--foreground)}#_sources ._code-wrapper,#_sources ._raw-wrapper{overflow-x:auto;-webkit-overflow-scrolling:touch;width:100%;min-height:100%}#_sources ._code,#_sources ._raw{height:100%}#_sources ._code ._keyword,#_sources ._raw ._keyword{color:var(--keyword-color)}#_sources ._code ._comment,#_sources ._raw ._comment{color:var(--comment-color)}#_sources ._code ._number,#_sources ._raw ._number{color:var(--number-color)}#_sources ._code ._string,#_sources ._raw ._string{color:var(--string-color)}#_sources ._code ._operator,#_sources ._raw ._operator{color:var(--operator-color)}#_sources ._code[data-type=html] ._keyword,#_sources ._raw[data-type=html] ._keyword{color:var(--tag-name-color)}#_sources ._image{font-size:12px}#_sources ._image ._breadcrumb{background:var(--darker-background);color:var(--primary);-webkit-user-select:text;user-select:text;margin-bottom:10px;word-break:break-all;padding:10px;font-size:16px;min-height:40px;border-bottom:1px solid var(--border)}#_sources ._image ._img-container{text-align:center}#_sources ._image ._img-container img{max-width:100%}#_sources ._image ._img-info{text-align:center;margin:20px 0;color:var(--foreground)}#_sources ._json{padding:0 10px}#_sources ._json *{-webkit-user-select:text;user-select:text}#_sources iframe{width:100%;height:100%}",""]),n.exports=e},8020:function(n,e,t){(e=t(3645)(!1)).push([n.id,"._container a,._container abbr,._container acronym,._container address,._container applet,._container article,._container aside,._container audio,._container b,._container big,._container blockquote,._container canvas,._container caption,._container center,._container cite,._container code,._container dd,._container del,._container details,._container dfn,._container dl,._container dt,._container em,._container embed,._container fieldset,._container figcaption,._container figure,._container footer,._container form,._container h1,._container h2,._container h3,._container h4,._container h5,._container h6,._container header,._container hgroup,._container i,._container iframe,._container img,._container ins,._container kbd,._container label,._container legend,._container li,._container mark,._container menu,._container nav,._container object,._container ol,._container output,._container p,._container pre,._container q,._container ruby,._container s,._container samp,._container section,._container small,._container span,._container strike,._container strong,._container sub,._container summary,._container sup,._container table,._container tbody,._container td,._container tfoot,._container th,._container thead,._container time,._container tr,._container tt,._container u,._container ul,._container var,._container video{margin:0;padding:0;border:0;font-size:100%}._container article,._container aside,._container details,._container figcaption,._container figure,._container footer,._container header,._container hgroup,._container menu,._container nav,._container section{display:block}._container body{line-height:1}._container ol,._container ul{list-style:none}._container blockquote,._container q{quotes:none}._container blockquote:after,._container blockquote:before,._container q:after,._container q:before{content:'';content:none}._container table{border-collapse:collapse;border-spacing:0}",""]),n.exports=e},8516:function(n,e,t){(e=t(3645)(!1)).push([n.id,`.luna-console{background:var(--background)}.luna-console-header{color:var(--link-color);border-bottom-color:var(--border)}.luna-console-nesting-level{border-right-color:var(--border)}.luna-console-nesting-level::before{border-bottom-color:var(--border)}.luna-console-log-container.luna-console-selected .luna-console-log-item{background:var(--contrast)}.luna-console-log-container.luna-console-selected .luna-console-log-item:not(.luna-console-error):not(.luna-console-warn){border-color:var(--border)}.luna-console-log-item{border-bottom-color:var(--border);color:var(--foreground)}.luna-console-log-item a{color:var(--link-color)!important}.luna-console-log-item .luna-console-icon-container .luna-console-icon{color:var(--foreground)}.luna-console-log-item .luna-console-icon-container .luna-console-icon-error{color:#ef3842}.luna-console-log-item .luna-console-icon-container .luna-console-icon-warn{color:#e8a400}.luna-console-log-item .luna-console-count{color:var(--select-foreground);background:var(--highlight)}.luna-console-log-item.luna-console-warn{color:var(--console-warn-foreground);background:var(--console-warn-background);border-color:var(--console-warn-border)}.luna-console-log-item.luna-console-error{background:var(--console-error-background);color:var(--console-error-foreground);border-color:var(--console-error-border)}.luna-console-log-item.luna-console-error .luna-console-count{background:var(--console-error-foreground)}.luna-console-log-item .luna-console-code .luna-console-key{color:var(--var-color)}.luna-console-log-item .luna-console-code .luna-console-number{color:var(--number-color)}.luna-console-log-item .luna-console-code .luna-console-null{color:var(--operator-color)}.luna-console-log-item .luna-console-code .luna-console-string{color:var(--string-color)}.luna-console-log-item .luna-console-code .luna-console-boolean{color:var(--keyword-color)}.luna-console-log-item .luna-console-code .luna-console-special{color:var(--operator-color)}.luna-console-log-item .luna-console-code .luna-console-keyword{color:var(--keyword-color)}.luna-console-log-item .luna-console-code .luna-console-operator{color:var(--operator-color)}.luna-console-log-item .luna-console-code .luna-console-comment{color:var(--comment-color)}.luna-console-log-item .luna-console-log-content .luna-console-null,.luna-console-log-item .luna-console-log-content .luna-console-undefined{color:var(--operator-color)}.luna-console-log-item .luna-console-log-content .luna-console-number{color:var(--number-color)}.luna-console-log-item .luna-console-log-content .luna-console-boolean{color:var(--keyword-color)}.luna-console-log-item .luna-console-log-content .luna-console-regexp,.luna-console-log-item .luna-console-log-content .luna-console-symbol{color:var(--var-color)}.luna-console-preview .luna-console-key{color:var(--var-color)}.luna-console-preview .luna-console-number{color:var(--number-color)}.luna-console-preview .luna-console-null{color:var(--operator-color)}.luna-console-preview .luna-console-string{color:var(--string-color)}.luna-console-preview .luna-console-boolean{color:var(--keyword-color)}.luna-console-preview .luna-console-special{color:var(--operator-color)}.luna-console-preview .luna-console-keyword{color:var(--keyword-color)}.luna-console-preview .luna-console-operator{color:var(--operator-color)}.luna-console-preview .luna-console-comment{color:var(--comment-color)}.luna-object-viewer{color:var(--primary);font-size:12px!important}.luna-object-viewer-null{color:var(--operator-color)}.luna-object-viewer-regexp,.luna-object-viewer-string{color:var(--string-color)}.luna-object-viewer-number{color:var(--number-color)}.luna-object-viewer-boolean{color:var(--keyword-color)}.luna-object-viewer-special{color:var(--operator-color)}.luna-object-viewer-key,.luna-object-viewer-key-lighter{color:var(--var-color)}.luna-object-viewer-expanded:before{border-color:transparent;border-top-color:var(--foreground)}.luna-object-viewer-collapsed:before{border-top-color:transparent;border-left-color:var(--foreground)}.luna-notification{pointer-events:none!important;padding:10px;z-index:1000}.luna-notification-item{z-index:500;color:var(--foreground);background:var(--background);box-shadow:none;padding:5px 10px;border:1px solid var(--border)}.luna-notification-upper{margin-bottom:10px}.luna-notification-lower{margin-top:10px}.luna-data-grid{color:var(--foreground);background:var(--background);border-color:var(--border)}.luna-data-grid:focus .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selected{background:var(--accent)}.luna-data-grid td,.luna-data-grid th{border-color:var(--border)}.luna-data-grid th{background:var(--darker-background)}.luna-data-grid th.luna-data-grid-sortable:active,.luna-data-grid th.luna-data-grid-sortable:hover{color:var(--select-foreground);background:var(--highlight)}.luna-data-grid .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selected{background:var(--highlight)}.luna-data-grid .luna-data-grid-data-container tr:nth-child(even){background:var(--contrast)}.luna-dom-viewer{color:var(--foreground)}.luna-dom-viewer .luna-dom-viewer-html-tag,.luna-dom-viewer .luna-dom-viewer-tag-name{color:var(--tag-name-color)}.luna-dom-viewer .luna-dom-viewer-attribute-name{color:var(--attribute-name-color)}.luna-dom-viewer .luna-dom-viewer-attribute-value{color:var(--string-color)}.luna-dom-viewer .luna-dom-viewer-html-comment{color:var(--comment-color)}.luna-dom-viewer .luna-dom-viewer-tree-item:hover .luna-dom-viewer-selection{background:var(--contrast)}.luna-dom-viewer .luna-dom-viewer-tree-item.luna-dom-viewer-selected .luna-dom-viewer-selection{background:var(--highlight)}.luna-dom-viewer .luna-dom-viewer-tree-item.luna-dom-viewer-selected:focus .luna-dom-viewer-selection{background:var(--accent);opacity:.2}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-key{color:var(--var-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-number{color:var(--number-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-null{color:var(--operator-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-string{color:var(--string-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-boolean{color:var(--keyword-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-special{color:var(--operator-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-keyword{color:var(--keyword-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-operator{color:var(--operator-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-comment{color:var(--comment-color)}.luna-dom-viewer-children{margin:0;padding-left:15px!important}.luna-modal{z-index:9999999}.luna-modal-body,.luna-modal-input{color:var(--foreground);background:var(--background)}.luna-modal-input{-webkit-user-select:text!important;user-select:text!important;border-color:var(--border)}.luna-modal-button-group .luna-modal-secondary{border-color:var(--border);color:var(--foreground);background:var(--background)}.luna-modal-button-group .luna-modal-primary{background:var(--accent)}.luna-modal-button-group .luna-modal-button:active::before{background:var(--accent)}.luna-tab{position:absolute;left:0;top:0;color:var(--foreground);background:var(--darker-background)}.luna-tab-tabs-container{border-color:var(--border)}.luna-tab-item.luna-tab-selected,.luna-tab-item:hover{background:var(--highlight);color:var(--select-foreground)}.luna-tab-slider{background:var(--accent)}.luna-text-viewer{color:var(--foreground);border:none;border-bottom:1px solid var(--border);background:var(--background);font-size:12px}.luna-text-viewer .luna-text-viewer-line-text{-webkit-user-select:text;user-select:text}.luna-text-viewer .luna-text-viewer-line-text *{-webkit-user-select:text;user-select:text}.luna-text-viewer .luna-text-viewer-copy,.luna-text-viewer .luna-text-viewer-line-number{border-color:var(--border)}.luna-text-viewer .luna-text-viewer-copy .luna-text-viewer-icon-check{color:var(--accent)}.luna-text-viewer .luna-text-viewer-copy{background-color:var(--background)}.luna-setting{color:var(--foreground);background:var(--background)}.luna-setting-item:hover{background:var(--darker-background)}.luna-setting-item-title{font-size:14px}.luna-setting-item-separator{border-color:var(--border)}.luna-setting-item-checkbox input{border-color:var(--border)}.luna-setting-item-checkbox input:checked{background-color:var(--accent);border-color:var(--accent)}.luna-setting-item-select .luna-setting-select select{color:var(--foreground);border-color:var(--border);background:var(--background)}.luna-setting-item-select .luna-setting-select:after{border-top-color:var(--foreground)}.luna-setting-item-button button{color:var(--accent);background:var(--background);border-color:var(--border)}.luna-setting-item-button button:active,.luna-setting-item-button button:hover{background:var(--darker-background)}.luna-setting-item-button button:active{border:1px solid var(--accent)}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar{background:var(--border)}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar .luna-setting-range-track-progress{background:var(--accent)}.luna-setting-item-number .luna-setting-range-container input::-webkit-slider-thumb{border-color:var(--border);background:radial-gradient(circle at center,var(--dark) 0,var(--dark) 15%,var(--light) 22%,var(--light) 100%)}._container{min-width:320px;pointer-events:none;position:fixed;left:0;top:0;width:100%;height:100%;z-index:9999999;color:var(--foreground);font-family:".SFNSDisplay-Regular","Helvetica Neue","Lucida Grande","Segoe UI",Tahoma,sans-serif;font-size:14px;direction:ltr}._container._dark{color-scheme:dark}._container *{box-sizing:border-box;pointer-events:all;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-text-size-adjust:none}._container ul{list-style:none;padding:0;margin:0}._container h1,._container h2,._container h3,._container h4{margin:0}._container h2{font-size:14px}._container h2 [class*=' _icon-'],._container h2 [class^='_icon-']{font-weight:400}._hidden{display:none}._icon-disabled{opacity:.5;pointer-events:none;cursor:default!important}._icon-disabled:active{color:inherit!important}._tag-name-color{color:var(--tag-name-color)}._function-color{color:var(--function-color)}._attribute-name-color{color:var(--attribute-name-color)}._operator-color{color:var(--operator-color)}._string-color{color:var(--string-color)}`,""]),n.exports=e},9327:function(n,e,t){(e=t(3645)(!1)).push([n.id,"@font-face{font-family:luna-console-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAasAAsAAAAACnAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAI4AAADcIsYnIk9TLzIAAAGYAAAAPgAAAFZWmlGRY21hcAAAAdgAAAD2AAACyDioZ9NnbHlmAAAC0AAAAZgAAAH8Lq6nDGhlYWQAAARoAAAAMQAAADZ25cSzaGhlYQAABJwAAAAdAAAAJAgCBBRobXR4AAAEvAAAABkAAABYGAH//GxvY2EAAATYAAAAGAAAAC4J8glUbWF4cAAABPAAAAAfAAAAIAEjAFBuYW1lAAAFEAAAASkAAAIWm5e+CnBvc3QAAAY8AAAAcAAAAJ7qA/7MeJxNjTsOwjAQRJ8TJzE2hPBrKBBHQByAAiGqFBRcIBVCiqhyBA7O2AgRr9Y7M2+lxQCeAyeyy7W9U/fd8GKL5fsiH2vTPx8d7ufEbJpO/aagYc+RM7fEjBKnmiRuySmZUTNNf0wybYSRj9VoO4iU7NQh+Up8qelZs5EupP75Shfm2oz3Kmkvt/gARcgJKwAAeJxjYGQUZ5zAwMrAwNTJdIaBgaEfQjO+ZjBi5ACKMrAyM2AFAWmuKQwHGHQ/srGAuDEsTGBhRhABALQ1CMwAAHiczdJNbsIwEIbh1+QHQsJviNRFF1XX7aEQRZQNRQjEHXqgrnopn4B+E8+qqip117GeRB4nk4lloAAyeZIcwicBiw9lQ5/PGPf5nHfNV8yVyXlmzZY9R05cuMbydtOqZTfsOCh7Vjb02e8RVMXGHfc8aDxqwFKVF7QMtdLpmzUVDSOmTJjpnUH/3YJSBcofqv4Wyz8+b6FuWvXSjW1SV30r1sl/icYuofFZh+1+Yn+7dnPZuIW8uFa2big7t5JXZzX3znbh4Gp5c5UcnfVyciM5u6lc3ESuTnsZQ2JnLQ4S7J4ldjZjntj5jEVi5zaWCeUXWN4q9AAAeJxdUMFOU0EUnTMzb2o1FB5O5wENg31k5mExVEo7jSGBEuO6CStDmtbIBuiKBYg/gRu/ABO3/ocscOEXsHBpogtWvFfnvQgxJnduztx7zknuIXQyIYSDE9IgLwmBmIZI1pDYbTSxBqeW4KvrVKSmaaRKFZREE7YJIyONSLW6W37bLiRxscXNTH1zbnFqlnJ5Eu+G9MnT8JBy9l69ELx69Ohd9JCryrwcU07TbCU5H4y+jQbnyco/EF+8x1/eaX03bCzR8IgGwVn0WC/I8YOzaLGS+4+p4K8O/lcXkPhj/CP0ig1JQIhJyugCxz3o7LqH4YUH0L3swlMK3q+CV/HMbhkJAqlarm1jgd+97DpnfsKPeH15eT2+l9L5OJ/kcjZJfY6MU++wQPzI+PRECUJjo97aAtqupaqhFLHtRLHNf1Kwn9lAOid9L7tV9nzVldNL3dC+NmrGOGM+sme2VrO335Mda3foXlXravY57zemY23HkLs72RsW5JegDjZK99FnPPtwl8FX1i92IfAax6yfvkWf/AHb1F1JeJxjYGRgYABi3/mPYuP5bb4ycLOABKI4H+9rgNH//zIwsDCzMAElOBhAJAMAQ2IK+QAAAHicY2BkYGBhAAEWhv9///9lYWZgZEAFYgBbLQQgAAAAeJxjYGBgYGH4/58FTIPZf2FsSgAAM58EEwAAAHicY2AAgjyGJoYlDI8YPjD8ww8BeTMTR3icY2BkYGAQY3BhYGYAASYg5gJCBob/YD4DABGFAXQAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxtxksOgjAUQNF3kaIW/x9cBYtqgEAnLXlp0+1rwtQzuVcq2Vj5r6NiR42hYc+BI5aWE2cuXLlx58GTF286PmIm1ajGhzWnJub0S12cBjs4nVI/xhLabdXPS2JCiXgCK5lEwTHQMzKziHwBqnYYpg==') format('woff')}[class*=' luna-console-icon-'],[class^=luna-console-icon-]{display:inline-block;font-family:luna-console-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-console-icon-error:before{content:'\\f101'}.luna-console-icon-input:before{content:'\\f102'}.luna-console-icon-output:before{content:'\\f103'}.luna-console-icon-warn:before{content:'\\f104'}.luna-console-icon-caret-down:before{content:'\\f105'}.luna-console-icon-caret-right:before{content:'\\f106'}.luna-console{background:#fff;overflow-y:auto;-webkit-overflow-scrolling:touch;height:100%;position:relative;will-change:scroll-position;cursor:default;font-size:12px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace}.luna-console.luna-console-theme-dark{background-color:#242424}.luna-console-hidden{display:none}.luna-console-fake-logs{position:absolute;left:0;top:0;pointer-events:none;visibility:hidden;width:100%}.luna-console-logs{padding-top:1px;position:absolute;width:100%}.luna-console-log-container{box-sizing:content-box}.luna-console-log-container.luna-console-selected .luna-console-log-item{background:#ecf1f8}.luna-console-log-container.luna-console-selected .luna-console-log-item:not(.luna-console-error):not(.luna-console-warn){border-color:#ccdef5}.luna-console-header{white-space:nowrap;display:flex;font-size:11px;color:#545454;border-top:1px solid transparent;border-bottom:1px solid #ccc}.luna-console-header .luna-console-time-from-container{overflow-x:auto;-webkit-overflow-scrolling:touch;padding:3px 10px}.luna-console-nesting-level{width:14px;flex-shrink:0;margin-top:-1px;margin-bottom:-1px;position:relative;border-right:1px solid #ccc}.luna-console-nesting-level.luna-console-group-closed::before{content:''}.luna-console-nesting-level::before{border-bottom:1px solid #ccc;position:absolute;top:0;left:0;margin-left:100%;width:5px;height:100%;box-sizing:border-box}.luna-console-log-item{position:relative;display:flex;border-top:1px solid transparent;border-bottom:1px solid #ccc;margin-top:-1px;color:#333}.luna-console-log-item:after{content:'';display:block;clear:both}.luna-console-log-item .luna-console-code{display:inline;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace}.luna-console-log-item .luna-console-code .luna-console-keyword{color:#881280}.luna-console-log-item .luna-console-code .luna-console-number{color:#1c00cf}.luna-console-log-item .luna-console-code .luna-console-operator{color:grey}.luna-console-log-item .luna-console-code .luna-console-comment{color:#236e25}.luna-console-log-item .luna-console-code .luna-console-string{color:#1a1aa6}.luna-console-log-item a{color:#15c!important}.luna-console-log-item .luna-console-icon-container{margin:0 -6px 0 10px}.luna-console-log-item .luna-console-icon-container .luna-console-icon{line-height:20px;font-size:12px;color:#333;position:relative}.luna-console-log-item .luna-console-icon-container .luna-console-icon-caret-down,.luna-console-log-item .luna-console-icon-container .luna-console-icon-caret-right{top:0;left:-2px}.luna-console-log-item .luna-console-icon-container .luna-console-icon-error{top:0;color:#ef3842}.luna-console-log-item .luna-console-icon-container .luna-console-icon-warn{top:0;color:#e8a400}.luna-console-log-item .luna-console-count{background:#8097bd;color:#fff;padding:2px 4px;border-radius:10px;font-size:12px;float:left;margin:1px -6px 0 10px}.luna-console-log-item .luna-console-log-content-wrapper{flex:1;overflow:hidden}.luna-console-log-item .luna-console-log-content{padding:3px 0;margin:0 10px;overflow-x:auto;-webkit-overflow-scrolling:touch;white-space:pre-wrap;-webkit-user-select:text;user-select:text}.luna-console-log-item .luna-console-log-content *{-webkit-user-select:text;user-select:text}.luna-console-log-item .luna-console-log-content>*{vertical-align:top}.luna-console-log-item .luna-console-log-content .luna-console-null,.luna-console-log-item .luna-console-log-content .luna-console-undefined{color:#5e5e5e}.luna-console-log-item .luna-console-log-content .luna-console-number{color:#1c00cf}.luna-console-log-item .luna-console-log-content .luna-console-boolean{color:#0d22aa}.luna-console-log-item .luna-console-log-content .luna-console-regexp,.luna-console-log-item .luna-console-log-content .luna-console-symbol{color:#881391}.luna-console-log-item .luna-console-data-grid,.luna-console-log-item .luna-console-dom-viewer{white-space:initial}.luna-console-log-item.luna-console-error{z-index:50;background:#fff0f0;color:red;border-top:1px solid #ffd6d6;border-bottom:1px solid #ffd6d6}.luna-console-log-item.luna-console-error .luna-console-stack{padding-left:1.2em;white-space:nowrap}.luna-console-log-item.luna-console-error .luna-console-count{background:red}.luna-console-log-item.luna-console-debug{z-index:20}.luna-console-log-item.luna-console-input{border-bottom-color:transparent}.luna-console-log-item.luna-console-warn{z-index:40;color:#5c5c00;background:#fffbe5;border-top:1px solid #fff5c2;border-bottom:1px solid #fff5c2}.luna-console-log-item.luna-console-warn .luna-console-count{background:#e8a400}.luna-console-log-item.luna-console-info{z-index:30}.luna-console-log-item.luna-console-group,.luna-console-log-item.luna-console-groupCollapsed{font-weight:700}.luna-console-preview{display:inline-block}.luna-console-preview .luna-console-preview-container{display:flex;align-items:center}.luna-console-preview .luna-console-json{overflow-x:auto;-webkit-overflow-scrolling:touch;padding-left:12px}.luna-console-preview .luna-console-preview-icon-container{display:block}.luna-console-preview .luna-console-preview-icon-container .luna-console-icon{position:relative;font-size:12px}.luna-console-preview .luna-console-preview-icon-container .luna-console-icon-caret-down{top:2px}.luna-console-preview .luna-console-preview-icon-container .luna-console-icon-caret-right{top:1px}.luna-console-preview .luna-console-preview-content-container{word-break:break-all}.luna-console-preview .luna-console-descriptor,.luna-console-preview .luna-console-object-preview{font-style:italic}.luna-console-preview .luna-console-key{color:#881391}.luna-console-preview .luna-console-number{color:#1c00cf}.luna-console-preview .luna-console-null{color:#5e5e5e}.luna-console-preview .luna-console-string{color:#c41a16}.luna-console-preview .luna-console-boolean{color:#0d22aa}.luna-console-preview .luna-console-special{color:#5e5e5e}.luna-console-theme-dark{color-scheme:dark}.luna-console-theme-dark .luna-console-log-container.luna-console-selected .luna-console-log-item{background:#29323d}.luna-console-theme-dark .luna-console-log-container.luna-console-selected .luna-console-log-item:not(.luna-console-error):not(.luna-console-warn){border-color:#4173b4}.luna-console-theme-dark .luna-console-log-item{color:#a5a5a5;border-bottom-color:#3d3d3d}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-keyword{color:#e36eec}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-number{color:#9980ff}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-operator{color:#7f7f7f}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-comment{color:#747474}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-string{color:#f29766}.luna-console-theme-dark .luna-console-log-item.luna-console-error{background:#290000;color:#ff8080;border-top-color:#5c0000;border-bottom-color:#5c0000}.luna-console-theme-dark .luna-console-log-item.luna-console-error .luna-console-count{background:#ff8080}.luna-console-theme-dark .luna-console-log-item.luna-console-warn{color:#ffcb6b;background:#332a00;border-top-color:#650;border-bottom-color:#650}.luna-console-theme-dark .luna-console-log-item .luna-console-count{background:#42597f;color:#949494}.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-null,.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-undefined{color:#7f7f7f}.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-boolean,.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-number{color:#9980ff}.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-regexp,.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-symbol{color:#e36eec}.luna-console-theme-dark .luna-console-icon-container .luna-console-icon-caret-down,.luna-console-theme-dark .luna-console-icon-container .luna-console-icon-caret-right{color:#9aa0a6}.luna-console-theme-dark .luna-console-header{border-bottom-color:#3d3d3d}.luna-console-theme-dark .luna-console-nesting-level{border-right-color:#3d3d3d}.luna-console-theme-dark .luna-console-nesting-level::before{border-bottom-color:#3d3d3d}.luna-console-theme-dark .luna-console-preview .luna-console-key{color:#e36eec}.luna-console-theme-dark .luna-console-preview .luna-console-number{color:#9980ff}.luna-console-theme-dark .luna-console-preview .luna-console-null{color:#7f7f7f}.luna-console-theme-dark .luna-console-preview .luna-console-string{color:#f29766}.luna-console-theme-dark .luna-console-preview .luna-console-boolean{color:#9980ff}.luna-console-theme-dark .luna-console-preview .luna-console-special{color:#7f7f7f}",""]),n.exports=e},4987:function(n,e,t){(e=t(3645)(!1)).push([n.id,".luna-data-grid{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;user-select:none;font-size:14px;position:relative;font-size:12px;border:1px solid #ccc;overflow:hidden;outline:0}.luna-data-grid.luna-data-grid-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-data-grid.luna-data-grid-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-data-grid .luna-data-grid-hidden,.luna-data-grid.luna-data-grid-hidden{display:none}.luna-data-grid .luna-data-grid-invisible,.luna-data-grid.luna-data-grid-invisible{visibility:hidden}.luna-data-grid *{box-sizing:border-box}.luna-data-grid.luna-data-grid-theme-dark{color:#a5a5a5;background:#242424;border-color:#3d3d3d}.luna-data-grid table{width:100%;height:100%;border-collapse:separate;border-spacing:0;table-layout:fixed}.luna-data-grid td,.luna-data-grid th{padding:1px 4px;border-left:1px solid #ccc;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.luna-data-grid td:first-child,.luna-data-grid th:first-child{border-left:none}.luna-data-grid th{font-weight:400;border-bottom:1px solid #ccc;text-align:left;background:#f3f3f3}.luna-data-grid th.luna-data-grid-sortable:active,.luna-data-grid th.luna-data-grid-sortable:hover{background:#e6e6e6}.luna-data-grid td{height:20px;cursor:default;-webkit-user-select:text;user-select:text}.luna-data-grid:focus .luna-data-grid-node.luna-data-grid-selected{color:#fff;background:#1a73e8}.luna-data-grid:focus.luna-data-grid-theme-dark .luna-data-grid-node.luna-data-grid-selected{background:#0e639c}.luna-data-grid-data-container,.luna-data-grid-header-container{overflow:hidden}.luna-data-grid-header-container{height:21px}.luna-data-grid-data-container{overflow-y:auto}.luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selected{background:#ddd}.luna-data-grid-data-container tr:nth-child(even){background:#f2f7fd}.luna-data-grid-filler-row td{height:auto}.luna-data-grid-resizer{position:absolute;top:0;bottom:0;width:5px;z-index:500;cursor:col-resize}.luna-data-grid-resizing{cursor:col-resize!important}.luna-data-grid-resizing .luna-data-grid *{cursor:col-resize!important}.luna-data-grid-theme-dark{color-scheme:dark}.luna-data-grid-theme-dark td,.luna-data-grid-theme-dark th{border-color:#3d3d3d}.luna-data-grid-theme-dark th{background:#292a2d}.luna-data-grid-theme-dark th.luna-data-grid-sortable:hover{background:#303030}.luna-data-grid-theme-dark .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selected{background:#393939}.luna-data-grid-theme-dark .luna-data-grid-data-container tr:nth-child(even){background:#0b2544}",""]),n.exports=e},8903:function(n,e,t){(e=t(3645)(!1)).push([n.id,"@font-face{font-family:luna-dom-viewer-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAASgAAsAAAAAB4QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAFwAAACMIRYl8k9TLzIAAAFkAAAAPQAAAFZLxUkaY21hcAAAAaQAAADHAAACWBcU1KRnbHlmAAACbAAAAC4AAAAwabU7V2hlYWQAAAKcAAAALwAAADZzjr4faGhlYQAAAswAAAAYAAAAJAFyANdobXR4AAAC5AAAABAAAAA4AZAAAGxvY2EAAAL0AAAAEAAAAB4AnACQbWF4cAAAAwQAAAAfAAAAIAEZAA9uYW1lAAADJAAAASkAAAIWm5e+CnBvc3QAAARQAAAATgAAAG5m1cqleJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiC2AdNMDGwMckCSGyzHCuSxA2kuIJ+HgReoggtJnANMcwJFGRmYAXZLBkt4nGNgZJBlnMDAysDAUMfQAyRloHQCAyeDMQMDEwMrMwNWEJDmmsJwgEH3IxPDCSBXCEwyMDCCCABbzwhtAAAAeJy1kksKwjAQhr/0oX0JLlyIZ9BDCQXtRkEEwQO56uV6Av0nmZWI4MIJX2H+JvNIBiiBXGxFAWEkYPaQGqKe00S94C5/xVJKwY49PQNnLly5Tdnzqb9JPXByNUT13YKipLVm4wvmilvR0ilfrboKFsy0N9OB2Yco32z+437SLVTQdo05dUksgF8z/8+6+B3dU2m67YR1u3fsLXtH7egtEq04OhZpcKzbk1OLs2NzcXE0F3rNhOW9ObqbKSRsVqYsQfYC6fYeiQB4nGNgZACBlQzTGZgYGMyVxVc2O073AIpAxHsYloHFRc2dPZY2OTIwAACmEQesAAB4nGNgZGBgAOLeSTNM4/ltvjJwM5wACkRxPt7XgKCBYCXDMiDJwcAE4gAAQEgKxAB4nGNgZGBgOMHAACdXMjAyoAI+ADixAkp4nGNgAIITUEwCAABMyAGReJxjYAACHgYJ7BAADsoBLXicY2BkYGDgY2BmANEMDExAzAWEDAz/wXwGAAomASkAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxdxk0KgCAUAOE3/adlJ/FQgqBuFETw+i2kTd9mRiYZvv4ZJmYWVjZ2Dk4UmosbwyPK1Vq69aVnPbamEBuOSqFj8WQSgUgTeQGPtA2iAAA=') format('woff')}[class*=' luna-dom-viewer-icon-'],[class^=luna-dom-viewer-icon-]{display:inline-block;font-family:luna-dom-viewer-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-dom-viewer-icon-arrow-down:before{content:'\\f101'}.luna-dom-viewer-icon-arrow-right:before{content:'\\f102'}.luna-dom-viewer{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;user-select:none;font-size:14px;overflow-y:auto;-webkit-overflow-scrolling:touch;background:0 0;overflow-x:hidden;word-wrap:break-word;padding:0 0 0 12px;font-size:12px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;cursor:default;list-style:none}.luna-dom-viewer.luna-dom-viewer-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-dom-viewer.luna-dom-viewer-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-dom-viewer .luna-dom-viewer-hidden,.luna-dom-viewer.luna-dom-viewer-hidden{display:none}.luna-dom-viewer .luna-dom-viewer-invisible,.luna-dom-viewer.luna-dom-viewer-invisible{visibility:hidden}.luna-dom-viewer *{box-sizing:border-box}.luna-dom-viewer ul{list-style:none}.luna-dom-viewer.luna-dom-viewer-theme-dark{color:#e8eaed}.luna-dom-viewer-toggle{min-width:12px;margin-left:-12px}.luna-dom-viewer-icon-arrow-down,.luna-dom-viewer-icon-arrow-right{position:absolute!important;font-size:12px!important}.luna-dom-viewer-tree-item{line-height:16px;min-height:16px;position:relative;z-index:10;outline:0}.luna-dom-viewer-tree-item.luna-dom-viewer-selected .luna-dom-viewer-selection,.luna-dom-viewer-tree-item:hover .luna-dom-viewer-selection{display:block}.luna-dom-viewer-tree-item:hover .luna-dom-viewer-selection{background:#f2f7fd}.luna-dom-viewer-tree-item.luna-dom-viewer-selected .luna-dom-viewer-selection{background:#e0e0e0}.luna-dom-viewer-tree-item.luna-dom-viewer-selected:focus .luna-dom-viewer-selection{background:#cfe8fc}.luna-dom-viewer-tree-item .luna-dom-viewer-icon-arrow-down{display:none}.luna-dom-viewer-tree-item.luna-dom-viewer-expanded .luna-dom-viewer-icon-arrow-down{display:inline-block}.luna-dom-viewer-tree-item.luna-dom-viewer-expanded .luna-dom-viewer-icon-arrow-right{display:none}.luna-dom-viewer-html-tag{color:#881280}.luna-dom-viewer-tag-name{color:#881280}.luna-dom-viewer-attribute-name{color:#994500}.luna-dom-viewer-attribute-value{color:#1a1aa6}.luna-dom-viewer-attribute-value.luna-dom-viewer-attribute-underline{text-decoration:underline}.luna-dom-viewer-html-comment{color:#236e25}.luna-dom-viewer-selection{position:absolute;display:none;left:-10000px;right:-10000px;top:0;bottom:0;z-index:-1}.luna-dom-viewer-children{margin:0;overflow-x:visible;overflow-y:visible;padding-left:15px}.luna-dom-viewer-text-node .luna-dom-viewer-keyword{color:#881280}.luna-dom-viewer-text-node .luna-dom-viewer-number{color:#1c00cf}.luna-dom-viewer-text-node .luna-dom-viewer-operator{color:grey}.luna-dom-viewer-text-node .luna-dom-viewer-comment{color:#236e25}.luna-dom-viewer-text-node .luna-dom-viewer-string{color:#1a1aa6}.luna-dom-viewer-theme-dark .luna-dom-viewer-icon-arrow-down,.luna-dom-viewer-theme-dark .luna-dom-viewer-icon-arrow-right{color:#9aa0a6}.luna-dom-viewer-theme-dark .luna-dom-viewer-html-tag,.luna-dom-viewer-theme-dark .luna-dom-viewer-tag-name{color:#5db0d7}.luna-dom-viewer-theme-dark .luna-dom-viewer-attribute-name{color:#9bbbdc}.luna-dom-viewer-theme-dark .luna-dom-viewer-attribute-value{color:#f29766}.luna-dom-viewer-theme-dark .luna-dom-viewer-html-comment{color:#898989}.luna-dom-viewer-theme-dark .luna-dom-viewer-tree-item:hover .luna-dom-viewer-selection{background:#083c69}.luna-dom-viewer-theme-dark .luna-dom-viewer-tree-item.luna-dom-viewer-selected .luna-dom-viewer-selection{background:#454545}.luna-dom-viewer-theme-dark .luna-dom-viewer-tree-item.luna-dom-viewer-selected:focus .luna-dom-viewer-selection{background:#073d69}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-keyword{color:#e36eec}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-number{color:#9980ff}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-operator{color:#7f7f7f}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-comment{color:#747474}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-string{color:#f29766}",""]),n.exports=e},5512:function(n,e,t){(e=t(3645)(!1)).push([n.id,"@font-face{font-family:luna-modal-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAQwAAsAAAAABpQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAEkAAABoILgliE9TLzIAAAFUAAAAPQAAAFZL+0kZY21hcAAAAZQAAACBAAAB3sqmCy5nbHlmAAACGAAAAC0AAAA0Ftcaz2hlYWQAAAJIAAAALgAAADZzhL4YaGhlYQAAAngAAAAYAAAAJAFoANBobXR4AAACkAAAAA8AAAAcAMgAAGxvY2EAAAKgAAAADgAAABAATgBObWF4cAAAArAAAAAfAAAAIAESABhuYW1lAAAC0AAAASkAAAIWm5e+CnBvc3QAAAP8AAAAMQAAAEOplauDeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiCWgNIsQMzKwAykWRnYgGxGBiYAk+wFgwAAAHicY2BkkGWcwMDKwMBQx9ADJGWgdAIDJ4MxAwMTAyszA1YQkOaawnCAIfkjI8MJIFcITDIwMIIIAGAqCKIAAAB4nM2RQQqDQAxFXxyVUsST9DhduBd3ggsv0JX39QT6kwYED1D6hzeQD0nmM0ADFPESNdiG4frItfALz/Br3qp7HlS0jEzMLKy7HYf8e33J1HMdortoWuPzreUX8p2hEikj9f+oi3vIyl86JpWYEvfnxH9sSTzPmijXbl+wE7urE5sAAAB4nGNgZACB+UDIzcBgrs6uzi7OLm4ubq4+j1tfn1tPD0xOhjGAJAMDAKekBtMAAAB4nGNgZGBgAGLPuE0l8fw2Xxm4GU4ABaI4H+9rQNBAMB8IGRg4GJhAHAA5KgqUAAB4nGNgZGBgOMHAACfnMzAyoAJ2ADfsAjl4nGNgAIITDFgBABIUAMkAeJxjYAACKQQEAAO4AJ0AAHicY2BkYGBgZ+BhANEMDExAzAWEDAz/wXwGAApKASsAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxjYGKAABiNDtgZmRiZGVkYWRnZGNkZORhYk3Pyi1MZkxlzGPMZixlTGRgANIEEbAAAAA==') format('woff')}[class*=' luna-modal-icon-'],[class^=luna-modal-icon-]{display:inline-block;font-family:luna-modal-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-modal-icon-close:before{content:'\\f101'}.luna-modal{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;user-select:none;font-size:14px;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center}.luna-modal.luna-modal-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-modal.luna-modal-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-modal .luna-modal-hidden,.luna-modal.luna-modal-hidden{display:none}.luna-modal .luna-modal-invisible,.luna-modal.luna-modal-invisible{visibility:hidden}.luna-modal *{box-sizing:border-box}.luna-modal-icon-close{position:absolute;right:16px;top:18px;cursor:pointer;font-size:20px}.luna-modal-body{position:relative;background:#fff;max-height:100%;display:flex;flex-direction:column;border-radius:4px}.luna-modal-body.luna-modal-no-title{position:static}.luna-modal-body.luna-modal-no-title .luna-modal-title{display:none}.luna-modal-body.luna-modal-no-title .luna-modal-icon-close{color:#fff}.luna-modal-body.luna-modal-no-footer .luna-modal-footer{display:none}.luna-modal-hidden{display:none}.luna-modal-title{padding:16px;padding-right:36px;padding-bottom:0;font-size:18px;height:46px;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.luna-modal-content{padding:16px;overflow-y:auto}.luna-modal-footer{padding:12px}.luna-modal-button-group{display:flex;justify-content:flex-end}.luna-modal-button{padding:0 12px;background:#e9ecef;cursor:default;position:relative;-webkit-user-select:none;user-select:none;margin:0 4px;font-size:12px;border-radius:4px;overflow:hidden;height:28px;line-height:28px}.luna-modal-button:active::before{background:#1a73e8;content:'';opacity:.4;position:absolute;top:0;left:0;width:100%;height:100%;z-index:2}.luna-modal-button.luna-modal-secondary{color:#1a73e8;border:1px solid #ccc;background:#fff}.luna-modal-button.luna-modal-primary{color:#fff;background:#1a73e8}.luna-modal-input{box-sizing:border-box;outline:0;width:100%;font-size:16px;padding:6px 12px;border:1px solid #ccc;-webkit-appearance:none;-moz-appearance:none}.luna-modal-theme-dark{color:#a5a5a5}.luna-modal-theme-dark .luna-modal-body{background:#242424}",""]),n.exports=e},7591:function(n,e,t){(e=t(3645)(!1)).push([n.id,".luna-notification{position:fixed;top:0;left:0;width:100%;height:100%;padding:20px;box-sizing:border-box;pointer-events:none;display:flex;flex-direction:column;font-size:14px;font-family:Arial,Helvetica,sans-serif}.luna-notification-item{display:flex;box-shadow:0 2px 2px 0 rgba(0,0,0,.07),0 1px 5px 0 rgba(0,0,0,.1);padding:10px 16px;color:#333;background:#fff}.luna-notification-lower{margin-top:16px}.luna-notification-upper{margin-bottom:16px}.luna-notification-theme-dark .luna-notification-item{box-shadow:0 2px 2px 0 rgba(255,255,255,.07),0 1px 5px 0 rgba(255,255,255,.1);color:#a5a5a5;background:#242424}",""]),n.exports=e},4821:function(n,e,t){(e=t(3645)(!1)).push([n.id,"@font-face{font-family:luna-object-viewer-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAS8AAsAAAAAB7QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAGEAAACMISgl+k9TLzIAAAFsAAAAPQAAAFZLxUkWY21hcAAAAawAAADWAAACdBU42qdnbHlmAAAChAAAAC4AAAAwabU7V2hlYWQAAAK0AAAALwAAADZzjr4faGhlYQAAAuQAAAAYAAAAJAFyANlobXR4AAAC/AAAABAAAABAAZAAAGxvY2EAAAMMAAAAEAAAACIAtACobWF4cAAAAxwAAAAfAAAAIAEbAA9uYW1lAAADPAAAASkAAAIWm5e+CnBvc3QAAARoAAAAUwAAAHZW8MNZeJxNjTsOQFAQRc/z/+sV1mABohKV0gZeJRJR2X9cT4RJZu7nFIMBMjoGvHGaF6rdngcNAc/c/O/Nvq2W5E1igdNE2zv1iGh1c5FQPlYXUlJRyxt9+/pUKadQa/AveGEGZQAAAHicY2BkkGScwMDKwMBQx9ADJGWgdAIDJ4MxAwMTAyszA1YQkOaawnCAQfcjE8MJIFcITDIwMIIIAFqDCGkAAAB4nM2STQ4BQRCFv54ZP8MwFhYW4gQcShBsSERi50BWDuFCcwJedddKRGKnOt8k9aanqudVAy0gF3NRQLgTsLhJDVHP6UW94Kp8zEhKwYIlG/YcOXHm0mTPp96aumLLwdUQ1fcIqmJrwpSZL+iqak5JmyE1Ayr1bdGhr/2ZPmp/qPQtuj/uJzqQl+pfDyypesQD6AT/ElV8PjyrMccT9rdLR3PUFBI227VTio1jbm6dodg5VnPvmAsHxzofHfmi+Sbs/pwdWcXFkWdNSNg9arIE2QufuSCyAAB4nGNgZACBlQzTGZgYGMyVxVc2O073AIpAxHsYloHFRc2dPZY2OTIwAACmEQesAAB4nGNgZGBgAOINe2b6x/PbfGXgZjgBFIjifLyvAUEDwUqGZUCSg4EJxAEAUn4LLAB4nGNgZGBgOMHAACdXMjAyoAIBADizAkx4nGNgAIITUEwGAABZUAGReJxjYAACHgYJ3BAAE94BXXicY2BkYGAQYGBmANEMDExAzAWEDAz/wXwGAApcASsAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxdxjkOgCAUANE/uOOGB+FQBIjaaEJIuL6FsfE1M6Lk9fXPoKioaWjp6BnQjEzMLKwYNtHepZhtuMs1vpvO/ch4HIlIxhK4KVyc7BwiD8nvDlkA') format('woff')}[class*=' luna-object-viewer-icon-'],[class^=luna-object-viewer-icon-]{display:inline-block;font-family:luna-object-viewer-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-object-viewer-icon-caret-down:before{content:'\\f101'}.luna-object-viewer-icon-caret-right:before{content:'\\f102'}.luna-object-viewer{overflow-x:auto;-webkit-overflow-scrolling:touch;overflow-y:hidden;cursor:default;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:12px;line-height:1.2;min-height:100%;color:#333;list-style:none!important}.luna-object-viewer ul{list-style:none!important;padding:0!important;padding-left:12px!important;margin:0!important}.luna-object-viewer li{position:relative;white-space:nowrap;line-height:16px;min-height:16px}.luna-object-viewer>li>.luna-object-viewer-key{display:none}.luna-object-viewer span{position:static!important}.luna-object-viewer li .luna-object-viewer-collapsed~.luna-object-viewer-close:before{color:#999}.luna-object-viewer-array .luna-object-viewer-object .luna-object-viewer-key{display:inline}.luna-object-viewer-null{color:#5e5e5e}.luna-object-viewer-regexp,.luna-object-viewer-string{color:#c41a16}.luna-object-viewer-number{color:#1c00cf}.luna-object-viewer-boolean{color:#0d22aa}.luna-object-viewer-special{color:#5e5e5e}.luna-object-viewer-key,.luna-object-viewer-key-lighter{color:#881391}.luna-object-viewer-key-lighter{opacity:.6}.luna-object-viewer-key-special{color:#5e5e5e}.luna-object-viewer-collapsed .luna-object-viewer-icon,.luna-object-viewer-expanded .luna-object-viewer-icon{position:absolute!important;left:-12px;color:#727272;font-size:12px}.luna-object-viewer-icon-caret-right{top:0}.luna-object-viewer-icon-caret-down{top:1px}.luna-object-viewer-expanded>.luna-object-viewer-icon-caret-down{display:inline}.luna-object-viewer-expanded>.luna-object-viewer-icon-caret-right{display:none}.luna-object-viewer-collapsed>.luna-object-viewer-icon-caret-down{display:none}.luna-object-viewer-collapsed>.luna-object-viewer-icon-caret-right{display:inline}.luna-object-viewer-hidden~ul{display:none}.luna-object-viewer-theme-dark{color:#fff}.luna-object-viewer-theme-dark .luna-object-viewer-null,.luna-object-viewer-theme-dark .luna-object-viewer-special{color:#a1a1a1}.luna-object-viewer-theme-dark .luna-object-viewer-regexp,.luna-object-viewer-theme-dark .luna-object-viewer-string{color:#f28b54}.luna-object-viewer-theme-dark .luna-object-viewer-boolean,.luna-object-viewer-theme-dark .luna-object-viewer-number{color:#9980ff}.luna-object-viewer-theme-dark .luna-object-viewer-key,.luna-object-viewer-theme-dark .luna-object-viewer-key-lighter{color:#5db0d7}",""]),n.exports=e},9819:function(n,e,t){(e=t(3645)(!1)).push([n.id,`.luna-setting{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;user-select:none;font-size:14px;min-width:320px}.luna-setting.luna-setting-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-setting.luna-setting-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-setting .luna-setting-hidden,.luna-setting.luna-setting-hidden{display:none}.luna-setting .luna-setting-invisible,.luna-setting.luna-setting-invisible{visibility:hidden}.luna-setting *{box-sizing:border-box}.luna-setting-item:hover{background:#f3f3f3}.luna-setting-item .luna-setting-title{line-height:1.4em;font-weight:600}.luna-setting-item .luna-setting-description{line-height:1.4em}.luna-setting-item .luna-setting-control,.luna-setting-item .luna-setting-description{font-size:12px}.luna-setting-item .luna-setting-description{margin-bottom:8px}.luna-setting-item .luna-setting-control{display:flex;align-items:center}.luna-setting-item-button,.luna-setting-item-checkbox,.luna-setting-item-input,.luna-setting-item-number,.luna-setting-item-select,.luna-setting-item-title{padding:10px}.luna-setting-item-title{font-size:18px;font-weight:600}.luna-setting-item-input input{-webkit-tap-highlight-color:transparent;color:#333;-webkit-appearance:none;appearance:none;border:1px solid #ccc;outline:0;padding:2px 8px;border-radius:0;font-size:14px;background:#fff;width:100%}.luna-setting-item-number input[type=number]{-webkit-tap-highlight-color:transparent;color:#333;-webkit-appearance:none;appearance:none;border:1px solid #ccc;outline:0;padding:2px 8px;border-radius:0;font-size:14px;background:#fff;width:200px;padding:2px}.luna-setting-item-number .luna-setting-range-container{flex:2;position:relative;top:1px}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track{height:4px;width:100%;padding:0 10px;position:absolute;left:0;top:4px}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar{background:#ccc;border-radius:2px;overflow:hidden;width:100%;height:4px}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar .luna-setting-range-track-progress{height:100%;background:#1a73e8;width:50%}.luna-setting-item-number .luna-setting-range-container input{-webkit-appearance:none;background:0 0;height:4px;width:100%;position:relative;top:-3px;margin:0 auto;outline:0;border-radius:2px}.luna-setting-item-number .luna-setting-range-container input::-webkit-slider-thumb{-webkit-appearance:none;position:relative;top:0;z-index:1;width:16px;border:none;height:16px;border-radius:10px;border:1px solid #ccc;background:radial-gradient(circle at center,#eee 0,#eee 15%,#fff 22%,#fff 100%)}.luna-setting-item-checkbox input{-webkit-appearance:none;appearance:none;width:14px;height:14px;border:1px solid #ccc;border-radius:0;position:relative;outline:0;margin-left:0;margin-right:8px;transition:background-color .1s}.luna-setting-item-checkbox input:checked{background-color:#1a73e8;border-color:#1a73e8}.luna-setting-item-checkbox input:checked:after{content:"";width:100%;height:100%;position:absolute;left:0;top:0;background-image:url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwMHB4JyB3aWR0aD0nMzAwcHgnICBmaWxsPSIjZmZmZmZmIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgdmVyc2lvbj0iMS4xIiB4PSIwcHgiIHk9IjBweCI+PHRpdGxlPmljb25fYnlfUG9zaGx5YWtvdjEwPC90aXRsZT48ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz48ZyBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyBmaWxsPSIjZmZmZmZmIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi4wMDAwMDAsIDI2LjAwMDAwMCkiPjxwYXRoIGQ9Ik0xNy45OTk5ODc4LDMyLjQgTDEwLjk5OTk4NzgsMjUuNCBDMTAuMjI2Nzg5MSwyNC42MjY4MDE0IDguOTczMTg2NDQsMjQuNjI2ODAxNCA4LjE5OTk4Nzc5LDI1LjQgTDguMTk5OTg3NzksMjUuNCBDNy40MjY3ODkxNCwyNi4xNzMxOTg2IDcuNDI2Nzg5MTQsMjcuNDI2ODAxNCA4LjE5OTk4Nzc5LDI4LjIgTDE2LjU4NTc3NDIsMzYuNTg1Nzg2NCBDMTcuMzY2ODIyOCwzNy4zNjY4MzUgMTguNjMzMTUyOCwzNy4zNjY4MzUgMTkuNDE0MjAxNCwzNi41ODU3ODY0IEw0MC41OTk5ODc4LDE1LjQgQzQxLjM3MzE4NjQsMTQuNjI2ODAxNCA0MS4zNzMxODY0LDEzLjM3MzE5ODYgNDAuNTk5OTg3OCwxMi42IEw0MC41OTk5ODc4LDEyLjYgQzM5LjgyNjc4OTEsMTEuODI2ODAxNCAzOC41NzMxODY0LDExLjgyNjgwMTQgMzcuNzk5OTg3OCwxMi42IEwxNy45OTk5ODc4LDMyLjQgWiI+PC9wYXRoPjwvZz48L2c+PC9nPjwvc3ZnPg==);background-size:30px;background-repeat:no-repeat;background-position:center}.luna-setting-item-checkbox label{-webkit-tap-highlight-color:transparent}.luna-setting-item-select .luna-setting-select{position:relative}.luna-setting-item-select .luna-setting-select select{margin:0;font-size:14px;background:#fff;-webkit-appearance:none;appearance:none;border:1px solid #ccc;padding:2px 8px;padding-right:18px;outline:0;color:#333;border-radius:0;-webkit-tap-highlight-color:transparent}.luna-setting-item-select .luna-setting-select:after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #333;position:absolute;top:0;bottom:0;right:6px;margin:auto;pointer-events:none}.luna-setting-item-select .luna-setting-select select{width:300px}.luna-setting-item-button button{-webkit-tap-highlight-color:transparent;background:#fff;border:1px solid #ccc;padding:2px 8px;color:#1a73e8;font-size:14px;border-radius:2px}.luna-setting-item-button button:active,.luna-setting-item-button button:hover{background:#f3f3f3}.luna-setting-item-button button:active{border:1px solid #1a73e8}.luna-setting-item-separator{border-bottom:1px solid #ccc}.luna-setting-theme-dark{color-scheme:dark;color:#a5a5a5;background:#242424}.luna-setting-theme-dark .luna-setting-item:hover{background:#292a2d}.luna-setting-theme-dark .luna-setting-item-separator{border-color:#3d3d3d}.luna-setting-theme-dark .luna-setting-item-input input{background:#3d3d3d;border-color:#3d3d3d;color:#a5a5a5}.luna-setting-theme-dark .luna-setting-item-checkbox input{border-color:#3d3d3d}.luna-setting-theme-dark .luna-setting-item-select .luna-setting-select select{color:#a5a5a5;border-color:#3d3d3d;background:#3d3d3d}.luna-setting-theme-dark .luna-setting-item-select .luna-setting-select:after{border-top-color:#a5a5a5}.luna-setting-theme-dark .luna-setting-item-button button{background:#242424;border-color:#3d3d3d}.luna-setting-theme-dark .luna-setting-item-button button:active,.luna-setting-theme-dark .luna-setting-item-button button:hover{background:#292a2d}.luna-setting-theme-dark .luna-setting-item-button button:active{border:1px solid #1a73e8}.luna-setting-theme-dark .luna-setting-item-number input[type=number]{background:#3d3d3d;border-color:#3d3d3d;color:#a5a5a5}.luna-setting-theme-dark .luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar{background:#3d3d3d}.luna-setting-theme-dark .luna-setting-item-number .luna-setting-range-container input::-webkit-slider-thumb{border-color:#3d3d3d;background:radial-gradient(circle at center,#aaa 0,#aaa 15%,#ccc 22%,#ccc 100%)}`,""]),n.exports=e},2156:function(n,e,t){(e=t(3645)(!1)).push([n.id,".luna-tab{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;user-select:none;font-size:14px;position:relative;overflow:hidden;width:100%}.luna-tab.luna-tab-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-tab.luna-tab-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-tab .luna-tab-hidden,.luna-tab.luna-tab-hidden{display:none}.luna-tab .luna-tab-invisible,.luna-tab.luna-tab-invisible{visibility:hidden}.luna-tab *{box-sizing:border-box}.luna-tab-tabs-container{border-bottom:1px solid #ccc}.luna-tab-tabs{overflow-x:auto;-webkit-overflow-scrolling:touch;overflow-y:hidden;width:100%;height:100%;font-size:0;white-space:nowrap}.luna-tab-tabs::-webkit-scrollbar{display:none;width:0;height:0}.luna-tab-item{cursor:pointer;display:inline-block;padding:0 10px;font-size:12px;text-align:center;text-transform:capitalize}.luna-tab-item:hover{background:#f3f3f3}.luna-tab-slider{transition:left .3s,width .3s;height:1px;background:#1a73e8;position:absolute;bottom:0;left:0}",""]),n.exports=e},5777:function(n,e,t){(e=t(3645)(!1)).push([n.id,"@font-face{font-family:luna-text-viewer-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAS0AAsAAAAAB2QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAFQAAAB0INElr09TLzIAAAFcAAAAPQAAAFZL+0klY21hcAAAAZwAAACfAAACEAEewxRnbHlmAAACPAAAAIYAAACkNSDggmhlYWQAAALEAAAALgAAADZzrb4oaGhlYQAAAvQAAAAWAAAAJAGRANNobXR4AAADDAAAABAAAAAoAZAAAGxvY2EAAAMcAAAAEAAAABYBWgFIbWF4cAAAAywAAAAdAAAAIAEXADtuYW1lAAADTAAAASkAAAIWm5e+CnBvc3QAAAR4AAAAOwAAAFJIWdOleJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBWAdNMDGwMQkAWK1CGlYEZyGMCstiBMpxAUUYGZgDbGgXDeJxjYGTQYJzAwMrAwFDH0AMkZaB0AgMngzEDAxMDKzMDVhCQ5prCcIAh+SMTwwkgVwhMMjAwgggAY84IrgAAAHicvZFLCsMwDERHzsdJ6aL0HD1VQiDQRbIN9Axd9aI+QTpjq5Bdd5F4Bo1lybIBNAAq8iA1YB8YZG+qlvUKl6zXGBjf6MofMWHGEyu2FPb9oCxULCtHs3yy+J2urg1rtojo0HM/MKnFGabOGlbdYvdT+1N6/7drXl8e6Vajo3efHP3b7HAUvntBMy1OJKujMTeHNZMV9McpFBC+tLgY4QB4nGNgZACBEwzrGdgZGOwZxdnVDdXNPfKEGlhchO0KhZtZ3IQYmMFq1jCsZpBi0GLQY2AwNzGzZjQSk2UUYdNmVFID8UyVRUXYlNRMlVGlTM1FjU3tmZkTmVhYmFRBhHwoCyuzKgtTIjMzWJg3ZClIGMRlZQmVB7GhMixM0aGhQIsB52sTqgAAeJxjYGRgYADi2JNxkvH8Nl8ZuBlOAAWiOB/va0DQQHCCYT2Q5GBgAnEANJ0KnQAAeJxjYGRgYDjBwIBEMjKgAi4AOvoCZQAAeJxjYACCE1CMBwAAM7gBkXicY2AAAiGGIFQIABXIAqN4nGNgZGBg4GLQZ2BmAAEmMI8LSP4H8xkADjQBUwAAAHicZZA9bsJAFITHYEgCUoIUKSmzVQoimZ+SA0BPQZfCmLUxsr3WekGiywlyhBwhp4hyghwoY/NoYC0/fzNv3u7KAAb4hYd6ebhtar1auKE6cZv0IOyTn4U76ONFuEt/KNzDG6bCfTzinTt4/h2dAUrhFu7xIdym/ynsk7+EO3jCt3CX/o9wDyv8Cffx6g3TyBSxKdxSJ/sstGd5/q60rVJTqEkwPlsLXWgbOr1R66OqDsnUuVjF1uRqzq7OMqNKa3Y6csHWuXI2GsXiB5HJkSKCQYG4qQ5LaCTYI0MIe9W91CumLSr6tVaYIMD4KrVgqmiSIZXGhsk1jqwVDjxtStcxrfhazuSkucxq3iQjK/7vurejE9EPsG2mSsww4hNf5IPmDvk/PRFeqAAAAHicXcU7CsAgFEXBe4x/l/kQBAtt3X0KSZNpRk7X91/F8eAJRBKZQqUp2Og2va19MAadyWJzpBd4kgcWAA==') format('woff')}[class*=' luna-text-viewer-icon-'],[class^=luna-text-viewer-icon-]{display:inline-block;font-family:luna-text-viewer-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-text-viewer-icon-check:before{content:'\\f101'}.luna-text-viewer-icon-copy:before{content:'\\f102'}.luna-text-viewer{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;user-select:none;font-size:14px;padding:0;unicode-bidi:embed;position:relative;overflow:auto;border:1px solid #ccc}.luna-text-viewer.luna-text-viewer-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-text-viewer.luna-text-viewer-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-text-viewer .luna-text-viewer-hidden,.luna-text-viewer.luna-text-viewer-hidden{display:none}.luna-text-viewer .luna-text-viewer-invisible,.luna-text-viewer.luna-text-viewer-invisible{visibility:hidden}.luna-text-viewer *{box-sizing:border-box}.luna-text-viewer.luna-text-viewer-theme-dark{color:#d9d9d9;border-color:#3d3d3d;background:#242424}.luna-text-viewer:hover .luna-text-viewer-copy{opacity:1}.luna-text-viewer-table{display:table}.luna-text-viewer-table .luna-text-viewer-line-number,.luna-text-viewer-table .luna-text-viewer-line-text{padding:0}.luna-text-viewer-table-row{display:table-row}.luna-text-viewer-line-number{display:table-cell;padding:0 3px 0 8px!important;text-align:right;vertical-align:top;-webkit-user-select:none;user-select:none;border-right:1px solid #ccc}.luna-text-viewer-line-text{display:table-cell;padding-left:4px!important;-webkit-user-select:text;user-select:text}.luna-text-viewer-copy{background:#fff;opacity:0;position:absolute;right:5px;top:5px;border:1px solid #ccc;border-radius:4px;width:25px;height:25px;text-align:center;line-height:25px;cursor:pointer;transition:opacity .3s,top .3s}.luna-text-viewer-copy .luna-text-viewer-icon-check{color:#188037}.luna-text-viewer-text{padding:4px;font-size:12px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;box-sizing:border-box;white-space:pre;display:block}.luna-text-viewer-text.luna-text-viewer-line-numbers{padding:0}.luna-text-viewer-text.luna-text-viewer-wrap-long-lines{white-space:pre-wrap}.luna-text-viewer-text.luna-text-viewer-wrap-long-lines .luna-text-viewer-line-text{word-break:break-all}.luna-text-viewer-theme-dark{color-scheme:dark}.luna-text-viewer-theme-dark .luna-text-viewer-copy,.luna-text-viewer-theme-dark .luna-text-viewer-line-number{border-color:#3d3d3d}.luna-text-viewer-theme-dark .luna-text-viewer-copy .luna-text-viewer-icon-check{color:#81c995}.luna-text-viewer-theme-dark .luna-text-viewer-copy{background-color:#242424}",""]),n.exports=e},5357:function(n,e,t){(e=t(3645)(!1)).push([n.id,"@font-face{font-family:eruda-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAA6UAAsAAAAAGvAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAARoAAAHeLjoycE9TLzIAAAIkAAAAPwAAAFZWm1KoY21hcAAAAmQAAAFdAAADwhPu1O9nbHlmAAADxAAAB+wAAA9I7RPQpGhlYWQAAAuwAAAAMQAAADZ26MSyaGhlYQAAC+QAAAAdAAAAJAgEBC9obXR4AAAMBAAAAB0AAACwXAv//GxvY2EAAAwkAAAAOwAAAFpuVmoybWF4cAAADGAAAAAfAAAAIAE9AQ1uYW1lAAAMgAAAASkAAAIWm5e+CnBvc3QAAA2sAAAA5QAAAU4VMmUJeJxNkD1Ow0AQhb9NHGISCH9RiB0cErCNHRrqFFSIyqKiQHSpEFJERUnBCTgPZ+AEHIe34wDe1f69efPezOKAHldc07q5re4ZrFevL8QE1MPHm3e3fn5aEf6+FAvsDHHuTUoxd7zzwSdffLulq9wjLbaYau8TacZMONE554xzZsrtNfBEzFOhbSmOyTmga0ikvRR/37RSsSMyDukYPjWdgGOtsSK55Y/k0Bf/ksK0MrbFr70idsVZKNPnDcSay3umd2TISCvWTJSxI78lFQ/C+qbv/Zo9tNXDP55ZL7k0Q90u5F5XX0qrYx16btccCtXg/ULrKzGFuqY9rUTMhf3fkCNj+MxUnsM/frr5Qx+ZbH4vVQ0F5Q/ZQBvxAAB4nGNgZJJgnMDAysDA1Mt0hoGBoR9CM75mMGLkAIoysDIzYAUBaa4pDAcYdD+KsIC4MSxMDIxAGoQZALgnCOUAeJy1011SGlEQhuF3BFHxD5UUyr8gIJIsiiKJsSqJlrHKsJssKFeuxF6Bfj3dF96aqhzqoZnDzJyG8w2wCVTko1SheKLAx1/NFuV8hXo5X+WPjht6+fmfWHLDHQ+srfnykjMrvnPPoxXlzNtRlFc26HLBZblal1N9ntBnwIgx5/SYMaWt78+YM6TDgitduaEVq+q0xhbb7KifPQ441N2OOOaEJh9oaYka7xvdd57vQz1P+oPR+Bx6s2lbrc6H0Flc/cO9/sfY87fiOY8u8X0J/muX6VRW6UI+p4l8SX35mgZynUbyLY3lJukf0e6HnvxIM/mZpnKb2nKXvM/7dCa/0lwe0lAeU0d+p4Wsk3bBiuDptY2A10rw9Fo1eOJtM/iTYLWA162A1+2A152A13rwJ8R2g++AJaUU2w/KK3YQlFzsMCjDWCMozdhRUK6x46CEYydBWceagdYraihRngAAAHic7RdbbBxX9Z57Z2d2d2ZndryzM7ve9ax3NztjO/bann0lTuW16zoBJSWJ7Zg83NiUJCQ1Ik2ikKQJNC9FFQqVEG0RVLQoSpEKH2klqgpEIyWAUMRTNBJC/PUDhETgiwhQd8y5s1s7oqr624/srO6ce89zzjn3nHsJEPwxyn5GVEJKBTcCdc80pAiYhkjfNWL+NnhLdTKqfxVOqJlxFX6E84wb86/6X4+5GRLw0/vsOgkREoFGBFx62P/uFviBP78FWrC02d/r79vcpmMl+k2uBwwJxIILTrVeyXsmK8krRLb5YGqUaCb9ksYnMuBqMtnRcY6V1nidml6texaY9CxSRm3TtKNIjcxrUjhEWKD3OnuNJEgPKSG/I6nUpo06fxwXH8lmEoyDFQIVyrROs7254z990rj0u2PLez47WqG1yu69V7ZdfDxU9He4C6P+v+HN+vlnD9Uou0Zp+NnfvveT/XL0kbGFxT/u37tx7CTdeuGlKfiibcMr/gt9qfyu05e4+YEdb7A3iEVG0ArdEAvDIPHBqTbB7bgCDA0sdH0x3/nEHDT4YFJi9siz74iaOBkK3ZyRTRXwE+FGG15BeA0Pf14hqinP3AyFJnHhnVm5xzThmNSBNFjDdvwzw75GFJIlvWhZ1UHlYlI3zIputa3CSduiRF7P09e9on+jODpanPOKsJMDOPV2wU7/BqsVPcQ2ix41X/8ARKpbfhPVtHNgik1hXAhIlmQ1rIbbcCVIzN/7+65794KRTc13IBwJXVkhRACBkAEyhVyiBqJbRn81YRjKUDfRN9xHpoVBt0xJRZ+iS4ehZFg2utJrjCO2GrAUAizcj+c3pXpiXVQwThZmdNrbrx+hAjtjbhSF5FPyKSsqmGraWKYCbfl97vMLi79fXHje7XsAhBsoo0P35fyMPpCj+lM0FDptJexuYzl82upRufxlKgrTh/+fOwBXc+Jt9jZJBTnxUbH/yGT5j4jRT2pB9O1oO/oi3FyD2/ggU14LY/j5RuHTJIZf5LR/WVmbaB2CT6xdQa4KwJZIHPfyMFoWRNSmQZDLlJVpdRw8GwwVWEGlScOGijdOq2VKyfHDB7/d1/+d37zXeT/dXG42l7/Kh2a20pd0JpxsxTVNt8KWyuu/94Ujr+7uvFpvQXP5PCfEAU4l+6pZZ9Ix3eqGqmsGrvok28V+zi6TKEYyi/Udt0MNavkkJC1e+vQA1tGqil6EV93j/UBbY0AXm/2Vku+z53x/8MDT5879U9Nb4Cqq/yf/WEjReiECfS9+C2f/6umFS/77q3t7kp0nGu8DTrFTQrwG1KtsoHVXlnXL0qMKHTRpGbaJlt7aoVsSbO3aQFb5L7MTJElIwrBMvnWxQteCEl2QREn8Ci/Ef9i7u1IT6tX5Pb/ePV+rUXKEL3DMkUPzc6OeNzo3/6C8K2QdrzVlKAYyHhBcxGgUyoCRqXimJZXYwYO1y1tWxQWKLkyfunpqevrU5vJs4SQ02JUDw94qMlC6maORJpc9AR/Sm7C4cK7S4MoL/FNqFYy+Nw5VbpIoWaWXP0atf+fj1Lb36w12h6SxShIouuNQw+TCVDNsWvHqDStpNUoFnobUs6mhUvpmn+r2VxaeuXjmCc974vSjm44OxfytrXeH5iaKxYm5fXMThcLEHLwcGzq66dHTnObMxWcWKv2u2tfa1ipMzu7rEM5OFshqLfsFu4R9thszrVjAUoHFgH98DxRreb3CK74rMTh/bWmJTq9Pd0nCZOvsbfrYrVsTty9cOPc5Or2U6spq8rXbrbNAL9yeuHWLYuEnEiErK0JIAPIN8kNyl9wn/yUt7mioN6GGTi1jDQrypNPRxQ+8zREatnUsVtgbcDHAaZA0rc6TxOIWLPFVXLDbvYRT45CDSnBOqFhee4aTcWw8gapGnS+Z+EYrOuqh825jrY5WSVwPDSewh/OWqYueCJQFEjhELTdgcdEODjUCo5yge7lcAlJxRSgceyZyu5LFfqnaeldKlsyunnK6N6LEaUSqTSndgpZK7jC7NZaR7LGcGhXwgMNC+WFt0MxEomZcECQ9EY4JkgAQDilSNKnGuxXJ0u2hdG9YUZkiZcfWpaOWkUv0G6IaCseVVH81o0dEEClKGokassX0hKSk44PxBGOS4E8cmNk+OMSY5+2cXfz8zI4hrG4jI9tnFpW/hqKx7PCnH1O7wpFkqeANT4IUVhopPTUwnNJxzSlUzLASV+4YfUIkpoQFTYvoMUFkJgtJ/Z6VEIyymx4usdCW5CuDc9s+dZDm6GeiejTl1jN6VFKUdMHMlUIWzaQEOdyrKHIsL0VZJB0TE1rUlLvCo71yPKya3dW+ONBQRBajUdPuKoXFsBAOiYoUdx7JtSXlU3ZJNAW1O+4ktBCFqBjLJhMW97JgyonISE5kVIJQJJ6tO6nueCJj1TV/D6uMzu06tH/H44NlRr3RnbNPLu7cXh75sWOklURzi5ZI9dgqG6tuEAf0bkWX0/0j6S6+RjfaYiQsbkKHhuNdms6kUExWZNGSlJgzkjIGjPK61KjLxOvGc/1/27r9KOQe7omHe+LhnvjQnmArLTyHMYHiPbGbFLEL4Q1BxOsiHrfy2HIBz67BXQbPsVbB4TNDZP/wF4x63cAxUl/PRtbXI61f2QM2/iuZUqleKr3ABp1Mxnn/rjvpOJN0b9K2k/73+Xi/VHOcGl4qyf8AzjWNo3icY2BkYGAA4uhnXafj+W2+MnCzgASiOB/va4DR///+/8/CysIElOBgAJEMAHS2DWQAAAB4nGNgZGBgYQABFtb/f///ZWFlYGRABToAW+YEPQAAAHicY2BgYGAhiP//J6wGCbNCMcP/vwxUBgDl4QRhAAAAeJxjYAACBQYThiCGAoYtjAyMZowBjPuYuJjCmBYxvWNWYXZhzmFewfyIRYUliPUOexr7EmIhAF3rF0sAeJxjYGRgYNBhZGRgZwABJiDmAkIGhv9gPgMADcIBTAB4nGWQPW7CQBSEx2BIAlKCFCkps1UKIpmfkgNAT0GXwpi1MbK91npBossJcoQcIaeIcoIcKGPzaGAtP38zb97uygAG+IWHenm4bWq9WrihOnGb9CDsk5+FO+jjRbhLfyjcwxumwn084p07eP4dnQFK4Rbu8SHcpv8p7JO/hDt4wrdwl/6PcA8r/An38eoN08gUsSncUif7LLRnef6utK1SU6hJMD5bC11oGzq9Ueujqg7J1LlYxdbkas6uzjKjSmt2OnLB1rlyNhrF4geRyZEigkGBuKkOS2gk2CNDCHvVvdQrpi0q+rVWmCDA+Cq1YKpokiGVxobJNY6sFQ48bUrXMa34Ws7kpLnMat4kIyv+77q3oxPRD7BtpkrMMOITX+SD5g75Pz0RXqgAAAB4nG2MyW6DQBiD+RKYpKT7vqf7Gg55pNHwEyJNGDSMRHj70nKtD7Zly45G0YA0+h8LRoyJSVBMmLJDyoxd9tjngEOOOOaEU84454JLrrjmhlvuuGfOA4888cwLr7zxzgeffPHNgixKtfeuzawUYTZYv16VITXaS8hy11azwf7FibGi/dS4Te2laWLj6k7lYiVIIv3aK9nWusqng2TLsXR900m2VMXaBvFxbXWnvBjn84mXor8pk54kqKa/NmUvVkyIg3NW/VK2jFvtKzQeR0uGRSgIrFlRYsip2FDT0LGNoh/MCkh9AAAA') format('woff')}[class*=' _icon-'],[class^='_icon-']{display:inline-block;font-family:eruda-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}._icon-arrow-left:before{content:'\\f101'}._icon-arrow-right:before{content:'\\f102'}._icon-caret-down:before{content:'\\f103'}._icon-caret-right:before{content:'\\f104'}._icon-clear:before{content:'\\f105'}._icon-compress:before{content:'\\f106'}._icon-copy:before{content:'\\f107'}._icon-delete:before{content:'\\f108'}._icon-error:before{content:'\\f109'}._icon-expand:before{content:'\\f10a'}._icon-eye:before{content:'\\f10b'}._icon-filter:before{content:'\\f10c'}._icon-play:before{content:'\\f10d'}._icon-record:before{content:'\\f10e'}._icon-refresh:before{content:'\\f10f'}._icon-reset:before{content:'\\f110'}._icon-search:before{content:'\\f111'}._icon-select:before{content:'\\f112'}._icon-tool:before{content:'\\f113'}._icon-warn:before{content:'\\f114'}",""]),n.exports=e},3645:function(n){n.exports=function(e){var t=[];return t.toString=function(){return this.map(function(r){var i=function(o,s){var a=o[1]||"",l=o[3];if(!l)return a;if(s&&typeof btoa=="function"){var c=(h=l,d=btoa(unescape(encodeURIComponent(JSON.stringify(h)))),p="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(d),"/*# ".concat(p," */")),u=l.sources.map(function(f){return"/*# sourceURL=".concat(l.sourceRoot||"").concat(f," */")});return[a].concat(u).concat([c]).join(`
`)}var h,d,p;return[a].join(`
`)}(r,e);return r[2]?"@media ".concat(r[2]," {").concat(i,"}"):i}).join("")},t.i=function(r,i,o){typeof r=="string"&&(r=[[null,r,""]]);var s={};if(o)for(var a=0;a<this.length;a++){var l=this[a][0];l!=null&&(s[l]=!0)}for(var c=0;c<r.length;c++){var u=[].concat(r[c]);o&&s[u[0]]||(i&&(u[2]?u[2]="".concat(i," and ").concat(u[2]):u[2]=i),t.push(u))}},t}},1512:function(n,e,t){var r=t(3244),i=t(6906),o=t(7665),s=t(975),a=t(4991),l=t(4209),c=t(9702),u=t(6757),h=t(8381),d=t(5543),p=t(7781),f=t(8908),m=t(1286),g=t(6768);e=function(_){return new r(_)},r.methods({offset:function(){return i(this)},hide:function(){return this.css("display","none")},show:function(){return o(this),this},first:function(){return e(this[0])},last:function(){return e(c(this))},get:function(_){return this[_]},eq:function(_){return e(this[_])},on:function(_,y,b){return d.on(this,_,y,b),this},off:function(_,y,b){return d.off(this,_,y,b),this},html:function(_){var y=l.html(this,_);return m(_)?y:this},text:function(_){var y=l.text(this,_);return m(_)?y:this},val:function(_){var y=l.val(this,_);return m(_)?y:this},css:function(_,y){var b=s(this,_,y);return v(_,y)?b:this},attr:function(_,y){var b=a(this,_,y);return v(_,y)?b:this},data:function(_,y){var b=h(this,_,y);return v(_,y)?b:this},rmAttr:function(_){return a.remove(this,_),this},remove:function(){return u(this),this},addClass:function(_){return p.add(this,_),this},rmClass:function(_){return p.remove(this,_),this},toggleClass:function(_){return p.toggle(this,_),this},hasClass:function(_){return p.has(this,_)},parent:function(){return e(this[0].parentNode)},append:function(_){return f.append(this,_),this},prepend:function(_){return f.prepend(this,_),this},before:function(_){return f.before(this,_),this},after:function(_){return f.after(this,_),this}});var v=function(_,y){return m(y)&&g(_)};n.exports=e},4991:function(n,e,t){var r=t(1352),i=t(5166),o=t(6768),s=t(3783),a=t(1286),l=t(2341);(e=function(c,u,h){if(c=l(c),a(h)&&o(u))return function(p,f){return p.getAttribute(f)}(c[0],u);var d=u;i(d)||((d={})[u]=h),function(p,f){s(p,function(m){s(f,function(g,v){m.setAttribute(v,g)})})}(c,d)}).remove=function(c,u){c=l(c),u=r(u),s(c,function(h){s(u,function(d){h.removeAttribute(d)})})},n.exports=e},7781:function(n,e,t){var r=t(1352),i=t(6053),o=t(2341),s=t(6768),a=t(3783);function l(c){return s(c)?c.split(/\s+/):r(c)}e={add:function(c,u){c=o(c);var h=l(u);a(c,function(d){var p=[];a(h,function(f){e.has(d,f)||p.push(f)}),p.length!==0&&(d.className+=(d.className?" ":"")+p.join(" "))})},has:function(c,u){c=o(c);var h=new RegExp("(^|\\s)"+u+"(\\s|$)");return i(c,function(d){return h.test(d.className)})},toggle:function(c,u){c=o(c),a(c,function(h){if(!e.has(h,u))return e.add(h,u);e.remove(h,u)})},remove:function(c,u){c=o(c);var h=l(u);a(c,function(d){a(h,function(p){d.classList.remove(p)})})}},n.exports=e},975:function(n,e,t){var r=t(6768),i=t(5166),o=t(7622),s=t(1286),a=t(6341),l=t(3990),c=t(2341),u=t(747),h=t(3783);e=function(p,f,m){if(p=c(p),s(m)&&r(f))return function(v,_){return v.style[u(_)]||getComputedStyle(v,"").getPropertyValue(_)}(p[0],f);var g=f;i(g)||((g={})[f]=m),function(v,_){h(v,function(y){var b=";";h(_,function(S,T){T=u.dash(T),b+=T+":"+function(A,R){var Z=l(R)&&!a(d,o(A));return Z?R+"px":R}(T,S)+";"}),y.style.cssText+=b})}(p,g)};var d=["column-count","columns","font-weight","line-weight","opacity","z-index","zoom"];n.exports=e},8381:function(n,e,t){var r=t(4991),i=t(6768),o=t(5166),s=t(3783);t(2341),e=function(a,l,c){var u=l;return i(l)&&(u="data-"+l),o(l)&&(u={},s(l,function(h,d){u["data-"+d]=h})),r(a,u,c)},n.exports=e},5543:function(n,e,t){var r=t(2443),i=t(1286),o=t(2341),s=t(3783);function a(l){return function(c,u,h,d){c=o(c),i(d)&&(d=h,h=void 0),s(c,function(p){r[l](p,u,h,d)})}}e={on:a("add"),off:a("remove")},n.exports=e},8908:function(n,e,t){var r=t(3783),i=t(2341),o=t(6768);function s(a){return function(l,c){l=i(l),r(l,function(u){if(o(c))u.insertAdjacentHTML(a,c);else{var h=u.parentNode;switch(a){case"beforebegin":h&&h.insertBefore(c,u);break;case"afterend":h&&h.insertBefore(c,u.nextSibling);break;case"beforeend":u.appendChild(c);break;case"afterbegin":u.prepend(c)}}})}}e={before:s("beforebegin"),after:s("afterend"),append:s("beforeend"),prepend:s("afterbegin")},n.exports=e},6906:function(n,e,t){var r=t(2341);e=function(i){var o=(i=r(i))[0].getBoundingClientRect();return{left:o.left+window.pageXOffset,top:o.top+window.pageYOffset,width:Math.round(o.width),height:Math.round(o.height)}},n.exports=e},4209:function(n,e,t){var r=t(1286),i=t(3783),o=t(2341);function s(a){return function(l,c){var u=(l=o(l))[0];if(r(c))return u?u[a]:"";u&&i(l,function(h){h[a]=c})}}e={html:s("innerHTML"),text:s("textContent"),val:s("value")},n.exports=e},6757:function(n,e,t){var r=t(3783),i=t(2341);e=function(o){o=i(o),r(o,function(s){var a=s.parentNode;a&&a.removeChild(s)})},n.exports=e},2341:function(n,e,t){var r=t(6768),i=t(1352),o=t(3244);e=function(s){return i(r(s)?new o(s):s)},n.exports=e},7665:function(n,e,t){var r=t(3783),i=t(2341);e=function(s){s=i(s),r(s,function(a){(function(l){return getComputedStyle(l,"").getPropertyValue("display")=="none"})(a)&&(a.style.display=function(l){var c,u;return o[l]||(c=document.createElement(l),document.documentElement.appendChild(c),u=getComputedStyle(c,"").getPropertyValue("display"),c.parentNode.removeChild(c),u=="none"&&(u="block"),o[l]=u),o[l]}(a.nodeName))})};var o={};n.exports=e},7496:function(n,e,t){var r=t(6329),i=t(1352),o=t(5022),s=t(7653),a=t(9537),l=(e=function(c,u){return l.extend(c,u)}).Base=function c(u,h,d){d=d||{};var p=h.className||s(h,"initialize.name")||"";delete h.className;var f=function(){var m=i(arguments);return this.initialize&&this.initialize.apply(this,m)||this};if(!a)try{f=new Function("toArr","return function "+p+"(){var args = toArr(arguments);return this.initialize ? this.initialize.apply(this, args) || this : this;};")(i)}catch{}return o(f,u),f.prototype.constructor=f,f.extend=function(m,g){return c(f,m,g)},f.inherits=function(m){o(f,m)},f.methods=function(m){return r(f.prototype,m),f},f.statics=function(m){return r(f,m),f},f.methods(h).statics(d),f}(Object,{className:"Base",callSuper:function(c,u,h){return c.prototype[u].apply(this,h)},toString:function(){return this.constructor.name}});n.exports=e},3009:function(n,e,t){var r=t(7496),i=t(6768),o=t(9882),s=t(3279),a=t(5925),l=t(5044);e=r({initialize:function(f){i(f)&&(f=e.parse(f)),this.model=f.model,this.val=f.val},toRgb:function(){var f=this.val;this.model==="hsl"&&(f=a(f));var m="rgba";return f[3]===1&&(m="rgb",f=f.slice(0,3)),m+"("+f.join(", ")+")"},toHex:function(){var f=this.val;this.model==="hsl"&&(f=a(f));var m=l.encode(f.slice(0,3));return m[0]===m[1]&&m[2]===m[3]&&m[4]===m[5]&&(m=m[0]+m[2]+m[5]),"#"+m},toHsl:function(){var f=this.val;this.model==="rgb"&&(f=s(f));var m="hsla";return f[3]===1&&(m="hsl",f=f.slice(0,3)),f[1]=f[1]+"%",f[2]=f[2]+"%",m+"("+f.join(", ")+")"}},{parse:function(f){var m,g,v=[0,0,0,1],_="rgb";if(g=f.match(c))for(g=g[1],m=0;m<3;m++)v[m]=parseInt(g[m]+g[m],16);else if(g=f.match(u))for(g=g[1],m=0;m<3;m++){var y=2*m;v[m]=parseInt(g.slice(y,y+2),16)}else if(g=f.match(h)){for(m=0;m<3;m++)v[m]=parseInt(g[m+1],0);g[4]&&(v[3]=parseFloat(g[4]))}else if(g=f.match(d)){for(m=0;m<3;m++)v[m]=Math.round(2.55*parseFloat(g[m+1]));g[4]&&(v[3]=parseFloat(g[4]))}else(g=f.match(p))&&(_="hsl",v=[(parseFloat(g[1])%360+360)%360,o(parseFloat(g[2]),0,100),o(parseFloat(g[3]),0,100),o(parseFloat(g[4]),0,1)]);return{val:v,model:_}}});var c=/^#([a-fA-F0-9]{3})$/,u=/^#([a-fA-F0-9]{6})$/,h=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/,d=/^rgba?\(\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/,p=/^hsla?\(\s*([+-]?\d*[.]?\d+)(?:deg)?\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/;n.exports=e},1443:function(n,e,t){var r=t(7496),i=t(6257),o=t(3783),s=t(9677),a=t(8763),l=t(4675);e=r({initialize:function(){this._events=this._events||{}},on:function(c,u){return this._events[c]=this._events[c]||[],this._events[c].push(u),this},off:function(c,u){var h=this._events;if(i(h,c)){var d=h[c].indexOf(u);return d>-1&&h[c].splice(d,1),this}},once:function(c,u){return this.on(c,a(u)),this},emit:function(c){var u=this;if(i(this._events,c)){var h=s(arguments,1),d=l(this._events[c]);return o(d,function(p){return p.apply(u,h)},this),this}},removeAllListeners:function(c){return c?delete this._events[c]:this._events={},this}},{mixin:function(c){o(["on","off","once","emit","removeAllListeners"],function(u){c[u]=e.prototype[u]}),c._events=c._events||{}}}),n.exports=e},9640:function(n,e,t){var r=t(7496),i=t(4454),o=t(6472),s=t(3783),a=t(2533);e=r({initialize:function(l){o(l)?(this.size=l.length,s(l,function(c,u){this[c]=u},this)):(this.size=a(l).length,s(l,function(c,u){this[u]=c},this)),i(this)}}),n.exports=e},125:function(n,e,t){var r=t(5128),i=t(615),o=t(8887),s=t(4400),a=t(4193),l=t(5166),c=i("local");e=r.extend({initialize:function(u,h){this._name=u,h=h||{};var d=c.getItem(u);try{d=JSON.parse(d)}catch{d={}}l(d)||(d={}),h=a(d,h),this.callSuper(r,"initialize",[h])},save:function(u){if(o(u))return c.removeItem(this._name);c.setItem(this._name,s(u))}}),n.exports=e},4989:function(n,e,t){var r=t(1443),i=t(9640),o=t(1352),s=t(1286),a=t(4675),l=t(6768),c=t(3990);e=r.extend({initialize:function(u,h){this.name=u,this.setLevel(s(h)?e.level.DEBUG:h),this.callSuper(r,"initialize",arguments)},setLevel:function(u){return l(u)?((u=e.level[u.toUpperCase()])&&(this._level=u),this):(c(u)&&(this._level=u),this)},getLevel:function(){return this._level},formatter:function(u,h){return h},trace:function(){return this._log("trace",arguments)},debug:function(){return this._log("debug",arguments)},info:function(){return this._log("info",arguments)},warn:function(){return this._log("warn",arguments)},error:function(){return this._log("error",arguments)},_log:function(u,h){return(h=o(h)).length===0?this:(this.emit("all",u,a(h)),e.level[u.toUpperCase()]<this._level||(this.emit(u,a(h)),(u==="debug"?console.log:console[u]).apply(console,this.formatter(u,h))),this)}},{level:new i({TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5})}),n.exports=e},2765:function(n,e,t){var r=t(1443);e=r.extend({className:"MediaQuery",initialize:function(i){var o=this;this.callSuper(r,"initialize"),this._mql=window.matchMedia(i),this._mql.addListener(function(){o.emit(o.isMatch()?"match":"unmatch")})},isMatch:function(){return this._mql.matches}}),n.exports=e},2289:function(n,e,t){var r=t(7496);(e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)||(e=r({initialize:function(){},observe:function(){},disconnect:function(){},takeRecords:function(){}})),n.exports=e},242:function(n,e,t){var r=t(8985),i=t(8613),o=t(5543),s=t(975),a=t(6341),l=t(6329),c=t(5610);e=c.ResizeObserver?r.extend({initialize:function(u){var h=this;if(u._resizeSensor)return u._resizeSensor;this.callSuper(r,"initialize");var d=new c.ResizeObserver(function(){return h.emit()});d.observe(u),u._resizeSensor=this,this._resizeObserver=d,this._el=u},destroy:function(){var u=this._el;u._resizeSensor&&(this.rmAllListeners(),delete u._resizeSensor,this._resizeObserver.unobserve(u))}}):r.extend({initialize:function(u){if(u._resizeSensor)return u._resizeSensor;this.callSuper(r,"initialize"),this._el=u,u._resizeSensor=this,a(["absolute","relative","fixed","sticky"],s(u,"position"))||s(u,"position","relative"),this._appendResizeSensor(),this._bindEvent()},destroy:function(){var u=this._el;u._resizeSensor&&(this.rmAllListeners(),delete u._resizeSensor,u.removeChild(this._resizeSensorEl))},_appendResizeSensor:function(){var u=this._el,h={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},d={position:"absolute",left:"0px",top:"0px",transition:"0s"},p=i("div",{style:d}),f=i("div.resize-sensor-expand",{style:h},p),m=i("div.resize-sensor-shrink",{style:h},i("div",{style:l({width:"200%",height:"200%"},d)})),g=i("div.resize-sensor",{dir:"ltr",style:h},f,m);this._expandEl=f,this._expandChildEl=p,this._shrinkEl=m,this._resizeSensorEl=g,u.appendChild(g),this._resetExpandShrink()},_bindEvent:function(){var u=this;o.on(this._expandEl,"scroll",function(){return u._onScroll()}),o.on(this._shrinkEl,"scroll",function(){return u._onScroll()})},_onScroll:function(){this.emit(),this._resetExpandShrink()},_resetExpandShrink:function(){var u=this._el,h=u.offsetWidth,d=u.offsetHeight;s(this._expandChildEl,{width:h+10,height:d+10}),l(this._expandEl,{scrollLeft:h+10,scrollTop:d+10}),l(this._shrinkEl,{scrollLeft:h+10,scrollTop:d+10})}}),n.exports=e},3244:function(n,e,t){var r=t(7496),i=t(6768),o=t(3783),s=t(9971),a=new(e=r({className:"Select",initialize:function(l){return this.length=0,l?i(l)?a.find(l):void(l.nodeType&&(this[0]=l,this.length=1)):this},find:function(l){var c=new e;return this.each(function(){s(c,this.querySelectorAll(l))}),c},each:function(l){return o(this,function(c,u){l.call(c,u,c)}),this}}))(document);n.exports=e},8985:function(n,e,t){var r=t(7496),i=t(4675),o=t(3783),s=t(1352);e=r({initialize:function(){this._listeners=[]},addListener:function(a){this._listeners.push(a)},rmListener:function(a){var l=this._listeners.indexOf(a);l>-1&&this._listeners.splice(l,1)},rmAllListeners:function(){this._listeners=[]},emit:function(){var a=this,l=s(arguments),c=i(this._listeners);o(c,function(u){return u.apply(a,l)},this)}},{mixin:function(a){o(["addListener","rmListener","emit","rmAllListeners"],function(l){a[l]=e.prototype[l]}),a._listeners=a._listeners||[]}}),n.exports=e},9001:function(n,e,t){var r=t(7496),i=t(1527);e=r({initialize:function(){this.clear()},clear:function(){this._items=[],this.size=0},push:function(o){return this._items.push(o),++this.size},pop:function(){if(this.size)return this.size--,this._items.pop()},peek:function(){return this._items[this.size-1]},forEach:function(o,s){s=arguments.length>1?s:this;for(var a=this._items,l=this.size-1,c=0;l>=0;l--,c++)o.call(s,a[l],c,this)},toArr:function(){return i(this._items)}}),n.exports=e},5128:function(n,e,t){var r=t(1443),i=t(6768),o=t(5166),s=t(3783),a=t(1352);e=r.extend({initialize:function(l){this.callSuper(r,"initialize",arguments),this._data=l||{},this.save(this._data)},set:function(l,c){var u;i(l)?(u={})[l]=c:o(l)&&(u=l);var h=this;s(u,function(d,p){var f=h._data[p];h._data[p]=d,h.emit("change",p,d,f)}),this.save(this._data)},get:function(l){var c=this._data;if(i(l))return c[l];var u={};return s(l,function(h){u[h]=c[h]}),u},remove:function(l){l=a(l);var c=this._data;s(l,function(u){delete c[u]}),this.save(c)},clear:function(){this._data={},this.save(this._data)},each:function(l){s(this._data,l)},save:function(l){this._data=l}}),n.exports=e},6334:function(n,e,t){var r=t(7496),i=t(6329),o=t(4331),s=t(1745),a=t(8887),l=t(3783),c=t(6472),u=t(1352),h=t(2727),d=t(5166),p=t(3367);e=r({className:"Url",initialize:function(v){!v&&h&&(v=window.location.href),i(this,e.parse(v||""))},setQuery:function(v,_){var y=this.query;return d(v)?l(v,function(b,S){y[S]=p(b)}):y[v]=p(_),this},rmQuery:function(v){var _=this.query;return c(v)||(v=u(v)),l(v,function(y){delete _[y]}),this},toString:function(){return e.stringify(this)}},{parse:function(v){var _={protocol:"",auth:"",hostname:"",hash:"",query:{},port:"",pathname:"",slashes:!1},y=o(v),b=!1,S=y.match(f);if(S&&(S=S[0],_.protocol=S.toLowerCase(),y=y.substr(S.length)),S&&(b=y.substr(0,2)==="//")&&(y=y.slice(2),_.slashes=!0),b){for(var T=y,A=-1,R=0,Z=g.length;R<Z;R++){var L=y.indexOf(g[R]);L!==-1&&(A===-1||L<A)&&(A=L)}A>-1&&(T=y.slice(0,A),y=y.slice(A));var G=T.lastIndexOf("@");G!==-1&&(_.auth=decodeURIComponent(T.slice(0,G)),T=T.slice(G+1)),_.hostname=T;var j=T.match(m);j&&((j=j[0])!==":"&&(_.port=j.substr(1)),_.hostname=T.substr(0,T.length-j.length))}var M=y.indexOf("#");M!==-1&&(_.hash=y.substr(M),y=y.slice(0,M));var E=y.indexOf("?");return E!==-1&&(_.query=s.parse(y.substr(E+1)),y=y.slice(0,E)),_.pathname=y||"/",_},stringify:function(v){var _=v.protocol+(v.slashes?"//":"")+(v.auth?encodeURIComponent(v.auth)+"@":"")+v.hostname+(v.port?":"+v.port:"")+v.pathname;return a(v.query)||(_+="?"+s.stringify(v.query)),v.hash&&(_+=v.hash),_}});var f=/^([a-z0-9.+-]+:)/i,m=/:[0-9]*$/,g=["/","?","#"];n.exports=e},8991:function(n,e,t){var r=t(4777),i=t(1214),o=t(4193),s=t(5166),a=t(1745);function l(c,u,h,d){return r(u)&&(d=h,h=u,u={}),{url:c,data:u,success:h,dataType:d}}(e=function(c){o(c,e.setting);var u,h=c.type,d=c.url,p=c.data,f=c.dataType,m=c.success,g=c.error,v=c.timeout,_=c.complete,y=c.xhr();return y.onreadystatechange=function(){if(y.readyState===4){var b;clearTimeout(u);var S=y.status;if(S>=200&&S<300||S===304){b=y.responseText,f==="xml"&&(b=y.responseXML);try{f==="json"&&(b=JSON.parse(b))}catch{}m(b,y)}else g(y);_(y)}},h==="GET"?(p=a.stringify(p))&&(d+=d.indexOf("?")>-1?"&"+p:"?"+p):c.contentType==="application/x-www-form-urlencoded"?s(p)&&(p=a.stringify(p)):c.contentType==="application/json"&&s(p)&&(p=JSON.stringify(p)),y.open(h,d,!0),y.setRequestHeader("Content-Type",c.contentType),v>0&&(u=setTimeout(function(){y.onreadystatechange=i,y.abort(),g(y,"timeout"),_(y)},v)),y.send(h==="GET"?null:p),y}).setting={type:"GET",success:i,error:i,complete:i,dataType:"json",contentType:"application/x-www-form-urlencoded",data:{},xhr:function(){return new XMLHttpRequest},timeout:0},e.get=function(){return e(l.apply(null,arguments))},e.post=function(){var c=l.apply(null,arguments);return c.type="POST",e(c)},n.exports=e},1116:function(n,e,t){var r=t(2533),i=t(415),o=t(42),s=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols;e=function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=c.prototype,h=u===void 0||u,d=c.unenumerable,p=d!==void 0&&d,f=c.symbol,m=f!==void 0&&f,g=[];if((p||m)&&s){var v=r;p&&s&&(v=s);do g=g.concat(v(l)),m&&a&&(g=g.concat(a(l)));while(h&&(l=i(l))&&l!==Object.prototype);g=o(g)}else if(h)for(var _ in l)g.push(_);else g=r(l);return g},n.exports=e},7913:function(n,e,t){var r=t(3783),i=t(1286),o=t(4777);e=function(s,a){i(a)&&(a=!0);var l=o(a),c={};return r(s,function(u){c[u]=l?a(u):a}),c},n.exports=e},3901:function(n,e){e={encode:function(s){var a,l,c=[],u=s.length,h=u%3;u-=h;for(var d=0;d<u;d+=3)c.push((a=(s[d]<<16)+(s[d+1]<<8)+s[d+2],r[a>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]));return u=s.length,h===1?(l=s[u-1],c.push(r[l>>2]),c.push(r[l<<4&63]),c.push("==")):h===2&&(l=(s[u-2]<<8)+s[u-1],c.push(r[l>>10]),c.push(r[l>>4&63]),c.push(r[l<<2&63]),c.push("=")),c.join("")},decode:function(s){var a=s.length,l=0;s[a-2]==="="?l=2:s[a-1]==="="&&(l=1);var c,u,h,d,p,f,m,g=new Array(3*a/4-l);for(a=l>0?a-4:a,c=0,u=0;c<a;c+=4){var v=(h=s[c],d=s[c+1],p=s[c+2],f=s[c+3],t[h.charCodeAt(0)]<<18|t[d.charCodeAt(0)]<<12|t[p.charCodeAt(0)]<<6|t[f.charCodeAt(0)]);g[u++]=v>>16&255,g[u++]=v>>8&255,g[u++]=255&v}return l===2?(m=t[s.charCodeAt(c)]<<2|t[s.charCodeAt(c+1)]>>4,g[u++]=255&m):l===1&&(m=t[s.charCodeAt(c)]<<10|t[s.charCodeAt(c+1)]<<4|t[s.charCodeAt(c+2)]>>2,g[u++]=m>>8&255,g[u++]=255&m),g}};for(var t=[],r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;i++)t[r.charCodeAt(i)]=i;n.exports=e},5637:function(n,e){e=function(t,r){var i;return function(){return--t>0&&(i=r.apply(this,arguments)),t<=1&&(r=null),i}},n.exports=e},7494:function(n,e,t){var r=t(8935);function i(o,s){this[s]=o.replace(/\w/,function(a){return a.toUpperCase()})}e=function(o){var s=r(o),a=s[0];return s.shift(),s.forEach(i,s),a+=s.join("")},n.exports=e},2848:function(n,e,t){var r=t(6257),i=t(6472);e=function(a,l){if(i(a))return a;if(l&&r(l,a))return[a];var c=[];return a.replace(o,function(u,h,d,p){c.push(d?p.replace(s,"$1"):h||u)}),c};var o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g;n.exports=e},996:function(n,e){e=function(t,r){var i=[];r=r||1;for(var o=0,s=Math.ceil(t.length/r);o<s;o++){var a=o*r,l=a+r;i.push(t.slice(a,l))}return i},n.exports=e},9882:function(n,e,t){var r=t(1286);e=function(i,o,s){return r(s)&&(s=o,o=void 0),!r(o)&&i<o?o:i>s?s:i},n.exports=e},4675:function(n,e,t){var r=t(5166),i=t(6472),o=t(6329);e=function(s){return r(s)?i(s)?s.slice():o({},s):s},n.exports=e},550:function(n,e,t){var r=t(5166),i=t(4777),o=t(6472),s=t(8820);e=function(a){return o(a)?a.map(function(l){return e(l)}):r(a)&&!i(a)?s(a,function(l){return e(l)}):a},n.exports=e},8099:function(n,e,t){var r=t(1352);e=function(){for(var i=r(arguments),o=[],s=0,a=i.length;s<a;s++)o=o.concat(r(i[s]));return o},n.exports=e},6341:function(n,e,t){var r=t(496),i=t(6768),o=t(1369),s=t(2578);e=function(a,l){return i(a)?a.indexOf(l)>-1:(o(a)||(a=s(a)),r(a,l)>=0)},n.exports=e},1792:function(n,e,t){var r=t(6768),i=t(3901),o=t(385),s=t(6472),a=t(2349),l=t(3085),c=t(3063);(e=function(u,h){var d;if(h=c(h),r(u))d=new Uint8Array(i.decode(u));else if(o(u))u=u.slice(0),d=new Uint8Array(u);else if(s(u))d=new Uint8Array(u);else if(l(u)==="uint8array")d=u.slice(0);else if(a(u)){d=new Uint8Array(u.length);for(var p=0;p<u.length;p++)d[p]=u[p]}if(d)switch(h){case"base64":d=i.encode(d);break;case"arraybuffer":d=d.buffer;break;case"array":d=[].slice.call(d);break;case"buffer":d=Buffer.from(d);break;case"blob":d=new Blob([d.buffer])}return d}).blobToArrBuffer=function(u){return new Promise(function(h,d){var p=new FileReader;p.onload=function(f){h(f.target.result)},p.onerror=function(f){d(f)},p.readAsArrayBuffer(u)})},n.exports=e},6299:function(n,e,t){var r=t(4193),i=t(3990),o=t(1286),s=t(1420),a={path:"/"};function l(c,u,h){if(!o(u)){if(h=r(h=h||{},a),i(h.expires)){var d=new Date;d.setMilliseconds(d.getMilliseconds()+864e5*h.expires),h.expires=d}return u=encodeURIComponent(u),c=encodeURIComponent(c),document.cookie=[c,"=",u,h.expires&&"; expires="+h.expires.toUTCString(),h.path&&"; path="+h.path,h.domain&&"; domain="+h.domain,h.secure?"; secure":""].join(""),e}for(var p=document.cookie?document.cookie.split("; "):[],f=c?void 0:{},m=0,g=p.length;m<g;m++){var v=p[m],_=v.split("="),y=s(_.shift());if(v=_.join("="),v=s(v),c===y){f=v;break}c||(f[y]=v)}return f}e={get:l,set:l,remove:function(c,u){return(u=u||{}).expires=-1,l(c,"",u)}},n.exports=e},2327:function(n,e,t){var r=t(6329),i=t(1214);e=function(o,s){s=s||i;var a=document.createElement("textarea"),l=document.body;r(a.style,{fontSize:"12pt",border:"0",padding:"0",margin:"0",position:"absolute",left:"-9999px"}),a.value=o,l.appendChild(a),a.setAttribute("readonly",""),a.select(),a.setSelectionRange(0,o.length);try{document.execCommand("copy"),s()}catch(c){s(c)}finally{l.removeChild(a)}},n.exports=e},1662:function(n,e,t){var r=t(5166);e=function(o){if(!r(o))return{};if(i)return i(o);function s(){}return s.prototype=o,new s};var i=Object.create;n.exports=e},4427:function(n,e,t){var r=t(1286),i=t(3783);e=function(o,s){return function(a){return i(arguments,function(l,c){if(c!==0){var u=o(l);i(u,function(h){s&&!r(a[h])||(a[h]=l[h])})}}),a}},n.exports=e},4210:function(n,e,t){var r=t(1475),i=t(1286),o=t(7494);e=r(function(a,l){return i(l)?(a=o(a),!i(s[a])):(s.cssText="",s.cssText=a+":"+l,!!s.length)},function(a,l){return a+" "+l});var s=document.createElement("p").style;n.exports=e},4407:function(n,e,t){var r=t(6768),i=t(2106),o=t(3367),s=t(5351);e=function(d,p,f,m){arguments.length===1&&r(d)&&!u.test(d)&&(p=d,d=void 0),d=d||new Date,i(d)||(d=new Date(d));var g=(p=o(e.masks[p]||p||e.masks.default)).slice(0,4);g!=="UTC:"&&g!=="GMT:"||(p=p.slice(4),f=!0,g==="GMT:"&&(m=!0));var v=f?"getUTC":"get",_=d[v+"Date"](),y=d[v+"Day"](),b=d[v+"Month"](),S=d[v+"FullYear"](),T=d[v+"Hours"](),A=d[v+"Minutes"](),R=d[v+"Seconds"](),Z=d[v+"Milliseconds"](),L=f?0:d.getTimezoneOffset(),G={d:_,dd:a(_),ddd:e.i18n.dayNames[y],dddd:e.i18n.dayNames[y+7],m:b+1,mm:a(b+1),mmm:e.i18n.monthNames[b],mmmm:e.i18n.monthNames[b+12],yy:o(S).slice(2),yyyy:S,h:T%12||12,hh:a(T%12||12),H:T,HH:a(T),M:A,MM:a(A),s:R,ss:a(R),l:a(Z,3),L:a(Math.round(Z/10)),t:T<12?"a":"p",tt:T<12?"am":"pm",T:T<12?"A":"P",TT:T<12?"AM":"PM",Z:m?"GMT":f?"UTC":(o(d).match(c)||[""]).pop().replace(h,""),o:(L>0?"-":"+")+a(100*Math.floor(Math.abs(L)/60)+Math.abs(L)%60,4),S:["th","st","nd","rd"][_%10>3?0:(_%100-_%10!=10)*_%10]};return p.replace(l,function(j){return j in G?G[j]:j.slice(1,j.length-1)})};var a=function(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return s(o(d),p,"0")},l=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,c=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,u=/\d/,h=/[^-+\dA-Z]/g;e.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},e.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},n.exports=e},6049:function(n,e){e=function(t,r,i){var o;return function(){var s=this,a=arguments,l=function(){o=null,t.apply(s,a)};i||clearTimeout(o),i&&o||(o=setTimeout(l,r))}},n.exports=e},1420:function(n,e,t){var r=t(3783),i=t(8166),o=t(2461),s=t(5742);function a(c){return+("0x"+c)}e=function(c){try{return decodeURIComponent(c)}catch{var u=c.match(l);return u&&r(u,function(d){c=c.replace(d,function(p){p=p.split("%").slice(1);var f=o(p,a);return p=i.encode(f),p=s.decode(p,!0),p}(d))}),c}};var l=/(%[a-f0-9]{2})+/gi;n.exports=e},4193:function(n,e,t){e=t(4427)(t(1116),!0),n.exports=e},9803:function(n,e,t){var r=t(2848),i=t(6768),o=t(5166),s=t(3783);function a(l,c,u){for(var h=r(c,l),d=h.pop();c=h.shift();)l[c]||(l[c]={}),l=l[c];Object.defineProperty(l,d,u)}e=function(l,c,u){return i(c)?a(l,c,u):o(c)&&s(c,function(h,d){a(l,d,h)}),l},n.exports=e},2443:function(n,e,t){var r=t(7496),i=t(6341);function o(){return!0}function s(){return!1}function a(c){var u,h=this.events[c.type],d=l.call(this,c,h);c=new e.Event(c);for(var p,f,m=0;(f=d[m++])&&!c.isPropagationStopped();)for(c.curTarget=f.el,p=0;(u=f.handlers[p++])&&!c.isImmediatePropagationStopped();)u.handler.apply(f.el,[c])===!1&&(c.preventDefault(),c.stopPropagation())}function l(c,u){var h,d,p,f,m=c.target,g=[],v=u.delegateCount;if(m.nodeType)for(;m!==this;m=m.parentNode||this){for(d=[],f=0;f<v;f++)d[h=(p=u[f]).selector+" "]===void 0&&(d[h]=i(this.querySelectorAll(h),m)),d[h]&&d.push(p);d.length&&g.push({el:m,handlers:d})}return v<u.length&&g.push({el:this,handlers:u.slice(v)}),g}e={add:function(c,u,h,d){var p,f={selector:h,handler:d};c.events||(c.events={}),(p=c.events[u])||((p=c.events[u]=[]).delegateCount=0,c.addEventListener(u,function(){a.apply(c,arguments)},!1)),h?p.splice(p.delegateCount++,0,f):p.push(f)},remove:function(c,u,h,d){var p=c.events;if(p&&p[u])for(var f,m=p[u],g=m.length;g--;)f=m[g],h&&f.selector!=h||f.handler!=d||(m.splice(g,1),f.selector&&m.delegateCount--)},Event:r({className:"Event",initialize:function(c){this.origEvent=c},isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s,preventDefault:function(){var c=this.origEvent;this.isDefaultPrevented=o,c&&c.preventDefault&&c.preventDefault()},stopPropagation:function(){var c=this.origEvent;this.isPropagationStopped=o,c&&c.stopPropagation&&c.stopPropagation()},stopImmediatePropagation:function(){var c=this.origEvent;this.isImmediatePropagationStopped=o,c&&c.stopImmediatePropagation&&c.stopImmediatePropagation(),this.stopPropagation()}})},n.exports=e},4541:function(n,e,t){var r=t(2727),i=t(9296),o=t(2533);e=function(u){var h=c(u=(u=u||(r?navigator.userAgent:"")).toLowerCase(),"msie ");if(h)return{version:h,name:"ie"};if(a.test(u))return{version:11,name:"ie"};for(var d=0,p=l.length;d<p;d++){var f=l[d],m=u.match(s[f]);if(m!=null){var g=i(m[1].split(".")[0]);return f==="opera"&&(g=c(u,"version/")||g),{name:f,version:g}}}return{name:"unknown",version:-1}};var s={edge:/edge\/([0-9._]+)/,firefox:/firefox\/([0-9.]+)(?:\s|$)/,opera:/opera\/([0-9.]+)(?:\s|$)/,android:/android\s([0-9.]+)/,ios:/version\/([0-9._]+).*mobile.*safari.*/,safari:/version\/([0-9._]+).*safari/,chrome:/(?!chrom.*opr)chrom(?:e|ium)\/([0-9.]+)(:?\s|$)/},a=/trident\/7\./,l=o(s);function c(u,h){var d=u.indexOf(h);if(d>-1)return i(u.substring(d+h.length,u.indexOf(".",d)))}n.exports=e},6954:function(n,e,t){var r=t(2727);e=function(i){if(i=(i=i||(r?navigator.userAgent:"")).toLowerCase(),o("windows phone"))return"windows phone";if(o("win"))return"windows";if(o("android"))return"android";if(o("ipad")||o("iphone")||o("ipod"))return"ios";if(o("mac"))return"os x";if(o("linux"))return"linux";function o(s){return i.indexOf(s)>-1}return"unknown"},n.exports=e},801:function(n,e,t){var r=t(1137),i=t(1225),o=t(5972),s=t(6341);e=r(function(a,l){return l=i(l),o(a,function(c){return!s(l,c)})}),n.exports=e},3783:function(n,e,t){var r=t(1369),i=t(2533),o=t(3955);e=function(s,a,l){var c,u;if(a=o(a,l),r(s))for(c=0,u=s.length;c<u;c++)a(s[c],c,s);else{var h=i(s);for(c=0,u=h.length;c<u;c++)a(s[h[c]],h[c],s)}return s},n.exports=e},4858:function(n,e){e=function(t,r){var i=t.length-r.length;return i>=0&&t.indexOf(r,i)===i},n.exports=e},8901:function(n,e,t){var r=t(2533),i=(e=function(c){return s.test(c)?c.replace(a,l):c}).map={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o="(?:"+r(i).join("|")+")",s=new RegExp(o),a=new RegExp(o,"g"),l=function(c){return i[c]};n.exports=e},4187:function(n,e,t){var r=t(3367);e=function(o){return r(o).replace(i,function(s){switch(s){case'"':case"'":case"\\":return"\\"+s;case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}})};var i=/["'\\\n\r\u2028\u2029]/g;n.exports=e},2337:function(n,e){e=function(t){return t.replace(/\W/g,"\\$&")},n.exports=e},642:function(n,e){e=function(t){var r=document.createElement("style");return r.textContent=t,r.type="text/css",document.head.appendChild(r),r},n.exports=e},1672:function(n,e,t){var r=t(2838),i=t(1369),o=t(2533);e=function(s,a,l){a=r(a,l);for(var c=!i(s)&&o(s),u=(c||s).length,h=0;h<u;h++){var d=c?c[h]:h;if(!a(s[d],d,s))return!1}return!0},n.exports=e},6329:function(n,e,t){e=t(4427)(t(1116)),n.exports=e},3021:function(n,e,t){var r=t(2533);e=t(4427)(r),n.exports=e},2581:function(n,e,t){var r=t(42),i=t(4331),o=t(2461),s=t(1352);e=function(l){var c=s(l.match(a));return r(o(c,function(u){return i(u)}))};var a=/((https?)|(ftp)):\/\/[\w.]+[^ \f\n\r\t\v"\\<>[\]\u2100-\uFFFF(),]*/gi;n.exports=e},5972:function(n,e,t){var r=t(2838),i=t(3783);e=function(o,s,a){var l=[];return s=r(s,a),i(o,function(c,u,h){s(c,u,h)&&l.push(c)}),l},n.exports=e},2244:function(n,e,t){var r=t(2267),i=t(4072),o=t(1369),s=t(1286);e=function(a,l,c){var u=(o(a)?i:r)(a,l,c);if(!s(u)&&u!==-1)return a[u]},n.exports=e},4072:function(n,e,t){var r=t(2838);e=function(i,o,s,a){a=a||1,o=r(o,s);for(var l=i.length,c=a>0?0:l-1;c>=0&&c<l;){if(o(i[c],c,i))return c;c+=a}return-1},n.exports=e},2267:function(n,e,t){var r=t(2838),i=t(2533);e=function(o,s,a){s=r(s,a);for(var l,c=i(o),u=0,h=c.length;u<h;u++)if(s(o[l=c[u]],l,o))return l},n.exports=e},1225:function(n,e,t){var r=t(6472);function i(o,s){for(var a,l=o.length,c=-1;l--;)a=o[++c],r(a)?i(a,s):s.push(a);return s}e=function(o){return i(o,[])},n.exports=e},4454:function(n,e,t){var r=t(2533);e=function(i){return Object.freeze?Object.freeze(i):(r(i).forEach(function(o){Object.getOwnPropertyDescriptor(i,o).configurable&&Object.defineProperty(i,o,{writable:!1,configurable:!1})}),i)},n.exports=e},415:function(n,e,t){var r=t(5166),i=t(4777),o=Object.getPrototypeOf,s={}.constructor;e=function(a){if(r(a)){if(o)return o(a);var l=a.__proto__;return l||l===null?l:i(a.constructor)?a.constructor.prototype:a instanceof s?s.prototype:void 0}},n.exports=e},8613:function(n,e,t){var r=t(9833),i=t(6768),o=t(6930),s=t(7781),a=t(975),l=t(3783),c=t(4777);function u(h){for(var d="div",p="",f=[],m=[],g="",v=0,_=h.length;v<_;v++){var y=h[v];y==="#"||y==="."?(m.push(g),g=y):g+=y}m.push(g);for(var b=0,S=m.length;b<S;b++)(g=m[b])&&(o(g,"#")?p=g.slice(1):o(g,".")?f.push(g.slice(1)):d=g);return{tagName:d,id:p,classes:f}}e=function(h,d){for(var p=arguments.length,f=new Array(p>2?p-2:0),m=2;m<p;m++)f[m-2]=arguments[m];(r(d)||i(d))&&(f.unshift(d),d=null),d||(d={});var g=u(h),v=g.tagName,_=g.id,y=g.classes,b=document.createElement(v);return _&&b.setAttribute("id",_),s.add(b,y),l(f,function(S){i(S)?b.appendChild(document.createTextNode(S)):r(S)&&b.appendChild(S)}),l(d,function(S,T){i(S)?b.setAttribute(T,S):c(S)&&o(T,"on")?b.addEventListener(T.slice(2),S,!1):T==="style"&&a(b,S)}),b},n.exports=e},6257:function(n,e){var t=Object.prototype.hasOwnProperty;e=function(r,i){return t.call(r,i)},n.exports=e},5044:function(n,e,t){var r=t(7348);e={encode:function(i){for(var o=[],s=0,a=i.length;s<a;s++){var l=i[s];o.push((l>>>4).toString(16)),o.push((15&l).toString(16))}return o.join("")},decode:function(i){var o=[],s=i.length;r(s)&&s--;for(var a=0;a<s;a+=2)o.push(parseInt(i.substr(a,2),16));return o}},n.exports=e},3651:function(n,e,t){var r=t(3783),i=t(4193);e=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"js",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};i(c,o),a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=s[l];var u=0,h=[];r(l,function(p){p.language&&(a=a.replace(p.re,function(f,m){return m?(h[u++]=e(m,p.language,c),f.replace(m,"___subtmpl"+(u-1)+"___")):f}))}),r(l,function(p,f){s[p.language]||(a=a.replace(p.re,"___"+f+"___$1___end"+f+"___"))});var d=[];return a=a.replace(/___(?!subtmpl)\w+?___/g,function(p){var f=p.substr(3,3)==="end",m=(f?p.substr(6):p.substr(3)).replace(/_/g,""),g=d.length>0?d[d.length-1]:null;return!f&&(g==null||m==g||g!=null&&l[g]&&l[g].embed!=null&&l[g].embed.indexOf(m)>-1)?(d.push(m),p):f&&m==g?(d.pop(),p):""}),r(l,function(p,f){var m=c[p.style]?' style="'.concat(c[p.style],'"'):"";a=a.replace(new RegExp("___end"+f+"___","g"),"</span>").replace(new RegExp("___"+f+"___","g"),'<span class="'.concat(p.style,'"').concat(m,">"))}),r(l,function(p){p.language&&(a=a.replace(/___subtmpl\d+___/g,function(f){var m=parseInt(f.replace(/___subtmpl(\d+)___/,"$1"),10);return h[m]}))}),a};var o={comment:"color:#63a35c;",string:"color:#183691;",number:"color:#0086b3;",keyword:"color:#a71d5d;",operator:"color:#994500;"},s={js:{comment:{re:/(\/\/.*|\/\*([\s\S]*?)\*\/)/g,style:"comment"},string:{re:/(('.*?')|(".*?"))/g,style:"string"},numbers:{re:/(-?(\d+|\d+\.\d+|\.\d+))/g,style:"number"},keywords:{re:/(?:\b)(function|for|foreach|while|if|else|elseif|switch|break|as|return|this|class|self|default|var|const|let|false|true|null|undefined)(?:\b)/gi,style:"keyword"},operator:{re:/(\+|-|\/|\*|%|=|&lt;|&gt;|\||\?|\.)/g,style:"operator"}}};s.html={comment:{re:/(&lt;!--([\s\S]*?)--&gt;)/g,style:"comment"},tag:{re:/(&lt;\/?\w(.|\n)*?\/?&gt;)/g,style:"keyword",embed:["string"]},string:s.js.string,css:{re:/(?:&lt;style.*?&gt;)([\s\S]*)?(?:&lt;\/style&gt;)/gi,language:"css"},script:{re:/(?:&lt;script.*?&gt;)([\s\S]*?)(?:&lt;\/script&gt;)/gi,language:"js"}},s.css={comment:s.js.comment,string:s.js.string,numbers:{re:/((-?(\d+|\d+\.\d+|\.\d+)(%|px|em|pt|in)?)|#[0-9a-fA-F]{3}[0-9a-fA-F]{3})/g,style:"number"},keywords:{re:/(@\w+|:?:\w+|[a-z-]+:)/g,style:"keyword"}},n.exports=e},5925:function(n,e){e=function(r){var i,o,s,a=r[0]/360,l=r[1]/100,c=r[2]/100,u=[];if(r[3]&&(u[3]=r[3]),l===0)return s=t(255*c),u[0]=u[1]=u[2]=s,u;for(var h=2*c-(i=c<.5?c*(1+l):c+l-c*l),d=0;d<3;d++)(o=a+.3333333333333333*-(d-1))<0&&o++,o>1&&o--,s=6*o<1?h+6*(i-h)*o:2*o<1?i:3*o<2?h+(i-h)*(.6666666666666666-o)*6:h,u[d]=t(255*s);return u};var t=Math.round;n.exports=e},7483:function(n,e,t){var r=t(8702),i=t(9001),o=t(6472),s=t(3783),a=t(6768),l=t(8820),c=function(h){return h.replace(/&quot;/g,'"')},u=function(h){return h.replace(/"/g,"&quot;")};e={parse:function(h){var d=[],p=new i;return r(h,{start:function(f,m){m=l(m,function(g){return c(g)}),p.push({tag:f,attrs:m})},end:function(){var f=p.pop();if(p.size){var m=p.peek();o(m.content)||(m.content=[]),m.content.push(f)}else d.push(f)},comment:function(f){var m="<!--".concat(f,"-->"),g=p.peek();g?(g.content||(g.content=[]),g.content.push(m)):d.push(m)},text:function(f){var m=p.peek();m?(m.content||(m.content=[]),m.content.push(f)):d.push(f)}}),d},stringify:function h(d){var p="";return o(d)?s(d,function(f){return p+=h(f)}):a(d)?p=d:(p+="<".concat(d.tag),s(d.attrs,function(f,m){return p+=" ".concat(m,'="').concat(u(f),'"')}),p+=">",d.content&&(p+=h(d.content)),p+="</".concat(d.tag,">")),p}},n.exports=e},6362:function(n,e){e=function(t){return t},n.exports=e},496:function(n,e){e=function(t,r,i){return Array.prototype.indexOf.call(t,r,i)},n.exports=e},5022:function(n,e,t){var r=t(1662);e=function(i,o){i.prototype=r(o.prototype)},n.exports=e},7190:function(n,e,t){var r=t(3783);e=function(i){var o={};return r(i,function(s,a){o[s]=a}),o},n.exports=e},7403:function(n,e,t){var r=t(106);e=function(i){return r(i)==="[object Arguments]"},n.exports=e},6472:function(n,e,t){var r=t(106);e=Array.isArray?Array.isArray:function(i){return r(i)==="[object Array]"},n.exports=e},385:function(n,e,t){var r=t(106);e=function(i){return r(i)==="[object ArrayBuffer]"},n.exports=e},1369:function(n,e,t){var r=t(3990),i=t(4777),o=Math.pow(2,53)-1;e=function(s){if(!s)return!1;var a=s.length;return r(a)&&a>=0&&a<=o&&!i(s)},n.exports=e},4696:function(n,e){e=function(t){return t===!0||t===!1},n.exports=e},2727:function(n,e){e=typeof window=="object"&&typeof document=="object"&&document.nodeType===9,n.exports=e},2349:function(n,e,t){var r=t(4777);e=function(i){return i!=null&&(!!i._isBuffer||i.constructor&&r(i.constructor.isBuffer)&&i.constructor.isBuffer(i))},n.exports=e},2520:function(n,e,t){var r=new(t(2765))("(prefers-color-scheme: dark)");e=function(){return r.isMatch()},n.exports=e},2106:function(n,e,t){var r=t(106);e=function(i){return r(i)==="[object Date]"},n.exports=e},9833:function(n,e){e=function(t){return!(!t||t.nodeType!==1)},n.exports=e},8887:function(n,e,t){var r=t(1369),i=t(6472),o=t(6768),s=t(7403),a=t(2533);e=function(l){return l==null||(r(l)&&(i(l)||o(l)||s(l))?l.length===0:a(l).length===0)},n.exports=e},2749:function(n,e,t){var r=t(106);e=function(i){return r(i)==="[object Error]"},n.exports=e},4777:function(n,e,t){var r=t(106);e=function(i){var o=r(i);return o==="[object Function]"||o==="[object GeneratorFunction]"||o==="[object AsyncFunction]"},n.exports=e},9585:function(n,e,t){var r=t(5610),i=r.getComputedStyle,o=r.document;function s(a,l){return a.right<l.left||a.left>l.right||a.bottom<l.top||a.top>l.bottom}e=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=l.display,u=c===void 0||c,h=l.visibility,d=h!==void 0&&h,p=l.opacity,f=p!==void 0&&p,m=l.size,g=m!==void 0&&m,v=l.viewport,_=v!==void 0&&v,y=l.overflow,b=y!==void 0&&y;if(u)return a.offsetParent===null;var S=i(a);if(d&&S.visibility==="hidden")return!0;if(f){if(S.opacity==="0")return!0;for(var T=a;T=T.parentElement;){var A=i(T);if(A.opacity==="0")return!0}}var R=a.getBoundingClientRect();if(g&&(R.width===0||R.height===0))return!0;if(_){var Z={top:0,left:0,right:o.documentElement.clientWidth,bottom:o.documentElement.clientHeight};return s(R,Z)}if(b)for(var L=a;L=L.parentElement;){var G=i(L),j=G.overflow;if(j==="scroll"||j==="hidden"){var M=L.getBoundingClientRect();if(s(R,M))return!0}}return!1},n.exports=e},2246:function(n,e,t){var r=t(3990);e=function(i){return r(i)&&i%1==0},n.exports=e},4219:function(n,e){e=function(t){try{return JSON.parse(t),!0}catch{return!1}},n.exports=e},3708:function(n,e,t){var r=t(106);e=function(i){return r(i)==="[object Map]"},n.exports=e},7949:function(n,e,t){var r=t(2533);e=function(i,o){var s=r(o),a=s.length;if(i==null)return!a;i=Object(i);for(var l=0;l<a;l++){var c=s[l];if(o[c]!==i[c]||!(c in i))return!1}return!0},n.exports=e},9537:function(n,e,t){var r=t(4777);e=typeof wx<"u"&&r(wx.openLocation),n.exports=e},9956:function(n,e,t){var r=t(2727),i=t(1475),o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,s=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i;e=i(function(a){return a=a||(r?navigator.userAgent:""),o.test(a)||s.test(a.substr(0,4))}),n.exports=e},9433:function(n,e,t){var r=t(3990);e=function(i){return r(i)&&i!==+i},n.exports=e},8740:function(n,e,t){var r=t(5166),i=t(4777),o=t(300);e=function(c){return!!r(c)&&(i(c)?a.test(o(c)):l.test(o(c)))};var s=Object.prototype.hasOwnProperty,a=new RegExp("^"+o(s).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),l=/^\[object .+?Constructor\]$/;n.exports=e},2763:function(n,e){e=function(t){return t==null},n.exports=e},1965:function(n,e,t){var r=t(106);e=typeof process<"u"&&r(process)==="[object process]",n.exports=e},6156:function(n,e){e=function(t){return t===null},n.exports=e},3990:function(n,e,t){var r=t(106);e=function(i){return r(i)==="[object Number]"},n.exports=e},5166:function(n,e){e=function(t){var r=typeof t;return!!t&&(r==="function"||r==="object")},n.exports=e},7348:function(n,e,t){var r=t(2246);e=function(i){return!!r(i)&&i%2!=0},n.exports=e},6997:function(n,e){e=function(t){var r=typeof t;return t==null||r!=="function"&&r!=="object"},n.exports=e},4321:function(n,e,t){var r=t(5166),i=t(4777);e=function(o){return r(o)&&i(o.then)&&i(o.catch)},n.exports=e},1754:function(n,e,t){var r=t(106);e=function(i){return r(i)==="[object RegExp]"},n.exports=e},7470:function(n,e,t){var r=t(106);e=function(i){return r(i)==="[object Set]"},n.exports=e},3843:function(n,e){e=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.defComparator,i=0,o=t.length;i<o-1;i++)if(r(t[i],t[i+1])>0)return!1;return!0},e.defComparator=function(t,r){return t<r?-1:t>r?1:0},n.exports=e},6768:function(n,e,t){var r=t(106);e=function(i){return r(i)==="[object String]"},n.exports=e},9804:function(n,e){e=function(t){return typeof t=="symbol"},n.exports=e},1286:function(n,e){e=function(t){return t===void 0},n.exports=e},7622:function(n,e,t){var r=t(8935);e=function(i){return r(i).join("-")},n.exports=e},2533:function(n,e,t){var r=t(6257);e=Object.keys?Object.keys:function(i){var o=[];for(var s in i)r(i,s)&&o.push(s);return o},n.exports=e},9702:function(n,e){e=function(t){var r=t?t.length:0;if(r)return t[r-1]},n.exports=e},3988:function(n,e,t){var r=t(2581),i=t(3783),o=t(2337);function s(a){return'<a href="'+a+'">'+a+"</a>"}e=function(a,l){l=l||s;var c=r(a);return i(c,function(u){a=a.replace(new RegExp(o(u),"g"),l)}),a},n.exports=e},9622:function(n,e){e=function(t,r){var i=document.createElement("script");i.src=t,i.onload=function(){var o=i.readyState&&i.readyState!="complete"&&i.readyState!="loaded";r&&r(!o)},i.onerror=function(){r(!1)},document.body.appendChild(i)},n.exports=e},3063:function(n,e,t){var r=t(3367);e=function(i){return r(i).toLocaleLowerCase()},n.exports=e},5351:function(n,e,t){var r=t(4552),i=t(3367);e=function(o,s,a){var l=(o=i(o)).length;return a=a||" ",l<s&&(o=(r(a,s-l)+o).slice(-s)),o},n.exports=e},7767:function(n,e){var t=/^\s+/;e=function(r,i){if(i==null)return r.trimLeft?r.trimLeft():r.replace(t,"");for(var o,s,a=0,l=r.length,c=i.length,u=!0;u&&a<l;)for(u=!1,o=-1,s=r.charAt(a);++o<c;)if(s===i[o]){u=!0,a++;break}return a>=l?"":r.substr(a,l)},n.exports=e},2461:function(n,e,t){var r=t(2838),i=t(2533),o=t(1369);e=function(s,a,l){a=r(a,l);for(var c=!o(s)&&i(s),u=(c||s).length,h=Array(u),d=0;d<u;d++){var p=c?c[d]:d;h[d]=a(s[p],p,s)}return h},n.exports=e},8820:function(n,e,t){var r=t(2838),i=t(2533);e=function(o,s,a){s=r(s,a);for(var l=i(o),c=l.length,u={},h=0;h<c;h++){var d=l[h];u[d]=s(o[d],d,o)}return u},n.exports=e},4491:function(n,e,t){var r=t(3021),i=t(7949);e=function(o){return o=r({},o),function(s){return i(s,o)}},n.exports=e},9853:function(n,e){e=function(){for(var t=arguments,r=t[0],i=1,o=t.length;i<o;i++)t[i]>r&&(r=t[i]);return r},n.exports=e},5026:function(n,e,t){var r=t(2533);e={getItem:function(c){return(o[c]?i[c]:this[c])||null},setItem:function(c,u){o[c]?i[c]=u:this[c]=u},removeItem:function(c){o[c]?delete i[c]:delete this[c]},key:function(c){var u=s();return c>=0&&c<u.length?u[c]:null},clear:function(){for(var c,u=a(),h=0;c=u[h];h++)delete this[c];u=l();for(var d,p=0;d=u[p];p++)delete i[d]}},Object.defineProperty(e,"length",{enumerable:!1,configurable:!0,get:function(){return s().length}});var i={},o={getItem:1,setItem:1,removeItem:1,key:1,clear:1,length:1};function s(){return a().concat(l())}function a(){return r(e).filter(function(c){return!o[c]})}function l(){return r(i)}n.exports=e},1475:function(n,e,t){var r=t(6257);e=function(i,o){var s=function(a){var l=s.cache,c=""+(o?o.apply(this,arguments):a);return r(l,c)||(l[c]=i.apply(this,arguments)),l[c]};return s.cache={},s},n.exports=e},9971:function(n,e,t){e=t(1137)(function(r,i){for(var o=r.length,s=0,a=i.length;s<a;s++)for(var l=i[s],c=0,u=l.length;c<u;c++)r[o++]=l[c];return r.length=o,r}),n.exports=e},8573:function(n,e,t){var r=t(3783),i=t(6768),o=t(1286),s=t(6341),a=t(6472),l=t(5166),c=t(1352);(e=function(p,f){if(o(p))return m={},h(function(v,_){m[v]=_}),m;var m;if(i(p)&&o(f)||a(p))return function(v){if(!i(v)){var _={};return h(function(b,S){s(v,b)&&(_[b]=S)}),_}var y=d(v);if(y)return y.getAttribute("content")}(p);var g=p;l(g)||((g={})[p]=f),function(v){r(v,function(_,y){var b=d(y);if(b)return b.setAttribute("content",_);(b=u.createElement("meta")).setAttribute("name",y),b.setAttribute("content",_),u.head.appendChild(b)})}(g)}).remove=function(p){p=c(p),r(p,function(f){var m=d(f);m&&u.head.removeChild(m)})};var u=document;function h(p){var f=u.querySelectorAll("meta");r(f,function(m){var g=m.getAttribute("name"),v=m.getAttribute("content");g&&v&&p(g,v)})}function d(p){return u.querySelector('meta[name="'+p+'"]')}n.exports=e},6435:function(n,e){e=function(){for(var t=arguments,r=t[0],i=1,o=t.length;i<o;i++)t[i]<r&&(r=t[i]);return r},n.exports=e},4677:function(n,e,t){var r=t(3875),i=t(6768);e=function(l){if(i(l)){var c=l.match(a);return c?r(c[1])*o[c[2]||"ms"]:0}for(var u=l,h="ms",d=0,p=s.length;d<p;d++)if(u>=o[s[d]]){h=s[d];break}return+(u/o[h]).toFixed(2)+h};var o={ms:1,s:1e3};o.m=60*o.s,o.h=60*o.m,o.d=24*o.h,o.y=365.25*o.d;var s=["y","d","h","m","s"],a=/^((?:\d+)?\.?\d+) *(s|m|h|d|y)?$/;n.exports=e},7658:function(n,e,t){var r=t(6930),i=t(5610),o=t(3367);function s(a,l){if(a=o(a),l=o(l),r(a,"_")&&!r(l,"_"))return 1;if(r(l,"_")&&!r(a,"_"))return-1;for(var c,u,h,d,p=/^\d+|^\D+/;;){if(!a)return l?-1:0;if(!l)return 1;if(c=a.match(p)[0],u=l.match(p)[0],h=!i.isNaN(c),d=!i.isNaN(u),h&&!d)return-1;if(d&&!h)return 1;if(h&&d){var f=c-u;if(f)return f;if(c.length!==u.length)return+c||+u?u.length-c.length:c.length-u.length}else if(c!==u)return c<u?-1:1;a=a.substring(c.length),l=l.substring(u.length)}}e=function(a){return a.sort(s)},n.exports=e},6837:function(n,e){function t(r){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}e=typeof process=="object"&&process.nextTick?process.nextTick:typeof setImmediate=="function"?function(r){setImmediate(t(r))}:function(r){setTimeout(t(r),0)},n.exports=e},1214:function(n,e){e=function(){},n.exports=e},8847:function(n,e){e=Date.now?Date.now:function(){return new Date().getTime()},n.exports=e},106:function(n,e){var t=Object.prototype.toString;e=function(r){return t.call(r)},n.exports=e},8763:function(n,e,t){e=t(4198)(t(5637),2),n.exports=e},3955:function(n,e,t){var r=t(1286);e=function(i,o,s){if(r(o))return i;switch(s??3){case 1:return function(a){return i.call(o,a)};case 3:return function(a,l,c){return i.call(o,a,l,c)};case 4:return function(a,l,c,u){return i.call(o,a,l,c,u)}}return function(){return i.apply(o,arguments)}},n.exports=e},442:function(n,e,t){var r=t(1443),i=t(7653),o=window.screen;e={get:function(){if(o){var s=i(o,"orientation.type");if(s)return s.split("-").shift()}return window.innerWidth>window.innerHeight?"landscape":"portrait"}},r.mixin(e),window.addEventListener("orientationchange",function(){setTimeout(function(){e.emit("change",e.get())},200)},!1),n.exports=e},8702:function(n,e,t){var r=t(9702),i=t(7913),o=t(6930),s=t(3063);e=function(d,p){for(var f,m=[],g=d;d;){if(f=!0,r(m)&&h[r(m)]){var v=new RegExp("</".concat(r(m),"[^>]*>")).exec(d);if(v){var _=d.substring(0,v.index);d=d.substring(v.index+v[0].length),_&&p.text&&p.text(_)}L("",r(m))}else{if(o(d,"<!--")){var y=d.indexOf("-->");y>=0&&(p.comment&&p.comment(d.substring(4,y)),d=d.substring(y+3),f=!1)}else if(o(d,"<!")){var b=d.match(a);b&&(p.text&&p.text(d.substring(0,b[0].length)),d=d.substring(b[0].length),f=!1)}else if(o(d,"</")){var S=d.match(l);S&&(d=d.substring(S[0].length),S[0].replace(l,L),f=!1)}else if(o(d,"<")){var T=d.match(c);T&&(d=d.substring(T[0].length),T[0].replace(c,Z),f=!1)}if(f){var A=d.indexOf("<"),R=A<0?d:d.substring(0,A);d=A<0?"":d.substring(A),p.text&&p.text(R)}}if(g===d)throw Error("Parse Error: "+d);g=d}function Z(G,j,M,E){if(j=s(j),(E=!!E)||m.push(j),p.start){var I={};M.replace(u,function(U,N,Y,D,z){I[N]=Y||D||z||""}),p.start(j,I,E)}}function L(G,j){var M;if(j=s(j))for(M=m.length-1;M>=0&&m[M]!==j;M--);else M=0;if(M>=0){for(var E=m.length-1;E>=M;E--)p.end&&p.end(m[E]);m.length=M}}L()};var a=/^<!\s*doctype((?:\s+[\w:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/i,l=/^<\/([-A-Za-z0-9_]+)[^>]*>/,c=/^<([-A-Za-z0-9_]+)((?:\s+[-A-Za-z0-9_:@.]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/i,u=/([-A-Za-z0-9_:@.]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,h=i("script,style".split(","));n.exports=e},4198:function(n,e,t){var r=t(1137),i=t(1352);e=r(function(o,s){return function(){var a=[];return a=(a=a.concat(s)).concat(i(arguments)),o.apply(this,a)}}),n.exports=e},1194:function(n,e,t){var r,i=t(8847),o=t(5610),s=o.performance,a=o.process;if(s&&s.now)e=function(){return s.now()};else if(a&&a.hrtime){var l=function(){var c=a.hrtime();return 1e9*c[0]+c[1]};r=l()-1e9*a.uptime(),e=function(){return(l()-r)/1e6}}else r=i(),e=function(){return i()-r};n.exports=e},3487:function(n,e,t){var r=t(6768),i=t(6472),o=t(6341),s=t(3783);e=function(a,l,c){if(r(l)&&(l=[l]),i(l)){var u=l;l=function(p,f){return o(u,f)}}var h={},d=function(p,f){l(p,f)&&(h[f]=p)};return c&&(d=function(p,f){l(p,f)||(h[f]=p)}),s(a,d),h},n.exports=e},747:function(n,e,t){var r=t(1475),i=t(7494),o=t(3023),s=t(6257),a=t(7622);(e=r(function(h){if(h=h.replace(c,""),h=i(h),s(u,h))return h;for(var d=l.length;d--;){var p=l[d]+o(h);if(s(u,p))return p}return h})).dash=r(function(h){var d=e(h);return(c.test(d)?"-":"")+a(d)});var l=["O","ms","Moz","Webkit"],c=/^(O)|(ms)|(Moz)|(Webkit)|(-o-)|(-ms-)|(-moz-)|(-webkit-)/g,u=document.createElement("p").style;n.exports=e},2994:function(n,e,t){var r=t(6472),i=t(7653);e=function(o){return r(o)?function(a){return i(a,o)}:(s=o,function(a){return a==null?void 0:a[s]});var s},n.exports=e},1745:function(n,e,t){var r=t(4331),i=t(3783),o=t(1286),s=t(6472),a=t(2461),l=t(8887),c=t(5972),u=t(5166);e={parse:function(d){var p={};return d=r(d).replace(h,""),i(d.split("&"),function(f){var m=f.split("="),g=m.shift(),v=m.length>0?m.join("="):null;g=decodeURIComponent(g),v=decodeURIComponent(v),o(p[g])?p[g]=v:s(p[g])?p[g].push(v):p[g]=[p[g],v]}),p},stringify:function(d,p){return c(a(d,function(f,m){return u(f)&&l(f)?"":s(f)?e.stringify(f,m):encodeURIComponent(p||m)+"="+encodeURIComponent(f)}),function(f){return f.length>0}).join("&")}};var h=/^(\?|#|&)/g;n.exports=e},1571:function(n,e,t){var r,i,o=t(8847),s=t(2727),a=0;if(s){r=window.requestAnimationFrame,i=window.cancelAnimationFrame;for(var l=["ms","moz","webkit","o"],c=0,u=l.length;c<u&&!r;c++)r=window[l[c]+"RequestAnimationFrame"],i=window[l[c]+"CancelAnimationFrame"]||window[l[c]+"CancelRequestAnimationFrame"];r&&(r=r.bind(window),i=i.bind(window))}i=i||function(h){clearTimeout(h)},(r=r||function(h){var d=o(),p=Math.max(0,16-(d-a)),f=setTimeout(function(){h(d+p)},p);return a=d+p,f}).cancel=i,e=r,n.exports=e},1216:function(n,e){e=function(t,r,i){r==null&&(r=t,t=0);var o=Math.random();return i||t%1||r%1?Math.min(t+o*(r-t+parseFloat("1e-"+((o+"").length-1))),r):t+Math.floor(o*(r-t+1))},n.exports=e},3366:function(module,exports,__webpack_require__){var random=__webpack_require__(1216),isBrowser=__webpack_require__(2727),isNode=__webpack_require__(1965),crypto;exports=function(n){for(var e=new Uint8Array(n),t=0;t<n;t++)e[t]=random(0,255);return e},isBrowser?(crypto=window.crypto||window.msCrypto,crypto&&(exports=function(n){var e=new Uint8Array(n);return crypto.getRandomValues(e),e})):isNode&&(crypto=eval("require")("crypto"),exports=function(n){return crypto.randomBytes(n)}),module.exports=exports},4270:function(n,e){var t,r=[],i=document,o=i.documentElement.doScroll,s="DOMContentLoaded",a=(o?/^loaded|^c/:/^loaded|^i|^c/).test(i.readyState);a||i.addEventListener(s,t=function(){for(i.removeEventListener(s,t),a=1;t=r.shift();)t()}),e=function(l){a?setTimeout(l,0):r.push(l)},n.exports=e},5852:function(n,e,t){var r=t(2838);e=function(i,o,s){var a=[];o=r(o,s);for(var l=-1,c=i.length;++l<c;){var u=i[l];o(u,l,i)&&(a.push(u),i.splice(l,1))}return a},n.exports=e},4552:function(n,e){e=function(t,r){var i="";if(r<1)return"";for(;r>0;)1&r&&(i+=t),r>>=1,t+=t;return i},n.exports=e},8368:function(n,e,t){var r=t(2337);e=function(i,o,s){return i.replace(new RegExp(r(o),"g"),s)},n.exports=e},1137:function(n,e){e=function(t,r){return r=r==null?t.length-1:+r,function(){var i,o=Math.max(arguments.length-r,0),s=new Array(o);for(i=0;i<o;i++)s[i]=arguments[i+r];switch(r){case 0:return t.call(this,s);case 1:return t.call(this,arguments[0],s);case 2:return t.call(this,arguments[0],arguments[1],s)}var a=new Array(r+1);for(i=0;i<r;i++)a[i]=arguments[i];return a[r]=s,t.apply(this,a)}},n.exports=e},1527:function(n,e){e=function(t){var r=t.length,i=Array(r);r--;for(var o=0;o<=r;o++)i[r-o]=t[o];return i},n.exports=e},3279:function(n,e){e=function(o){var s,a,l=o[0]/255,c=o[1]/255,u=o[2]/255,h=t(l,c,u),d=r(l,c,u),p=d-h;(s=t(60*(s=d===h?0:l===d?(c-u)/p:c===d?2+(u-l)/p:4+(l-c)/p),360))<0&&(s+=360);var f=(h+d)/2;a=d===h?0:f<=.5?p/(d+h):p/(2-d-h);var m=[i(s),i(100*a),i(100*f)];return o[3]&&(m[3]=o[3]),m};var t=Math.min,r=Math.max,i=Math.round;n.exports=e},5031:function(n,e,t){var r=t(6299);e=function(i){var o,s=window.location,a=s.hostname,l=s.pathname,c=a.split("."),u=l.split("/"),h="",d=u.length;if(!v())for(var p=c.length-1;p>=0;p--){var f=c[p];if(f!==""){if(v({domain:h=h===""?f:f+"."+h,path:o="/"})||v({domain:h}))return;for(var m=0;m<d;m++){var g=u[m];if(g!==""&&(v({domain:h,path:o+=g})||v({path:o})||v({domain:h,path:o+="/"})||v({path:o})))return}}}function v(_){return _=_||{},r.remove(i,_),!r.get(i)}},n.exports=e},5610:function(n,e,t){e=t(2727)?window:t.g,n.exports=e},3597:function(n,e){e=function(t,r){if(r==null){if(t.trimRight)return t.trimRight();r=` \r
	\f\v`}for(var i,o,s=t.length-1,a=r.length,l=!0;l&&s>=0;)for(l=!1,i=-1,o=t.charAt(s);++i<a;)if(o===r[i]){l=!0,s--;break}return s>=0?t.substring(0,s+1):""},n.exports=e},2838:function(n,e,t){var r=t(4777),i=t(5166),o=t(6472),s=t(3955),a=t(4491),l=t(6362),c=t(2994);e=function(u,h,d){return u==null?l:r(u)?s(u,h,d):i(u)&&!o(u)?a(u):c(u)},n.exports=e},7653:function(n,e,t){var r=t(1286),i=t(2848);e=function(o,s){var a;for(a=(s=i(s,o)).shift();!r(a);){if((o=o[a])==null)return;a=s.shift()}return o},n.exports=e},8079:function(n,e,t){var r=t(2848),i=t(1286),o=t(3367),s=t(9804),a=t(6768);e=function(l,c,u){var h,d=(c=r(c,l)).pop();for(h=c.shift();!i(h);){if(a(h)||s(h)||(h=o(h)),h==="__proto__"||h==="constructor"||h==="prototype")return;l[h]||(l[h]={}),l=l[h],h=c.shift()}l[d]=u},n.exports=e},615:function(n,e,t){var r=t(5026);e=function(i){var o;switch(i=i||"local"){case"local":o=window.localStorage;break;case"session":o=window.sessionStorage}try{var s="test-localStorage-"+Date.now();o.setItem(s,s);var a=o.getItem(s);if(o.removeItem(s),a!==s)throw new Error}catch{return r}return o},n.exports=e},4224:function(n,e,t){var r=t(6334);e=function(i,o){return i=new r(i),o=new r(o),i.port=0|i.port||(i.protocol==="https"?443:80),o.port=0|o.port||(o.protocol==="https"?443:80),i.protocol===o.protocol&&i.hostname===o.hostname&&i.port===o.port},n.exports=e},9677:function(n,e){e=function(t,r,i){var o=t.length;r=r==null?0:r<0?Math.max(o+r,0):Math.min(r,o),i=i==null?o:i<0?Math.max(o+i,0):Math.min(i,o);for(var s=[];r<i;)s.push(t[r++]);return s},n.exports=e},6053:function(n,e,t){var r=t(2838),i=t(1369),o=t(2533);e=function(s,a,l){a=r(a,l);for(var c=!i(s)&&o(s),u=(c||s).length,h=0;h<u;h++){var d=c?c[h]:h;if(a(s[d],d,s))return!0}return!1},n.exports=e},3629:function(n,e,t){var r=t(3843),i=t(4193),o=t(2533),s=t(6472),a=t(5166);e=function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(u,l);var h=u.deep,d=u.comparator,p=[],f=[];function m(g){var v,_=p.indexOf(g);if(_>-1)return f[_];if(s(g)){v=[],p.push(g),f.push(v);for(var y=0,b=g.length;y<b;y++){var S=g[y];h&&a(S)?v[y]=m(S):v[y]=S}}else{v={},p.push(g),f.push(v);for(var T=o(g).sort(d),A=0,R=T.length;A<R;A++){var Z=T[A],L=g[Z];h&&a(L)?v[Z]=m(L):v[Z]=L}}return v}return m(c)};var l={deep:!1,comparator:r.defComparator};n.exports=e},8935:function(n,e){var t=/([A-Z])/g,r=/[_.\- ]+/g,i=/(^-)|(-$)/g;e=function(o){return(o=o.replace(t,"-$1").toLowerCase().replace(r,"-").replace(i,"")).split("-")},n.exports=e},6930:function(n,e){e=function(t,r){return t.indexOf(r)===0},n.exports=e},4400:function(n,e,t){var r=t(3085),i=t(3023),o=t(3367),s=t(1286),a=t(4777),l=t(1754);e=function(c,u){return JSON.stringify(c,(h=[],d=[],function(p,f){if(h.length>0){var m=h.indexOf(this);m>-1?(h.splice(m+1),d.splice(m,1/0,p)):(h.push(this),d.push(p));var g=h.indexOf(f);g>-1&&(f=h[0]===f?"[Circular ~]":"[Circular ~."+d.slice(0,g).join(".")+"]")}else h.push(f);return l(f)||a(f)?f="["+i(r(f))+" "+o(f)+"]":s(f)&&(f=null),f}),u);var h,d},n.exports=e},9963:function(n,e,t){var r=t(4187),i=t(3085),o=t(3367),s=t(4858),a=t(300),l=t(2533),c=t(3783),u=t(7496),h=t(415),d=t(801),p=t(6329),f=t(4321),m=t(5972),g=t(8847),v=t(1116),_=t(6341),y=t(5166),b=t(9537),S=t(1662),T=t(6930),A=t(8079),R=t(9803),Z=t(3487),L=t(1369);function G(Y,D,z,$){var rt=[];return c(D,function(ot){var st,tt=Object.getOwnPropertyDescriptor(z,ot),nt=tt&&tt.get,Et=tt&&tt.set;if(!$.accessGetter&&nt)st="(...)";else try{if(st=z[ot],_($.ignore,st))return;f(st)&&st.catch(function(){})}catch(yt){st=yt.message}rt.push("".concat(j(ot),":").concat(e(st,$))),nt&&rt.push("".concat(j("get "+o(ot)),":").concat(e(tt.get,$))),Et&&rt.push("".concat(j("set "+o(ot)),":").concat(e(tt.set,$)))}),'"'.concat(Y,'":{')+rt.join(",")+"}"}function j(Y){return'"'.concat(E(Y),'"')}function M(Y){return'"'.concat(E(o(Y)),'"')}function E(Y){return r(Y).replace(/\\'/g,"'").replace(/\t/g,"\\t")}e=function(Y){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=D.self,$=D.startTime,rt=$===void 0?g():$,ot=D.timeout,st=ot===void 0?0:ot,tt=D.depth,nt=tt===void 0?0:tt,Et=D.curDepth,yt=Et===void 0?1:Et,Gt=D.visitor,Nt=Gt===void 0?new I:Gt,jt=D.unenumerable,Rt=jt!==void 0&&jt,Dt=D.symbol,Ct=Dt!==void 0&&Dt,Q=D.accessGetter,ft=Q!==void 0&&Q,_t=D.ignore,Lt=_t===void 0?[]:_t,K="",mt={visitor:Nt,unenumerable:Rt,symbol:Ct,accessGetter:ft,depth:nt,curDepth:yt+1,timeout:st,startTime:rt,ignore:Lt},W=i(Y,!1);if(W==="String")K=M(Y);else if(W==="Number")K=o(Y),s(K,"Infinity")&&(K='{"value":"'.concat(K,'","type":"Number"}'));else if(W==="NaN")K='{"value":"NaN","type":"Number"}';else if(W==="Boolean")K=Y?"true":"false";else if(W==="Null")K="null";else if(W==="Undefined")K='{"type":"Undefined"}';else if(W==="Symbol"){var vt="Symbol";try{vt=o(Y)}catch{}K='{"value":'.concat(M(vt),',"type":"Symbol"}')}else{if(st&&g()-rt>st)return M("Timeout");if(nt&&yt>nt)return M("{...}");K="{";var ut,ht=[],$t=Nt.get(Y);if($t?(ut=$t.id,ht.push('"reference":'.concat(ut))):(ut=Nt.set(Y),ht.push('"id":'.concat(ut))),ht.push('"type":"'.concat(W,'"')),s(W,"Function")?ht.push('"value":'.concat(M(a(Y)))):W==="RegExp"&&ht.push('"value":'.concat(M(Y))),!$t){var gt=l(Y);if(gt.length&&ht.push(G("enumerable",gt,z||Y,mt)),Rt){var it=d(v(Y,{prototype:!1,unenumerable:!0}),gt);it.length&&ht.push(G("unenumerable",it,z||Y,mt))}if(Ct){var At=m(v(Y,{prototype:!1,symbol:!0}),function(kt){return typeof kt=="symbol"});At.length&&ht.push(G("symbol",At,z||Y,mt))}var at=h(Y);if(at&&!_(Lt,at)){var dt='"proto":'.concat(e(at,p(mt,{self:z||Y})));ht.push(dt)}}K+=ht.join(",")+"}"}return K};var I=u({initialize:function(){this.id=1,this.visited=[]},set:function(Y){var D=this.visited,z=this.id,$={id:z,val:Y};return D.push($),this.id++,z},get:function(Y){for(var D=this.visited,z=0,$=D.length;z<$;z++){var rt=D[z];if(Y===rt.val)return rt}return!1}});function U(Y,D){var z=D.map;if(!y(Y))return Y;var $=Y.id,rt=Y.type,ot=Y.value,st=Y.proto,tt=Y.reference,nt=Y.enumerable,Et=Y.unenumerable;if(tt)return Y;if(rt==="Number")return ot==="Infinity"?Number.POSITIVE_INFINITY:ot==="-Infinity"?Number.NEGATIVE_INFINITY:NaN;if(rt!=="Undefined"){var yt,Gt,Nt;if(rt==="Function")(yt=function(){}).toString=function(){return ot},st&&Object.setPrototypeOf(yt,U(st,D));else if(rt==="RegExp")Nt=(Gt=ot).lastIndexOf("/"),yt=new RegExp(Gt.slice(1,Nt),Gt.slice(Nt+1));else{var jt;rt!=="Object"?(jt=b?function(){}:new Function(rt,""),st&&(jt.prototype=U(st,D)),yt=new jt):yt=S(st?U(st,D):null)}var Rt,Dt={};return nt&&(L(nt)&&(Rt=nt.length,delete nt.length),nt=Z(nt,function(Q,ft){return!Ct(nt,Q,ft)}),c(nt,function(Q,ft){(Dt[ft]||{}).get||(yt[ft]=U(Q,D))}),Rt&&(yt.length=Rt)),Et&&(Et=Z(Et,function(Q,ft){return!Ct(Et,Q,ft)}),c(Et,function(Q,ft){var _t=Dt[ft]||{};if(!_t.get)if(Q=U(Q,D),y(Q)&&Q.reference){var Lt=Q.reference;Q=function(){return z[Lt]},_t.get=Q}else _t.value=Q;_t.enumerable=!1,Dt[ft]=_t})),R(yt,Dt),z[$]=yt,yt}function Ct(Q,ft,_t){_t=o(_t);var Lt=!1;return c(["get","set"],function(K){if(T(_t,K+" ")){var mt=_t.replace(K+" ","");Q[mt]&&((ft=U(ft,D))==="Timeout"&&(ft=N),A(Dt,[mt,K],ft),Lt=!0)}}),Lt}}function N(){return"Timeout"}e.parse=function(Y){var D={},z=U(JSON.parse(Y),{map:D});return function($){c($,function(rt){for(var ot=l(rt),st=0,tt=ot.length;st<tt;st++){var nt=ot[st];if(y(rt[nt])){var Et=rt[nt].reference;Et&&$[Et]&&(rt[nt]=$[Et])}}var yt=h(rt);yt&&yt.reference&&$[yt.reference]&&Object.setPrototypeOf(rt,$[yt.reference])})}(D),z},n.exports=e},8648:function(n,e){var t=/<[^>]*>/g;e=function(r){return r.replace(t,"")},n.exports=e},1907:function(n,e,t){var r=t(6768),i=t(1352),o=t(6435),s=t(2461),a=t(4331);e=function(c){r(c)&&(c=i(c));for(var u="",h=arguments.length,d=new Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];for(var f=0,m=c.length;f<m;f++)u+=c[f],d[f]&&(u+=d[f]);for(var g=u.split(`
`),v=[],_=0,y=g.length;_<y;_++){var b=g[_],S=b.match(l);S&&v.push(S[1].length)}var T=v.length>0?o.apply(null,v):0;return a(s(g,function(A){return A[0]===" "?A.slice(T):A}).join(`
`))};var l=/^(\s+)\S+/;n.exports=e},2439:function(n,e,t){var r=t(6049);e=function(i,o){return r(i,o,!0)},n.exports=e},1352:function(n,e,t){var r=t(1369),i=t(2461),o=t(6472),s=t(6768);e=function(a){return a?o(a)?a:r(a)&&!s(a)?i(a):[a]:[]},n.exports=e},3474:function(n,e,t){var r=t(6768);e=function(i){return r(i)?(i=i.toLowerCase())!=="0"&&i!==""&&i!=="false":!!i},n.exports=e},4891:function(n,e){var t=document;if(e=function(i){var o=t.createElement("body");return o.innerHTML=i,o.childNodes[0]},t.createRange&&t.body){var r=t.createRange();r.selectNode(t.body),r.createContextualFragment&&(e=function(i){return r.createContextualFragment(i).childNodes[0]})}n.exports=e},9296:function(n,e,t){var r=t(3875);e=function(i){return i?(i=r(i))-i%1:i===0?i:0},n.exports=e},3875:function(n,e,t){var r=t(3990),i=t(5166),o=t(4777),s=t(6768);e=function(a){if(r(a))return a;if(i(a)){var l=o(a.valueOf)?a.valueOf():a;a=i(l)?l+"":l}return s(a)?+a:a===0?a:+a},n.exports=e},300:function(n,e,t){var r=t(2763);e=function(o){if(r(o))return"";try{return i.call(o)}catch{}try{return o+""}catch{}return""};var i=Function.prototype.toString;n.exports=e},3367:function(n,e){e=function(t){return t==null?"":t.toString()},n.exports=e},4331:function(n,e,t){var r=t(7767),i=t(3597);e=function(o,s){return s==null&&o.trim?o.trim():r(i(o,s),s)},n.exports=e},7756:function(n,e,t){var r=t(4193),i=t(1286);e=function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};r(l,o);var c=l.ellipsis,u=l.separator,h=s.length;if(a>h)return s;var d=a-c.length;if(d<1)return c;var p=s.slice(0,d);if(i(u))return p+c;if(s.indexOf(u,d)!==d){var f=p.lastIndexOf(u);f>-1&&(p=p.slice(0,f))}return p+c};var o={ellipsis:"..."};n.exports=e},3085:function(n,e,t){var r=t(106),i=t(9433),o=t(3063),s=t(2349);e=function(l){var c,u=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return l===null&&(c="Null"),l===void 0&&(c="Undefined"),i(l)&&(c="NaN"),s(l)&&(c="Buffer"),c||(c=r(l).match(a))&&(c=c[1]),c?u?o(c):c:""};var a=/^\[object\s+(.*?)]$/;n.exports=e},9016:function(n,e){e={},n.exports=e},8166:function(n,e,t){var r=t(996),i=t(2461);e={encode:function(o){return o.length<32768?String.fromCodePoint.apply(String,o):i(r(o,32767),function(s){return String.fromCodePoint.apply(String,s)}).join("")},decode:function(o){for(var s=[],a=0,l=o.length;a<l;){var c=o.charCodeAt(a++);if(c>=55296&&c<=56319&&a<l){var u=o.charCodeAt(a++);(64512&u)==56320?s.push(((1023&c)<<10)+(1023&u)+65536):(s.push(c),a--)}else s.push(c)}return s}},n.exports=e},5484:function(n,e,t){var r=t(2727),i=t(8985),o=!1;function s(a){o&&e.emit(a)}e={start:function(){o=!0},stop:function(){o=!1}},i.mixin(e),r?(window.addEventListener("error",function(a){if(a.error)s(a.error);else if(a.message){var l=new Error(a.message);l.stack="Error: ".concat(a.message,` 
 at `).concat(a.filename,":").concat(a.lineno,":").concat(a.colno),s(l)}}),window.addEventListener("unhandledrejection",function(a){s(a.reason)})):(process.on("uncaughtException",s),process.on("unhandledRejection",s)),n.exports=e},7387:function(n,e,t){var r=t(8901),i=t(2533);e=function(u){return a.test(u)?u.replace(l,c):u};var o=t(7190)(r.map),s="(?:"+i(o).join("|")+")",a=new RegExp(s),l=new RegExp(s,"g");function c(u){return o[u]}n.exports=e},5229:function(n,e){var t=0;e=function(r){var i=++t+"";return r?r+i:i},n.exports=e},42:function(n,e,t){var r=t(5972);function i(o,s){return o===s}e=function(o,s){return s=s||i,r(o,function(a,l,c){for(var u=c.length;++l<u;)if(s(a,c[l]))return!1;return!0})},n.exports=e},4502:function(n,e,t){var r=t(3367);e=function(i){return r(i).toLocaleUpperCase()},n.exports=e},3023:function(n,e){e=function(t){return t.length<1?t:t[0].toUpperCase()+t.slice(1)},n.exports=e},5742:function(n,e,t){var r=t(8166);e={encode:function(g){for(var v=r.decode(g),_="",y=0,b=v.length;y<b;y++)_+=p(v[y]);return _},decode:function(g,v){i=r.decode(g),o=0,s=i.length,a=0,l=0,c=0,u=128,h=191;for(var _,y=[];(_=f(v))!==!1;)y.push(_);return r.encode(y)}};var i,o,s,a,l,c,u,h,d=String.fromCharCode;function p(g){if(!(4294967168&g))return d(g);var v,_,y="";for(4294965248&g?4294901760&g?!(4292870144&g)&&(v=3,_=240):(v=2,_=224):(v=1,_=192),y+=d((g>>6*v)+_);v>0;)y+=d(128|63&g>>6*(v-1)),v--;return y}function f(g){for(;;){if(o>=s&&c){if(g)return m();throw new Error("Invalid byte index")}if(o===s)return!1;var v=i[o];if(o++,c){if(v<u||v>h){if(g)return o--,m();throw new Error("Invalid continuation byte")}if(u=128,h=191,a=a<<6|63&v,++l===c){var _=a;return a=0,c=0,l=0,_}}else{if(!(128&v))return v;if((224&v)==192)c=1,a=31&v;else if((240&v)==224)v===224&&(u=160),v===237&&(h=159),c=2,a=15&v;else{if((248&v)!=240){if(g)return m();throw new Error("Invalid UTF-8 detected")}v===240&&(u=144),v===244&&(h=143),c=3,a=7&v}}}}function m(){var g=o-l-1;return o=g+1,a=0,c=0,l=0,u=128,h=191,i[g]}n.exports=e},5936:function(n,e,t){var r=t(3366);e=function(){var s=r(16);return s[6]=15&s[6]|64,s[8]=63&s[8]|128,i[s[0]]+i[s[1]]+i[s[2]]+i[s[3]]+"-"+i[s[4]]+i[s[5]]+"-"+i[s[6]]+i[s[7]]+"-"+i[s[8]]+i[s[9]]+"-"+i[s[10]]+i[s[11]]+i[s[12]]+i[s[13]]+i[s[14]]+i[s[15]]};for(var i=[],o=0;o<256;o++)i[o]=(o+256).toString(16).substr(1);n.exports=e},2578:function(n,e,t){var r=t(3783);e=function(i){var o=[];return r(i,function(s){o.push(s)}),o},n.exports=e},3514:function(n,e,t){var r=t(8573),i=t(9882),o=t(4331),s=t(3783),a=t(2461),l=t(9433);e=function(){var c=r("viewport");if(!c)return 1;c=a(c.split(","),function(f){return o(f)});var u=.25,h=5,d=1;s(c,function(f){var m=(f=f.split("="))[0];f=f[1],m==="initial-scale"&&(d=+f),m==="maximum-scale"&&(h=+f),m==="minimum-scale"&&(u=+f)});var p=i(d,u,h);return l(p)?1:p},n.exports=e},5491:function(n,e,t){var r=t(4198);e=function(i,o){return r(o,i)},n.exports=e},8933:function(n,e){e=function(t){for(var r=[],i=document.evaluate(t,document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),o=0;o<i.snapshotLength;o++)r.push(i.snapshotItem(o));return r},n.exports=e},3577:function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=[["menuitem","command"],["rel","roletype"],["article","article"],["header","banner"],["input","button",[["type","checkbox"]]],["summary","button",[["aria-expanded","false"]]],["summary","button",[["aria-expanded","true"]]],["input","button",[["type","button"]]],["input","button",[["type","image"]]],["input","button",[["type","reset"]]],["input","button",[["type","submit"]]],["button","button"],["td","cell"],["input","checkbox",[["type","checkbox"]]],["th","columnheader"],["input","combobox",[["type","email"]]],["input","combobox",[["type","search"]]],["input","combobox",[["type","tel"]]],["input","combobox",[["type","text"]]],["input","combobox",[["type","url"]]],["input","combobox",[["type","url"]]],["select","combobox"],["select","combobox",[["size",1]]],["aside","complementary"],["footer","contentinfo"],["dd","definition"],["dialog","dialog"],["body","document"],["figure","figure"],["form","form"],["form","form"],["form","form"],["span","generic"],["div","generic"],["table","grid",[["role","grid"]]],["td","gridcell",[["role","gridcell"]]],["details","group"],["fieldset","group"],["optgroup","group"],["h1","heading"],["h2","heading"],["h3","heading"],["h4","heading"],["h5","heading"],["h6","heading"],["img","img"],["img","img"],["a","link"],["area","link"],["link","link"],["menu","list"],["ol","list"],["ul","list"],["select","listbox"],["select","listbox"],["select","listbox"],["datalist","listbox"],["li","listitem"],["main","main"],["math","math"],["menuitem","command"],["nav","navigation"],["option","option"],["progress","progressbar"],["input","radio",[["type","radio"]]],["section","region"],["section","region"],["frame","region"],["tr","row"],["tbody","rowgroup"],["tfoot","rowgroup"],["thead","rowgroup"],["th","rowheader",[["scope","row"]]],["input","searchbox",[["type","search"]]],["hr","separator"],["input","slider",[["type","range"]]],["input","spinbutton",[["type","number"]]],["output","status"],["table","table"],["dfn","term"],["input","textbox"],["input","textbox",[["type","email"]]],["input","textbox",[["type","tel"]]],["input","textbox",[["type","text"]]],["input","textbox",[["type","url"]]],["textarea","textbox"]]},7715:function(n,e,t){var r,i=this&&this.__extends||(r=function(M,E){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,U){I.__proto__=U}||function(I,U){for(var N in U)Object.prototype.hasOwnProperty.call(U,N)&&(I[N]=U[N])},r(M,E)},function(M,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function I(){this.constructor=M}r(M,E),M.prototype=E===null?Object.create(E):(I.prototype=E.prototype,new I)}),o=this&&this.__assign||function(){return o=Object.assign||function(M){for(var E,I=1,U=arguments.length;I<U;I++)for(var N in E=arguments[I])Object.prototype.hasOwnProperty.call(E,N)&&(M[N]=E[N]);return M},o.apply(this,arguments)},s=this&&this.__values||function(M){var E=typeof Symbol=="function"&&Symbol.iterator,I=E&&M[E],U=0;if(I)return I.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&U>=M.length&&(M=void 0),{value:M&&M[U++],done:!M}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(e,"__esModule",{value:!0});var l=a(t(1160)),c=t(7669),u=t(2062),h=a(t(242)),d=a(t(2439)),p=a(t(3063)),f=a(t(3783)),m=a(t(3009)),g=a(t(5044)),v=a(t(4502)),_=a(t(6329)),y=a(t(7494)),b=a(t(6341)),S=a(t(3875)),T=a(t(3577)),A=a(t(6768));t(8169);var R=function(M){function E(I,U){U===void 0&&(U={});var N=M.call(this,I,{compName:"dom-highlighter"},U)||this;return N.overlay=new c.HighlightOverlay(window),N.reset=function(){var Y=document.documentElement.clientWidth,D=document.documentElement.clientHeight;N.overlay.reset({viewportSize:{width:Y,height:D},deviceScaleFactor:1,pageScaleFactor:1,pageZoomFactor:1,emulationScaleFactor:1,scrollX:window.scrollX,scrollY:window.scrollY})},N.initOptions(U,{showRulers:!1,showExtensionLines:!1,showInfo:!0,showStyles:!0,showAccessibilityInfo:!0,colorFormat:"hex",contentColor:"rgba(111, 168, 220, .66)",paddingColor:"rgba(147, 196, 125, .55)",borderColor:"rgba(255, 229, 153, .66)",marginColor:"rgba(246, 178, 107, .66)",monitorResize:!0}),N.overlay.setContainer(I),N.overlay.setPlatform("mac"),N.redraw=(0,d.default)(function(){N.reset(),N.draw()},16),N.redraw(),N.bindEvent(),N}return i(E,M),E.prototype.highlight=function(I,U){U&&(0,_.default)(this.options,U),this.target=I,I instanceof HTMLElement&&this.options.monitorResize&&(this.resizeSensor&&this.resizeSensor.destroy(),this.resizeSensor=new h.default(I),this.resizeSensor.addListener(this.redraw)),this.redraw()},E.prototype.hide=function(){this.target=null,this.redraw()},E.prototype.intercept=function(I){this.interceptor=I},E.prototype.destroy=function(){window.removeEventListener("resize",this.redraw),window.removeEventListener("scroll",this.redraw),this.resizeSensor&&this.resizeSensor.destroy(),M.prototype.destroy.call(this)},E.prototype.draw=function(){var I=this.target;I&&(I instanceof Text?this.drawText(I):this.drawElement(I))},E.prototype.drawText=function(I){var U=this.options,N=document.createRange();N.selectNode(I);var Y=N.getBoundingClientRect(),D=Y.left,z=Y.top,$=Y.width,rt=Y.height;N.detach();var ot={paths:[{path:this.rectToPath({left:D,top:z,width:$,height:rt}),fillColor:G(U.contentColor),name:"content"}],showExtensionLines:U.showExtensionLines,showRulers:U.showRulers};U.showInfo&&(ot.elementInfo={tagName:"#text",nodeWidth:$,nodeHeight:rt}),this.overlay.drawHighlight(ot)},E.prototype.drawElement=function(I){var U={paths:this.getPaths(I),showExtensionLines:this.options.showExtensionLines,showRulers:this.options.showRulers,colorFormat:this.options.colorFormat};if(this.options.showInfo&&(U.elementInfo=this.getElementInfo(I)),this.interceptor){var N=this.interceptor(U);N&&(U=N)}this.overlay.drawHighlight(U)},E.prototype.getPaths=function(I){var U=this.options,N=window.getComputedStyle(I),Y=I.getBoundingClientRect(),D=Y.left,z=Y.top,$=Y.width,rt=Y.height,ot=function(ft){return(0,u.pxToNum)(N.getPropertyValue(ft))},st=ot("margin-left"),tt=ot("margin-right"),nt=ot("margin-top"),Et=ot("margin-bottom"),yt=ot("border-left-width"),Gt=ot("border-right-width"),Nt=ot("border-top-width"),jt=ot("border-bottom-width"),Rt=ot("padding-left"),Dt=ot("padding-right"),Ct=ot("padding-top"),Q=ot("padding-bottom");return[{path:this.rectToPath({left:D+yt+Rt,top:z+Nt+Ct,width:$-yt-Rt-Gt-Dt,height:rt-Nt-Ct-jt-Q}),fillColor:G(U.contentColor),name:"content"},{path:this.rectToPath({left:D+yt,top:z+Nt,width:$-yt-Gt,height:rt-Nt-jt}),fillColor:G(U.paddingColor),name:"padding"},{path:this.rectToPath({left:D,top:z,width:$,height:rt}),fillColor:G(U.borderColor),name:"border"},{path:this.rectToPath({left:D-st,top:z-nt,width:$+st+tt,height:rt+nt+Et}),fillColor:G(U.marginColor),name:"margin"}]},E.prototype.getElementInfo=function(I){var U=I.getBoundingClientRect(),N=U.width,Y=U.height,D=I.getAttribute("class")||"";D=D.split(/\s+/).map(function($){return"."+$}).join("");var z={tagName:(0,p.default)(I.tagName),className:D,idValue:I.id,nodeWidth:N,nodeHeight:Y};return this.options.showStyles&&(z.style=this.getStyles(I)),this.options.showAccessibilityInfo&&(0,_.default)(z,this.getAccessibilityInfo(I)),z},E.prototype.getStyles=function(I){for(var U=window.getComputedStyle(I),N=!1,Y=I.childNodes,D=0,z=Y.length;D<z;D++)Y[D].nodeType===3&&(N=!0);var $=[];return N&&$.push("color","font-family","font-size","line-height"),$.push("padding","margin","background-color"),j(U,$)},E.prototype.getAccessibilityInfo=function(I){var U=window.getComputedStyle(I);return o({showAccessibilityInfo:!0,contrast:o({contrastAlgorithm:"aa",textOpacity:.1},j(U,["font-size","font-weight","background-color","text-opacity"],!0)),isKeyboardFocusable:this.isFocusable(I)},this.getAccessibleNameAndRole(I))},E.prototype.isFocusable=function(I){var U=(0,p.default)(I.tagName);if((0,b.default)(["a","button","input","textarea","select","details"],U))return!0;var N=I.getAttribute("tabindex");return!!(N&&(0,S.default)(N)>-1)},E.prototype.getAccessibleNameAndRole=function(I){var U=I.getAttribute("labelledby")||I.getAttribute("aria-label"),N=I.getAttribute("role"),Y=(0,p.default)(I.tagName);return T.default.forEach(function(D){var z,$;if(!N){var rt=D[0],ot=D[2];if(rt===Y){if(ot)try{for(var st=s(ot),tt=st.next();!tt.done;tt=st.next()){var nt=tt.value;if(I.getAttribute(nt[0])!==nt[1])return}}catch(Et){z={error:Et}}finally{try{tt&&!tt.done&&($=st.return)&&$.call(st)}finally{if(z)throw z.error}}N=D[1]}}}),{accessibleName:U||I.getAttribute("title")||"",accessibleRole:N||"generic"}},E.prototype.bindEvent=function(){var I=this;window.addEventListener("resize",this.redraw),window.addEventListener("scroll",this.redraw),this.on("optionChange",function(){return I.redraw()})},E.prototype.rectToPath=function(I){var U=I.left,N=I.top,Y=I.width,D=I.height,z=[];return z.push("M",U,N),z.push("L",U+Y,N),z.push("L",U+Y,N+D),z.push("L",U,N+D),z.push("Z"),z},E}(l.default);e.default=R,n.exports=R,n.exports.default=R;var Z=/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,L=/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*(?:\.\d+)?)\)$/;function G(M){return(0,A.default)(M)?M:M.a?"rgba(".concat(M.r,", ").concat(M.g,", ").concat(M.b,", ").concat(M.a,")"):"rgb(".concat(M.r,", ").concat(M.g,", ").concat(M.b,")")}function j(M,E,I){I===void 0&&(I=!1);var U={};return(0,f.default)(E,function(N){var Y,D=M[N==="text-opacity"?"color":N];D&&(Y=D,(Z.test(Y)||L.test(Y))&&(D=function(z){var $=m.default.parse(z),rt=$.val[3]||1;return $.val=$.val.slice(0,3),$.val.push(Math.round(255*rt)),"#"+(0,v.default)(g.default.encode($.val))}(D),N==="text-opacity"&&(D=D.slice(7),D=g.default.decode(D)[0]/255)),I&&(N=(0,y.default)(N)),U[N]=D)}),U}},9706:function(n,e){var t=this&&this.__read||function(m,g){var v=typeof Symbol=="function"&&m[Symbol.iterator];if(!v)return m;var _,y,b=v.call(m),S=[];try{for(;(g===void 0||g-- >0)&&!(_=b.next()).done;)S.push(_.value)}catch(T){y={error:T}}finally{try{_&&!_.done&&(v=b.return)&&v.call(b)}finally{if(y)throw y.error}}return S},r=this&&this.__values||function(m){var g=typeof Symbol=="function"&&Symbol.iterator,v=g&&m[g],_=0;if(v)return v.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&_>=m.length&&(m=void 0),{value:m&&m[_++],done:!m}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")};function i(m,g){var v=m[3];return[(1-v)*g[0]+v*m[0],(1-v)*g[1]+v*m[1],(1-v)*g[2]+v*m[2],v+g[3]*(1-v)]}function o(m){var g=t(m,3),v=g[0],_=g[1],y=g[2];return .2126*(v<=.03928?v/12.92:Math.pow((v+.055)/1.055,2.4))+.7152*(_<=.03928?_/12.92:Math.pow((_+.055)/1.055,2.4))+.0722*(y<=.03928?y/12.92:Math.pow((y+.055)/1.055,2.4))}Object.defineProperty(e,"__esModule",{value:!0}),e.getContrastThreshold=e.isLargeFont=e.getAPCAThreshold=e.desiredLuminanceAPCA=e.contrastRatioByLuminanceAPCA=e.contrastRatioAPCA=e.luminanceAPCA=e.contrastRatio=e.luminance=e.rgbaToHsla=e.blendColors=void 0,e.blendColors=i,e.rgbaToHsla=function(m){var g=t(m,4),v=g[0],_=g[1],y=g[2],b=g[3],S=Math.max(v,_,y),T=Math.min(v,_,y),A=S-T,R=S+T,Z=.5*R;return[T===S?0:v===S?(.16666666666666666*(_-y)/A+1)%1:_===S?.16666666666666666*(y-v)/A+.3333333333333333:.16666666666666666*(v-_)/A+.6666666666666666,Z===0||Z===1?0:Z<=.5?A/R:A/(2-R),Z,b]},e.luminance=o,e.contrastRatio=function(m,g){var v=o(i(m,g)),_=o(g);return(Math.max(v,_)+.05)/(Math.min(v,_)+.05)};var s=12.82051282051282,a=.06;function l(m){var g=t(m,3),v=g[0],_=g[1],y=g[2];return .2126729*Math.pow(v,2.4)+.7151522*Math.pow(_,2.4)+.072175*Math.pow(y,2.4)}function c(m){return m>.03?m:m+Math.pow(.03-m,1.45)}function u(m,g){if(m=c(m),g=c(g),Math.abs(m-g)<5e-4)return 0;var v=0;return 100*(v=g>=m?(v=1.25*(Math.pow(g,.55)-Math.pow(m,.58)))<.001?0:v<.078?v-v*s*a:v-a:(v=1.25*(Math.pow(g,.62)-Math.pow(m,.57)))>-.001?0:v>-.078?v-v*s*a:v+a)}e.luminanceAPCA=l,e.contrastRatioAPCA=function(m,g){return u(l(m),l(g))},e.contrastRatioByLuminanceAPCA=u,e.desiredLuminanceAPCA=function(m,g,v){function _(){return v?Math.pow(Math.abs(Math.pow(m,.62)-(-g-a)/1.25),1.7543859649122808):Math.pow(Math.abs(Math.pow(m,.55)-(g+a)/1.25),1.7241379310344829)}m=c(m),g/=100;var y=_();return(y<0||y>1)&&(v=!v,y=_()),y};var h=[[12,-1,-1,-1,-1,100,90,80,-1,-1],[14,-1,-1,-1,100,90,80,60,60,-1],[16,-1,-1,100,90,80,60,55,50,50],[18,-1,-1,90,80,60,55,50,40,40],[24,-1,100,80,60,55,50,40,38,35],[30,-1,90,70,55,50,40,38,35,40],[36,-1,80,60,50,40,38,35,30,25],[48,100,70,55,40,38,35,30,25,20],[60,90,60,50,38,35,30,25,20,20],[72,80,55,40,35,30,25,20,20,20],[96,70,50,35,30,25,20,20,20,20],[120,60,40,30,25,20,20,20,20,20]];function d(m,g){var v=72*parseFloat(m.replace("px",""))/96;return["bold","bolder","600","700","800","900"].indexOf(g)!==-1?v>=14:v>=18}h.reverse(),e.getAPCAThreshold=function(m,g){var v,_,y,b,S=parseFloat(m.replace("px","")),T=parseFloat(g);try{for(var A=r(h),R=A.next();!R.done;R=A.next()){var Z=t(R.value),L=Z[0],G=Z.slice(1);if(S>=L)try{for(var j=(y=void 0,r([900,800,700,600,500,400,300,200,100].entries())),M=j.next();!M.done;M=j.next()){var E=t(M.value,2),I=E[0];if(T>=E[1]){var U=G[G.length-1-I];return U===-1?null:U}}}catch(N){y={error:N}}finally{try{M&&!M.done&&(b=j.return)&&b.call(j)}finally{if(y)throw y.error}}}}catch(N){v={error:N}}finally{try{R&&!R.done&&(_=A.return)&&_.call(A)}finally{if(v)throw v.error}}return null},e.isLargeFont=d;var p={aa:3,aaa:4.5},f={aa:4.5,aaa:7};e.getContrastThreshold=function(m,g){return d(m,g)?p:f}},9434:function(n,e){var t=this&&this.__values||function(c){var u=typeof Symbol=="function"&&Symbol.iterator,h=u&&c[u],d=0;if(h)return h.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&d>=c.length&&(c=void 0),{value:c&&c[d++],done:!c}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(c,u){var h=typeof Symbol=="function"&&c[Symbol.iterator];if(!h)return c;var d,p,f=h.call(c),m=[];try{for(;(u===void 0||u-- >0)&&!(d=f.next()).done;)m.push(d.value)}catch(g){p={error:g}}finally{try{d&&!d.done&&(h=f.return)&&h.call(f)}finally{if(p)throw p.error}}return m},i=this&&this.__spreadArray||function(c,u,h){if(h||arguments.length===2)for(var d,p=0,f=u.length;p<f;p++)!d&&p in u||(d||(d=Array.prototype.slice.call(u,0,p)),d[p]=u[p]);return c.concat(d||Array.prototype.slice.call(u))};Object.defineProperty(e,"__esModule",{value:!0}),e.adoptStyleSheet=e.constrainNumber=e.ellipsify=e.createElement=e.createTextChild=e.createChild=e.log=e.Overlay=void 0;var o=function(){function c(u,h){h===void 0&&(h=[]),this.viewportSize={width:800,height:600},this.deviceScaleFactor=1,this.emulationScaleFactor=1,this.pageScaleFactor=1,this.pageZoomFactor=1,this.scrollX=0,this.scrollY=0,this.canvasWidth=0,this.canvasHeight=0,this._installed=!1,this._window=u,this._document=u.document,Array.isArray(h)||(h=[h]),this.style=h}return c.prototype.setCanvas=function(u){this.canvas=u,this._context=u.getContext("2d")},c.prototype.install=function(){var u,h;try{for(var d=t(this.style),p=d.next();!p.done;p=d.next())l(p.value)}catch(f){u={error:f}}finally{try{p&&!p.done&&(h=d.return)&&h.call(d)}finally{if(u)throw u.error}}this._installed=!0},c.prototype.uninstall=function(){var u,h,d=function(m){document.adoptedStyleSheets=document.adoptedStyleSheets.filter(function(g){return g!==m})};try{for(var p=t(this.style),f=p.next();!f.done;f=p.next())d(f.value)}catch(m){u={error:m}}finally{try{f&&!f.done&&(h=p.return)&&h.call(p)}finally{if(u)throw u.error}}this._installed=!1},c.prototype.reset=function(u){u&&(this.viewportSize=u.viewportSize,this.visualViewportSize=u.visualViewportSize,this.deviceScaleFactor=u.deviceScaleFactor,this.pageScaleFactor=u.pageScaleFactor,this.pageZoomFactor=u.pageZoomFactor,this.emulationScaleFactor=u.emulationScaleFactor,this.scrollX=Math.round(u.scrollX),this.scrollY=Math.round(u.scrollY)),this.resetCanvas()},c.prototype.resetCanvas=function(){this.canvas&&this._context&&(this.canvas.width=this.deviceScaleFactor*this.viewportSize.width,this.canvas.height=this.deviceScaleFactor*this.viewportSize.height,this.canvas.style.width=this.viewportSize.width+"px",this.canvas.style.height=this.viewportSize.height+"px",this._context.scale(this.deviceScaleFactor,this.deviceScaleFactor),this.canvasWidth=this.viewportSize.width,this.canvasHeight=this.viewportSize.height)},c.prototype.setPlatform=function(u){this.platform=u,this._installed||this.install()},c.prototype.dispatch=function(u){this[u.shift()].apply(this,u)},c.prototype.eventHasCtrlOrMeta=function(u){return this.platform==="mac"?u.metaKey&&!u.ctrlKey:u.ctrlKey&&!u.metaKey},Object.defineProperty(c.prototype,"context",{get:function(){if(!this._context)throw new Error("Context object is missing");return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"document",{get:function(){if(!this._document)throw new Error("Document object is missing");return this._document},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"window",{get:function(){if(!this._window)throw new Error("Window object is missing");return this._window},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"installed",{get:function(){return this._installed},enumerable:!1,configurable:!0}),c}();function s(c,u,h){var d=a(u,h);return d.addEventListener("click",function(p){p.stopPropagation()},!1),c.appendChild(d),d}function a(c,u){var h=document.createElement(c);if(u){var d=u.split(/\s+/);d=d.map(function(p){return"luna-dom-highlighter-"+p}),h.className=d.join(" ")}return h}function l(c){document.adoptedStyleSheets=i(i([],r(document.adoptedStyleSheets),!1),[c],!1)}e.Overlay=o,e.log=function(c){var u=document.getElementById("log");u||((u=s(document.body,"div")).id="log"),s(u,"div").textContent=c},e.createChild=s,e.createTextChild=function(c,u){var h=document.createTextNode(u);return c.appendChild(h),h},e.createElement=a,e.ellipsify=function(c,u){return c.length<=u?String(c):c.substr(0,u-1)+"…"},e.constrainNumber=function(c,u,h){return c<u?c=u:c>h&&(c=h),c},e.adoptStyleSheet=l},1521:function(n,e,t){var r=this&&this.__values||function(m){var g=typeof Symbol=="function"&&Symbol.iterator,v=g&&m[g],_=0;if(v)return v.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&_>=m.length&&(m=void 0),{value:m&&m[_++],done:!m}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(m,g){var v=typeof Symbol=="function"&&m[Symbol.iterator];if(!v)return m;var _,y,b=v.call(m),S=[];try{for(;(g===void 0||g-- >0)&&!(_=b.next()).done;)S.push(_.value)}catch(T){y={error:T}}finally{try{_&&!_.done&&(v=b.return)&&v.call(b)}finally{if(y)throw y.error}}return S},o=this&&this.__spreadArray||function(m,g,v){if(v||arguments.length===2)for(var _,y=0,b=g.length;y<b;y++)!_&&y in g||(_||(_=Array.prototype.slice.call(g,0,y)),_[y]=g[y]);return m.concat(_||Array.prototype.slice.call(g))},s=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.drawPath=e.formatColor=e.formatRgba=e.parseHexa=e.createPathForQuad=e.hatchFillPath=e.applyMatrixToPoint=e.emptyBounds=e.buildPath=e.fillPathWithBoxStyle=e.drawPathWithLineStyle=void 0;var a=s(t(4858)),l=t(9706);function c(m,g,v){var _=0;function y(T){for(var A=[],R=0;R<T;++R){var Z=Math.round(m[_++]*v);g.maxX=Math.max(g.maxX,Z),g.minX=Math.min(g.minX,Z);var L=Math.round(m[_++]*v);g.maxY=Math.max(g.maxY,L),g.minY=Math.min(g.minY,L),g.leftmostXForY[L]=Math.min(g.leftmostXForY[L]||Number.MAX_VALUE,Z),g.rightmostXForY[L]=Math.max(g.rightmostXForY[L]||Number.MIN_VALUE,Z),g.topmostYForX[Z]=Math.min(g.topmostYForX[Z]||Number.MAX_VALUE,L),g.bottommostYForX[Z]=Math.max(g.bottommostYForX[Z]||Number.MIN_VALUE,L),g.allPoints.push({x:Z,y:L}),A.push(Z,L)}return A}for(var b=m.length,S=new Path2D;_<b;)switch(m[_++]){case"M":S.moveTo.apply(S,y(1));break;case"L":S.lineTo.apply(S,y(1));break;case"C":S.bezierCurveTo.apply(S,y(3));break;case"Q":S.quadraticCurveTo.apply(S,y(2));break;case"Z":S.closePath()}return S}e.drawPathWithLineStyle=function(m,g,v,_){_===void 0&&(_=1),v&&v.color&&(m.save(),m.translate(.5,.5),m.lineWidth=_,v.pattern==="dashed"&&m.setLineDash([3,3]),v.pattern==="dotted"&&m.setLineDash([2,2]),m.strokeStyle=v.color,m.stroke(g),m.restore())},e.fillPathWithBoxStyle=function(m,g,v,_,y){y&&(m.save(),y.fillColor&&(m.fillStyle=y.fillColor,m.fill(g)),y.hatchColor&&d(m,g,v,10,y.hatchColor,_,!1),m.restore())},e.buildPath=c,e.emptyBounds=function(){return{minX:Number.MAX_VALUE,minY:Number.MAX_VALUE,maxX:-Number.MAX_VALUE,maxY:-Number.MAX_VALUE,leftmostXForY:{},rightmostXForY:{},topmostYForX:{},bottommostYForX:{},allPoints:[]}},e.applyMatrixToPoint=function(m,g){var v=new DOMPoint(m.x,m.y);return{x:(v=v.matrixTransform(g)).x,y:v.y}};var u,h="";function d(m,g,v,_,y,b,S){if((m.canvas.width<v.maxX-v.minX||m.canvas.height<v.maxY-v.minY)&&(v={minX:0,maxX:m.canvas.width,minY:0,maxY:m.canvas.height,allPoints:[]}),!u||y!==h){h=y;var T=document.createElement("canvas");T.width=_,T.height=8;var A=T.getContext("2d");A.clearRect(0,0,T.width,T.height),A.rect(0,0,1,5),A.fillStyle=y,A.fill(),u=m.createPattern(T,"repeat")}m.save();var R=new DOMMatrix;u.setTransform(R.scale(S?-1:1,1).rotate(0,0,-45+b)),m.fillStyle=u,m.fill(g),m.restore()}function p(m){return(m.match(/#(\w\w)(\w\w)(\w\w)(\w\w)/)||[]).slice(1).map(function(g){return parseInt(g,16)/255})}function f(m,g){if(g==="rgb"){var v=i(m,4),_=v[0],y=v[1],b=v[2],S=v[3];return"rgb(".concat((255*_).toFixed()," ").concat((255*y).toFixed()," ").concat((255*b).toFixed()).concat(S===1?"":" / "+Math.round(100*S)/100,")")}if(g==="hsl"){var T=i((0,l.rgbaToHsla)(m),4),A=T[0],R=T[1],Z=T[2];return S=T[3],"hsl(".concat(Math.round(360*A),"deg ").concat(Math.round(100*R)," ").concat(Math.round(100*Z)).concat(S===1?"":" / "+Math.round(100*S)/100,")")}throw new Error("NOT_REACHED")}e.hatchFillPath=d,e.createPathForQuad=function(m,g,v,_){var y,b,S=["M",m.p1.x,m.p1.y,"L",m.p2.x,m.p2.y,"L",m.p3.x,m.p3.y,"L",m.p4.x,m.p4.y];try{for(var T=r(g),A=T.next();!A.done;A=T.next()){var R=A.value;S=o(o([],i(S),!1),["L",R.p4.x,R.p4.y,"L",R.p3.x,R.p3.y,"L",R.p2.x,R.p2.y,"L",R.p1.x,R.p1.y,"L",R.p4.x,R.p4.y,"L",m.p4.x,m.p4.y],!1)}}catch(Z){y={error:Z}}finally{try{A&&!A.done&&(b=T.return)&&b.call(T)}finally{if(y)throw y.error}}return S.push("Z"),c(S,v,_)},e.parseHexa=p,e.formatRgba=f,e.formatColor=function(m,g){return g==="rgb"||g==="hsl"?f(p(m),g):(0,a.default)(m,"FF")?m.substr(0,7):m},e.drawPath=function(m,g,v,_,y,b,S){m.save();var T=c(g,b,S);return v&&(m.fillStyle=v,m.fill(T)),_&&(y==="dashed"&&m.setLineDash([3,3]),y==="dotted"&&m.setLineDash([2,2]),m.lineWidth=2,m.strokeStyle=_,m.stroke(T)),m.restore(),T}},7669:function(n,e,t){var r,i=this&&this.__extends||(r=function(m,g){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(v[y]=_[y])},r(m,g)},function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function v(){this.constructor=m}r(m,g),m.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}),o=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightOverlay=void 0;var s=o(t(4858)),a=t(9706),l=t(9434),c=t(1521),u=function(m){function g(){var v=m!==null&&m.apply(this,arguments)||this;return v.gridLabelState={gridLayerCounter:0},v}return i(g,m),g.prototype.setContainer=function(v){this._container=v},g.prototype.setPlatform=function(v){this.container&&this.container.classList.add("luna-dom-highlighter-platform-"+v),m.prototype.setPlatform.call(this,v)},Object.defineProperty(g.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),g.prototype.reset=function(v){m.prototype.reset.call(this,v),this.tooltip.innerHTML="",this.gridLabelState.gridLayerCounter=0},g.prototype.install=function(){var v=this.document.createElement("canvas");v.classList.add("luna-dom-highlighter-fill"),this.container.appendChild(v);var _=this.document.createElement("div");this.container.appendChild(_),this.tooltip=_,this.setCanvas(v),m.prototype.install.call(this)},g.prototype.uninstall=function(){this.document.body.classList.remove("fill"),this.document.body.innerHTML="",m.prototype.uninstall.call(this)},g.prototype.drawHighlight=function(v){this.context.save();for(var _=(0,c.emptyBounds)(),y=v.paths.slice();y.length;){var b=y.pop();b&&(this.context.save(),(0,c.drawPath)(this.context,b.path,b.fillColor,b.outlineColor,void 0,_,this.emulationScaleFactor),y.length&&(this.context.globalCompositeOperation="destination-out",(0,c.drawPath)(this.context,y[y.length-1].path,"red",void 0,void 0,_,this.emulationScaleFactor)),this.context.restore())}this.context.restore(),this.context.save();var S=Boolean(v.paths.length&&v.showRulers&&_.minX<20&&_.maxX+20<this.canvasWidth),T=Boolean(v.paths.length&&v.showRulers&&_.minY<20&&_.maxY+20<this.canvasHeight);return v.showRulers&&this.drawAxis(this.context,S,T),v.paths.length&&(v.showExtensionLines&&function(A,R,Z,L,G,j,M,E){A.save();var I=M,U=E;if(A.strokeStyle=G||f,A.lineWidth=1,A.translate(.5,.5),j&&A.setLineDash([3,3]),Z)for(var N in R.rightmostXForY)A.beginPath(),A.moveTo(I,Number(N)),A.lineTo(R.rightmostXForY[N],Number(N)),A.stroke();else for(var N in R.leftmostXForY)A.beginPath(),A.moveTo(0,Number(N)),A.lineTo(R.leftmostXForY[N],Number(N)),A.stroke();if(L)for(var Y in R.bottommostYForX)A.beginPath(),A.moveTo(Number(Y),U),A.lineTo(Number(Y),R.topmostYForX[Y]),A.stroke();else for(var Y in R.topmostYForX)A.beginPath(),A.moveTo(Number(Y),0),A.lineTo(Number(Y),R.topmostYForX[Y]),A.stroke();A.restore()}(this.context,_,S,T,void 0,!1,this.canvasWidth,this.canvasHeight),v.elementInfo&&function(A,R,Z,L,G,j){A.innerHTML="";var M=(0,l.createChild)(A,"div"),E=(0,l.createChild)(M,"div","tooltip-content"),I=function(Q,ft){var _t=(0,l.createElement)("div","element-info"),Lt=(0,l.createChild)(_t,"div","element-info-header"),K=function(me){return me.layoutObjectName&&(0,s.default)(me.layoutObjectName,"Grid")?"grid":me.layoutObjectName&&me.layoutObjectName==="LayoutNGFlexibleBox"?"flex":null}(Q);K&&(0,l.createChild)(Lt,"div","element-layout-type ".concat(K));var mt=(0,l.createChild)(Lt,"div","element-description");(0,l.createChild)(mt,"span","material-tag-name").textContent=Q.tagName;var W=(0,l.createChild)(mt,"span","material-node-id"),vt=80;W.textContent=Q.idValue?"#"+(0,l.ellipsify)(Q.idValue,vt):"",W.classList.toggle("hidden",!Q.idValue);var ut=(0,l.createChild)(mt,"span","material-class-name");W.textContent.length<vt&&(ut.textContent=(0,l.ellipsify)(Q.className||"",vt-W.textContent.length)),ut.classList.toggle("hidden",!Q.className);var ht=(0,l.createChild)(Lt,"div","dimensions");(0,l.createChild)(ht,"span","material-node-width").textContent=String(Math.round(100*Q.nodeWidth)/100),(0,l.createTextChild)(ht,"×"),(0,l.createChild)(ht,"span","material-node-height").textContent=String(Math.round(100*Q.nodeHeight)/100);var $t,gt=Q.style||{};Q.isLockedAncestor&&te("Showing content-visibility ancestor",""),Q.isLocked&&te("Descendants are skipped due to content-visibility","");var it=gt.color;it&&it!=="#00000000"&&se("Color",it,ft);var At=gt["font-family"],at=gt["font-size"];At&&at!=="0px"&&te("Font","".concat(at," ").concat(At));var dt=gt["background-color"];dt&&dt!=="#00000000"&&se("Background",dt,ft);var kt=gt.margin;kt&&kt!=="0px"&&te("Margin",kt);var pt=gt.padding;pt&&pt!=="0px"&&te("Padding",pt);var It=Q.contrast?Q.contrast.backgroundColor:null,Pt=it&&it!=="#00000000"&&It&&It!=="#00000000";Q.showAccessibilityInfo&&(xt("Accessibility"),Pt&&gt.color&&Q.contrast&&_e(gt.color,Q.contrast),te("Name",Q.accessibleName),te("Role",Q.accessibleRole),Qt("Keyboard-focusable",Q.isKeyboardFocusable?"a11y-icon a11y-icon-ok":"a11y-icon a11y-icon-not-ok"));function et(){$t||($t=(0,l.createChild)(_t,"div","element-info-body"))}function xt(me){et();var he=(0,l.createChild)($t,"div","element-info-row element-info-section");(0,l.createChild)(he,"div","section-name").textContent=me,(0,l.createChild)((0,l.createChild)(he,"div","separator-container"),"div","separator")}function Bt(me,he,be){et();var Re=(0,l.createChild)($t,"div","element-info-row");return he&&Re.classList.add(he),(0,l.createChild)(Re,"div","element-info-name").textContent=me,(0,l.createChild)(Re,"div","element-info-gap"),(0,l.createChild)(Re,"div",be||"")}function Qt(me,he){(0,l.createChild)(Bt(me,"","element-info-value-icon"),"div",he)}function te(me,he){(0,l.createTextChild)(Bt(me,"","element-info-value-text"),he)}function se(me,he,be){var Re=Bt(me,"","element-info-value-color"),we=(0,l.createChild)(Re,"div","color-swatch");(0,l.createChild)(we,"div","color-swatch-inner").style.backgroundColor=he,(0,l.createTextChild)(Re,(0,c.formatColor)(he,be))}function _e(me,he){var be=(0,c.parseHexa)(me),Re=(0,c.parseHexa)(he.backgroundColor);be[3]*=he.textOpacity;var we=Bt("Contrast","","element-info-value-contrast"),je=(0,l.createChild)(we,"div","contrast-text");je.style.color=(0,c.formatRgba)(be,"rgb"),je.style.backgroundColor=he.backgroundColor,je.textContent="Aa";var qe=(0,l.createChild)(we,"span");if(he.contrastAlgorithm==="apca"){var Je=(0,a.contrastRatioAPCA)(be,Re),en=(0,a.getAPCAThreshold)(he.fontSize,he.fontWeight);qe.textContent=String(Math.floor(100*Je)/100)+"%",(0,l.createChild)(we,"div",en===null||Math.abs(Je)<en?"a11y-icon a11y-icon-warning":"a11y-icon a11y-icon-ok")}else if(he.contrastAlgorithm==="aa"||he.contrastAlgorithm==="aaa"){var ce=(0,a.contrastRatio)(be,Re);en=(0,a.getContrastThreshold)(he.fontSize,he.fontWeight)[he.contrastAlgorithm],qe.textContent=String(Math.floor(100*ce)/100),(0,l.createChild)(we,"div",ce<en?"a11y-icon a11y-icon-warning":"a11y-icon a11y-icon-ok")}}return _t}(R,Z);E.appendChild(I);var U,N=E.offsetWidth,Y=E.offsetHeight,D=8,z=2,$=2*D,rt=D+2,ot=z+rt,st=G-z-rt-$,tt=L.maxX-L.minX<$+2*rt;if(tt)U=.5*(L.minX+L.maxX)-D;else{var nt=L.minX+rt,Et=L.maxX-rt-$;U=nt>ot&&nt<st?nt:(0,l.constrainNumber)(ot,nt,Et)}var yt=U<ot||U>st,Gt=U-rt;Gt=(0,l.constrainNumber)(Gt,z,G-N-z);var Nt=L.minY-D-Y,jt=!0;Nt<0?(Nt=Math.min(j-Y,L.maxY+D),jt=!1):L.minY>j&&(Nt=j-D-Y);var Rt=Gt>=L.minX&&Gt+N<=L.maxX&&Nt>=L.minY&&Nt+Y<=L.maxY,Dt=Gt<L.maxX&&Gt+N>L.minX&&Nt<L.maxY&&Nt+Y>L.minY;if(Dt&&!Rt)return void(E.style.display="none");if(E.style.top=Nt+"px",E.style.left=Gt+"px",!yt){var Ct=(0,l.createChild)(E,"div","tooltip-arrow");Ct.style.clipPath=jt?"polygon(0 0, 100% 0, 50% 100%)":"polygon(50% 0, 0 100%, 100% 100%)",Ct.style.top=(jt?Y-1:-D)+"px",Ct.style.left=U-Gt+"px"}}(this.tooltip,v.elementInfo,v.colorFormat,_,this.canvasWidth,this.canvasHeight)),this.context.restore(),{bounds:_}},g.prototype.drawAxis=function(v,_,y){v.save();var b=this.pageZoomFactor*this.pageScaleFactor*this.emulationScaleFactor,S=this.scrollX*this.pageScaleFactor,T=this.scrollY*this.pageScaleFactor;function A(N){return Math.round(N*b)}function R(N){return Math.round(N/b)}var Z=this.canvasWidth/b,L=this.canvasHeight/b,G=50;v.save(),v.fillStyle=p,y?v.fillRect(0,A(L)-15,A(Z),A(L)):v.fillRect(0,0,A(Z),15),v.globalCompositeOperation="destination-out",v.fillStyle="red",_?v.fillRect(A(Z)-15,0,A(Z),A(L)):v.fillRect(0,0,15,A(L)),v.restore(),v.fillStyle=p,_?v.fillRect(A(Z)-15,0,A(Z),A(L)):v.fillRect(0,0,15,A(L)),v.lineWidth=1,v.strokeStyle=d,v.fillStyle=d,v.save(),v.translate(-S,.5-T);for(var j=L+R(T),M=100;M<j;M+=100)v.save(),v.translate(S,A(M)),v.rotate(-Math.PI/2),v.fillText(String(M),2,_?A(Z)-7:13),v.restore();v.translate(.5,-.5);for(var E=Z+R(S),I=100;I<E;I+=100)v.save(),v.fillText(String(I),A(I)+2,y?T+A(L)-7:T+13),v.restore();for(v.restore(),v.save(),_&&(v.translate(A(Z),0),v.scale(-1,1)),v.translate(-S,.5-T),j=L+R(T),M=G;M<j;M+=G){v.beginPath(),v.moveTo(S,A(M));var U=M%100?5:8;v.lineTo(S+U,A(M)),v.stroke()}for(v.strokeStyle=h,M=5;M<j;M+=5)M%G&&(v.beginPath(),v.moveTo(S,A(M)),v.lineTo(S+5,A(M)),v.stroke());for(v.restore(),v.save(),y&&(v.translate(0,A(L)),v.scale(1,-1)),v.translate(.5-S,-T),E=Z+R(S),I=G;I<E;I+=G)v.beginPath(),v.moveTo(A(I),T),U=I%100?5:8,v.lineTo(A(I),T+U),v.stroke();for(v.strokeStyle=h,I=5;I<E;I+=5)I%G&&(v.beginPath(),v.moveTo(A(I),T),v.lineTo(A(I),T+5),v.stroke());v.restore(),v.restore()},g}(l.Overlay);e.HighlightOverlay=u;var h="rgba(0,0,0,0.2)",d="rgba(0,0,0,0.7)",p="rgba(255, 255, 255, 0.8)",f="rgba(128, 128, 128, 0.3)"},1160:function(n,e,t){var r,i=this&&this.__extends||(r=function(f,m){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var _ in v)Object.prototype.hasOwnProperty.call(v,_)&&(g[_]=v[_])},r(f,m)},function(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function g(){this.constructor=f}r(f,m),f.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}),o=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(1443)),a=o(t(1512)),l=t(2062),c=o(t(3783)),u=o(t(6329)),h=o(t(4193)),d=o(t(5852)),p=function(f){function m(g,v,_){var y=v.compName,b=(_===void 0?{}:_).theme,S=b===void 0?"light":b,T=f.call(this)||this;return T.subComponents=[],T.compName=y,T.c=(0,l.classPrefix)(y),T.options={},T.container=g,T.$container=(0,a.default)(g),T.$container.addClass(["luna-".concat(y),T.c("platform-".concat((0,l.getPlatform)()))]),T.on("optionChange",function(A,R,Z){var L=T.c;A==="theme"&&(T.$container.rmClass(L("theme-".concat(Z))).addClass(L("theme-".concat(R))),(0,c.default)(T.subComponents,function(G){return G.setOption("theme",R)}))}),T.setOption("theme",S),T}return i(m,f),m.prototype.destroy=function(){this.destroySubComponents();var g=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(g("platform-".concat((0,l.getPlatform)()))).rmClass(g("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()},m.prototype.setOption=function(g,v){var _=this,y=this.options,b={};typeof g=="string"?b[g]=v:b=g,(0,c.default)(b,function(S,T){var A=y[T];y[T]=S,_.emit("optionChange",T,S,A)})},m.prototype.getOption=function(g){return this.options[g]},m.prototype.addSubComponent=function(g){g.setOption("theme",this.options.theme),this.subComponents.push(g)},m.prototype.removeSubComponent=function(g){(0,d.default)(this.subComponents,function(v){return v===g})},m.prototype.destroySubComponents=function(){(0,c.default)(this.subComponents,function(g){return g.destroy()}),this.subComponents=[]},m.prototype.initOptions=function(g,v){v===void 0&&(v={}),(0,h.default)(g,v),(0,u.default)(this.options,g)},m.prototype.find=function(g){return this.$container.find(this.c(g))},m}(s.default);e.default=p},2062:function(n,e,t){var r=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(e,"__esModule",{value:!0}),e.resetCanvasSize=e.getPlatform=e.pxToNum=e.executeAfterTransition=e.hasVerticalScrollbar=e.measuredScrollbarWidth=e.eventPage=e.eventClient=e.drag=e.classPrefix=void 0;var i=r(t(2461)),o=r(t(4331)),s=r(t(5610)),a=r(t(7483)),l=r(t(3990)),c=r(t(6341)),u=r(t(3875)),h=r(t(6954)),d=r(t(9585));function p(_,y){for(var b=0,S=_.length;b<S;b++){var T=_[b];y(T),T.content&&p(T.content,y)}}e.classPrefix=function(_){var y="luna-".concat(_,"-");function b(S){return(0,i.default)((0,o.default)(S).split(/\s+/),function(T){return(0,c.default)(T,y)?T:T.replace(/[\w-]+/,function(A){return"".concat(y).concat(A)})}).join(" ")}return function(S){if(/<[^>]*>/g.test(S))try{var T=a.default.parse(S);return p(T,function(A){A.attrs&&A.attrs.class&&(A.attrs.class=b(A.attrs.class))}),a.default.stringify(T)}catch{return b(S)}return b(S)}};var f,m="ontouchstart"in s.default,g={start:"touchstart",move:"touchmove",end:"touchend"},v={start:"mousedown",move:"mousemove",end:"mouseup"};e.drag=function(_){return m?g[_]:v[_]},e.eventClient=function(_,y){var b=_==="x"?"clientX":"clientY";return y[b]?y[b]:y.changedTouches?y.changedTouches[0][b]:0},e.eventPage=function(_,y){var b=_==="x"?"pageX":"pageY";return y[b]?y[b]:y.changedTouches?y.changedTouches[0][b]:0},e.measuredScrollbarWidth=function(){if((0,l.default)(f))return f;if(!document)return 16;var _=document.createElement("div"),y=document.createElement("div");return _.setAttribute("style","display: block; width: 100px; height: 100px; overflow: scroll;"),y.setAttribute("style","height: 200px"),_.appendChild(y),document.body.appendChild(_),f=_.offsetWidth-_.clientWidth,document.body.removeChild(_),f},e.hasVerticalScrollbar=function(_){return _.scrollHeight>_.offsetHeight},e.executeAfterTransition=function(_,y){if((0,d.default)(_))return y();var b=function(S){S.target===_&&(_.removeEventListener("transitionend",b),y())};_.addEventListener("transitionend",b)},e.pxToNum=function(_){return(0,u.default)(_.replace("px",""))},e.getPlatform=function(){var _=(0,h.default)();return _==="os x"?"mac":_},e.resetCanvasSize=function(_){_.width=Math.round(_.offsetWidth*window.devicePixelRatio),_.height=Math.round(_.offsetHeight*window.devicePixelRatio)}},6093:function(n,e,t){var r,i=this&&this.__extends||(r=function(d,p){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(f[g]=m[g])},r(d,p)},function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function f(){this.constructor=d}r(d,p),d.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}),o=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(1512)),a=o(t(5229)),l=o(t(2244)),c=o(t(8613)),u=function(d){function p(f,m){m===void 0&&(m={});var g=d.call(this,f,{compName:"notification"},m)||this;return g.notifications=[],g.initOptions(m,{position:{x:"right",y:"bottom"},duration:2e3}),g.initTpl(),g}return i(p,d),p.prototype.notify=function(f,m){var g=this;m===void 0&&(m={duration:this.options.duration});var v=new h(this,f);this.notifications.push(v),this.add(v),setTimeout(function(){return g.remove(v.id)},m.duration)},p.prototype.dismissAll=function(){for(var f=this.notifications,m=f[0];m;)this.remove(m.id),m=f[0]},p.prototype.add=function(f){this.container.appendChild(f.container)},p.prototype.remove=function(f){var m=this.notifications,g=(0,l.default)(m,function(_){return _.id===f});if(g){g.destroy();var v=m.indexOf(g);m.splice(v,1)}},p.prototype.initTpl=function(){var f=this.$container,m=this.options.position,g=m.x,v=m.y,_="flex-end",y="flex-end";switch(g){case"center":y="center";break;case"left":y="flex-start"}v==="top"&&(_="flex-start"),f.attr("style","justify-content: ".concat(_,"; align-items: ").concat(y))},p}(o(t(5404)).default);e.default=u;var h=function(){function d(p,f){this.container=(0,c.default)("div"),this.$container=(0,s.default)(this.container),this.notification=p,this.content=f,this.id=(0,a.default)("luna-notification-"),this.$container.attr({id:this.id,class:p.c("item ".concat(p.getOption("position").y==="bottom"?"lower":"upper"))}),this.initTpl()}return d.prototype.destroy=function(){this.$container.remove()},d.prototype.initTpl=function(){this.$container.html(this.notification.c('<div class="content">'.concat(this.content,"</div>")))},d}();n.exports=u,n.exports.default=u},5404:function(n,e,t){var r,i=this&&this.__extends||(r=function(f,m){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var _ in v)Object.prototype.hasOwnProperty.call(v,_)&&(g[_]=v[_])},r(f,m)},function(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function g(){this.constructor=f}r(f,m),f.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}),o=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(1443)),a=o(t(1512)),l=t(164),c=o(t(3783)),u=o(t(6329)),h=o(t(4193)),d=o(t(5852)),p=function(f){function m(g,v,_){var y=v.compName,b=(_===void 0?{}:_).theme,S=b===void 0?"light":b,T=f.call(this)||this;return T.subComponents=[],T.compName=y,T.c=(0,l.classPrefix)(y),T.options={},T.container=g,T.$container=(0,a.default)(g),T.$container.addClass(["luna-".concat(y),T.c("platform-".concat((0,l.getPlatform)()))]),T.on("optionChange",function(A,R,Z){var L=T.c;A==="theme"&&(T.$container.rmClass(L("theme-".concat(Z))).addClass(L("theme-".concat(R))),(0,c.default)(T.subComponents,function(G){return G.setOption("theme",R)}))}),T.setOption("theme",S),T}return i(m,f),m.prototype.destroy=function(){this.destroySubComponents();var g=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(g("platform-".concat((0,l.getPlatform)()))).rmClass(g("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()},m.prototype.setOption=function(g,v){var _=this,y=this.options,b={};typeof g=="string"?b[g]=v:b=g,(0,c.default)(b,function(S,T){var A=y[T];y[T]=S,_.emit("optionChange",T,S,A)})},m.prototype.getOption=function(g){return this.options[g]},m.prototype.addSubComponent=function(g){g.setOption("theme",this.options.theme),this.subComponents.push(g)},m.prototype.removeSubComponent=function(g){(0,d.default)(this.subComponents,function(v){return v===g})},m.prototype.destroySubComponents=function(){(0,c.default)(this.subComponents,function(g){return g.destroy()}),this.subComponents=[]},m.prototype.initOptions=function(g,v){v===void 0&&(v={}),(0,h.default)(g,v),(0,u.default)(this.options,g)},m.prototype.find=function(g){return this.$container.find(this.c(g))},m}(s.default);e.default=p},164:function(n,e,t){var r=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(e,"__esModule",{value:!0}),e.resetCanvasSize=e.getPlatform=e.pxToNum=e.executeAfterTransition=e.hasVerticalScrollbar=e.measuredScrollbarWidth=e.eventClient=e.drag=e.classPrefix=void 0;var i=r(t(2461)),o=r(t(4331)),s=r(t(5610)),a=r(t(7483)),l=r(t(3990)),c=r(t(6341)),u=r(t(3875)),h=r(t(6954)),d=r(t(9585));function p(_,y){for(var b=0,S=_.length;b<S;b++){var T=_[b];y(T),T.content&&p(T.content,y)}}e.classPrefix=function(_){var y="luna-".concat(_,"-");function b(S){return(0,i.default)((0,o.default)(S).split(/\s+/),function(T){return(0,c.default)(T,y)?T:T.replace(/[\w-]+/,function(A){return"".concat(y).concat(A)})}).join(" ")}return function(S){if(/<[^>]*>/g.test(S))try{var T=a.default.parse(S);return p(T,function(A){A.attrs&&A.attrs.class&&(A.attrs.class=b(A.attrs.class))}),a.default.stringify(T)}catch{return b(S)}return b(S)}};var f,m="ontouchstart"in s.default,g={start:"touchstart",move:"touchmove",end:"touchend"},v={start:"mousedown",move:"mousemove",end:"mouseup"};e.drag=function(_){return m?g[_]:v[_]},e.eventClient=function(_,y){var b=_==="x"?"clientX":"clientY";return y[b]?y[b]:y.changedTouches?y.changedTouches[0][b]:0},e.measuredScrollbarWidth=function(){if((0,l.default)(f))return f;if(!document)return 16;var _=document.createElement("div"),y=document.createElement("div");return _.setAttribute("style","display: block; width: 100px; height: 100px; overflow: scroll;"),y.setAttribute("style","height: 200px"),_.appendChild(y),document.body.appendChild(_),f=_.offsetWidth-_.clientWidth,document.body.removeChild(_),f},e.hasVerticalScrollbar=function(_){return _.scrollHeight>_.offsetHeight},e.executeAfterTransition=function(_,y){if((0,d.default)(_))return y();var b=function(S){S.target===_&&(_.removeEventListener("transitionend",b),y())};_.addEventListener("transitionend",b)},e.pxToNum=function(_){return(0,u.default)(_.replace("px",""))},e.getPlatform=function(){var _=(0,h.default)();return _==="os x"?"mac":_},e.resetCanvasSize=function(_){_.width=Math.round(_.offsetWidth*window.devicePixelRatio),_.height=Math.round(_.offsetHeight*window.devicePixelRatio)}},8169:function(n,e,t){t.r(e),t.d(e,{default:function(){return g}});var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=/([astvzqmhlc])([^astvzqmhlc]*)/gi,o=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,s=function(v){var _=[],y=String(v).trim();return y[0]!=="M"&&y[0]!=="m"||y.replace(i,function(b,S,T){var A=S.toLowerCase(),R=function(L){var G=L.match(o);return G?G.map(Number):[]}(T),Z=S;if(A==="m"&&R.length>2&&(_.push([Z].concat(R.splice(0,2))),A="l",Z=Z==="m"?"l":"L"),R.length<r[A])return"";for(_.push([Z].concat(R.splice(0,r[A])));R.length>=r[A]&&R.length&&r[A];)_.push([Z].concat(R.splice(0,r[A])));return""}),_};function a(v,_){for(var y=0;y<_.length;y++){var b=_[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}function l(v){return function(_){if(Array.isArray(_))return c(_)}(v)||function(_){if(typeof Symbol<"u"&&_[Symbol.iterator]!=null||_["@@iterator"]!=null)return Array.from(_)}(v)||function(_,y){if(_){if(typeof _=="string")return c(_,y);var b=Object.prototype.toString.call(_).slice(8,-1);if(b==="Object"&&_.constructor&&(b=_.constructor.name),b==="Map"||b==="Set")return Array.from(_);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return c(_,y)}}(v)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function c(v,_){(_==null||_>v.length)&&(_=v.length);for(var y=0,b=new Array(_);y<_;y++)b[y]=v[y];return b}var u=s;function h(v,_){var y=v.x*Math.cos(_)-v.y*Math.sin(_),b=v.y*Math.cos(_)+v.x*Math.sin(_);v.x=y,v.y=b}function d(v,_){v.x*=_,v.y*=_}var p=function(v){if(v!==void 0&&v.CanvasRenderingContext2D&&(!v.Path2D||!function(A){var R=A.document.createElement("canvas").getContext("2d"),Z=new A.Path2D("M0 0 L1 1");return R.strokeStyle="red",R.lineWidth=1,R.stroke(Z),R.getImageData(0,0,1,1).data[0]===255}(v))){var _=function(){function A(L){var G;(function(j,M){if(!(j instanceof M))throw new TypeError("Cannot call a class as a function")})(this,A),this.segments=[],L&&L instanceof A?(G=this.segments).push.apply(G,l(L.segments)):L&&(this.segments=u(L))}var R,Z;return R=A,(Z=[{key:"addPath",value:function(L){var G;L&&L instanceof A&&(G=this.segments).push.apply(G,l(L.segments))}},{key:"moveTo",value:function(L,G){this.segments.push(["M",L,G])}},{key:"lineTo",value:function(L,G){this.segments.push(["L",L,G])}},{key:"arc",value:function(L,G,j,M,E,I){this.segments.push(["AC",L,G,j,M,E,!!I])}},{key:"arcTo",value:function(L,G,j,M,E){this.segments.push(["AT",L,G,j,M,E])}},{key:"ellipse",value:function(L,G,j,M,E,I,U,N){this.segments.push(["E",L,G,j,M,E,I,U,!!N])}},{key:"closePath",value:function(){this.segments.push(["Z"])}},{key:"bezierCurveTo",value:function(L,G,j,M,E,I){this.segments.push(["C",L,G,j,M,E,I])}},{key:"quadraticCurveTo",value:function(L,G,j,M){this.segments.push(["Q",L,G,j,M])}},{key:"rect",value:function(L,G,j,M){this.segments.push(["R",L,G,j,M])}}])&&a(R.prototype,Z),Object.defineProperty(R,"prototype",{writable:!1}),A}(),y=v.CanvasRenderingContext2D.prototype.fill,b=v.CanvasRenderingContext2D.prototype.stroke;v.CanvasRenderingContext2D.prototype.fill=function(){for(var A=arguments.length,R=new Array(A),Z=0;Z<A;Z++)R[Z]=arguments[Z];var L="nonzero";if(R.length===0||R.length===1&&typeof R[0]=="string")y.apply(this,R);else{arguments.length===2&&(L=R[1]);var G=R[0];T(this,G.segments),y.call(this,L)}},v.CanvasRenderingContext2D.prototype.stroke=function(A){A?(T(this,A.segments),b.call(this)):b.call(this)};var S=v.CanvasRenderingContext2D.prototype.isPointInPath;v.CanvasRenderingContext2D.prototype.isPointInPath=function(){for(var A=arguments.length,R=new Array(A),Z=0;Z<A;Z++)R[Z]=arguments[Z];if(R[0].constructor.name==="Path2D"){var L=R[1],G=R[2],j=R[3]||"nonzero",M=R[0];return T(this,M.segments),S.apply(this,[L,G,j])}return S.apply(this,R)},v.Path2D=_}function T(A,R){var Z,L,G,j,M,E,I,U,N,Y,D,z,$,rt,ot,st,tt,nt,Et,yt,Gt,Nt,jt,Rt,Dt,Ct,Q,ft,_t,Lt={x:0,y:0},K={x:0,y:0};A.beginPath();for(var mt=0;mt<R.length;++mt){var W=R[mt];switch((yt=W[0])!=="S"&&yt!=="s"&&yt!=="C"&&yt!=="c"&&(Nt=null,jt=null),yt!=="T"&&yt!=="t"&&yt!=="Q"&&yt!=="q"&&(Rt=null,Dt=null),yt){case"m":case"M":yt==="m"?(D+=W[1],$+=W[2]):(D=W[1],$=W[2]),yt!=="M"&&Lt||(Lt={x:D,y:$}),A.moveTo(D,$);break;case"l":D+=W[1],$+=W[2],A.lineTo(D,$);break;case"L":D=W[1],$=W[2],A.lineTo(D,$);break;case"H":D=W[1],A.lineTo(D,$);break;case"h":D+=W[1],A.lineTo(D,$);break;case"V":$=W[1],A.lineTo(D,$);break;case"v":$+=W[1],A.lineTo(D,$);break;case"a":case"A":yt==="a"?(D+=W[6],$+=W[7]):(D=W[6],$=W[7]),st=W[1],tt=W[2],I=W[3]*Math.PI/180,G=!!W[4],j=!!W[5],M={x:D,y:$},h(E={x:(K.x-M.x)/2,y:(K.y-M.y)/2},-I),(U=E.x*E.x/(st*st)+E.y*E.y/(tt*tt))>1&&(st*=U=Math.sqrt(U),tt*=U),N=st*st*tt*tt,Y=st*st*E.y*E.y+tt*tt*E.x*E.x,d(Gt={x:st*E.y/tt,y:-tt*E.x/st},j!==G?Math.sqrt((N-Y)/Y)||0:-Math.sqrt((N-Y)/Y)||0),L=Math.atan2((E.y-Gt.y)/tt,(E.x-Gt.x)/st),Z=Math.atan2(-(E.y+Gt.y)/tt,-(E.x+Gt.x)/st),h(Gt,I),Q=Gt,ft=(M.x+K.x)/2,_t=(M.y+K.y)/2,Q.x+=ft,Q.y+=_t,A.save(),A.translate(Gt.x,Gt.y),A.rotate(I),A.scale(st,tt),A.arc(0,0,1,L,Z,!j),A.restore();break;case"C":Nt=W[3],jt=W[4],D=W[5],$=W[6],A.bezierCurveTo(W[1],W[2],Nt,jt,D,$);break;case"c":A.bezierCurveTo(W[1]+D,W[2]+$,W[3]+D,W[4]+$,W[5]+D,W[6]+$),Nt=W[3]+D,jt=W[4]+$,D+=W[5],$+=W[6];break;case"S":Nt!==null&&jt!==null||(Nt=D,jt=$),A.bezierCurveTo(2*D-Nt,2*$-jt,W[1],W[2],W[3],W[4]),Nt=W[1],jt=W[2],D=W[3],$=W[4];break;case"s":Nt!==null&&jt!==null||(Nt=D,jt=$),A.bezierCurveTo(2*D-Nt,2*$-jt,W[1]+D,W[2]+$,W[3]+D,W[4]+$),Nt=W[1]+D,jt=W[2]+$,D+=W[3],$+=W[4];break;case"Q":Rt=W[1],Dt=W[2],D=W[3],$=W[4],A.quadraticCurveTo(Rt,Dt,D,$);break;case"q":Rt=W[1]+D,Dt=W[2]+$,D+=W[3],$+=W[4],A.quadraticCurveTo(Rt,Dt,D,$);break;case"T":Rt!==null&&Dt!==null||(Rt=D,Dt=$),Rt=2*D-Rt,Dt=2*$-Dt,D=W[1],$=W[2],A.quadraticCurveTo(Rt,Dt,D,$);break;case"t":Rt!==null&&Dt!==null||(Rt=D,Dt=$),Rt=2*D-Rt,Dt=2*$-Dt,D+=W[1],$+=W[2],A.quadraticCurveTo(Rt,Dt,D,$);break;case"z":case"Z":D=Lt.x,$=Lt.y,Lt=void 0,A.closePath();break;case"AC":D=W[1],$=W[2],ot=W[3],L=W[4],Z=W[5],Ct=W[6],A.arc(D,$,ot,L,Z,Ct);break;case"AT":z=W[1],rt=W[2],D=W[3],$=W[4],ot=W[5],A.arcTo(z,rt,D,$,ot);break;case"E":D=W[1],$=W[2],st=W[3],tt=W[4],I=W[5],L=W[6],Z=W[7],Ct=W[8],A.save(),A.translate(D,$),A.rotate(I),A.scale(st,tt),A.arc(0,0,1,L,Z,Ct),A.restore();break;case"R":D=W[1],$=W[2],nt=W[3],Et=W[4],Lt={x:D,y:$},A.rect(D,$,nt,Et)}K.x=D,K.y=$}}},f=s,m=p;typeof window<"u"&&m(window);var g={path2dPolyfill:m,parsePath:f}},2777:function(n){n.exports=`.luna-dom-highlighter{position:fixed;left:0;top:0;width:100%;height:100%;z-index:100000;pointer-events:none;font-size:13px}.luna-dom-highlighter-fill{position:absolute;top:0;right:0;bottom:0;left:0}.luna-dom-highlighter-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-dom-highlighter-platform-mac{color:#303942;font-family:'.SFNSDisplay-Regular','Helvetica Neue','Lucida Grande',sans-serif}.luna-dom-highlighter-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-dom-highlighter-px{color:gray}#luna-dom-highlighter-element-title{position:absolute;z-index:10}.luna-dom-highlighter-tooltip-content{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:#fff;padding:5px 8px;border:1px solid #fff;border-radius:3px;box-sizing:border-box;min-width:100px;max-width:min(300px,100% - 4px);z-index:2;background-clip:padding-box;will-change:transform;text-rendering:optimizeLegibility;pointer-events:none;filter:drop-shadow(0 2px 4px rgba(0,0,0,.35))}.luna-dom-highlighter-tooltip-content .luna-dom-highlighter-tooltip-arrow{background:#fff;width:15px;height:8px;position:absolute}.luna-dom-highlighter-element-info-section{margin-top:12px;margin-bottom:6px}.luna-dom-highlighter-section-name{color:#333;font-weight:500;font-size:10px;text-transform:uppercase;letter-spacing:.05em;line-height:12px}.luna-dom-highlighter-element-info{display:flex;flex-direction:column}.luna-dom-highlighter-element-info-header{display:flex;align-items:center}.luna-dom-highlighter-element-info-body{display:flex;flex-direction:column;padding-top:2px;margin-top:2px}.luna-dom-highlighter-element-info-row{display:flex;line-height:19px}.luna-dom-highlighter-separator-container{display:flex;align-items:center;flex:auto;margin-left:7px}.luna-dom-highlighter-separator{border-top:1px solid #ddd;width:100%}.luna-dom-highlighter-element-info-name{flex-shrink:0;color:#666}.luna-dom-highlighter-element-info-gap{flex:auto}.luna-dom-highlighter-element-info-value-color{display:flex;color:#303942;margin-left:10px;align-items:baseline}.luna-dom-highlighter-a11y-icon{width:16px;height:16px;background-repeat:no-repeat;display:inline-block}.luna-dom-highlighter-element-info-value-contrast{display:flex;align-items:center;text-align:right;color:#303942;margin-left:10px}.luna-dom-highlighter-element-info-value-contrast .luna-dom-highlighter-a11y-icon{margin-left:8px}.luna-dom-highlighter-element-info-value-icon{display:flex;align-items:center}.luna-dom-highlighter-element-info-value-text{text-align:right;color:#303942;margin-left:10px;align-items:baseline;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.luna-dom-highlighter-color-swatch{display:flex;margin-right:2px;width:10px;height:10px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==);line-height:10px}.luna-dom-highlighter-color-swatch-inner{flex:auto;border:1px solid #808002}.luna-dom-highlighter-element-layout-type{margin-right:10px;width:16px;height:16px}.luna-dom-highlighter-element-layout-type.luna-dom-highlighter-grid{background-image:url('data:image/svg+xml,<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="2.5" y="2.5" width="4" height="4" stroke="%231A73E8"/><rect x="9.5" y="2.5" width="4" height="4" stroke="%231A73E8"/><rect x="9.5" y="9.5" width="4" height="4" stroke="%231A73E8"/><rect x="2.5" y="9.5" width="4" height="4" stroke="%231A73E8"/></svg>')}.luna-dom-highlighter-element-layout-type.luna-dom-highlighter-flex{background-image:url('data:image/svg+xml,<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 3.5h8v3H1v-3zm-1 0a1 1 0 011-1h8a1 1 0 011 1v3a1 1 0 01-1 1H1a1 1 0 01-1-1v-3zm12 0h3v3h-3v-3zm-1 0a1 1 0 011-1h3a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-3zm-7 6H1v3h3v-3zm-3-1a1 1 0 00-1 1v3a1 1 0 001 1h3a1 1 0 001-1v-3a1 1 0 00-1-1H1zm6 4v-3h8v3H7zm-1-3a1 1 0 011-1h8a1 1 0 011 1v3a1 1 0 01-1 1H7a1 1 0 01-1-1v-3z" fill="%231A73E8"/></svg>')}.luna-dom-highlighter-element-description{flex:1 1;font-weight:700;word-wrap:break-word;word-break:break-all}.luna-dom-highlighter-dimensions{color:#737373;text-align:right;margin-left:10px}.luna-dom-highlighter-material-node-width{margin-right:2px}.luna-dom-highlighter-material-node-height{margin-left:2px}.luna-dom-highlighter-material-tag-name{color:#881280}.luna-dom-highlighter-material-class-name,.luna-dom-highlighter-material-node-id{color:#1a1aa6}.luna-dom-highlighter-contrast-text{width:16px;height:16px;text-align:center;line-height:16px;margin-right:8px;border:1px solid #000;padding:0 1px}.luna-dom-highlighter-a11y-icon-not-ok{background-image:url('data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m9 1.5c-4.14 0-7.5 3.36-7.5 7.5s3.36 7.5 7.5 7.5 7.5-3.36 7.5-7.5-3.36-7.5-7.5-7.5zm0 13.5c-3.315 0-6-2.685-6-6 0-1.3875.4725-2.6625 1.2675-3.675l8.4075 8.4075c-1.0125.795-2.2875 1.2675-3.675 1.2675zm4.7325-2.325-8.4075-8.4075c1.0125-.795 2.2875-1.2675 3.675-1.2675 3.315 0 6 2.685 6 6 0 1.3875-.4725 2.6625-1.2675 3.675z" fill="%239e9e9e"/></svg>')}.luna-dom-highlighter-a11y-icon-warning{background-image:url('data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m8.25 11.25h1.5v1.5h-1.5zm0-6h1.5v4.5h-1.5zm.7425-3.75c-4.14 0-7.4925 3.36-7.4925 7.5s3.3525 7.5 7.4925 7.5c4.1475 0 7.5075-3.36 7.5075-7.5s-3.36-7.5-7.5075-7.5zm.0075 13.5c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6z" fill="%23e37400"/></svg>')}.luna-dom-highlighter-a11y-icon-ok{background-image:url('data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m9 1.5c-4.14 0-7.5 3.36-7.5 7.5s3.36 7.5 7.5 7.5 7.5-3.36 7.5-7.5-3.36-7.5-7.5-7.5zm0 13.5c-3.3075 0-6-2.6925-6-6s2.6925-6 6-6 6 2.6925 6 6-2.6925 6-6 6zm-1.5-4.35-1.95-1.95-1.05 1.05 3 3 6-6-1.05-1.05z" fill="%230ca40c"/></svg>')}@media (forced-colors:active){:root,body{background-color:transparent;forced-color-adjust:none}.luna-dom-highlighter-tooltip-content{border-color:Highlight;background-color:canvas;color:text;forced-color-adjust:none}.luna-dom-highlighter-tooltip-content::after{background-color:Highlight}.luna-dom-highlighter-color-swatch-inner,.luna-dom-highlighter-contrast-text,.luna-dom-highlighter-separator{border-color:Highlight}.luna-dom-highlighter-section-name{color:Highlight}.luna-dom-highlighter-dimensions,.luna-dom-highlighter-element-info-name,.luna-dom-highlighter-element-info-value-color,.luna-dom-highlighter-element-info-value-contrast,.luna-dom-highlighter-element-info-value-icon,.luna-dom-highlighter-element-info-value-text,.luna-dom-highlighter-material-class-name,.luna-dom-highlighter-material-node-id,.luna-dom-highlighter-material-tag-name{color:canvastext}}

/*# sourceMappingURL=luna-dom-highlighter.css.map*/`},907:function(n,e,t){function r(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,a=new Array(o);s<o;s++)a[s]=i[s];return a}t.d(e,{Z:function(){return r}})},7326:function(n,e,t){function r(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}t.d(e,{Z:function(){return r}})},5671:function(n,e,t){function r(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}t.d(e,{Z:function(){return r}})},3144:function(n,e,t){t.d(e,{Z:function(){return o}});var r=t(9142);function i(s,a){for(var l=0;l<a.length;l++){var c=a[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,(0,r.Z)(c.key),c)}}function o(s,a,l){return a&&i(s.prototype,a),l&&i(s,l),Object.defineProperty(s,"prototype",{writable:!1}),s}},4942:function(n,e,t){t.d(e,{Z:function(){return i}});var r=t(9142);function i(o,s,a){return(s=(0,r.Z)(s))in o?Object.defineProperty(o,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[s]=a,o}},1752:function(n,e,t){t.d(e,{Z:function(){return o}});var r=t(1120);function i(s,a){for(;!Object.prototype.hasOwnProperty.call(s,a)&&(s=(0,r.Z)(s))!==null;);return s}function o(){return o=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(s,a,l){var c=i(s,a);if(c){var u=Object.getOwnPropertyDescriptor(c,a);return u.get?u.get.call(arguments.length<3?s:l):u.value}},o.apply(this,arguments)}},1120:function(n,e,t){function r(i){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},r(i)}t.d(e,{Z:function(){return r}})},9340:function(n,e,t){function r(o,s){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,l){return a.__proto__=l,a},r(o,s)}function i(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),s&&r(o,s)}t.d(e,{Z:function(){return i}})},2963:function(n,e,t){t.d(e,{Z:function(){return o}});var r=t(1002),i=t(7326);function o(s,a){if(a&&((0,r.Z)(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(s)}},168:function(n,e,t){function r(i,o){return o||(o=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(o)}}))}t.d(e,{Z:function(){return r}})},9142:function(n,e,t){t.d(e,{Z:function(){return i}});var r=t(1002);function i(o){var s=function(a,l){if((0,r.Z)(a)!=="object"||a===null)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var u=c.call(a,l||"default");if((0,r.Z)(u)!=="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(a)}(o,"string");return(0,r.Z)(s)==="symbol"?s:String(s)}},1002:function(n,e,t){function r(i){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},r(i)}t.d(e,{Z:function(){return r}})},181:function(n,e,t){t.d(e,{Z:function(){return i}});var r=t(907);function i(o,s){if(o){if(typeof o=="string")return(0,r.Z)(o,s);var a=Object.prototype.toString.call(o).slice(8,-1);return a==="Object"&&o.constructor&&(a=o.constructor.name),a==="Map"||a==="Set"?Array.from(o):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?(0,r.Z)(o,s):void 0}}}},__webpack_module_cache__={};function __webpack_require__(n){var e=__webpack_module_cache__[n];if(e!==void 0)return e.exports;var t=__webpack_module_cache__[n]={id:n,loaded:!1,exports:{}};return __webpack_modules__[n].call(t.exports,t,t.exports,__webpack_require__),t.loaded=!0,t.exports}__webpack_require__.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=function(n,e){for(var t in e)__webpack_require__.o(e,t)&&!__webpack_require__.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.hmd=function(n){return(n=Object.create(n)).children||(n.children=[]),Object.defineProperty(n,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+n.id)}}),n},__webpack_require__.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},__webpack_require__.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(2027);return __webpack_exports__}()})})(eruda$1);const eruda=getDefaultExportFromCjs(erudaExports);var ENV=(n=>(n[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2",n))(ENV||{}),BUFFER_BITS=(n=>(n[n.COLOR=16384]="COLOR",n[n.DEPTH=256]="DEPTH",n[n.STENCIL=1024]="STENCIL",n))(BUFFER_BITS||{}),BLEND_MODES=(n=>(n[n.NORMAL=0]="NORMAL",n[n.ADD=1]="ADD",n[n.MULTIPLY=2]="MULTIPLY",n[n.SCREEN=3]="SCREEN",n[n.OVERLAY=4]="OVERLAY",n[n.DARKEN=5]="DARKEN",n[n.LIGHTEN=6]="LIGHTEN",n[n.COLOR_DODGE=7]="COLOR_DODGE",n[n.COLOR_BURN=8]="COLOR_BURN",n[n.HARD_LIGHT=9]="HARD_LIGHT",n[n.SOFT_LIGHT=10]="SOFT_LIGHT",n[n.DIFFERENCE=11]="DIFFERENCE",n[n.EXCLUSION=12]="EXCLUSION",n[n.HUE=13]="HUE",n[n.SATURATION=14]="SATURATION",n[n.COLOR=15]="COLOR",n[n.LUMINOSITY=16]="LUMINOSITY",n[n.NORMAL_NPM=17]="NORMAL_NPM",n[n.ADD_NPM=18]="ADD_NPM",n[n.SCREEN_NPM=19]="SCREEN_NPM",n[n.NONE=20]="NONE",n[n.SRC_OVER=0]="SRC_OVER",n[n.SRC_IN=21]="SRC_IN",n[n.SRC_OUT=22]="SRC_OUT",n[n.SRC_ATOP=23]="SRC_ATOP",n[n.DST_OVER=24]="DST_OVER",n[n.DST_IN=25]="DST_IN",n[n.DST_OUT=26]="DST_OUT",n[n.DST_ATOP=27]="DST_ATOP",n[n.ERASE=26]="ERASE",n[n.SUBTRACT=28]="SUBTRACT",n[n.XOR=29]="XOR",n))(BLEND_MODES||{}),DRAW_MODES=(n=>(n[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",n))(DRAW_MODES||{}),FORMATS=(n=>(n[n.RGBA=6408]="RGBA",n[n.RGB=6407]="RGB",n[n.RG=33319]="RG",n[n.RED=6403]="RED",n[n.RGBA_INTEGER=36249]="RGBA_INTEGER",n[n.RGB_INTEGER=36248]="RGB_INTEGER",n[n.RG_INTEGER=33320]="RG_INTEGER",n[n.RED_INTEGER=36244]="RED_INTEGER",n[n.ALPHA=6406]="ALPHA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",n))(FORMATS||{}),TARGETS=(n=>(n[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",n))(TARGETS||{}),TYPES=(n=>(n[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",n[n.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",n[n.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",n[n.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",n[n.BYTE=5120]="BYTE",n[n.SHORT=5122]="SHORT",n[n.INT=5124]="INT",n[n.FLOAT=5126]="FLOAT",n[n.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",n[n.HALF_FLOAT=36193]="HALF_FLOAT",n))(TYPES||{}),SAMPLER_TYPES=(n=>(n[n.FLOAT=0]="FLOAT",n[n.INT=1]="INT",n[n.UINT=2]="UINT",n))(SAMPLER_TYPES||{}),SCALE_MODES=(n=>(n[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",n))(SCALE_MODES||{}),WRAP_MODES=(n=>(n[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",n))(WRAP_MODES||{}),MIPMAP_MODES=(n=>(n[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",n))(MIPMAP_MODES||{}),ALPHA_MODES=(n=>(n[n.NPM=0]="NPM",n[n.UNPACK=1]="UNPACK",n[n.PMA=2]="PMA",n[n.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",n[n.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",n[n.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",n))(ALPHA_MODES||{}),CLEAR_MODES=(n=>(n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT",n))(CLEAR_MODES||{}),GC_MODES=(n=>(n[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",n))(GC_MODES||{}),PRECISION=(n=>(n.LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",n))(PRECISION||{}),MASK_TYPES=(n=>(n[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",n[n.COLOR=4]="COLOR",n))(MASK_TYPES||{}),MSAA_QUALITY=(n=>(n[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",n))(MSAA_QUALITY||{}),BUFFER_TYPE=(n=>(n[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",n))(BUFFER_TYPE||{});const BrowserAdapter={createCanvas:(n,e)=>{const t=document.createElement("canvas");return t.width=n,t.height=e,t},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(n,e)=>fetch(n,e),parseXML:n=>new DOMParser().parseFromString(n,"text/xml")},settings={ADAPTER:BrowserAdapter,RESOLUTION:1,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,clearBeforeRender:!0,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,hello:!1},CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var appleIphone=/iPhone/i,appleIpod=/iPod/i,appleTablet=/iPad/i,appleUniversal=/\biOS-universal(?:.+)Mac\b/i,androidPhone=/\bAndroid(?:.+)Mobile\b/i,androidTablet=/Android/i,amazonPhone=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,amazonTablet=/Silk/i,windowsPhone=/Windows Phone/i,windowsTablet=/\bWindows(?:.+)ARM\b/i,otherBlackBerry=/BlackBerry/i,otherBlackBerry10=/BB10/i,otherOpera=/Opera Mini/i,otherChrome=/\b(CriOS|Chrome)(?:.+)Mobile/i,otherFirefox=/Mobile(?:.+)Firefox\b/i,isAppleTabletOnIos13=function(n){return typeof n<"u"&&n.platform==="MacIntel"&&typeof n.maxTouchPoints=="number"&&n.maxTouchPoints>1&&typeof MSStream>"u"};function createMatch(n){return function(e){return e.test(n)}}function isMobile$1(n){var e={userAgent:"",platform:"",maxTouchPoints:0};!n&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof n=="string"?e.userAgent=n:n&&n.userAgent&&(e={userAgent:n.userAgent,platform:n.platform,maxTouchPoints:n.maxTouchPoints||0});var t=e.userAgent,r=t.split("[FBAN");typeof r[1]<"u"&&(t=r[0]),r=t.split("Twitter"),typeof r[1]<"u"&&(t=r[0]);var i=createMatch(t),o={apple:{phone:i(appleIphone)&&!i(windowsPhone),ipod:i(appleIpod),tablet:!i(appleIphone)&&(i(appleTablet)||isAppleTabletOnIos13(e))&&!i(windowsPhone),universal:i(appleUniversal),device:(i(appleIphone)||i(appleIpod)||i(appleTablet)||i(appleUniversal)||isAppleTabletOnIos13(e))&&!i(windowsPhone)},amazon:{phone:i(amazonPhone),tablet:!i(amazonPhone)&&i(amazonTablet),device:i(amazonPhone)||i(amazonTablet)},android:{phone:!i(windowsPhone)&&i(amazonPhone)||!i(windowsPhone)&&i(androidPhone),tablet:!i(windowsPhone)&&!i(amazonPhone)&&!i(androidPhone)&&(i(amazonTablet)||i(androidTablet)),device:!i(windowsPhone)&&(i(amazonPhone)||i(amazonTablet)||i(androidPhone)||i(androidTablet))||i(/\bokhttp\b/i)},windows:{phone:i(windowsPhone),tablet:i(windowsTablet),device:i(windowsPhone)||i(windowsTablet)},other:{blackberry:i(otherBlackBerry),blackberry10:i(otherBlackBerry10),opera:i(otherOpera),firefox:i(otherFirefox),chrome:i(otherChrome),device:i(otherBlackBerry)||i(otherBlackBerry10)||i(otherOpera)||i(otherFirefox)||i(otherChrome)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}const isMobile=isMobile$1(globalThis.navigator);settings.RETINA_PREFIX=/@([0-9\.]+)x/;settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var eventemitter3Exports={},eventemitter3={get exports(){return eventemitter3Exports},set exports(n){eventemitter3Exports=n}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,h,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||l,d),f=t?t+c:c;return l._events[f]?l._events[f].fn?l._events[f]=[l._events[f],p]:l._events[f].push(p):(l._events[f]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=t?t+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,p=h.length,f=new Array(p);d<p;d++)f[d]=h[d].fn;return f},a.prototype.listenerCount=function(c){var u=t?t+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,d,p,f){var m=t?t+c:c;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,_,y;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,h),!0;case 4:return g.fn.call(g.context,u,h,d),!0;case 5:return g.fn.call(g.context,u,h,d,p),!0;case 6:return g.fn.call(g.context,u,h,d,p,f),!0}for(y=1,_=new Array(v-1);y<v;y++)_[y-1]=arguments[y];g.fn.apply(g.context,_)}else{var b=g.length,S;for(y=0;y<b;y++)switch(g[y].once&&this.removeListener(c,g[y].fn,void 0,!0),v){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,u);break;case 3:g[y].fn.call(g[y].context,u,h);break;case 4:g[y].fn.call(g[y].context,u,h,d);break;default:if(!_)for(S=1,_=new Array(v-1);S<v;S++)_[S-1]=arguments[S];g[y].fn.apply(g[y].context,_)}}return!0},a.prototype.on=function(c,u,h){return o(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return o(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,d){var p=t?t+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var f=this._events[p];if(f.fn)f.fn===u&&(!d||f.once)&&(!h||f.context===h)&&s(this,p);else{for(var m=0,g=[],v=f.length;m<v;m++)(f[m].fn!==u||d&&!f[m].once||h&&f[m].context!==h)&&g.push(f[m]);g.length?this._events[p]=g.length===1?g[0]:g:s(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=t?t+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(eventemitter3);var earcutExports={},earcut$1={get exports(){return earcutExports},set exports(n){earcutExports=n}};earcut$1.exports=earcut;earcutExports.default=earcut;function earcut(n,e,t){t=t||2;var r=e&&e.length,i=r?e[0]*t:n.length,o=linkedList(n,0,i,t,!0),s=[];if(!o||o.next===o.prev)return s;var a,l,c,u,h,d,p;if(r&&(o=eliminateHoles(n,e,o,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(var f=t;f<i;f+=t)h=n[f],d=n[f+1],h<a&&(a=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);p=Math.max(c-a,u-l),p=p!==0?32767/p:0}return earcutLinked(o,s,t,a,l,p,0),s}function linkedList(n,e,t,r,i){var o,s;if(i===signedArea(n,e,t,r)>0)for(o=e;o<t;o+=r)s=insertNode(o,n[o],n[o+1],s);else for(o=t-r;o>=e;o-=r)s=insertNode(o,n[o],n[o+1],s);return s&&equals(s,s.next)&&(removeNode(s),s=s.next),s}function filterPoints(n,e){if(!n)return n;e||(e=n);var t=n,r;do if(r=!1,!t.steiner&&(equals(t,t.next)||area(t.prev,t,t.next)===0)){if(removeNode(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function earcutLinked(n,e,t,r,i,o,s){if(n){!s&&o&&indexCurve(n,r,i,o);for(var a=n,l,c;n.prev!==n.next;){if(l=n.prev,c=n.next,o?isEarHashed(n,r,i,o):isEar(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),removeNode(n),n=c.next,a=c.next;continue}if(n=c,n===a){s?s===1?(n=cureLocalIntersections(filterPoints(n),e,t),earcutLinked(n,e,t,r,i,o,2)):s===2&&splitEarcut(n,e,t,r,i,o):earcutLinked(filterPoints(n),e,t,r,i,o,1);break}}}}function isEar(n){var e=n.prev,t=n,r=n.next;if(area(e,t,r)>=0)return!1;for(var i=e.x,o=t.x,s=r.x,a=e.y,l=t.y,c=r.y,u=i<o?i<s?i:s:o<s?o:s,h=a<l?a<c?a:c:l<c?l:c,d=i>o?i>s?i:s:o>s?o:s,p=a>l?a>c?a:c:l>c?l:c,f=r.next;f!==e;){if(f.x>=u&&f.x<=d&&f.y>=h&&f.y<=p&&pointInTriangle(i,a,o,l,s,c,f.x,f.y)&&area(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function isEarHashed(n,e,t,r){var i=n.prev,o=n,s=n.next;if(area(i,o,s)>=0)return!1;for(var a=i.x,l=o.x,c=s.x,u=i.y,h=o.y,d=s.y,p=a<l?a<c?a:c:l<c?l:c,f=u<h?u<d?u:d:h<d?h:d,m=a>l?a>c?a:c:l>c?l:c,g=u>h?u>d?u:d:h>d?h:d,v=zOrder(p,f,e,t,r),_=zOrder(m,g,e,t,r),y=n.prevZ,b=n.nextZ;y&&y.z>=v&&b&&b.z<=_;){if(y.x>=p&&y.x<=m&&y.y>=f&&y.y<=g&&y!==i&&y!==s&&pointInTriangle(a,u,l,h,c,d,y.x,y.y)&&area(y.prev,y,y.next)>=0||(y=y.prevZ,b.x>=p&&b.x<=m&&b.y>=f&&b.y<=g&&b!==i&&b!==s&&pointInTriangle(a,u,l,h,c,d,b.x,b.y)&&area(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;y&&y.z>=v;){if(y.x>=p&&y.x<=m&&y.y>=f&&y.y<=g&&y!==i&&y!==s&&pointInTriangle(a,u,l,h,c,d,y.x,y.y)&&area(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;b&&b.z<=_;){if(b.x>=p&&b.x<=m&&b.y>=f&&b.y<=g&&b!==i&&b!==s&&pointInTriangle(a,u,l,h,c,d,b.x,b.y)&&area(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function cureLocalIntersections(n,e,t){var r=n;do{var i=r.prev,o=r.next.next;!equals(i,o)&&intersects(i,r,r.next,o)&&locallyInside(i,o)&&locallyInside(o,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(o.i/t|0),removeNode(r),removeNode(r.next),r=n=o),r=r.next}while(r!==n);return filterPoints(r)}function splitEarcut(n,e,t,r,i,o){var s=n;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&isValidDiagonal(s,a)){var l=splitPolygon(s,a);s=filterPoints(s,s.next),l=filterPoints(l,l.next),earcutLinked(s,e,t,r,i,o,0),earcutLinked(l,e,t,r,i,o,0);return}a=a.next}s=s.next}while(s!==n)}function eliminateHoles(n,e,t,r){var i=[],o,s,a,l,c;for(o=0,s=e.length;o<s;o++)a=e[o]*r,l=o<s-1?e[o+1]*r:n.length,c=linkedList(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(getLeftmost(c));for(i.sort(compareX),o=0;o<i.length;o++)t=eliminateHole(i[o],t);return t}function compareX(n,e){return n.x-e.x}function eliminateHole(n,e){var t=findHoleBridge(n,e);if(!t)return e;var r=splitPolygon(t,n);return filterPoints(r,r.next),filterPoints(t,t.next)}function findHoleBridge(n,e){var t=e,r=n.x,i=n.y,o=-1/0,s;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){var a=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(a<=r&&a>o&&(o=a,s=t.x<t.next.x?t:t.next,a===r))return s}t=t.next}while(t!==e);if(!s)return null;var l=s,c=s.x,u=s.y,h=1/0,d;t=s;do r>=t.x&&t.x>=c&&r!==t.x&&pointInTriangle(i<u?r:o,i,c,u,i<u?o:r,i,t.x,t.y)&&(d=Math.abs(i-t.y)/(r-t.x),locallyInside(t,n)&&(d<h||d===h&&(t.x>s.x||t.x===s.x&&sectorContainsSector(s,t)))&&(s=t,h=d)),t=t.next;while(t!==l);return s}function sectorContainsSector(n,e){return area(n.prev,n,e.prev)<0&&area(e.next,n,n.next)<0}function indexCurve(n,e,t,r){var i=n;do i.z===0&&(i.z=zOrder(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,sortLinked(i)}function sortLinked(n){var e,t,r,i,o,s,a,l,c=1;do{for(t=n,n=null,o=null,s=0;t;){for(s++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:n=i,i.prevZ=o,o=i;t=r}o.nextZ=null,c*=2}while(s>1);return n}function zOrder(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function getLeftmost(n){var e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function pointInTriangle(n,e,t,r,i,o,s,a){return(i-s)*(e-a)>=(n-s)*(o-a)&&(n-s)*(r-a)>=(t-s)*(e-a)&&(t-s)*(o-a)>=(i-s)*(r-a)}function isValidDiagonal(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!intersectsPolygon(n,e)&&(locallyInside(n,e)&&locallyInside(e,n)&&middleInside(n,e)&&(area(n.prev,n,e.prev)||area(n,e.prev,e))||equals(n,e)&&area(n.prev,n,n.next)>0&&area(e.prev,e,e.next)>0)}function area(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function equals(n,e){return n.x===e.x&&n.y===e.y}function intersects(n,e,t,r){var i=sign$1(area(n,e,t)),o=sign$1(area(n,e,r)),s=sign$1(area(t,r,n)),a=sign$1(area(t,r,e));return!!(i!==o&&s!==a||i===0&&onSegment(n,t,e)||o===0&&onSegment(n,r,e)||s===0&&onSegment(t,n,r)||a===0&&onSegment(t,e,r))}function onSegment(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function sign$1(n){return n>0?1:n<0?-1:0}function intersectsPolygon(n,e){var t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&intersects(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function locallyInside(n,e){return area(n.prev,n,n.next)<0?area(n,e,n.next)>=0&&area(n,n.prev,e)>=0:area(n,e,n.prev)<0||area(n,n.next,e)<0}function middleInside(n,e){var t=n,r=!1,i=(n.x+e.x)/2,o=(n.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&i<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function splitPolygon(n,e){var t=new Node$1(n.i,n.x,n.y),r=new Node$1(e.i,e.x,e.y),i=n.next,o=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,o.next=r,r.prev=o,r}function insertNode(n,e,t,r){var i=new Node$1(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function removeNode(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Node$1(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}earcut.deviation=function(n,e,t,r){var i=e&&e.length,o=i?e[0]*t:n.length,s=Math.abs(signedArea(n,0,o,t));if(i)for(var a=0,l=e.length;a<l;a++){var c=e[a]*t,u=a<l-1?e[a+1]*t:n.length;s-=Math.abs(signedArea(n,c,u,t))}var h=0;for(a=0;a<r.length;a+=3){var d=r[a]*t,p=r[a+1]*t,f=r[a+2]*t;h+=Math.abs((n[d]-n[f])*(n[p+1]-n[d+1])-(n[d]-n[p])*(n[f+1]-n[d+1]))}return s===0&&h===0?0:Math.abs((h-s)/s)};function signedArea(n,e,t,r){for(var i=0,o=e,s=t-r;o<t;o+=r)i+=(n[s]-n[o])*(n[o+1]+n[s+1]),s=o;return i}earcut.flatten=function(n){for(var e=n[0][0].length,t={vertices:[],holes:[],dimensions:e},r=0,i=0;i<n.length;i++){for(var o=0;o<n[i].length;o++)for(var s=0;s<e;s++)t.vertices.push(n[i][o][s]);i>0&&(r+=n[i-1].length,t.holes.push(r))}return t};var punycodeExports={},punycode$1={get exports(){return punycodeExports},set exports(n){punycodeExports=n}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(n,e){(function(t){var r=e&&!e.nodeType&&e,i=n&&!n.nodeType&&n,o=typeof commonjsGlobal=="object"&&commonjsGlobal;(o.global===o||o.window===o||o.self===o)&&(t=o);var s,a=2147483647,l=36,c=1,u=26,h=38,d=700,p=72,f=128,m="-",g=/^xn--/,v=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=l-c,S=Math.floor,T=String.fromCharCode,A;function R(z){throw RangeError(y[z])}function Z(z,$){for(var rt=z.length,ot=[];rt--;)ot[rt]=$(z[rt]);return ot}function L(z,$){var rt=z.split("@"),ot="";rt.length>1&&(ot=rt[0]+"@",z=rt[1]),z=z.replace(_,".");var st=z.split("."),tt=Z(st,$).join(".");return ot+tt}function G(z){for(var $=[],rt=0,ot=z.length,st,tt;rt<ot;)st=z.charCodeAt(rt++),st>=55296&&st<=56319&&rt<ot?(tt=z.charCodeAt(rt++),(tt&64512)==56320?$.push(((st&1023)<<10)+(tt&1023)+65536):($.push(st),rt--)):$.push(st);return $}function j(z){return Z(z,function($){var rt="";return $>65535&&($-=65536,rt+=T($>>>10&1023|55296),$=56320|$&1023),rt+=T($),rt}).join("")}function M(z){return z-48<10?z-22:z-65<26?z-65:z-97<26?z-97:l}function E(z,$){return z+22+75*(z<26)-(($!=0)<<5)}function I(z,$,rt){var ot=0;for(z=rt?S(z/d):z>>1,z+=S(z/$);z>b*u>>1;ot+=l)z=S(z/b);return S(ot+(b+1)*z/(z+h))}function U(z){var $=[],rt=z.length,ot,st=0,tt=f,nt=p,Et,yt,Gt,Nt,jt,Rt,Dt,Ct,Q;for(Et=z.lastIndexOf(m),Et<0&&(Et=0),yt=0;yt<Et;++yt)z.charCodeAt(yt)>=128&&R("not-basic"),$.push(z.charCodeAt(yt));for(Gt=Et>0?Et+1:0;Gt<rt;){for(Nt=st,jt=1,Rt=l;Gt>=rt&&R("invalid-input"),Dt=M(z.charCodeAt(Gt++)),(Dt>=l||Dt>S((a-st)/jt))&&R("overflow"),st+=Dt*jt,Ct=Rt<=nt?c:Rt>=nt+u?u:Rt-nt,!(Dt<Ct);Rt+=l)Q=l-Ct,jt>S(a/Q)&&R("overflow"),jt*=Q;ot=$.length+1,nt=I(st-Nt,ot,Nt==0),S(st/ot)>a-tt&&R("overflow"),tt+=S(st/ot),st%=ot,$.splice(st++,0,tt)}return j($)}function N(z){var $,rt,ot,st,tt,nt,Et,yt,Gt,Nt,jt,Rt=[],Dt,Ct,Q,ft;for(z=G(z),Dt=z.length,$=f,rt=0,tt=p,nt=0;nt<Dt;++nt)jt=z[nt],jt<128&&Rt.push(T(jt));for(ot=st=Rt.length,st&&Rt.push(m);ot<Dt;){for(Et=a,nt=0;nt<Dt;++nt)jt=z[nt],jt>=$&&jt<Et&&(Et=jt);for(Ct=ot+1,Et-$>S((a-rt)/Ct)&&R("overflow"),rt+=(Et-$)*Ct,$=Et,nt=0;nt<Dt;++nt)if(jt=z[nt],jt<$&&++rt>a&&R("overflow"),jt==$){for(yt=rt,Gt=l;Nt=Gt<=tt?c:Gt>=tt+u?u:Gt-tt,!(yt<Nt);Gt+=l)ft=yt-Nt,Q=l-Nt,Rt.push(T(E(Nt+ft%Q,0))),yt=S(ft/Q);Rt.push(T(E(yt,0))),tt=I(rt,Ct,ot==st),rt=0,++ot}++rt,++$}return Rt.join("")}function Y(z){return L(z,function($){return g.test($)?U($.slice(4).toLowerCase()):$})}function D(z){return L(z,function($){return v.test($)?"xn--"+N($):$})}if(s={version:"1.3.2",ucs2:{decode:G,encode:j},decode:U,encode:N,toASCII:D,toUnicode:Y},r&&i)if(n.exports==r)i.exports=s;else for(A in s)s.hasOwnProperty(A)&&(r[A]=s[A]);else t.punycode=s})(commonjsGlobal)})(punycode$1,punycodeExports);var util$1={isString:function(n){return typeof n=="string"},isObject:function(n){return typeof n=="object"&&n!==null},isNull:function(n){return n===null},isNullOrUndefined:function(n){return n==null}},querystring$1={};function hasOwnProperty(n,e){return Object.prototype.hasOwnProperty.call(n,e)}var decode=function(n,e,t,r){e=e||"&",t=t||"=";var i={};if(typeof n!="string"||n.length===0)return i;var o=/\+/g;n=n.split(e);var s=1e3;r&&typeof r.maxKeys=="number"&&(s=r.maxKeys);var a=n.length;s>0&&a>s&&(a=s);for(var l=0;l<a;++l){var c=n[l].replace(o,"%20"),u=c.indexOf(t),h,d,p,f;u>=0?(h=c.substr(0,u),d=c.substr(u+1)):(h=c,d=""),p=decodeURIComponent(h),f=decodeURIComponent(d),hasOwnProperty(i,p)?Array.isArray(i[p])?i[p].push(f):i[p]=[i[p],f]:i[p]=f}return i},stringifyPrimitive=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}},encode=function(n,e,t,r){return e=e||"&",t=t||"=",n===null&&(n=void 0),typeof n=="object"?Object.keys(n).map(function(i){var o=encodeURIComponent(stringifyPrimitive(i))+t;return Array.isArray(n[i])?n[i].map(function(s){return o+encodeURIComponent(stringifyPrimitive(s))}).join(e):o+encodeURIComponent(stringifyPrimitive(n[i]))}).join(e):r?encodeURIComponent(stringifyPrimitive(r))+t+encodeURIComponent(stringifyPrimitive(n)):""};querystring$1.decode=querystring$1.parse=decode;querystring$1.encode=querystring$1.stringify=encode;var punycode=punycodeExports,util=util$1,parse=urlParse,resolve=urlResolve,format=urlFormat;function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=querystring$1;function urlParse(n,e,t){if(n&&util.isObject(n)&&n instanceof Url)return n;var r=new Url;return r.parse(n,e,t),r}Url.prototype.parse=function(n,e,t){if(!util.isString(n))throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var r=n.indexOf("?"),i=r!==-1&&r<n.indexOf("#")?"?":"#",o=n.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),n=o.join(i);var a=n;if(a=a.trim(),!t&&n.split("#").length===1){var l=simplePathPattern.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=querystring.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=protocolPattern.exec(a);if(c){c=c[0];var u=c.toLowerCase();this.protocol=u,a=a.substr(c.length)}if(t||c||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var h=a.substr(0,2)==="//";h&&!(c&&hostlessProtocol[c])&&(a=a.substr(2),this.slashes=!0)}if(!hostlessProtocol[c]&&(h||c&&!slashedProtocol[c])){for(var d=-1,p=0;p<hostEndingChars.length;p++){var f=a.indexOf(hostEndingChars[p]);f!==-1&&(d===-1||f<d)&&(d=f)}var m,g;d===-1?g=a.lastIndexOf("@"):g=a.lastIndexOf("@",d),g!==-1&&(m=a.slice(0,g),a=a.slice(g+1),this.auth=decodeURIComponent(m)),d=-1;for(var p=0;p<nonHostChars.length;p++){var f=a.indexOf(nonHostChars[p]);f!==-1&&(d===-1||f<d)&&(d=f)}d===-1&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var _=this.hostname.split(/\./),p=0,y=_.length;p<y;p++){var b=_[p];if(b&&!b.match(hostnamePartPattern)){for(var S="",T=0,A=b.length;T<A;T++)b.charCodeAt(T)>127?S+="x":S+=b[T];if(!S.match(hostnamePartPattern)){var R=_.slice(0,p),Z=_.slice(p+1),L=b.match(hostnamePartStart);L&&(R.push(L[1]),Z.unshift(L[2])),Z.length&&(a="/"+Z.join(".")+a),this.hostname=R.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=punycode.toASCII(this.hostname));var G=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+G,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!unsafeProtocol[u])for(var p=0,y=autoEscape.length;p<y;p++){var M=autoEscape[p];if(a.indexOf(M)!==-1){var E=encodeURIComponent(M);E===M&&(E=escape(M)),a=a.split(M).join(E)}}var I=a.indexOf("#");I!==-1&&(this.hash=a.substr(I),a=a.slice(0,I));var U=a.indexOf("?");if(U!==-1?(this.search=a.substr(U),this.query=a.substr(U+1),e&&(this.query=querystring.parse(this.query)),a=a.slice(0,U)):e&&(this.search="",this.query={}),a&&(this.pathname=a),slashedProtocol[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var G=this.pathname||"",N=this.search||"";this.path=G+N}return this.href=this.format(),this};function urlFormat(n){return util.isString(n)&&(n=urlParse(n)),n instanceof Url?n.format():Url.prototype.format.call(n)}Url.prototype.format=function(){var n=this.auth||"";n&&(n=encodeURIComponent(n),n=n.replace(/%3A/i,":"),n+="@");var e=this.protocol||"",t=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=n+this.host:this.hostname&&(i=n+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(o=querystring.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||slashedProtocol[e])&&i!==!1?(i="//"+(i||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),s&&s.charAt(0)!=="?"&&(s="?"+s),t=t.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),s=s.replace("#","%23"),e+i+t+s+r};function urlResolve(n,e){return urlParse(n,!1,!0).resolve(e)}Url.prototype.resolve=function(n){return this.resolveObject(urlParse(n,!1,!0)).format()};Url.prototype.resolveObject=function(n){if(util.isString(n)){var e=new Url;e.parse(n,!1,!0),n=e}for(var t=new Url,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];t[o]=this[o]}if(t.hash=n.hash,n.href==="")return t.href=t.format(),t;if(n.slashes&&!n.protocol){for(var s=Object.keys(n),a=0;a<s.length;a++){var l=s[a];l!=="protocol"&&(t[l]=n[l])}return slashedProtocol[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(n.protocol&&n.protocol!==t.protocol){if(!slashedProtocol[n.protocol]){for(var c=Object.keys(n),u=0;u<c.length;u++){var h=c[u];t[h]=n[h]}return t.href=t.format(),t}if(t.protocol=n.protocol,!n.host&&!hostlessProtocol[n.protocol]){for(var y=(n.pathname||"").split("/");y.length&&!(n.host=y.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),y[0]!==""&&y.unshift(""),y.length<2&&y.unshift(""),t.pathname=y.join("/")}else t.pathname=n.pathname;if(t.search=n.search,t.query=n.query,t.host=n.host||"",t.auth=n.auth,t.hostname=n.hostname||n.host,t.port=n.port,t.pathname||t.search){var d=t.pathname||"",p=t.search||"";t.path=d+p}return t.slashes=t.slashes||n.slashes,t.href=t.format(),t}var f=t.pathname&&t.pathname.charAt(0)==="/",m=n.host||n.pathname&&n.pathname.charAt(0)==="/",g=m||f||t.host&&n.pathname,v=g,_=t.pathname&&t.pathname.split("/")||[],y=n.pathname&&n.pathname.split("/")||[],b=t.protocol&&!slashedProtocol[t.protocol];if(b&&(t.hostname="",t.port=null,t.host&&(_[0]===""?_[0]=t.host:_.unshift(t.host)),t.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(y[0]===""?y[0]=n.host:y.unshift(n.host)),n.host=null),g=g&&(y[0]===""||_[0]==="")),m)t.host=n.host||n.host===""?n.host:t.host,t.hostname=n.hostname||n.hostname===""?n.hostname:t.hostname,t.search=n.search,t.query=n.query,_=y;else if(y.length)_||(_=[]),_.pop(),_=_.concat(y),t.search=n.search,t.query=n.query;else if(!util.isNullOrUndefined(n.search)){if(b){t.hostname=t.host=_.shift();var S=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;S&&(t.auth=S.shift(),t.host=t.hostname=S.shift())}return t.search=n.search,t.query=n.query,(!util.isNull(t.pathname)||!util.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!_.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var T=_.slice(-1)[0],A=(t.host||n.host||_.length>1)&&(T==="."||T==="..")||T==="",R=0,Z=_.length;Z>=0;Z--)T=_[Z],T==="."?_.splice(Z,1):T===".."?(_.splice(Z,1),R++):R&&(_.splice(Z,1),R--);if(!g&&!v)for(;R--;R)_.unshift("..");g&&_[0]!==""&&(!_[0]||_[0].charAt(0)!=="/")&&_.unshift(""),A&&_.join("/").substr(-1)!=="/"&&_.push("");var L=_[0]===""||_[0]&&_[0].charAt(0)==="/";if(b){t.hostname=t.host=L?"":_.length?_.shift():"";var S=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;S&&(t.auth=S.shift(),t.host=t.hostname=S.shift())}return g=g||t.host&&_.length,g&&!L&&_.unshift(""),_.length?t.pathname=_.join("/"):(t.pathname=null,t.path=null),(!util.isNull(t.pathname)||!util.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=n.auth||t.auth,t.slashes=t.slashes||n.slashes,t.href=t.format(),t};Url.prototype.parseHost=function(){var n=this.host,e=portPattern.exec(n);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),n=n.substr(0,n.length-e.length)),n&&(this.hostname=n)};const url={parse,format,resolve};function assertPath(n){if(typeof n!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(n)}`)}function removeUrlParams(n){return n.split("?")[0].split("#")[0]}function escapeRegExp(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function replaceAll(n,e,t){return n.replace(new RegExp(escapeRegExp(e),"g"),t)}function normalizeStringPosix(n,e){let t="",r=0,i=-1,o=0,s=-1;for(let a=0;a<=n.length;++a){if(a<n.length)s=n.charCodeAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const l=t.lastIndexOf("/");if(l!==t.length-1){l===-1?(t="",r=0):(t=t.slice(0,l),r=t.length-1-t.lastIndexOf("/")),i=a,o=0;continue}}else if(t.length===2||t.length===1){t="",r=0,i=a,o=0;continue}}e&&(t.length>0?t+="/..":t="..",r=2)}else t.length>0?t+=`/${n.slice(i+1,a)}`:t=n.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o!==-1?++o:o=-1}return t}const path={toPosix(n){return replaceAll(n,"\\","/")},isUrl(n){return/^https?:/.test(this.toPosix(n))},isDataUrl(n){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(n)},hasProtocol(n){return/^[^/:]+:\//.test(this.toPosix(n))},getProtocol(n){assertPath(n),n=this.toPosix(n);let e="";const t=/^file:\/\/\//.exec(n),r=/^[^/:]+:\/\//.exec(n),i=/^[^/:]+:\//.exec(n);if(t||r||i){const o=(t==null?void 0:t[0])||(r==null?void 0:r[0])||(i==null?void 0:i[0]);e=o,n=n.slice(o.length)}return e},toAbsolute(n,e,t){if(this.isDataUrl(n))return n;const r=removeUrlParams(this.toPosix(e??settings.ADAPTER.getBaseUrl())),i=removeUrlParams(this.toPosix(t??this.rootname(r)));return assertPath(n),n=this.toPosix(n),n.startsWith("/")?path.join(i,n.slice(1)):this.isAbsolute(n)?n:this.join(r,n)},normalize(n){if(n=this.toPosix(n),assertPath(n),n.length===0)return".";let e="";const t=n.startsWith("/");this.hasProtocol(n)&&(e=this.rootname(n),n=n.slice(e.length));const r=n.endsWith("/");return n=normalizeStringPosix(n,!1),n.length>0&&r&&(n+="/"),t?`/${n}`:e+n},isAbsolute(n){return assertPath(n),n=this.toPosix(n),this.hasProtocol(n)?!0:n.startsWith("/")},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){const r=n[t];if(assertPath(r),r.length>0)if(e===void 0)e=r;else{const i=n[t-1]??"";this.extname(i)?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(n){if(assertPath(n),n.length===0)return".";n=this.toPosix(n);let e=n.charCodeAt(0);const t=e===47;let r=-1,i=!0;const o=this.getProtocol(n),s=n;n=n.slice(o.length);for(let a=n.length-1;a>=1;--a)if(e=n.charCodeAt(a),e===47){if(!i){r=a;break}}else i=!1;return r===-1?t?"/":this.isUrl(s)?o+n:o:t&&r===1?"//":o+n.slice(0,r)},rootname(n){assertPath(n),n=this.toPosix(n);let e="";if(n.startsWith("/")?e="/":e=this.getProtocol(n),this.isUrl(n)){const t=n.indexOf("/",e.length);t!==-1?e=n.slice(0,t):e=n,e.endsWith("/")||(e+="/")}return e},basename(n,e){assertPath(n),e&&assertPath(e),n=removeUrlParams(this.toPosix(n));let t=0,r=-1,i=!0,o;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e.length===n.length&&e===n)return"";let s=e.length-1,a=-1;for(o=n.length-1;o>=0;--o){const l=n.charCodeAt(o);if(l===47){if(!i){t=o+1;break}}else a===-1&&(i=!1,a=o+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(r=o):(s=-1,r=a))}return t===r?r=a:r===-1&&(r=n.length),n.slice(t,r)}for(o=n.length-1;o>=0;--o)if(n.charCodeAt(o)===47){if(!i){t=o+1;break}}else r===-1&&(i=!1,r=o+1);return r===-1?"":n.slice(t,r)},extname(n){assertPath(n),n=removeUrlParams(this.toPosix(n));let e=-1,t=0,r=-1,i=!0,o=0;for(let s=n.length-1;s>=0;--s){const a=n.charCodeAt(s);if(a===47){if(!i){t=s+1;break}continue}r===-1&&(i=!1,r=s+1),a===46?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||r===-1||o===0||o===1&&e===r-1&&e===t+1?"":n.slice(e,r)},parse(n){assertPath(n);const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;n=removeUrlParams(this.toPosix(n));let t=n.charCodeAt(0);const r=this.isAbsolute(n);let i;e.root=this.rootname(n),r||this.hasProtocol(n)?i=1:i=0;let o=-1,s=0,a=-1,l=!0,c=n.length-1,u=0;for(;c>=i;--c){if(t=n.charCodeAt(c),t===47){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),t===46?o===-1?o=c:u!==1&&(u=1):o!==-1&&(u=-1)}return o===-1||a===-1||u===0||u===1&&o===a-1&&o===s+1?a!==-1&&(s===0&&r?e.base=e.name=n.slice(1,a):e.base=e.name=n.slice(s,a)):(s===0&&r?(e.name=n.slice(1,o),e.base=n.slice(1,a)):(e.name=n.slice(s,o),e.base=n.slice(s,a)),e.ext=n.slice(o,a)),e.dir=this.dirname(n),e},sep:"/",delimiter:":"},warnings={};function deprecation(n,e,t=3){if(warnings[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${n}`):(r=r.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${n}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${n}`),console.warn(r))),warnings[e]=!0}let supported;function isWebGLSupported(){return typeof supported>"u"&&(supported=function(){var t;const e={stencil:!0,failIfMajorPerformanceCaveat:settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!settings.ADAPTER.getWebGLRenderingContext())return!1;const r=settings.ADAPTER.createCanvas();let i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const o=!!((t=i==null?void 0:i.getContextAttributes())!=null&&t.stencil);if(i){const s=i.getExtension("WEBGL_lose_context");s&&s.loseContext()}return i=null,o}catch{return!1}}()),supported}var aliceblue="#f0f8ff",antiquewhite="#faebd7",aqua="#00ffff",aquamarine="#7fffd4",azure="#f0ffff",beige="#f5f5dc",bisque="#ffe4c4",black="#000000",blanchedalmond="#ffebcd",blue="#0000ff",blueviolet="#8a2be2",brown="#a52a2a",burlywood="#deb887",cadetblue="#5f9ea0",chartreuse="#7fff00",chocolate="#d2691e",coral="#ff7f50",cornflowerblue="#6495ed",cornsilk="#fff8dc",crimson="#dc143c",cyan="#00ffff",darkblue="#00008b",darkcyan="#008b8b",darkgoldenrod="#b8860b",darkgray="#a9a9a9",darkgreen="#006400",darkgrey="#a9a9a9",darkkhaki="#bdb76b",darkmagenta="#8b008b",darkolivegreen="#556b2f",darkorange="#ff8c00",darkorchid="#9932cc",darkred="#8b0000",darksalmon="#e9967a",darkseagreen="#8fbc8f",darkslateblue="#483d8b",darkslategray="#2f4f4f",darkslategrey="#2f4f4f",darkturquoise="#00ced1",darkviolet="#9400d3",deeppink="#ff1493",deepskyblue="#00bfff",dimgray="#696969",dimgrey="#696969",dodgerblue="#1e90ff",firebrick="#b22222",floralwhite="#fffaf0",forestgreen="#228b22",fuchsia="#ff00ff",gainsboro="#dcdcdc",ghostwhite="#f8f8ff",goldenrod="#daa520",gold="#ffd700",gray="#808080",green="#008000",greenyellow="#adff2f",grey="#808080",honeydew="#f0fff0",hotpink="#ff69b4",indianred="#cd5c5c",indigo="#4b0082",ivory="#fffff0",khaki="#f0e68c",lavenderblush="#fff0f5",lavender="#e6e6fa",lawngreen="#7cfc00",lemonchiffon="#fffacd",lightblue="#add8e6",lightcoral="#f08080",lightcyan="#e0ffff",lightgoldenrodyellow="#fafad2",lightgray="#d3d3d3",lightgreen="#90ee90",lightgrey="#d3d3d3",lightpink="#ffb6c1",lightsalmon="#ffa07a",lightseagreen="#20b2aa",lightskyblue="#87cefa",lightslategray="#778899",lightslategrey="#778899",lightsteelblue="#b0c4de",lightyellow="#ffffe0",lime="#00ff00",limegreen="#32cd32",linen="#faf0e6",magenta="#ff00ff",maroon="#800000",mediumaquamarine="#66cdaa",mediumblue="#0000cd",mediumorchid="#ba55d3",mediumpurple="#9370db",mediumseagreen="#3cb371",mediumslateblue="#7b68ee",mediumspringgreen="#00fa9a",mediumturquoise="#48d1cc",mediumvioletred="#c71585",midnightblue="#191970",mintcream="#f5fffa",mistyrose="#ffe4e1",moccasin="#ffe4b5",navajowhite="#ffdead",navy="#000080",oldlace="#fdf5e6",olive="#808000",olivedrab="#6b8e23",orange="#ffa500",orangered="#ff4500",orchid="#da70d6",palegoldenrod="#eee8aa",palegreen="#98fb98",paleturquoise="#afeeee",palevioletred="#db7093",papayawhip="#ffefd5",peachpuff="#ffdab9",peru="#cd853f",pink="#ffc0cb",plum="#dda0dd",powderblue="#b0e0e6",purple="#800080",rebeccapurple="#663399",red="#ff0000",rosybrown="#bc8f8f",royalblue="#4169e1",saddlebrown="#8b4513",salmon="#fa8072",sandybrown="#f4a460",seagreen="#2e8b57",seashell="#fff5ee",sienna="#a0522d",silver="#c0c0c0",skyblue="#87ceeb",slateblue="#6a5acd",slategray="#708090",slategrey="#708090",snow="#fffafa",springgreen="#00ff7f",steelblue="#4682b4",tan="#d2b48c",teal="#008080",thistle="#d8bfd8",tomato="#ff6347",turquoise="#40e0d0",violet="#ee82ee",wheat="#f5deb3",white="#ffffff",whitesmoke="#f5f5f5",yellow="#ffff00",yellowgreen="#9acd32",cssColorNames={aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,goldenrod,gold,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavenderblush,lavender,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow,yellowgreen};function hex2rgb(n,e=[]){return e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255,e}function hex2string(n){let e=n.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function string2hex(n){if(typeof n=="string"&&(n=cssColorNames[n.toLowerCase()]||n,n[0]==="#"&&(n=n.slice(1)),n.length===3)){const[e,t,r]=n;n=e+e+t+t+r+r}return parseInt(n,16)}function mapPremultipliedBlendModes(){const n=[],e=[];for(let r=0;r<32;r++)n[r]=r,e[r]=r;n[BLEND_MODES.NORMAL_NPM]=BLEND_MODES.NORMAL,n[BLEND_MODES.ADD_NPM]=BLEND_MODES.ADD,n[BLEND_MODES.SCREEN_NPM]=BLEND_MODES.SCREEN,e[BLEND_MODES.NORMAL]=BLEND_MODES.NORMAL_NPM,e[BLEND_MODES.ADD]=BLEND_MODES.ADD_NPM,e[BLEND_MODES.SCREEN]=BLEND_MODES.SCREEN_NPM;const t=[];return t.push(e),t.push(n),t}const premultiplyBlendMode=mapPremultipliedBlendModes();function correctBlendMode(n,e){return premultiplyBlendMode[e?1:0][n]}function premultiplyRgba(n,e,t,r){return t=t||new Float32Array(4),r||r===void 0?(t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e):(t[0]=n[0],t[1]=n[1],t[2]=n[2]),t[3]=e,t}function premultiplyTint(n,e){if(e===1)return(e*255<<24)+n;if(e===0)return 0;let t=n>>16&255,r=n>>8&255,i=n&255;return t=t*e+.5|0,r=r*e+.5|0,i=i*e+.5|0,(e*255<<24)+(t<<16)+(r<<8)+i}function premultiplyTintToRgba(n,e,t,r){return t=t||new Float32Array(4),t[0]=(n>>16&255)/255,t[1]=(n>>8&255)/255,t[2]=(n&255)/255,(r||r===void 0)&&(t[0]*=e,t[1]*=e,t[2]*=e),t[3]=e,t}function createIndicesForQuads(n,e=null){const t=n*6;if(e=e||new Uint16Array(t),e.length!==t)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);for(let r=0,i=0;r<t;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function getBufferType(n){if(n.BYTES_PER_ELEMENT===4)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(n.BYTES_PER_ELEMENT===2){if(n instanceof Uint16Array)return"Uint16Array"}else if(n.BYTES_PER_ELEMENT===1&&n instanceof Uint8Array)return"Uint8Array";return null}function nextPow2(n){return n+=n===0?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1}function isPow2(n){return!(n&n-1)&&!!n}function log2(n){let e=(n>65535?1:0)<<4;n>>>=e;let t=(n>255?1:0)<<3;return n>>>=t,e|=t,t=(n>15?1:0)<<2,n>>>=t,e|=t,t=(n>3?1:0)<<1,n>>>=t,e|=t,e|n>>1}function removeItems(n,e,t){const r=n.length;let i;if(e>=r||t===0)return;t=e+t>r?r-e:t;const o=r-t;for(i=e;i<o;++i)n[i]=n[i+t];n.length=o}function sign(n){return n===0?0:n<0?-1:1}let nextUid=0;function uid(){return++nextUid}const _BoundingBox=class{constructor(n,e,t,r){this.left=n,this.top=e,this.right=t,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let BoundingBox=_BoundingBox;BoundingBox.EMPTY=new _BoundingBox(0,0,0,0);const ProgramCache={},TextureCache=Object.create(null),BaseTextureCache=Object.create(null);class CanvasRenderTarget{constructor(e,t,r){this._canvas=settings.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||settings.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function checkRow(n,e,t){for(let r=0,i=4*t*e;r<e;++r,i+=4)if(n[i+3]!==0)return!1;return!0}function checkColumn(n,e,t,r,i){const o=4*e;for(let s=r,a=r*o+4*t;s<=i;++s,a+=o)if(n[a+3]!==0)return!1;return!0}function getCanvasBoundingBox(n){const{width:e,height:t}=n,r=n.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const o=r.getImageData(0,0,e,t).data;let s=0,a=0,l=e-1,c=t-1;for(;a<t&&checkRow(o,e,a);)++a;if(a===t)return BoundingBox.EMPTY;for(;checkRow(o,e,c);)--c;for(;checkColumn(o,e,s,a,c);)++s;for(;checkColumn(o,e,l,a,c);)--l;return++l,++c,new BoundingBox(s,a,l,c)}function trimCanvas(n){const e=getCanvasBoundingBox(n),{width:t,height:r}=e;let i=null;if(!e.isEmpty()){const o=n.getContext("2d");if(o===null)throw new TypeError("Failed to get canvas 2D context");i=o.getImageData(e.left,e.top,t,r)}return{width:t,height:r,data:i}}let tempAnchor;function determineCrossOrigin(n,e=globalThis.location){if(n.startsWith("data:"))return"";e=e||globalThis.location,tempAnchor||(tempAnchor=document.createElement("a")),tempAnchor.href=n;const t=url.parse(tempAnchor.href),r=!t.port&&e.port===""||t.port===e.port;return t.hostname!==e.hostname||!r||t.protocol!==e.protocol?"anonymous":""}function getResolutionOfUrl(n,e=1){var r;const t=(r=settings.RETINA_PREFIX)==null?void 0:r.exec(n);return t?parseFloat(t[1]):e}var ExtensionType=(n=>(n.Renderer="renderer",n.Application="application",n.RendererSystem="renderer-webgl-system",n.RendererPlugin="renderer-webgl-plugin",n.CanvasRendererSystem="renderer-canvas-system",n.CanvasRendererPlugin="renderer-canvas-plugin",n.Asset="asset",n.LoadParser="load-parser",n.ResolveParser="resolve-parser",n.CacheParser="cache-parser",n.DetectionParser="detection-parser",n))(ExtensionType||{});const normalizeExtension=n=>{if(typeof n=="function"||typeof n=="object"&&n.extension){if(!n.extension)throw new Error("Extension class must have an extension object");n={...typeof n.extension!="object"?{type:n.extension}:n.extension,ref:n}}if(typeof n=="object")n={...n};else throw new Error("Invalid extension type");return typeof n.type=="string"&&(n.type=[n.type]),n},normalizePriority=(n,e)=>normalizeExtension(n).priority??e,extensions$1={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...n){return n.map(normalizeExtension).forEach(e=>{e.type.forEach(t=>{var r,i;return(i=(r=this._removeHandlers)[t])==null?void 0:i.call(r,e)})}),this},add(...n){return n.map(normalizeExtension).forEach(e=>{e.type.forEach(t=>{const r=this._addHandlers,i=this._queue;r[t]?r[t](e):(i[t]=i[t]||[],i[t].push(e))})}),this},handle(n,e,t){const r=this._addHandlers,i=this._removeHandlers;if(r[n]||i[n])throw new Error(`Extension type ${n} already has a handler`);r[n]=e,i[n]=t;const o=this._queue;return o[n]&&(o[n].forEach(s=>e(s)),delete o[n]),this},handleByMap(n,e){return this.handle(n,t=>{e[t.name]=t.ref},t=>{delete e[t.name]})},handleByList(n,e,t=-1){return this.handle(n,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,o)=>normalizePriority(o,t)-normalizePriority(i,t)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})}};class ViewableBuffer{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const fragTemplate$1=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function generateIfTestSrc(n){let e="";for(let t=0;t<n;++t)t>0&&(e+=`
else `),t<n-1&&(e+=`if(test == ${t}.0){}`);return e}function checkMaxIfStatementsInShader(n,e){if(n===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=fragTemplate$1.replace(/%forloop%/gi,generateIfTestSrc(n));if(e.shaderSource(t,r),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))n=n/2|0;else break}return n}const BLEND$1=0,OFFSET$1=1,CULLING$1=2,DEPTH_TEST$1=3,WINDING$1=4,DEPTH_MASK$1=5;class State{constructor(){this.data=0,this.blendMode=BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<BLEND$1)}set blend(e){!!(this.data&1<<BLEND$1)!==e&&(this.data^=1<<BLEND$1)}get offsets(){return!!(this.data&1<<OFFSET$1)}set offsets(e){!!(this.data&1<<OFFSET$1)!==e&&(this.data^=1<<OFFSET$1)}get culling(){return!!(this.data&1<<CULLING$1)}set culling(e){!!(this.data&1<<CULLING$1)!==e&&(this.data^=1<<CULLING$1)}get depthTest(){return!!(this.data&1<<DEPTH_TEST$1)}set depthTest(e){!!(this.data&1<<DEPTH_TEST$1)!==e&&(this.data^=1<<DEPTH_TEST$1)}get depthMask(){return!!(this.data&1<<DEPTH_MASK$1)}set depthMask(e){!!(this.data&1<<DEPTH_MASK$1)!==e&&(this.data^=1<<DEPTH_MASK$1)}get clockwiseFrontFace(){return!!(this.data&1<<WINDING$1)}set clockwiseFrontFace(e){!!(this.data&1<<WINDING$1)!==e&&(this.data^=1<<WINDING$1)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==BLEND_MODES.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new State;return e.depthTest=!1,e.blend=!0,e}}const INSTALLED=[];function autoDetectResource(n,e){if(!n)return null;let t="";if(typeof n=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);r&&(t=r[1].toLowerCase())}for(let r=INSTALLED.length-1;r>=0;--r){const i=INSTALLED[r];if(i.test&&i.test(n,t))return new i(n,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Runner{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,r,i,o,s,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:u}=this;this._aliasCount++;for(let h=0,d=u.length;h<d;h++)u[h][c](e,t,r,i,o,s,a,l);return u===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Runner.prototype,{dispatch:{value:Runner.prototype.emit},run:{value:Runner.prototype.emit}});class Resource{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Runner("setRealSize"),this.onUpdate=new Runner("update"),this.onError=new Runner("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class BufferResource extends Resource{constructor(e,t){const{width:r,height:i}=t||{};if(!r||!i)throw new Error("BufferResource width or height invalid");super(r,i),this.data=e}upload(e,t,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ALPHA_MODES.UNPACK);const o=t.realWidth,s=t.realHeight;return r.width===o&&r.height===s?i.texSubImage2D(t.target,0,0,0,o,s,t.format,r.type,this.data):(r.width=o,r.height=s,i.texImage2D(t.target,0,r.internalFormat,o,s,0,t.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const defaultBufferOptions={scaleMode:SCALE_MODES.NEAREST,format:FORMATS.RGBA,alphaMode:ALPHA_MODES.NPM},_BaseTexture=class extends eventemitter3Exports{constructor(n=null,e=null){super(),e=Object.assign({},_BaseTexture.defaultOptions,e);const{alphaMode:t,mipmap:r,anisotropicLevel:i,scaleMode:o,width:s,height:a,wrapMode:l,format:c,type:u,target:h,resolution:d,resourceOptions:p}=e;n&&!(n instanceof Resource)&&(n=autoDetectResource(n,p),n.internal=!0),this.resolution=d||settings.RESOLUTION,this.width=Math.round((s||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=i,this._wrapMode=l,this._scaleMode=o,this.format=c,this.type=u,this.target=h,this.alphaMode=t,this.uid=uid(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=s>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(n)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(n){this._mipmap!==n&&(this._mipmap=n,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(n){this._scaleMode!==n&&(this._scaleMode=n,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(n){this._wrapMode!==n&&(this._wrapMode=n,this.dirtyStyleId++)}setStyle(n,e){let t;return n!==void 0&&n!==this.scaleMode&&(this.scaleMode=n,t=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,t=!0),t&&this.dirtyStyleId++,this}setSize(n,e,t){return t=t||this.resolution,this.setRealSize(n*t,e*t,t)}setRealSize(n,e,t){return this.resolution=t||this.resolution,this.width=Math.round(n)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=isPow2(this.realWidth)&&isPow2(this.realHeight)}setResolution(n){const e=this.resolution;return e===n?this:(this.resolution=n,this.valid&&(this.width=Math.round(this.width*e)/n,this.height=Math.round(this.height*e)/n,this.emit("update",this)),this._refreshPOT(),this)}setResource(n){if(this.resource===n)return this;if(this.resource)throw new Error("Resource can be set only once");return n.bind(this),this.resource=n,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(n){this.emit("error",this,n)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete BaseTextureCache[this.cacheId],delete TextureCache[this.cacheId],this.cacheId=null),this.dispose(),_BaseTexture.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(n,e,t=settings.STRICT_TEXTURE_CACHE){const r=typeof n=="string";let i=null;if(r)i=n;else{if(!n._pixiId){const s=(e==null?void 0:e.pixiIdPrefix)||"pixiid";n._pixiId=`${s}_${uid()}`}i=n._pixiId}let o=BaseTextureCache[i];if(r&&t&&!o)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return o||(o=new _BaseTexture(n,e),o.cacheId=i,_BaseTexture.addToCache(o,i)),o}static fromBuffer(n,e,t,r){n=n||new Float32Array(e*t*4);const i=new BufferResource(n,{width:e,height:t}),o=n instanceof Float32Array?TYPES.FLOAT:TYPES.UNSIGNED_BYTE;return new _BaseTexture(i,Object.assign({},defaultBufferOptions,r||{width:e,height:t,type:o}))}static addToCache(n,e){e&&(n.textureCacheIds.includes(e)||n.textureCacheIds.push(e),BaseTextureCache[e]&&BaseTextureCache[e]!==n&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),BaseTextureCache[e]=n)}static removeFromCache(n){if(typeof n=="string"){const e=BaseTextureCache[n];if(e){const t=e.textureCacheIds.indexOf(n);return t>-1&&e.textureCacheIds.splice(t,1),delete BaseTextureCache[n],e}}else if(n!=null&&n.textureCacheIds){for(let e=0;e<n.textureCacheIds.length;++e)delete BaseTextureCache[n.textureCacheIds[e]];return n.textureCacheIds.length=0,n}return null}};let BaseTexture=_BaseTexture;BaseTexture.defaultOptions={mipmap:MIPMAP_MODES.POW2,anisotropicLevel:0,scaleMode:SCALE_MODES.LINEAR,wrapMode:WRAP_MODES.CLAMP,alphaMode:ALPHA_MODES.UNPACK,target:TARGETS.TEXTURE_2D,format:FORMATS.RGBA,type:TYPES.UNSIGNED_BYTE};BaseTexture._globalBatch=0;class BatchDrawCall{constructor(){this.texArray=null,this.blend=0,this.type=DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null}}let UID$4=0,Buffer$1=class Li{constructor(e,t=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=UID$4++,this.disposeRunner=new Runner("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?BUFFER_TYPE.ELEMENT_ARRAY_BUFFER:BUFFER_TYPE.ARRAY_BUFFER}get index(){return this.type===BUFFER_TYPE.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Li(e)}};class Attribute{constructor(e,t=0,r=!1,i=TYPES.FLOAT,o,s,a,l=1){this.buffer=e,this.size=t,this.normalized=r,this.type=i,this.stride=o,this.start=s,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,t,r,i,o){return new Attribute(e,t,r,i,o)}}const map$1={Float32Array,Uint32Array,Int32Array,Uint8Array};function interleaveTypedArrays(n,e){let t=0,r=0;const i={};for(let l=0;l<n.length;l++)r+=e[l],t+=n[l].length;const o=new ArrayBuffer(t*4);let s=null,a=0;for(let l=0;l<n.length;l++){const c=e[l],u=n[l],h=getBufferType(u);i[h]||(i[h]=new map$1[h](o)),s=i[h];for(let d=0;d<u.length;d++){const p=(d/c|0)*r+a,f=d%c;s[p+f]=u[d]}a+=c}return new Float32Array(o)}const byteSizeMap$1={5126:4,5123:2,5121:1};let UID$3=0;const map={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Geometry{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=UID$3++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Runner("disposeGeometry"),this.refCount=0}addAttribute(e,t,r=0,i=!1,o,s,a,l=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof Buffer$1||(t instanceof Array&&(t=new Float32Array(t)),t=new Buffer$1(t));const c=e.split("|");if(c.length>1){for(let h=0;h<c.length;h++)this.addAttribute(c[h],t,r,i,o);return this}let u=this.buffers.indexOf(t);return u===-1&&(this.buffers.push(t),u=this.buffers.length-1),this.attributes[e]=new Attribute(u,r,i,o,s,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Buffer$1||(e instanceof Array&&(e=new Uint16Array(e)),e=new Buffer$1(e)),e.type=BUFFER_TYPE.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],t=[],r=new Buffer$1;let i;for(i in this.attributes){const o=this.attributes[i],s=this.buffers[o.buffer];e.push(s.data),t.push(o.size*byteSizeMap$1[o.type]/4),o.buffer=0}for(r.data=interleaveTypedArrays(e,t),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Geometry;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new Buffer$1(this.buffers[t].data.slice(0));for(const t in this.attributes){const r=this.attributes[t];e.attributes[t]=new Attribute(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=BUFFER_TYPE.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new Geometry,r=[],i=[],o=[];let s;for(let a=0;a<e.length;a++){s=e[a];for(let l=0;l<s.buffers.length;l++)i[l]=i[l]||0,i[l]+=s.buffers[l].data.length,o[l]=0}for(let a=0;a<s.buffers.length;a++)r[a]=new map[getBufferType(s.buffers[a].data)](i[a]),t.buffers[a]=new Buffer$1(r[a]);for(let a=0;a<e.length;a++){s=e[a];for(let l=0;l<s.buffers.length;l++)r[l].set(s.buffers[l].data,o[l]),o[l]+=s.buffers[l].data.length}if(t.attributes=s.attributes,s.indexBuffer){t.indexBuffer=t.buffers[s.buffers.indexOf(s.indexBuffer)],t.indexBuffer.type=BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;let a=0,l=0,c=0,u=0;for(let h=0;h<s.buffers.length;h++)if(s.buffers[h]!==s.indexBuffer){u=h;break}for(const h in s.attributes){const d=s.attributes[h];(d.buffer|0)===u&&(l+=d.size*byteSizeMap$1[d.type]/4)}for(let h=0;h<e.length;h++){const d=e[h].indexBuffer.data;for(let p=0;p<d.length;p++)t.indexBuffer.data[p+c]+=a;a+=e[h].buffers[u].data.length/l,c+=d.length}}return t}}class BatchGeometry extends Geometry{constructor(e=!1){super(),this._buffer=new Buffer$1(null,e,!1),this._indexBuffer=new Buffer$1(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,TYPES.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,TYPES.FLOAT).addAttribute("aColor",this._buffer,4,!0,TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,TYPES.FLOAT).addIndex(this._indexBuffer)}}const PI_2=Math.PI*2,RAD_TO_DEG=180/Math.PI,DEG_TO_RAD=Math.PI/180;var SHAPES=(n=>(n[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC",n))(SHAPES||{});class Point{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new Point(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const tempPoints$1=[new Point,new Point,new Point,new Point];class Rectangle{constructor(e=0,t=0,r=0,i=0){this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(i),this.type=SHAPES.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Rectangle(0,0,0,0)}clone(){return new Rectangle(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){const R=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=R)return!1;const L=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>L}const r=this.left,i=this.right,o=this.top,s=this.bottom;if(i<=r||s<=o)return!1;const a=tempPoints$1[0].set(e.left,e.top),l=tempPoints$1[1].set(e.left,e.bottom),c=tempPoints$1[2].set(e.right,e.top),u=tempPoints$1[3].set(e.right,e.bottom);if(c.x<=a.x||l.y<=a.y)return!1;const h=Math.sign(t.a*t.d-t.b*t.c);if(h===0||(t.apply(a,a),t.apply(l,l),t.apply(c,c),t.apply(u,u),Math.max(a.x,l.x,c.x,u.x)<=r||Math.min(a.x,l.x,c.x,u.x)>=i||Math.max(a.y,l.y,c.y,u.y)<=o||Math.min(a.y,l.y,c.y,u.y)>=s))return!1;const d=h*(l.y-a.y),p=h*(a.x-l.x),f=d*r+p*o,m=d*i+p*o,g=d*r+p*s,v=d*i+p*s;if(Math.max(f,m,g,v)<=d*a.x+p*a.y||Math.min(f,m,g,v)>=d*u.x+p*u.y)return!1;const _=h*(a.y-c.y),y=h*(c.x-a.x),b=_*r+y*o,S=_*i+y*o,T=_*r+y*s,A=_*i+y*s;return!(Math.max(b,S,T,A)<=_*a.x+y*a.y||Math.min(b,S,T,A)>=_*u.x+y*u.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=i,this.height=Math.max(o-i,0),this}ceil(e=1,t=.001){const r=Math.ceil((this.x+this.width-t)*e)/e,i=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=i,this.height=o-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Circle{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.radius=r,this.type=SHAPES.CIRC}clone(){return new Circle(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,o=this.y-t;return i*=i,o*=o,i+o<=r}getBounds(){return new Rectangle(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Ellipse{constructor(e=0,t=0,r=0,i=0){this.x=e,this.y=t,this.width=r,this.height=i,this.type=SHAPES.ELIP}clone(){return new Ellipse(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,i=(t-this.y)/this.height;return r*=r,i*=i,r+i<=1}getBounds(){return new Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Polygon{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const r=[];for(let i=0,o=t.length;i<o;i++)r.push(t[i].x,t[i].y);t=r}this.points=t,this.type=SHAPES.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new Polygon(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let r=!1;const i=this.points.length/2;for(let o=0,s=i-1;o<i;s=o++){const a=this.points[o*2],l=this.points[o*2+1],c=this.points[s*2],u=this.points[s*2+1];l>t!=u>t&&e<(c-a)*((t-l)/(u-l))+a&&(r=!r)}return r}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,t)=>`${e}, ${t}`,"")}]`}}class RoundedRectangle{constructor(e=0,t=0,r=0,i=0,o=20){this.x=e,this.y=t,this.width=r,this.height=i,this.radius=o,this.type=SHAPES.RREC}clone(){return new RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+r&&t<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),o=t-(this.y+r);const s=r*r;if(i*i+o*o<=s||(i=e-(this.x+this.width-r),i*i+o*o<=s)||(o=t-(this.y+this.height-r),i*i+o*o<=s)||(i=e-(this.x+r),i*i+o*o<=s))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class Matrix{constructor(e=1,t=0,r=0,i=1,o=0,s=0){this.array=null,this.a=e,this.b=t,this.c=r,this.d=i,this.tx=o,this.ty=s}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,r,i,o,s){return this.a=e,this.b=t,this.c=r,this.d=i,this.tx=o,this.ty=s,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,t){t=t||new Point;const r=e.x,i=e.y;return t.x=this.a*r+this.c*i+this.tx,t.y=this.b*r+this.d*i+this.ty,t}applyInverse(e,t){t=t||new Point;const r=1/(this.a*this.d+this.c*-this.b),i=e.x,o=e.y;return t.x=this.d*r*i+-this.c*r*o+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*o+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.a,o=this.c,s=this.tx;return this.a=i*t-this.b*r,this.b=i*r+this.b*t,this.c=o*t-this.d*r,this.d=o*r+this.d*t,this.tx=s*t-this.ty*r,this.ty=s*r+this.ty*t,this}append(e){const t=this.a,r=this.b,i=this.c,o=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*r+e.b*o,this.c=e.c*t+e.d*i,this.d=e.c*r+e.d*o,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*o+this.ty,this}setTransform(e,t,r,i,o,s,a,l,c){return this.a=Math.cos(a+c)*o,this.b=Math.sin(a+c)*o,this.c=-Math.sin(a-l)*s,this.d=Math.cos(a-l)*s,this.tx=e-(r*this.a+i*this.c),this.ty=t-(r*this.b+i*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,r=this.b,i=this.c,o=this.d,s=e.pivot,a=-Math.atan2(-i,o),l=Math.atan2(r,t),c=Math.abs(a+l);return c<1e-5||Math.abs(PI_2-c)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(i*i+o*o),e.position.x=this.tx+(s.x*t+s.y*i),e.position.y=this.ty+(s.x*r+s.y*o),e}invert(){const e=this.a,t=this.b,r=this.c,i=this.d,o=this.tx,s=e*i-t*r;return this.a=i/s,this.b=-t/s,this.c=-r/s,this.d=e/s,this.tx=(r*this.ty-i*o)/s,this.ty=-(e*this.ty-t*o)/s,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Matrix;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new Matrix}static get TEMP_MATRIX(){return new Matrix}}const ux=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uy=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vx=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vy=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rotationCayley=[],rotationMatrices=[],signum=Math.sign;function init(){for(let n=0;n<16;n++){const e=[];rotationCayley.push(e);for(let t=0;t<16;t++){const r=signum(ux[n]*ux[t]+vx[n]*uy[t]),i=signum(uy[n]*ux[t]+vy[n]*uy[t]),o=signum(ux[n]*vx[t]+vx[n]*vy[t]),s=signum(uy[n]*vx[t]+vy[n]*vy[t]);for(let a=0;a<16;a++)if(ux[a]===r&&uy[a]===i&&vx[a]===o&&vy[a]===s){e.push(a);break}}}for(let n=0;n<16;n++){const e=new Matrix;e.set(ux[n],uy[n],vx[n],vy[n],0,0),rotationMatrices.push(e)}}init();const groupD8={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:n=>ux[n],uY:n=>uy[n],vX:n=>vx[n],vY:n=>vy[n],inv:n=>n&8?n&15:-n&7,add:(n,e)=>rotationCayley[n][e],sub:(n,e)=>rotationCayley[n][groupD8.inv(e)],rotate180:n=>n^4,isVertical:n=>(n&3)===2,byDirection:(n,e)=>Math.abs(n)*2<=Math.abs(e)?e>=0?groupD8.S:groupD8.N:Math.abs(e)*2<=Math.abs(n)?n>0?groupD8.E:groupD8.W:e>0?n>0?groupD8.SE:groupD8.SW:n>0?groupD8.NE:groupD8.NW,matrixAppendRotationInv:(n,e,t=0,r=0)=>{const i=rotationMatrices[groupD8.inv(e)];i.tx=t,i.ty=r,n.append(i)}};class ObservablePoint{constructor(e,t,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new ObservablePoint(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const _Transform=class{constructor(){this.worldTransform=new Matrix,this.localTransform=new Matrix,this.position=new ObservablePoint(this.onChange,this,0,0),this.scale=new ObservablePoint(this.onChange,this,1,1),this.pivot=new ObservablePoint(this.onChange,this,0,0),this.skew=new ObservablePoint(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const n=this.localTransform;this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale.x,n.b=this._sx*this.scale.x,n.c=this._cy*this.scale.y,n.d=this._sy*this.scale.y,n.tx=this.position.x-(this.pivot.x*n.a+this.pivot.y*n.c),n.ty=this.position.y-(this.pivot.x*n.b+this.pivot.y*n.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(n){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==n._worldID){const t=n.worldTransform,r=this.worldTransform;r.a=e.a*t.a+e.b*t.c,r.b=e.a*t.b+e.b*t.d,r.c=e.c*t.a+e.d*t.c,r.d=e.c*t.b+e.d*t.d,r.tx=e.tx*t.a+e.ty*t.c+t.tx,r.ty=e.tx*t.b+e.ty*t.d+t.ty,this._parentID=n._worldID,this._worldID++}}setFromMatrix(n){n.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(n){this._rotation!==n&&(this._rotation=n,this.updateSkew())}};let Transform=_Transform;Transform.IDENTITY=new _Transform;var defaultFragment$2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,defaultVertex$3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function compileShader(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}function booleanArray(n){const e=new Array(n);for(let t=0;t<e.length;t++)e[t]=!1;return e}function defaultValue(n,e){switch(n){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return booleanArray(2*e);case"bvec3":return booleanArray(3*e);case"bvec4":return booleanArray(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const uniformParsers=[{test:n=>n.type==="float"&&n.size===1&&!n.isArray,code:n=>`
            if(uv["${n}"] !== ud["${n}"].value)
            {
                ud["${n}"].value = uv["${n}"]
                gl.uniform1f(ud["${n}"].location, uv["${n}"])
            }
            `},{test:(n,e)=>(n.type==="sampler2D"||n.type==="samplerCube"||n.type==="sampler2DArray")&&n.size===1&&!n.isArray&&(e==null||e.castToBaseTexture!==void 0),code:n=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${n}"], t);

            if(ud["${n}"].value !== t)
            {
                ud["${n}"].value = t;
                gl.uniform1i(ud["${n}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(n,e)=>n.type==="mat3"&&n.size===1&&!n.isArray&&e.a!==void 0,code:n=>`
            gl.uniformMatrix3fv(ud["${n}"].location, false, uv["${n}"].toArray(true));
            `,codeUbo:n=>`
                var ${n}_matrix = uv.${n}.toArray(true);

                data[offset] = ${n}_matrix[0];
                data[offset+1] = ${n}_matrix[1];
                data[offset+2] = ${n}_matrix[2];
        
                data[offset + 4] = ${n}_matrix[3];
                data[offset + 5] = ${n}_matrix[4];
                data[offset + 6] = ${n}_matrix[5];
        
                data[offset + 8] = ${n}_matrix[6];
                data[offset + 9] = ${n}_matrix[7];
                data[offset + 10] = ${n}_matrix[8];
            `},{test:(n,e)=>n.type==="vec2"&&n.size===1&&!n.isArray&&e.x!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${n}"].location, v.x, v.y);
                }`,codeUbo:n=>`
                v = uv.${n};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:n=>n.type==="vec2"&&n.size===1&&!n.isArray,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${n}"].location, v[0], v[1]);
                }
            `},{test:(n,e)=>n.type==="vec4"&&n.size===1&&!n.isArray&&e.width!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${n}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:n=>`
                    v = uv.${n};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:n=>n.type==="vec4"&&n.size===1&&!n.isArray,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${n}"].location, v[0], v[1], v[2], v[3])
                }`}],GLSL_TO_SINGLE_SETTERS_CACHED={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},GLSL_TO_ARRAY_SETTERS={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function generateUniformsSync(n,e){var r;const t=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in n.uniforms){const o=e[i];if(!o){(r=n.uniforms[i])!=null&&r.group&&(n.uniforms[i].ubo?t.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):t.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const s=n.uniforms[i];let a=!1;for(let l=0;l<uniformParsers.length;l++)if(uniformParsers[l].test(o,s)){t.push(uniformParsers[l].code(i,s)),a=!0;break}if(!a){const c=(o.size===1&&!o.isArray?GLSL_TO_SINGLE_SETTERS_CACHED:GLSL_TO_ARRAY_SETTERS)[o.type].replace("location",`ud["${i}"].location`);t.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",t.join(`
`))}const unknownContext={};let context=unknownContext;function getTestContext(){if(context===unknownContext||context!=null&&context.isContextLost()){const n=settings.ADAPTER.createCanvas();let e;settings.PREFER_ENV>=ENV.WEBGL2&&(e=n.getContext("webgl2",{})),e||(e=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),context=e}return context}let maxFragmentPrecision;function getMaxFragmentPrecision(){if(!maxFragmentPrecision){maxFragmentPrecision=PRECISION.MEDIUM;const n=getTestContext();n&&n.getShaderPrecisionFormat&&(maxFragmentPrecision=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision?PRECISION.HIGH:PRECISION.MEDIUM)}return maxFragmentPrecision}function logPrettyShaderError(n,e){const t=n.getShaderSource(e).split(`
`).map((c,u)=>`${u}: ${c}`),r=n.getShaderInfoLog(e),i=r.split(`
`),o={},s=i.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!o[c]?(o[c]=!0,!0):!1),a=[""];s.forEach(c=>{t[c-1]=`%c${t[c-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=t.join(`
`);a[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function logProgramError(n,e,t,r){n.getProgramParameter(e,n.LINK_STATUS)||(n.getShaderParameter(t,n.COMPILE_STATUS)||logPrettyShaderError(n,t),n.getShaderParameter(r,n.COMPILE_STATUS)||logPrettyShaderError(n,r),console.error("PixiJS Error: Could not initialize shader."),n.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(e)))}const GLSL_TO_SIZE={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function mapSize(n){return GLSL_TO_SIZE[n]}let GL_TABLE=null;const GL_TO_GLSL_TYPES={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function mapType(n,e){if(!GL_TABLE){const t=Object.keys(GL_TO_GLSL_TYPES);GL_TABLE={};for(let r=0;r<t.length;++r){const i=t[r];GL_TABLE[n[i]]=GL_TO_GLSL_TYPES[i]}}return GL_TABLE[e]}function setPrecision(n,e,t){if(n.substring(0,9)!=="precision"){let r=e;return e===PRECISION.HIGH&&t!==PRECISION.HIGH&&(r=PRECISION.MEDIUM),`precision ${r} float;
${n}`}else if(t!==PRECISION.HIGH&&n.substring(0,15)==="precision highp")return n.replace("precision highp","precision mediump");return n}let unsafeEval;function unsafeEvalSupported(){if(typeof unsafeEval=="boolean")return unsafeEval;try{unsafeEval=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{unsafeEval=!1}return unsafeEval}let UID$2=0;const nameCache={},_Program=class{constructor(n,e,t="pixi-shader",r={}){this.extra={},this.id=UID$2++,this.vertexSrc=n||_Program.defaultVertexSrc,this.fragmentSrc=e||_Program.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=r,this.vertexSrc.substring(0,8)!=="#version"&&(t=t.replace(/\s+/g,"-"),nameCache[t]?(nameCache[t]++,t+=`-${nameCache[t]}`):nameCache[t]=1,this.vertexSrc=`#define SHADER_NAME ${t}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${t}
${this.fragmentSrc}`,this.vertexSrc=setPrecision(this.vertexSrc,_Program.defaultVertexPrecision,PRECISION.HIGH),this.fragmentSrc=setPrecision(this.fragmentSrc,_Program.defaultFragmentPrecision,getMaxFragmentPrecision())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return defaultVertex$3}static get defaultFragmentSrc(){return defaultFragment$2}static from(n,e,t){const r=n+e;let i=ProgramCache[r];return i||(ProgramCache[r]=i=new _Program(n,e,t)),i}};let Program=_Program;Program.defaultVertexPrecision=PRECISION.HIGH;Program.defaultFragmentPrecision=isMobile.apple.device?PRECISION.HIGH:PRECISION.MEDIUM;let UID$1=0;class UniformGroup{constructor(e,t,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=UID$1++,this.static=!!t,this.ubo=!!r,e instanceof Buffer$1?(this.buffer=e,this.buffer.type=BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Buffer$1(new Float32Array(1)),this.buffer.type=BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,r){if(!this.ubo)this.uniforms[e]=new UniformGroup(t,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,t,r){return new UniformGroup(e,t,r)}static uboFrom(e,t){return new UniformGroup(e,t??!0,!0)}}class Shader{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof UniformGroup?this.uniformGroup=t:this.uniformGroup=new UniformGroup(t):this.uniformGroup=new UniformGroup({}),this.disposeRunner=new Runner("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const r in t.uniforms){const i=t.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,r){const i=Program.from(e,t);return new Shader(i,r)}}class BatchShaderGenerator{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let o=0;o<e;o++)r[o]=o;this.defaultGroupCache[e]=UniformGroup.from({uSamplers:r},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Program(this.vertexSrc,i)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix,default:this.defaultGroupCache[e]};return new Shader(this.programCache[e],t)}generateSampleSrc(e){let t="";t+=`
`,t+=`
`;for(let r=0;r<e;r++)r>0&&(t+=`
else `),r<e-1&&(t+=`if(vTextureId < ${r}.5)`),t+=`
{`,t+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,t+=`
}`;return t+=`
`,t+=`
`,t}}class BatchTextureArray{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function canUploadSameBuffer(){return!isMobile.apple.device}function maxRecommendedTextures(n){let e=!0;const t=settings.ADAPTER.getNavigator();if(isMobile.tablet||isMobile.phone){if(isMobile.apple.device){const r=t.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(isMobile.android.device){const r=t.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?n:4}class ObjectRenderer{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var defaultFragment$1=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,defaultVertex$2=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const _BatchRenderer=class extends ObjectRenderer{constructor(n){super(n),this.setShaderGenerator(),this.geometryClass=BatchGeometry,this.vertexSize=6,this.state=State.for2d(),this.size=_BatchRenderer.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),n.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??maxRecommendedTextures(32),this._defaultMaxTextures}static set defaultMaxTextures(n){this._defaultMaxTextures=n}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??canUploadSameBuffer(),this._canUploadSameBuffer}static set canUploadSameBuffer(n){this._canUploadSameBuffer=n}get MAX_TEXTURES(){return deprecation("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return defaultVertex$2}static get defaultFragmentTemplate(){return defaultFragment$1}setShaderGenerator({vertex:n=_BatchRenderer.defaultVertexSrc,fragment:e=_BatchRenderer.defaultFragmentTemplate}={}){this.shaderGenerator=new BatchShaderGenerator(n,e)}contextChange(){const n=this.renderer.gl;settings.PREFER_ENV===ENV.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),_BatchRenderer.defaultMaxTextures),this.maxTextures=checkMaxIfStatementsInShader(this.maxTextures,n)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:n,_textureArrayPool:e}=_BatchRenderer,t=this.size/4,r=Math.floor(t/this.maxTextures)+1;for(;n.length<t;)n.push(new BatchDrawCall);for(;e.length<r;)e.push(new BatchTextureArray);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(n){n._texture.valid&&(this._vertexCount+n.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=n.vertexData.length/2,this._indexCount+=n.indices.length,this._bufferedTextures[this._bufferSize]=n._texture.baseTexture,this._bufferedElements[this._bufferSize++]=n)}buildTexturesAndDrawCalls(){const{_bufferedTextures:n,maxTextures:e}=this,t=_BatchRenderer._textureArrayPool,r=this.renderer.batch,i=this._tempBoundTextures,o=this.renderer.textureGC.count;let s=++BaseTexture._globalBatch,a=0,l=t[0],c=0;r.copyBoundTextures(i,e);for(let u=0;u<this._bufferSize;++u){const h=n[u];n[u]=null,h._batchEnabled!==s&&(l.count>=e&&(r.boundArray(l,i,s,e),this.buildDrawCalls(l,c,u),c=u,l=t[++a],++s),h._batchEnabled=s,h.touched=o,l.elements[l.count++]=h)}l.count>0&&(r.boundArray(l,i,s,e),this.buildDrawCalls(l,c,this._bufferSize),++a,++s);for(let u=0;u<i.length;u++)i[u]=null;BaseTexture._globalBatch=s}buildDrawCalls(n,e,t){const{_bufferedElements:r,_attributeBuffer:i,_indexBuffer:o,vertexSize:s}=this,a=_BatchRenderer._drawCallPool;let l=this._dcIndex,c=this._aIndex,u=this._iIndex,h=a[l];h.start=this._iIndex,h.texArray=n;for(let d=e;d<t;++d){const p=r[d],f=p._texture.baseTexture,m=premultiplyBlendMode[f.alphaMode?1:0][p.blendMode];r[d]=null,e<d&&h.blend!==m&&(h.size=u-h.start,e=d,h=a[++l],h.texArray=n,h.start=u),this.packInterleavedGeometry(p,i,o,c,u),c+=p.vertexData.length/2*s,u+=p.indices.length,h.blend=m}e<t&&(h.size=u-h.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=u}bindAndClearTexArray(n){const e=this.renderer.texture;for(let t=0;t<n.count;t++)e.bind(n.elements[t],n.ids[t]),n.elements[t]=null;n.count=0}updateGeometry(){const{_packedGeometries:n,_attributeBuffer:e,_indexBuffer:t}=this;_BatchRenderer.canUploadSameBuffer?(n[this._flushId]._buffer.update(e.rawBinaryData),n[this._flushId]._indexBuffer.update(t),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(e.rawBinaryData),n[this._flushId]._indexBuffer.update(t),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const n=this._dcIndex,{gl:e,state:t}=this.renderer,r=_BatchRenderer._drawCallPool;let i=null;for(let o=0;o<n;o++){const{texArray:s,type:a,size:l,start:c,blend:u}=r[o];i!==s&&(i=s,this.bindAndClearTexArray(s)),this.state.blendMode=u,t.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,c*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),_BatchRenderer.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]&&this._packedGeometries[n].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(n){const e=nextPow2(Math.ceil(n/8)),t=log2(e),r=e*8;this._aBuffers.length<=t&&(this._iBuffers.length=t+1);let i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new ViewableBuffer(r*this.vertexSize*4)),i}getIndexBuffer(n){const e=nextPow2(Math.ceil(n/12)),t=log2(e),r=e*12;this._iBuffers.length<=t&&(this._iBuffers.length=t+1);let i=this._iBuffers[t];return i||(this._iBuffers[t]=i=new Uint16Array(r)),i}packInterleavedGeometry(n,e,t,r,i){const{uint32View:o,float32View:s}=e,a=r/this.vertexSize,l=n.uvs,c=n.indices,u=n.vertexData,h=n._texture.baseTexture._batchLocation,d=Math.min(n.worldAlpha,1),p=d<1&&n._texture.baseTexture.alphaMode?premultiplyTint(n._tintRGB,d):n._tintRGB+(d*255<<24);for(let f=0;f<u.length;f+=2)s[r++]=u[f],s[r++]=u[f+1],s[r++]=l[f],s[r++]=l[f+1],o[r++]=p,s[r++]=h;for(let f=0;f<c.length;f++)t[i++]=a+c[f]}};let BatchRenderer=_BatchRenderer;BatchRenderer.defaultBatchSize=4096;BatchRenderer.extension={name:"batch",type:ExtensionType.RendererPlugin};BatchRenderer._drawCallPool=[];BatchRenderer._textureArrayPool=[];extensions$1.add(BatchRenderer);var defaultFragment=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,defaultVertex$1=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const _Filter=class extends Shader{constructor(n,e,t){const r=Program.from(n||_Filter.defaultVertexSrc,e||_Filter.defaultFragmentSrc);super(r,t),this.padding=0,this.resolution=_Filter.defaultResolution,this.multisample=_Filter.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new State}apply(n,e,t,r,i){n.applyFilter(this,e,t,r)}get blendMode(){return this.state.blendMode}set blendMode(n){this.state.blendMode=n}get resolution(){return this._resolution}set resolution(n){this._resolution=n}static get defaultVertexSrc(){return defaultVertex$1}static get defaultFragmentSrc(){return defaultFragment}};let Filter=_Filter;Filter.defaultResolution=1;Filter.defaultMultisample=MSAA_QUALITY.NONE;class BackgroundSystem{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?string2hex(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=hex2string(e),hex2rgb(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}BackgroundSystem.extension={type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem],name:"background"};extensions$1.add(BackgroundSystem);class BatchSystem{constructor(e){this.renderer=e,this.emptyRenderer=new ObjectRenderer(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:r}=this.renderer.texture;for(let i=t-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,t,r,i){const{elements:o,ids:s,count:a}=e;let l=0;for(let c=0;c<a;c++){const u=o[c],h=u._batchLocation;if(h>=0&&h<i&&t[h]===u){s[c]=h;continue}for(;l<i;){const d=t[l];if(d&&d._batchEnabled===r&&d._batchLocation===l){l++;continue}s[c]=l,u._batchLocation=l,t[l]=u;break}}}destroy(){this.renderer=null}}BatchSystem.extension={type:ExtensionType.RendererSystem,name:"batch"};extensions$1.add(BatchSystem);let CONTEXT_UID_COUNTER=0;class ContextSystem{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;t.addEventListener!==void 0&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let r;if(settings.PREFER_ENV>=ENV.WEBGL2&&(r=e.getContext("webgl2",t)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}ContextSystem.extension={type:ExtensionType.RendererSystem,name:"context"};extensions$1.add(ContextSystem);class DepthResource extends BufferResource{upload(e,t,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ALPHA_MODES.UNPACK);const o=t.realWidth,s=t.realHeight;return r.width===o&&r.height===s?i.texSubImage2D(t.target,0,0,0,o,s,t.format,r.type,this.data):(r.width=o,r.height=s,i.texImage2D(t.target,0,r.internalFormat,o,s,0,t.format,r.type,this.data)),!0}}class Framebuffer{constructor(e,t){this.width=Math.round(e||100),this.height=Math.round(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Runner("disposeFramebuffer"),this.multisample=MSAA_QUALITY.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new BaseTexture(null,{scaleMode:SCALE_MODES.NEAREST,resolution:1,mipmap:MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new BaseTexture(new DepthResource(null,{width:this.width,height:this.height}),{scaleMode:SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:MIPMAP_MODES.OFF,format:FORMATS.DEPTH_COMPONENT,type:TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const i=this.colorTextures[r],o=i.resolution;i.setSize(e/o,t/o)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,t/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class BaseRenderTexture extends BaseTexture{constructor(e={}){if(typeof e=="number"){const t=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];e={width:t,height:r,scaleMode:i,resolution:o}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=MSAA_QUALITY.NONE),super(null,e),this.mipmap=MIPMAP_MODES.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new Framebuffer(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class BaseImageResource extends Resource{constructor(e){const t=e,r=t.naturalWidth||t.videoWidth||t.width,i=t.naturalHeight||t.videoHeight||t.height;super(r,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,r){r===void 0&&!t.startsWith("data:")?e.crossOrigin=determineCrossOrigin(t):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,t,r,i){const o=e.gl,s=t.realWidth,a=t.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ALPHA_MODES.UNPACK),!this.noSubImage&&t.target===o.TEXTURE_2D&&r.width===s&&r.height===a?o.texSubImage2D(o.TEXTURE_2D,0,0,0,t.format,r.type,i):(r.width=s,r.height=a,o.texImage2D(t.target,0,r.internalFormat,t.format,r.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(t,r),super.update()}dispose(){this.source=null}}class ImageResource extends BaseImageResource{constructor(e,t){if(t=t||{},typeof e=="string"){const r=new Image;BaseImageResource.crossOrigin(r,e,t.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??settings.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.bitmap=null,this._load=null,t.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((t,r)=>{const i=this.source;this.url=i.src;const o=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?t(this.process()):t(this))};i.complete&&i.src?o():(i.onload=o,i.onerror=s=>{r(s),this.onError.emit(s)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(i=>i.blob()).then(i=>t(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ALPHA_MODES.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,r){if(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,r,this.bitmap),!this.preserveBitmap){let i=!0;const o=t._glTextures;for(const s in o){const a=o[s];if(a!==r&&a.dirtyId!==t.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class TextureUvs{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,r){const i=t.width,o=t.height;if(r){const s=e.width/2/i,a=e.height/2/o,l=e.x/i+s,c=e.y/o+a;r=groupD8.add(r,groupD8.NW),this.x0=l+s*groupD8.uX(r),this.y0=c+a*groupD8.uY(r),r=groupD8.add(r,2),this.x1=l+s*groupD8.uX(r),this.y1=c+a*groupD8.uY(r),r=groupD8.add(r,2),this.x2=l+s*groupD8.uX(r),this.y2=c+a*groupD8.uY(r),r=groupD8.add(r,2),this.x3=l+s*groupD8.uX(r),this.y3=c+a*groupD8.uY(r)}else this.x0=e.x/i,this.y0=e.y/o,this.x1=(e.x+e.width)/i,this.y1=e.y/o,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/o,this.x3=e.x/i,this.y3=(e.y+e.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const DEFAULT_UVS=new TextureUvs;function removeAllHandlers(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}class Texture extends eventemitter3Exports{constructor(e,t,r,i,o,s){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new Rectangle(0,0,1,1)),e instanceof Texture&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=i,this.valid=!1,this._uvs=DEFAULT_UVS,this.uvMatrix=null,this.orig=r||t,this._rotate=Number(o||0),o===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=s?new Point(s.x,s.y):new Point(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:t}=this.baseTexture;t!=null&&t.url&&TextureCache[t.url]&&Texture.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Texture.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),r=new Texture(this.baseTexture,!this.noFrame&&e,t,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===DEFAULT_UVS&&(this._uvs=new TextureUvs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},r=settings.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let o=null;if(i)o=e;else if(e instanceof BaseTexture){if(!e.cacheId){const a=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${uid()}`,BaseTexture.addToCache(e,e.cacheId)}o=e.cacheId}else{if(!e._pixiId){const a=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${uid()}`}o=e._pixiId}let s=TextureCache[o];if(i&&r&&!s)throw new Error(`The cacheId "${o}" does not exist in TextureCache.`);return!s&&!(e instanceof BaseTexture)?(t.resolution||(t.resolution=getResolutionOfUrl(e)),s=new Texture(new BaseTexture(e,t)),s.baseTexture.cacheId=o,BaseTexture.addToCache(s.baseTexture,o),Texture.addToCache(s,o)):!s&&e instanceof BaseTexture&&(s=new Texture(e),Texture.addToCache(s,o)),s}static fromURL(e,t){const r=Object.assign({autoLoad:!1},t==null?void 0:t.resourceOptions),i=Texture.from(e,Object.assign({resourceOptions:r},t),!1),o=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):o.load().then(()=>Promise.resolve(i))}static fromBuffer(e,t,r,i){return new Texture(BaseTexture.fromBuffer(e,t,r,i))}static fromLoader(e,t,r,i){const o=new BaseTexture(e,Object.assign({scaleMode:BaseTexture.defaultOptions.scaleMode,resolution:getResolutionOfUrl(t)},i)),{resource:s}=o;s instanceof ImageResource&&(s.url=t);const a=new Texture(o);return r||(r=t),BaseTexture.addToCache(a.baseTexture,r),Texture.addToCache(a,r),r!==t&&(BaseTexture.addToCache(a.baseTexture,t),Texture.addToCache(a,t)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),TextureCache[t]&&TextureCache[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),TextureCache[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=TextureCache[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete TextureCache[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)TextureCache[e.textureCacheIds[t]]===e&&delete TextureCache[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:r,width:i,height:o}=e,s=t+i>this.baseTexture.width,a=r+o>this.baseTexture.height;if(s||a){const l=s&&a?"and":"or",c=`X: ${t} + ${i} = ${t+i} > ${this.baseTexture.width}`,u=`Y: ${r} + ${o} = ${r+o} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${l} ${u}`)}this.valid=i&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Texture._EMPTY||(Texture._EMPTY=new Texture(new BaseTexture),removeAllHandlers(Texture._EMPTY),removeAllHandlers(Texture._EMPTY.baseTexture)),Texture._EMPTY}static get WHITE(){if(!Texture._WHITE){const e=settings.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),Texture._WHITE=new Texture(BaseTexture.from(e)),removeAllHandlers(Texture._WHITE),removeAllHandlers(Texture._WHITE.baseTexture)}return Texture._WHITE}}class RenderTexture extends Texture{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,r=!0){const i=this.baseTexture.resolution,o=Math.round(e*i)/i,s=Math.round(t*i)/i;this.valid=o>0&&s>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=s,r&&this.baseTexture.resize(o,s),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new RenderTexture(new BaseRenderTexture(e))}}class RenderTexturePool{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,r=MSAA_QUALITY.NONE){const i=new BaseRenderTexture(Object.assign({width:e,height:t,resolution:1,multisample:r},this.textureOptions));return new RenderTexture(i)}getOptimalTexture(e,t,r=1,i=MSAA_QUALITY.NONE){let o;e=Math.ceil(e*r-1e-6),t=Math.ceil(t*r-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||t!==this._pixelsHeight?(e=nextPow2(e),t=nextPow2(t),o=((e&65535)<<16|t&65535)>>>0,i>1&&(o+=i*4294967296)):o=i>1?-i:-1,this.texturePool[o]||(this.texturePool[o]=[]);let s=this.texturePool[o].pop();return s||(s=this.createTexture(e,t,i)),s.filterPoolKey=o,s.setResolution(r),s}getFilterTexture(e,t,r){const i=this.getOptimalTexture(e.width,e.height,t||e.resolution,r||MSAA_QUALITY.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const t in this.texturePool){const r=this.texturePool[t];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const t in this.texturePool){if(!(Number(t)<0))continue;const r=this.texturePool[t];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}RenderTexturePool.SCREEN_KEY=-1;class Quad extends Geometry{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class QuadUv extends Geometry{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Buffer$1(this.vertices),this.uvBuffer=new Buffer$1(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+t.width/e.width,this.uvs[3]=i,this.uvs[4]=r+t.width/e.width,this.uvs[5]=i+t.height/e.height,this.uvs[6]=r,this.uvs[7]=i+t.height/e.height,r=t.x,i=t.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+t.width,this.vertices[3]=i,this.vertices[4]=r+t.width,this.vertices[5]=i+t.height,this.vertices[6]=r,this.vertices[7]=i+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class FilterState{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=MSAA_QUALITY.NONE,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.bindingSourceFrame=new Rectangle,this.bindingDestinationFrame=new Rectangle,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const tempPoints=[new Point,new Point,new Point,new Point],tempMatrix$2=new Matrix;class FilterSystem{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new RenderTexturePool,this.statePool=[],this.quad=new Quad,this.quadUv=new QuadUv,this.tempRect=new Rectangle,this.activeState={},this.globalUniforms=new UniformGroup({outputFrame:new Rectangle,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){const r=this.renderer,i=this.defaultFilterStack,o=this.statePool.pop()||new FilterState,s=this.renderer.renderTexture;let a=t[0].resolution,l=t[0].multisample,c=t[0].padding,u=t[0].autoFit,h=t[0].legacy??!0;for(let f=1;f<t.length;f++){const m=t[f];a=Math.min(a,m.resolution),l=Math.min(l,m.multisample),c=this.useMaxPadding?Math.max(c,m.padding):c+m.padding,u=u&&m.autoFit,h=h||(m.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=s.current),i.push(o),o.resolution=a,o.multisample=l,o.legacy=h,o.target=e,o.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),o.sourceFrame.pad(c);const d=this.tempRect.copyFrom(s.sourceFrame);r.projection.transform&&this.transformAABB(tempMatrix$2.copyFrom(r.projection.transform).invert(),d),u?(o.sourceFrame.fit(d),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(d)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,s.current?s.current.resolution:r.resolution,s.sourceFrame,s.destinationFrame,r.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,a,l),o.filters=t,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;const p=this.tempRect;p.x=0,p.y=0,p.width=o.sourceFrame.width,p.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(s.sourceFrame),o.bindingDestinationFrame.copyFrom(s.destinationFrame),o.transform=r.projection.transform,r.projection.transform=null,s.bind(o.renderTexture,o.sourceFrame,p),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),r=t.filters;this.activeState=t;const i=this.globalUniforms.uniforms;i.outputFrame=t.sourceFrame,i.resolution=t.resolution;const o=i.inputSize,s=i.inputPixel,a=i.inputClamp;if(o[0]=t.destinationFrame.width,o[1]=t.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=Math.round(o[0]*t.resolution),s[1]=Math.round(o[1]*t.resolution),s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=t.sourceFrame.width*o[2]-.5*s[2],a[3]=t.sourceFrame.height*o[3]-.5*s[3],t.legacy){const c=i.filterArea;c[0]=t.destinationFrame.width,c[1]=t.destinationFrame.height,c[2]=t.sourceFrame.x,c[3]=t.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,t.renderTexture,l.renderTexture,CLEAR_MODES.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let c=t.renderTexture,u=this.getOptimalFilterTexture(c.width,c.height,t.resolution);u.filterFrame=c.filterFrame;let h=0;for(h=0;h<r.length-1;++h){h===1&&t.multisample>1&&(u=this.getOptimalFilterTexture(c.width,c.height,t.resolution),u.filterFrame=c.filterFrame),r[h].apply(this,c,u,CLEAR_MODES.CLEAR,t);const d=c;c=u,u=d}r[h].apply(this,c,l.renderTexture,CLEAR_MODES.BLEND,t),h>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(u)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=CLEAR_MODES.CLEAR){const{renderTexture:r,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const s=this.tempRect;s.x=0,s.y=0,s.width=e.filterFrame.width,s.height=e.filterFrame.height,r.bind(e,e.filterFrame,s)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const o=i.stateId&1||this.forceClear;(t===CLEAR_MODES.CLEAR||t===CLEAR_MODES.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,r,i){const o=this.renderer;o.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(DRAW_MODES.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(DRAW_MODES.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:o}=t._texture,s=e.set(i.width,0,0,i.height,r.x,r.y),a=t.worldTransform.copyTo(Matrix.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(t.anchor.x,t.anchor.y),s}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,r=1,i=MSAA_QUALITY.NONE){return this.texturePool.getOptimalTexture(e,t,r,i)}getFilterTexture(e,t,r){if(typeof e=="number"){const o=e;e=t,t=o}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,r||MSAA_QUALITY.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const r=tempPoints[0],i=tempPoints[1],o=tempPoints[2],s=tempPoints[3];r.set(t.left,t.top),i.set(t.left,t.bottom),o.set(t.right,t.top),s.set(t.right,t.bottom),e.apply(r,r),e.apply(i,i),e.apply(o,o),e.apply(s,s);const a=Math.min(r.x,i.x,o.x,s.x),l=Math.min(r.y,i.y,o.y,s.y),c=Math.max(r.x,i.x,o.x,s.x),u=Math.max(r.y,i.y,o.y,s.y);t.x=a,t.y=l,t.width=c-a,t.height=u-l}roundFrame(e,t,r,i,o){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(o){const{a:s,b:a,c:l,d:c}=o;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(c)>1e-4))return}o=o?tempMatrix$2.copyFrom(o):tempMatrix$2.identity(),o.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(o,e),e.ceil(t),this.transformAABB(o.invert(),e)}}}FilterSystem.extension={type:ExtensionType.RendererSystem,name:"filter"};extensions$1.add(FilterSystem);class GLFramebuffer{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const tempRectangle=new Rectangle;class FramebufferSystem{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Framebuffer(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let t=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;settings.PREFER_ENV===ENV.WEBGL_LEGACY&&(t=null,r=null),t?e.drawBuffers=i=>t.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,r=0){const{gl:i}=this;if(e){const o=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,o.mipLevel=r),o.dirtyId!==e.dirtyId&&(o.dirtyId=e.dirtyId,o.dirtyFormat!==e.dirtyFormat?(o.dirtyFormat=e.dirtyFormat,o.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):o.dirtySize!==e.dirtySize&&(o.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let s=0;s<e.colorTextures.length;s++){const a=e.colorTextures[s];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const s=t.width>>r,a=t.height>>r,l=s/t.width;this.setViewport(t.x*l,t.y*l,s,a)}else{const s=e.width>>r,a=e.height>>r;this.setViewport(0,0,s,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,r,i){const o=this.viewport;e=Math.round(e),t=Math.round(t),r=Math.round(r),i=Math.round(i),(o.width!==r||o.height!==i||o.x!==e||o.y!==t)&&(o.x=e,o.y=t,o.width=r,o.height=i,this.gl.viewport(e,t,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,r,i,o=BUFFER_BITS.COLOR|BUFFER_BITS.DEPTH){const{gl:s}=this;s.clearColor(e,t,r,i),s.clear(o)}initFramebuffer(e){const{gl:t}=this,r=new GLFramebuffer(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:t}=this,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,r.stencil),r.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,t.DEPTH24_STENCIL8,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let o=i.length;t.drawBuffers||(o=Math.min(o,1));for(let s=0;s<o;s++){const a=i[s],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),s===0&&r.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID],o=e.colorTextures;let s=o.length;r.drawBuffers||(s=Math.min(s,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<s;l++){const c=o[l],u=c.parentTextureArray||c;this.renderer.texture.bind(u,0),l===0&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+l,c.target,u._glTextures[this.CONTEXT_UID].texture,t),a.push(r.COLOR_ATTACHMENT0+l))}if(a.length>1&&r.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,t)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil)):i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let r=MSAA_QUALITY.NONE;if(e<=1||t===null)return r;for(let i=0;i<t.length;i++)if(t[i]<=e){r=t[i];break}return r===1&&(r=MSAA_QUALITY.NONE),r}blit(e,t,r){const{current:i,renderer:o,gl:s,CONTEXT_UID:a}=this;if(o.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const u=i.colorTextures[0];if(!u)return;l.blitFramebuffer||(l.blitFramebuffer=new Framebuffer(i.width,i.height),l.blitFramebuffer.addColorTexture(0,u)),e=l.blitFramebuffer,e.colorTextures[0]!==u&&(e.colorTextures[0]=u,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}t||(t=tempRectangle,t.width=i.width,t.height=i.height),r||(r=t);const c=t.width===r.width&&t.height===r.height;this.bind(e),s.bindFramebuffer(s.READ_FRAMEBUFFER,l.framebuffer),s.blitFramebuffer(t.left,t.top,t.right,t.bottom,r.left,r.top,r.right,r.bottom,s.COLOR_BUFFER_BIT,c?s.NEAREST:s.LINEAR)}disposeFramebuffer(e,t){const r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const o=this.managedFramebuffers.indexOf(e);o>=0&&this.managedFramebuffers.splice(o,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil)return;e.stencil=!0;const r=e.width,i=e.height,o=this.gl,s=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,s),t.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,t.multisample,o.DEPTH24_STENCIL8,r,i):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,r,i),t.stencil=s,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,s)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Rectangle}destroy(){this.renderer=null}}FramebufferSystem.extension={type:ExtensionType.RendererSystem,name:"framebuffer"};extensions$1.add(FramebufferSystem);const byteSizeMap={5126:4,5123:2,5121:1};class GeometrySystem{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;settings.PREFER_ENV===ENV.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(t.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(i,o)=>r.vertexAttribDivisorANGLE(i,o),e.drawElementsInstanced=(i,o,s,a,l)=>r.drawElementsInstancedANGLE(i,o,s,a,l),e.drawArraysInstanced=(i,o,s,a)=>r.drawArraysInstancedANGLE(i,o,s,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=t.webGLVersion===2||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:r}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],o=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},o=!0);const s=i[t.program.id]||this.initGeometryVao(e,t,o);this._activeGeometry=e,this._activeVao!==s&&(this._activeVao=s,this.hasVao?r.bindVertexArray(s):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];t.update(i)}}checkCompatibility(e,t){const r=e.attributes,i=t.attributeData;for(const o in i)if(!r[o])throw new Error(`shader and geometry incompatible, geometry missing the "${o}" attribute`)}getSignature(e,t){const r=e.attributes,i=t.attributeData,o=["g",e.id];for(const s in r)i[s]&&o.push(s,i[s].location);return o.join("-")}initGeometryVao(e,t,r=!0){const i=this.gl,o=this.CONTEXT_UID,s=this.renderer.buffer,a=t.program;a.glPrograms[o]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,a);const l=this.getSignature(e,a),c=e.glVertexArrayObjects[this.CONTEXT_UID];let u=c[l];if(u)return c[a.id]=u,u;const h=e.buffers,d=e.attributes,p={},f={};for(const m in h)p[m]=0,f[m]=0;for(const m in d)!d[m].size&&a.attributeData[m]?d[m].size=a.attributeData[m].size:d[m].size||console.warn(`PIXI Geometry attribute '${m}' size cannot be determined (likely the bound shader does not have the attribute)`),p[d[m].buffer]+=d[m].size*byteSizeMap[d[m].type];for(const m in d){const g=d[m],v=g.size;g.stride===void 0&&(p[g.buffer]===v*byteSizeMap[g.type]?g.stride=0:g.stride=p[g.buffer]),g.start===void 0&&(g.start=f[g.buffer],f[g.buffer]+=v*byteSizeMap[g.type])}u=i.createVertexArray(),i.bindVertexArray(u);for(let m=0;m<h.length;m++){const g=h[m];s.bind(g),r&&g._glBuffers[o].refCount++}return this.activateVao(e,a),c[a.id]=u,c[l]=u,i.bindVertexArray(null),s.unbind(BUFFER_TYPE.ARRAY_BUFFER),u}disposeGeometry(e,t){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,o=e.buffers,s=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!r){if(s)for(let l=0;l<o.length;l++){const c=o[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!t&&s.dispose(o[l],t))}if(!t){for(const l in r)if(l[0]==="g"){const c=r[l];this._activeVao===c&&this.unbind(),i.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e)}activateVao(e,t){const r=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,s=e.buffers,a=e.attributes;e.indexBuffer&&o.bind(e.indexBuffer);let l=null;for(const c in a){const u=a[c],h=s[u.buffer],d=h._glBuffers[i];if(t.attributeData[c]){l!==d&&(o.bind(h),l=d);const p=t.attributeData[c].location;if(r.enableVertexAttribArray(p),r.vertexAttribPointer(p,u.size,u.type||r.FLOAT,u.normalized,u.stride,u.start),u.instance)if(this.hasInstance)r.vertexAttribDivisor(p,u.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,t,r,i){const{gl:o}=this,s=this._activeGeometry;if(s.indexBuffer){const a=s.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?s.instanced?o.drawElementsInstanced(e,t||s.indexBuffer.data.length,l,(r||0)*a,i||1):o.drawElements(e,t||s.indexBuffer.data.length,l,(r||0)*a):console.warn("unsupported index buffer type: uint32")}else s.instanced?o.drawArraysInstanced(e,r,t||s.getSize(),i||1):o.drawArrays(e,r,t||s.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}GeometrySystem.extension={type:ExtensionType.RendererSystem,name:"geometry"};extensions$1.add(GeometrySystem);const tempMat$1=new Matrix;class TextureMatrix{constructor(e,t){this._texture=e,this.mapCoord=new Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){t===void 0&&(t=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const o=e[i],s=e[i+1];t[i]=o*r.a+s*r.c+r.tx,t[i+1]=o*r.b+s*r.d+r.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const i=t.orig,o=t.trim;o&&(tempMat$1.set(i.width/o.width,0,0,i.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(tempMat$1));const s=t.baseTexture,a=this.uClampFrame,l=this.clampMargin/s.resolution,c=this.clampOffset;return a[0]=(t._frame.x+l+c)/s.width,a[1]=(t._frame.y+l+c)/s.height,a[2]=(t._frame.x+t._frame.width-l+c)/s.width,a[3]=(t._frame.y+t._frame.height-l+c)/s.height,this.uClampOffset[0]=c/s.realWidth,this.uClampOffset[1]=c/s.realHeight,this.isSimple=t._frame.width===s.width&&t._frame.height===s.height&&t.rotate===0,!0}}var fragment$7=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,vertex$4=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class SpriteMaskFilter extends Filter{constructor(e,t,r){let i=null;typeof e!="string"&&t===void 0&&r===void 0&&(i=e,e=void 0,t=void 0,r=void 0),super(e||vertex$4,t||fragment$7,r),this.maskSprite=i,this.maskMatrix=new Matrix}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,r,i){const o=this._maskSprite,s=o._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new TextureMatrix(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,o).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,e.applyFilter(this,t,r,i))}}class MaskData{constructor(e=null){this.type=MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Filter.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=MASK_TYPES.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class MaskSystem{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let r=t;if(!r.isMaskData){const o=this.maskDataPool.pop()||new MaskData;o.pooled=!0,o.maskObject=t,r=o}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==MASK_TYPES.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case MASK_TYPES.SCISSOR:this.renderer.scissor.push(r);break;case MASK_TYPES.STENCIL:this.renderer.stencil.push(r);break;case MASK_TYPES.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case MASK_TYPES.COLOR:this.pushColorMask(r);break}r.type===MASK_TYPES.SPRITE&&this.maskStack.push(r)}pop(e){const t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case MASK_TYPES.SCISSOR:this.renderer.scissor.pop(t);break;case MASK_TYPES.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case MASK_TYPES.SPRITE:this.popSpriteMask(t);break;case MASK_TYPES.COLOR:this.popColorMask(t);break}if(t.reset(),t.pooled&&this.maskDataPool.push(t),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===MASK_TYPES.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=MASK_TYPES.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=MASK_TYPES.SCISSOR:e.type=MASK_TYPES.STENCIL:e.type=MASK_TYPES.COLOR}pushSpriteMask(e){const{maskObject:t}=e,r=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new SpriteMaskFilter]));const o=this.renderer,s=o.renderTexture;let a,l;if(s.current){const u=s.current;a=e.resolution||u.resolution,l=e.multisample??u.multisample}else a=e.resolution||o.resolution,l=e.multisample??o.multisample;i[0].resolution=a,i[0].multisample=l,i[0].maskSprite=t;const c=r.filterArea;r.filterArea=t.getBounds(!0),o.filter.push(r,i),r.filterArea=c,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,r=e._colorMask=t&e.colorMask;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const t=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}MaskSystem.extension={type:ExtensionType.RendererSystem,name:"mask"};extensions$1.add(MaskSystem);class AbstractMaskSystem{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,r=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==r&&(i===0?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const tempMatrix$1=new Matrix,rectPool=[],_ScissorSystem=class extends AbstractMaskSystem{constructor(n){super(n),this.glConst=settings.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const n=this.maskStack[this.maskStack.length-1];return n?n._scissorCounter:0}calcScissorRect(n){if(n._scissorRectLocal)return;const e=n._scissorRect,{maskObject:t}=n,{renderer:r}=this,i=r.renderTexture,o=t.getBounds(!0,rectPool.pop()??new Rectangle);this.roundFrameToPixels(o,i.current?i.current.resolution:r.resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),e&&o.fit(e),n._scissorRectLocal=o}static isMatrixRotated(n){if(!n)return!1;const{a:e,b:t,c:r,d:i}=n;return(Math.abs(t)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(n){const{maskObject:e}=n;if(!e.isFastRect||!e.isFastRect()||_ScissorSystem.isMatrixRotated(e.worldTransform)||_ScissorSystem.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(n);const t=n._scissorRectLocal;return t.width>0&&t.height>0}roundFrameToPixels(n,e,t,r,i){_ScissorSystem.isMatrixRotated(i)||(i=i?tempMatrix$1.copyFrom(i):tempMatrix$1.identity(),i.translate(-t.x,-t.y).scale(r.width/t.width,r.height/t.height).translate(r.x,r.y),this.renderer.filter.transformAABB(i,n),n.fit(r),n.x=Math.round(n.x*e),n.y=Math.round(n.y*e),n.width=Math.round(n.width*e),n.height=Math.round(n.height*e))}push(n){n._scissorRectLocal||this.calcScissorRect(n);const{gl:e}=this.renderer;n._scissorRect||e.enable(e.SCISSOR_TEST),n._scissorCounter++,n._scissorRect=n._scissorRectLocal,this._useCurrent()}pop(n){const{gl:e}=this.renderer;n&&rectPool.push(n._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const n=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=n.y:e=this.renderer.height-n.height-n.y,this.renderer.gl.scissor(n.x,e,n.width,n.height)}};let ScissorSystem=_ScissorSystem;ScissorSystem.extension={type:ExtensionType.RendererSystem,name:"scissor"};extensions$1.add(ScissorSystem);class StencilSystem extends AbstractMaskSystem{constructor(e){super(e),this.glConst=settings.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:r}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const o=e._colorMask;o!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,o!==0&&(e._colorMask=o,r.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}pop(e){const t=this.renderer.gl;if(this.getStackLength()===0)t.disable(t.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;i!==0&&(r._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(r._colorMask=i,t.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}StencilSystem.extension={type:ExtensionType.RendererSystem,name:"stencil"};extensions$1.add(StencilSystem);class PluginSystem{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return deprecation("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return deprecation("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return deprecation("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}PluginSystem.extension={type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem],name:"_plugin"};extensions$1.add(PluginSystem);class ProjectionSystem{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Matrix,this.transform=null}update(e,t,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);const o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)}calculateProjection(e,t,r,i){const o=this.projectionMatrix,s=i?-1:1;o.identity(),o.a=1/t.width*2,o.d=s*(1/t.height*2),o.tx=-1-t.x*o.a,o.ty=-s-t.y*o.d}setTransform(e){}destroy(){this.renderer=null}}ProjectionSystem.extension={type:ExtensionType.RendererSystem,name:"projection"};extensions$1.add(ProjectionSystem);const tempTransform=new Transform;class GenerateTextureSystem{constructor(e){this.renderer=e,this._tempMatrix=new Matrix}generateTexture(e,t){const{region:r,...i}=t||{},o=r||e.getLocalBounds(null,!0);o.width===0&&(o.width=1),o.height===0&&(o.height=1);const s=RenderTexture.create({width:o.width,height:o.height,...i});this._tempMatrix.tx=-o.x,this._tempMatrix.ty=-o.y;const a=e.transform;return e.transform=tempTransform,this.renderer.render(e,{renderTexture:s,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,s}destroy(){}}GenerateTextureSystem.extension={type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem],name:"textureGenerator"};extensions$1.add(GenerateTextureSystem);const tempRect=new Rectangle,tempRect2=new Rectangle;class RenderTextureSystem{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.viewportFrame=new Rectangle}bind(e=null,t,r){const i=this.renderer;this.current=e;let o,s,a;e?(o=e.baseTexture,a=o.resolution,t||(tempRect.width=e.frame.width,tempRect.height=e.frame.height,t=tempRect),r||(tempRect2.x=e.frame.x,tempRect2.y=e.frame.y,tempRect2.width=t.width,tempRect2.height=t.height,r=tempRect2),s=o.framebuffer):(a=i.resolution,t||(tempRect.width=i._view.screen.width,tempRect.height=i._view.screen.height,t=tempRect),r||(r=tempRect,r.width=t.width,r.height=t.height));const l=this.viewportFrame;l.x=r.x*a,l.y=r.y*a,l.width=r.width*a,l.height=r.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(s,l),this.renderer.projection.update(r,t,a,!s),e?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)}clear(e,t){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer._view.screen,o=r.width!==i.width||r.height!==i.height;if(o){let{x:s,y:a,width:l,height:c}=this.viewportFrame;s=Math.round(s),a=Math.round(a),l=Math.round(l),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,a,l,c)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t),o&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}RenderTextureSystem.extension={type:ExtensionType.RendererSystem,name:"renderTexture"};extensions$1.add(RenderTextureSystem);class GLProgram{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function getAttributeData(n,e){const t={},r=e.getProgramParameter(n,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=e.getActiveAttrib(n,i);if(o.name.startsWith("gl_"))continue;const s=mapType(e,o.type),a={type:s,name:o.name,size:mapSize(s),location:e.getAttribLocation(n,o.name)};t[o.name]=a}return t}function getUniformData(n,e){const t={},r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){const o=e.getActiveUniform(n,i),s=o.name.replace(/\[.*?\]$/,""),a=!!o.name.match(/\[.*?\]$/),l=mapType(e,o.type);t[s]={name:s,index:i,type:l,size:o.size,isArray:a,value:defaultValue(l,o.size)}}return t}function generateProgram(n,e){var l;const t=compileShader(n,n.VERTEX_SHADER,e.vertexSrc),r=compileShader(n,n.FRAGMENT_SHADER,e.fragmentSrc),i=n.createProgram();n.attachShader(i,t),n.attachShader(i,r);const o=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(o&&(typeof n.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):n.transformFeedbackVaryings(i,o.names,o.bufferMode==="separate"?n.SEPARATE_ATTRIBS:n.INTERLEAVED_ATTRIBS)),n.linkProgram(i),n.getProgramParameter(i,n.LINK_STATUS)||logProgramError(n,i,t,r),e.attributeData=getAttributeData(i,n),e.uniformData=getUniformData(i,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((u,h)=>u>h?1:-1);for(let u=0;u<c.length;u++)e.attributeData[c[u]].location=u,n.bindAttribLocation(i,u,c[u]);n.linkProgram(i)}n.deleteShader(t),n.deleteShader(r);const s={};for(const c in e.uniformData){const u=e.uniformData[c];s[c]={location:n.getUniformLocation(i,c),value:defaultValue(u.type,u.size)}}return new GLProgram(i,s)}function uboUpdate(n,e,t,r,i){t.buffer.update(i)}const UBO_TO_SINGLE_SETTERS={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},GLSL_TO_STD40_SIZE={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function createUBOElements(n){const e=n.map(o=>({data:o,offset:0,dataLen:0,dirty:0}));let t=0,r=0,i=0;for(let o=0;o<e.length;o++){const s=e[o];if(t=GLSL_TO_STD40_SIZE[s.data.type],s.data.size>1&&(t=Math.max(t,16)*s.data.size),s.dataLen=t,r%t!==0&&r<16){const a=r%t%16;r+=a,i+=a}r+t>16?(i=Math.ceil(i/16)*16,s.offset=i,i+=t,r=t):(s.offset=i,r+=t,i+=t)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function getUBOData(n,e){const t=[];for(const r in n)e[r]&&t.push(e[r]);return t.sort((r,i)=>r.index-i.index),t}function generateUniformBufferSync(n,e){if(!n.autoManage)return{size:0,syncFunc:uboUpdate};const t=getUBOData(n.uniforms,e),{uboElements:r,size:i}=createUBOElements(t),o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let s=0;s<r.length;s++){const a=r[s],l=n.uniforms[a.data.name],c=a.data.name;let u=!1;for(let h=0;h<uniformParsers.length;h++){const d=uniformParsers[h];if(d.codeUbo&&d.test(a.data,l)){o.push(`offset = ${a.offset/4};`,uniformParsers[h].codeUbo(a.data.name,l)),u=!0;break}}if(!u)if(a.data.size>1){const h=mapSize(a.data.type),d=Math.max(GLSL_TO_STD40_SIZE[a.data.type]/16,1),p=h/d,f=(4-p%4)%4;o.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*d}; i++)
                {
                    for(var j = 0; j < ${p}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${f};
                }

                `)}else{const h=UBO_TO_SINGLE_SETTERS[a.data.type];o.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};
                ${h};
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}let UID=0;const defaultSyncData={textureCount:0,uboCount:0};class ShaderSystem{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=UID++}systemCheck(){if(!unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),t||(defaultSyncData.textureCount=0,defaultSyncData.uboCount=0,this.syncUniformGroup(e.uniformGroup,defaultSyncData)),i}setUniforms(e){const t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,t){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))}syncUniforms(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=generateUniformsSync(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,t);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,defaultSyncData,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[t])}createSyncBufferGroup(e,t,r){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const o=this.gl.getUniformBlockIndex(t.program,r);t.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(t.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;const s=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[s];if(a||(a=this._uboCache[s]=generateUniformBufferSync(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return t.uniformGroups[e.id]=a.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,r){const i=e.uniforms,o=[`${r}-`];for(const s in i)o.push(s),t[s]&&o.push(t[s].type);return o.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,r=e.program,i=generateProgram(t,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}ShaderSystem.extension={type:ExtensionType.RendererSystem,name:"shader"};extensions$1.add(ShaderSystem);class StartupSystem{constructor(e){this.renderer=e}run(e){const t=this.renderer;t.emitWithCustomOptions(t.runners.init,e),e.hello&&console.log(`PixiJS 7.1.2 - ${t.rendererLogId} - https://pixijs.com`),t.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}StartupSystem.extension={type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem],name:"startup"};extensions$1.add(StartupSystem);function mapWebGLBlendModesToPixi(n,e=[]){return e[BLEND_MODES.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.ADD]=[n.ONE,n.ONE],e[BLEND_MODES.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.NONE]=[0,0],e[BLEND_MODES.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],e[BLEND_MODES.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.SRC_IN]=[n.DST_ALPHA,n.ZERO],e[BLEND_MODES.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],e[BLEND_MODES.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],e[BLEND_MODES.DST_IN]=[n.ZERO,n.SRC_ALPHA],e[BLEND_MODES.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],e[BLEND_MODES.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],e}const BLEND=0,OFFSET=1,CULLING=2,DEPTH_TEST=3,WINDING=4,DEPTH_MASK=5,_StateSystem=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=BLEND_MODES.NONE,this._blendEq=!1,this.map=[],this.map[BLEND]=this.setBlend,this.map[OFFSET]=this.setOffset,this.map[CULLING]=this.setCullFace,this.map[DEPTH_TEST]=this.setDepthTest,this.map[WINDING]=this.setFrontFace,this.map[DEPTH_MASK]=this.setDepthMask,this.checks=[],this.defaultState=new State,this.defaultState.blend=!0}contextChange(n){this.gl=n,this.blendModes=mapWebGLBlendModesToPixi(n),this.set(this.defaultState),this.reset()}set(n){if(n=n||this.defaultState,this.stateId!==n.data){let e=this.stateId^n.data,t=0;for(;e;)e&1&&this.map[t].call(this,!!(n.data&1<<t)),e=e>>1,t++;this.stateId=n.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,n)}forceState(n){n=n||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(n.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,n);this.stateId=n.data}setBlend(n){this.updateCheck(_StateSystem.checkBlendMode,n),this.gl[n?"enable":"disable"](this.gl.BLEND)}setOffset(n){this.updateCheck(_StateSystem.checkPolygonOffset,n),this.gl[n?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(n){this.gl[n?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(n){this.gl.depthMask(n)}setCullFace(n){this.gl[n?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(n){this.gl.frontFace(this.gl[n?"CW":"CCW"])}setBlendMode(n){if(n===this.blendMode)return;this.blendMode=n;const e=this.blendModes[n],t=this.gl;e.length===2?t.blendFunc(e[0],e[1]):t.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,t.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD))}setPolygonOffset(n,e){this.gl.polygonOffset(n,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(n,e){const t=this.checks.indexOf(n);e&&t===-1?this.checks.push(n):!e&&t!==-1&&this.checks.splice(t,1)}static checkBlendMode(n,e){n.setBlendMode(e.blendMode)}static checkPolygonOffset(n,e){n.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let StateSystem=_StateSystem;StateSystem.extension={type:ExtensionType.RendererSystem,name:"state"};extensions$1.add(StateSystem);class SystemManager extends eventemitter3Exports{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const t=(e.priority??[]).filter(i=>e.systems[i]),r=[...t,...Object.keys(e.systems).filter(i=>!t.includes(i))];for(const i of r)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(t=>{this.runners[t]=new Runner(t)})}addSystem(e,t){const r=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=r,this._systemsHash[t]=r;for(const i in this.runners)this.runners[i].add(r);return this}emitWithCustomOptions(e,t){const r=Object.keys(this._systemsHash);e.items.forEach(i=>{const o=r.find(s=>this._systemsHash[s]===i);i[e.name](t[o])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const _TextureGCSystem=class{constructor(n){this.renderer=n,this.count=0,this.checkCount=0,this.maxIdle=_TextureGCSystem.defaultMaxIdle,this.checkCountMax=_TextureGCSystem.defaultCheckCountMax,this.mode=_TextureGCSystem.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const n=this.renderer.texture,e=n.managedTextures;let t=!1;for(let r=0;r<e.length;r++){const i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(n.destroyTexture(i,!0),e[r]=null,t=!0)}if(t){let r=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[r++]=e[i]);e.length=r}}unload(n){const e=this.renderer.texture,t=n._texture;t&&!t.framebuffer&&e.destroyTexture(t);for(let r=n.children.length-1;r>=0;r--)this.unload(n.children[r])}destroy(){this.renderer=null}};let TextureGCSystem=_TextureGCSystem;TextureGCSystem.defaultMode=GC_MODES.AUTO;TextureGCSystem.defaultMaxIdle=60*60;TextureGCSystem.defaultCheckCountMax=60*10;TextureGCSystem.extension={type:ExtensionType.RendererSystem,name:"textureGC"};extensions$1.add(TextureGCSystem);class GLTexture{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=TYPES.UNSIGNED_BYTE,this.internalFormat=FORMATS.RGBA,this.samplerType=0}}function mapTypeAndFormatToInternalFormat(n){let e;return"WebGL2RenderingContext"in globalThis&&n instanceof globalThis.WebGL2RenderingContext?e={[TYPES.UNSIGNED_BYTE]:{[FORMATS.RGBA]:n.RGBA8,[FORMATS.RGB]:n.RGB8,[FORMATS.RG]:n.RG8,[FORMATS.RED]:n.R8,[FORMATS.RGBA_INTEGER]:n.RGBA8UI,[FORMATS.RGB_INTEGER]:n.RGB8UI,[FORMATS.RG_INTEGER]:n.RG8UI,[FORMATS.RED_INTEGER]:n.R8UI,[FORMATS.ALPHA]:n.ALPHA,[FORMATS.LUMINANCE]:n.LUMINANCE,[FORMATS.LUMINANCE_ALPHA]:n.LUMINANCE_ALPHA},[TYPES.BYTE]:{[FORMATS.RGBA]:n.RGBA8_SNORM,[FORMATS.RGB]:n.RGB8_SNORM,[FORMATS.RG]:n.RG8_SNORM,[FORMATS.RED]:n.R8_SNORM,[FORMATS.RGBA_INTEGER]:n.RGBA8I,[FORMATS.RGB_INTEGER]:n.RGB8I,[FORMATS.RG_INTEGER]:n.RG8I,[FORMATS.RED_INTEGER]:n.R8I},[TYPES.UNSIGNED_SHORT]:{[FORMATS.RGBA_INTEGER]:n.RGBA16UI,[FORMATS.RGB_INTEGER]:n.RGB16UI,[FORMATS.RG_INTEGER]:n.RG16UI,[FORMATS.RED_INTEGER]:n.R16UI,[FORMATS.DEPTH_COMPONENT]:n.DEPTH_COMPONENT16},[TYPES.SHORT]:{[FORMATS.RGBA_INTEGER]:n.RGBA16I,[FORMATS.RGB_INTEGER]:n.RGB16I,[FORMATS.RG_INTEGER]:n.RG16I,[FORMATS.RED_INTEGER]:n.R16I},[TYPES.UNSIGNED_INT]:{[FORMATS.RGBA_INTEGER]:n.RGBA32UI,[FORMATS.RGB_INTEGER]:n.RGB32UI,[FORMATS.RG_INTEGER]:n.RG32UI,[FORMATS.RED_INTEGER]:n.R32UI,[FORMATS.DEPTH_COMPONENT]:n.DEPTH_COMPONENT24},[TYPES.INT]:{[FORMATS.RGBA_INTEGER]:n.RGBA32I,[FORMATS.RGB_INTEGER]:n.RGB32I,[FORMATS.RG_INTEGER]:n.RG32I,[FORMATS.RED_INTEGER]:n.R32I},[TYPES.FLOAT]:{[FORMATS.RGBA]:n.RGBA32F,[FORMATS.RGB]:n.RGB32F,[FORMATS.RG]:n.RG32F,[FORMATS.RED]:n.R32F,[FORMATS.DEPTH_COMPONENT]:n.DEPTH_COMPONENT32F},[TYPES.HALF_FLOAT]:{[FORMATS.RGBA]:n.RGBA16F,[FORMATS.RGB]:n.RGB16F,[FORMATS.RG]:n.RG16F,[FORMATS.RED]:n.R16F},[TYPES.UNSIGNED_SHORT_5_6_5]:{[FORMATS.RGB]:n.RGB565},[TYPES.UNSIGNED_SHORT_4_4_4_4]:{[FORMATS.RGBA]:n.RGBA4},[TYPES.UNSIGNED_SHORT_5_5_5_1]:{[FORMATS.RGBA]:n.RGB5_A1},[TYPES.UNSIGNED_INT_2_10_10_10_REV]:{[FORMATS.RGBA]:n.RGB10_A2,[FORMATS.RGBA_INTEGER]:n.RGB10_A2UI},[TYPES.UNSIGNED_INT_10F_11F_11F_REV]:{[FORMATS.RGB]:n.R11F_G11F_B10F},[TYPES.UNSIGNED_INT_5_9_9_9_REV]:{[FORMATS.RGB]:n.RGB9_E5},[TYPES.UNSIGNED_INT_24_8]:{[FORMATS.DEPTH_STENCIL]:n.DEPTH24_STENCIL8},[TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[FORMATS.DEPTH_STENCIL]:n.DEPTH32F_STENCIL8}}:e={[TYPES.UNSIGNED_BYTE]:{[FORMATS.RGBA]:n.RGBA,[FORMATS.RGB]:n.RGB,[FORMATS.ALPHA]:n.ALPHA,[FORMATS.LUMINANCE]:n.LUMINANCE,[FORMATS.LUMINANCE_ALPHA]:n.LUMINANCE_ALPHA},[TYPES.UNSIGNED_SHORT_5_6_5]:{[FORMATS.RGB]:n.RGB},[TYPES.UNSIGNED_SHORT_4_4_4_4]:{[FORMATS.RGBA]:n.RGBA},[TYPES.UNSIGNED_SHORT_5_5_5_1]:{[FORMATS.RGBA]:n.RGBA}},e}class TextureSystem{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new BaseTexture,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=mapTypeAndFormatToInternalFormat(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let i=0;i<t;i++)this.boundTextures[i]=null;this.emptyTextures={};const r=new GLTexture(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new GLTexture(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,t=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(t.activeTexture(t.TEXTURE0+i),this.currentLocation=i),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:r,CONTEXT_UID:i}=this;if(r)for(let o=e-1;o>=0;--o){const s=t[o];s&&s._glTextures[i].samplerType!==SAMPLER_TYPES.FLOAT&&this.renderer.texture.unbind(s)}}initTexture(e){const t=new GLTexture(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){var r;t.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,this.webGLVersion===2&&e.type===TYPES.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){var i;const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const r=this.renderer;if(this.initTextureType(e,t),(i=e.resource)!=null&&i.upload(r,e,t))t.samplerType!==SAMPLER_TYPES.FLOAT&&(this.hasIntegerTextures=!0);else{const o=e.realWidth,s=e.realHeight,a=r.gl;(t.width!==o||t.height!==s||t.dirtyId<0)&&(t.width=o,t.height=s,a.texImage2D(e.target,0,t.internalFormat,o,s,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const i=this.managedTextures.indexOf(e);i!==-1&&removeItems(this.managedTextures,i,1)}}updateTextureStyle(e){var r;const t=e._glTextures[this.CONTEXT_UID];t&&((e.mipmap===MIPMAP_MODES.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?t.mipmap=!1:t.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?t.wrapMode=WRAP_MODES.CLAMP:t.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const r=this.gl;if(t.mipmap&&e.mipmap!==MIPMAP_MODES.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===SCALE_MODES.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===SCALE_MODES.LINEAR){const o=Math.min(e.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===SCALE_MODES.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===SCALE_MODES.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}TextureSystem.extension={type:ExtensionType.RendererSystem,name:"texture"};extensions$1.add(TextureSystem);class TransformFeedbackSystem{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,i=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:r,renderer:i}=this;t&&i.shader.bind(t),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:r,CONTEXT_UID:i}=this,o=t.createTransformFeedback();e._glTransformFeedbacks[i]=o,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,o);for(let s=0;s<e.buffers.length;s++){const a=e.buffers[s];a&&(r.buffer.update(a),a._glBuffers[i].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,s,a._glBuffers[i].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),o}disposeTransformFeedback(e,t){const r=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const o=this.renderer.buffer;if(o)for(let s=0;s<e.buffers.length;s++){const a=e.buffers[s];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!t&&o.dispose(a,t))}r&&(t||i.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}TransformFeedbackSystem.extension={type:ExtensionType.RendererSystem,name:"transformFeedback"};extensions$1.add(TransformFeedbackSystem);class ViewSystem{constructor(e){this.renderer=e}init(e){this.screen=new Rectangle(0,0,e.width,e.height),this.element=e.view||settings.ADAPTER.createCanvas(),this.resolution=e.resolution||settings.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var t;e&&((t=this.element.parentNode)==null||t.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}ViewSystem.extension={type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem],name:"_view"};extensions$1.add(ViewSystem);settings.PREFER_ENV=ENV.WEBGL2;settings.STRICT_TEXTURE_CACHE=!1;Object.defineProperties(settings,{WRAP_MODE:{get(){return BaseTexture.defaultOptions.wrapMode},set(n){deprecation("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),BaseTexture.defaultOptions.wrapMode=n}},SCALE_MODE:{get(){return BaseTexture.defaultOptions.scaleMode},set(n){deprecation("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),BaseTexture.defaultOptions.scaleMode=n}},MIPMAP_TEXTURES:{get(){return BaseTexture.defaultOptions.mipmap},set(n){deprecation("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),BaseTexture.defaultOptions.mipmap=n}},ANISOTROPIC_LEVEL:{get(){return BaseTexture.defaultOptions.anisotropicLevel},set(n){deprecation("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),BaseTexture.defaultOptions.anisotropicLevel=n}},FILTER_RESOLUTION:{get(){return deprecation("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Filter.defaultResolution},set(n){Filter.defaultResolution=n}},FILTER_MULTISAMPLE:{get(){return deprecation("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Filter.defaultMultisample},set(n){Filter.defaultMultisample=n}},SPRITE_MAX_TEXTURES:{get(){return BatchRenderer.defaultMaxTextures},set(n){deprecation("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),BatchRenderer.defaultMaxTextures=n}},SPRITE_BATCH_SIZE:{get(){return BatchRenderer.defaultBatchSize},set(n){deprecation("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),BatchRenderer.defaultBatchSize=n}},CAN_UPLOAD_SAME_BUFFER:{get(){return BatchRenderer.canUploadSameBuffer},set(n){deprecation("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),BatchRenderer.canUploadSameBuffer=n}},GC_MODE:{get(){return TextureGCSystem.defaultMode},set(n){deprecation("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),TextureGCSystem.defaultMode=n}},GC_MAX_IDLE:{get(){return TextureGCSystem.defaultMaxIdle},set(n){deprecation("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),TextureGCSystem.defaultMaxIdle=n}},GC_MAX_CHECK_COUNT:{get(){return TextureGCSystem.defaultCheckCountMax},set(n){deprecation("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),TextureGCSystem.defaultCheckCountMax=n}},PRECISION_VERTEX:{get(){return Program.defaultVertexPrecision},set(n){deprecation("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Program.defaultVertexPrecision=n}},PRECISION_FRAGMENT:{get(){return Program.defaultFragmentPrecision},set(n){deprecation("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Program.defaultFragmentPrecision=n}}});var UPDATE_PRIORITY=(n=>(n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",n))(UPDATE_PRIORITY||{});class TickerListener{constructor(e,t=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=r,this.once=i}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const _Ticker=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener(null,null,1/0),this.deltaMS=1/_Ticker.targetFPMS,this.elapsedMS=1/_Ticker.targetFPMS,this._tick=n=>{this._requestId=null,this.started&&(this.update(n),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(n,e,t=UPDATE_PRIORITY.NORMAL){return this._addListener(new TickerListener(n,e,t))}addOnce(n,e,t=UPDATE_PRIORITY.NORMAL){return this._addListener(new TickerListener(n,e,t,!0))}_addListener(n){let e=this._head.next,t=this._head;if(!e)n.connect(t);else{for(;e;){if(n.priority>e.priority){n.connect(t);break}t=e,e=e.next}n.previous||n.connect(t)}return this._startIfPossible(),this}remove(n,e){let t=this._head.next;for(;t;)t.match(n,e)?t=t.destroy():t=t.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let n=0,e=this._head;for(;e=e.next;)n++;return n}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let n=this._head.next;for(;n;)n=n.destroy(!0);this._head.destroy(),this._head=null}}update(n=performance.now()){let e;if(n>this.lastTime){if(e=this.elapsedMS=n-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=n-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=n-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*_Ticker.targetFPMS;const t=this._head;let r=t.next;for(;r;)r=r.emit(this.deltaTime);t.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=n}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(n){const e=Math.min(this.maxFPS,n),t=Math.min(Math.max(0,e)/1e3,_Ticker.targetFPMS);this._maxElapsedMS=1/t}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(n){if(n===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,n);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!_Ticker._shared){const n=_Ticker._shared=new _Ticker;n.autoStart=!0,n._protected=!0}return _Ticker._shared}static get system(){if(!_Ticker._system){const n=_Ticker._system=new _Ticker;n.autoStart=!0,n._protected=!0}return _Ticker._system}};let Ticker=_Ticker;Ticker.targetFPMS=.06;Object.defineProperties(settings,{TARGET_FPMS:{get(){return Ticker.targetFPMS},set(n){deprecation("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Ticker.targetFPMS=n}}});class TickerPlugin{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,UPDATE_PRIORITY.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Ticker.shared:new Ticker,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}TickerPlugin.extension=ExtensionType.Application;extensions$1.add(TickerPlugin);const renderers=[];extensions$1.handleByList(ExtensionType.Renderer,renderers);function autoDetectRenderer(n){for(const e of renderers)if(e.test(n))return new e(n);throw new Error("Unable to auto-detect a suitable renderer.")}var $defaultVertex=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$defaultFilterVertex=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const defaultVertex=$defaultVertex,defaultFilterVertex=$defaultFilterVertex;class MultisampleSystem{constructor(e){this.renderer=e}contextChange(e){let t;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}t>=MSAA_QUALITY.HIGH?this.multisample=MSAA_QUALITY.HIGH:t>=MSAA_QUALITY.MEDIUM?this.multisample=MSAA_QUALITY.MEDIUM:t>=MSAA_QUALITY.LOW?this.multisample=MSAA_QUALITY.LOW:this.multisample=MSAA_QUALITY.NONE}destroy(){}}MultisampleSystem.extension={type:ExtensionType.RendererSystem,name:"_multisample"};extensions$1.add(MultisampleSystem);class GLBuffer{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class BufferSystem{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);t.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[t]!==e){const o=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[t]=e,r.bindBufferBase(r.UNIFORM_BUFFER,t,o.buffer)}}bindBufferRange(e,t,r){const{gl:i,CONTEXT_UID:o}=this;r=r||0;const s=e._glBuffers[o]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,t||0,s.buffer,r*256,256)}update(e){const{gl:t,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,t.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const o=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,o)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(t||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let r=0;r<t.length;r++)this.dispose(this.managedBuffers[t[r]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:r}=this;return e._glBuffers[t]=new GLBuffer(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}BufferSystem.extension={type:ExtensionType.RendererSystem,name:"buffer"};extensions$1.add(BufferSystem);class ObjectRendererSystem{constructor(e){this.renderer=e}render(e,t){const r=this.renderer;let i,o,s,a;if(t&&(i=t.renderTexture,o=t.clear,s=t.transform,a=t.skipUpdateTransform),this.renderingToScreen=!i,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=s,!r.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}r.renderTexture.bind(i),r.batch.currentRenderer.start(),(o??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),i&&(t.blit&&r.framebuffer.blit(),i.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}ObjectRendererSystem.extension={type:ExtensionType.RendererSystem,name:"objectRenderer"};extensions$1.add(ObjectRendererSystem);const _Renderer=class extends SystemManager{constructor(n){super(),n=Object.assign({},settings.RENDER_OPTIONS,n),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new UniformGroup({projectionMatrix:new Matrix},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:_Renderer.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in n&&(deprecation("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),n.premultipliedAlpha=n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",n.backgroundAlpha=n.useContextAlpha===!1?1:n.backgroundAlpha);const t={hello:n.hello,_plugin:_Renderer.__plugins,background:{alpha:n.backgroundAlpha,color:n.background??n.backgroundColor,clearBeforeRender:n.clearBeforeRender},_view:{height:n.height,width:n.width,autoDensity:n.autoDensity,resolution:n.resolution,view:n.view},context:{antialias:n.antialias,context:n.context,powerPreference:n.powerPreference,premultipliedAlpha:n.premultipliedAlpha,preserveDrawingBuffer:n.preserveDrawingBuffer}};this.options=n,this.startup.run(t)}static test(n){return n!=null&&n.forceCanvas?!1:isWebGLSupported()}render(n,e){this.objectRenderer.render(n,e)}resize(n,e){this._view.resizeView(n,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(n=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:n}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(n){this._view.resolution=n,this.runners.resolutionChange.emit(n)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return deprecation("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return deprecation("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return deprecation("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(n){deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=n}get backgroundAlpha(){return deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(n){deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=n}get powerPreference(){return deprecation("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(n,e){return this.textureGenerator.generateTexture(n,e)}};let Renderer=_Renderer;Renderer.extension={type:ExtensionType.Renderer,priority:1};Renderer.__plugins={};Renderer.__systems={};extensions$1.handleByMap(ExtensionType.RendererPlugin,Renderer.__plugins);extensions$1.handleByMap(ExtensionType.RendererSystem,Renderer.__systems);extensions$1.add(Renderer);class AbstractMultiResource extends Resource{constructor(e,t){const{width:r,height:i}=t||{};super(r,i),this.items=[],this.itemDirtyIds=[];for(let o=0;o<e;o++){const s=new BaseTexture;this.items.push(s),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof Resource?this.addResourceAt(e[r],r):this.addResourceAt(autoDetectResource(e[r],t),r))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const t=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(t).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),Promise.resolve(this)}),this._load}}class ArrayResource extends AbstractMultiResource{constructor(e,t){const{width:r,height:i}=t||{};let o,s;Array.isArray(e)?(o=e,s=e.length):s=e,super(s,{width:r,height:i}),o&&this.initFromArray(o,t)}addBaseTextureAt(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=TARGETS.TEXTURE_2D_ARRAY}upload(e,t,r){const{length:i,itemDirtyIds:o,items:s}=this,{gl:a}=e;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,t.format,r.type,null);for(let l=0;l<i;l++){const c=s[l];o[l]<c.dirtyId&&(o[l]=c.dirtyId,c.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,c.resource.width,c.resource.height,1,t.format,r.type,c.resource.source))}return!0}}class CanvasResource extends BaseImageResource{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return t&&e instanceof t?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const _CubeResource=class extends AbstractMultiResource{constructor(n,e){const{width:t,height:r,autoLoad:i,linkBaseTexture:o}=e||{};if(n&&n.length!==_CubeResource.SIDES)throw new Error(`Invalid length. Got ${n.length}, expected 6`);super(6,{width:t,height:r});for(let s=0;s<_CubeResource.SIDES;s++)this.items[s].target=TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+s;this.linkBaseTexture=o!==!1,n&&this.initFromArray(n,e),i!==!1&&this.load()}bind(n){super.bind(n),n.target=TARGETS.TEXTURE_CUBE_MAP}addBaseTextureAt(n,e,t){if(t===void 0&&(t=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||n.parentTextureArray||Object.keys(n._glTextures).length>0)if(n.resource)this.addResourceAt(n.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else n.target=TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+e,n.parentTextureArray=this.baseTexture,this.items[e]=n;return n.valid&&!this.valid&&this.resize(n.realWidth,n.realHeight),this.items[e]=n,this}upload(n,e,t){const r=this.itemDirtyIds;for(let i=0;i<_CubeResource.SIDES;i++){const o=this.items[i];(r[i]<o.dirtyId||t.dirtyId<e.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(n,o,t),r[i]=o.dirtyId):r[i]<-1&&(n.gl.texImage2D(o.target,0,t.internalFormat,e.realWidth,e.realHeight,0,e.format,t.type,null),r[i]=-1))}return!0}static test(n){return Array.isArray(n)&&n.length===_CubeResource.SIDES}};let CubeResource=_CubeResource;CubeResource.SIDES=6;class ImageBitmapResource extends BaseImageResource{constructor(e,t){t=t||{};let r,i;typeof e=="string"?(r=ImageBitmapResource.EMPTY,i=e):(r=e,i=null),super(r),this.url=i,this.crossOrigin=t.crossOrigin??!0,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,t)=>{if(this.url===null){e(this);return}try{const r=await settings.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await r.blob();if(this.destroyed)return;const o=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ALPHA_MODES.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=o,this.update(),e(this)}catch(r){if(this.destroyed)return;t(r),this.onError.emit(r)}}),this._load)}upload(e,t,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),super.upload(e,t,r)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return ImageBitmapResource._EMPTY=ImageBitmapResource._EMPTY??settings.ADAPTER.createCanvas(0,0),ImageBitmapResource._EMPTY}}const _SVGResource=class extends BaseImageResource{constructor(n,e){e=e||{},super(settings.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=n,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(n=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),n(this)},_SVGResource.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const n=new Image;BaseImageResource.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=e=>{this._resolve&&(n.onerror=null,this.onError.emit(e))},n.onload=()=>{if(!this._resolve)return;const e=n.width,t=n.height;if(!e||!t)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let r=e*this.scale,i=t*this.scale;(this._overrideWidth||this._overrideHeight)&&(r=this._overrideWidth||this._overrideHeight/t*e,i=this._overrideHeight||this._overrideWidth/e*t),r=Math.round(r),i=Math.round(i);const o=this.source;o.width=r,o.height=i,o._pixiId=`canvas_${uid()}`,o.getContext("2d").drawImage(n,0,0,e,t,0,0,r,i),this._resolve(),this._resolve=null}}static getSize(n){const e=_SVGResource.SVG_SIZE.exec(n),t={};return e&&(t[e[1]]=Math.round(parseFloat(e[3])),t[e[5]]=Math.round(parseFloat(e[7]))),t}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(n,e){return e==="svg"||typeof n=="string"&&n.startsWith("data:image/svg+xml")||typeof n=="string"&&_SVGResource.SVG_XML.test(n)}};let SVGResource=_SVGResource;SVGResource.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;SVGResource.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const _VideoResource=class extends BaseImageResource{constructor(n,e){if(e=e||{},!(n instanceof HTMLVideoElement)){const t=document.createElement("video");t.setAttribute("preload","auto"),t.setAttribute("webkit-playsinline",""),t.setAttribute("playsinline",""),typeof n=="string"&&(n=[n]);const r=n[0].src||n[0];BaseImageResource.crossOrigin(t,r,e.crossorigin);for(let i=0;i<n.length;++i){const o=document.createElement("source");let{src:s,mime:a}=n[i];s=s||n[i];const l=s.split("?").shift().toLowerCase(),c=l.slice(l.lastIndexOf(".")+1);a=a||_VideoResource.MIME_TYPES[c]||`video/${c}`,o.src=s,o.type=a,t.appendChild(o)}n=t}super(n),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(n=0){if(!this.destroyed){const e=Ticker.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,n.load())}),this._load}_onError(n){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(n)}_isSourcePlaying(){const n=this.source;return!n.paused&&!n.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const n=this.source;n.removeEventListener("canplay",this._onCanPlay),n.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(n.videoWidth,n.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&n.play()}dispose(){this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1);const n=this.source;n&&(n.removeEventListener("error",this._onError,!0),n.pause(),n.src="",n.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(n){n!==this._autoUpdate&&(this._autoUpdate=n,!this._autoUpdate&&this._isConnectedToTicker?(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(n){n!==this._updateFPS&&(this._updateFPS=n)}static test(n,e){return globalThis.HTMLVideoElement&&n instanceof HTMLVideoElement||_VideoResource.TYPES.includes(e)}};let VideoResource=_VideoResource;VideoResource.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];VideoResource.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};INSTALLED.push(ImageBitmapResource,ImageResource,CanvasResource,VideoResource,SVGResource,BufferResource,CubeResource,ArrayResource);class Bounds{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Rectangle.EMPTY:(e=e||new Rectangle(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:r,b:i,c:o,d:s,tx:a,ty:l}=e,c=r*t.x+o*t.y+a,u=i*t.x+s*t.y+l;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)}addQuad(e){let t=this.minX,r=this.minY,i=this.maxX,o=this.maxY,s=e[0],a=e[1];t=s<t?s:t,r=a<r?a:r,i=s>i?s:i,o=a>o?a:o,s=e[2],a=e[3],t=s<t?s:t,r=a<r?a:r,i=s>i?s:i,o=a>o?a:o,s=e[4],a=e[5],t=s<t?s:t,r=a<r?a:r,i=s>i?s:i,o=a>o?a:o,s=e[6],a=e[7],t=s<t?s:t,r=a<r?a:r,i=s>i?s:i,o=a>o?a:o,this.minX=t,this.minY=r,this.maxX=i,this.maxY=o}addFrame(e,t,r,i,o){this.addFrameMatrix(e.worldTransform,t,r,i,o)}addFrameMatrix(e,t,r,i,o){const s=e.a,a=e.b,l=e.c,c=e.d,u=e.tx,h=e.ty;let d=this.minX,p=this.minY,f=this.maxX,m=this.maxY,g=s*t+l*r+u,v=a*t+c*r+h;d=g<d?g:d,p=v<p?v:p,f=g>f?g:f,m=v>m?v:m,g=s*i+l*r+u,v=a*i+c*r+h,d=g<d?g:d,p=v<p?v:p,f=g>f?g:f,m=v>m?v:m,g=s*t+l*o+u,v=a*t+c*o+h,d=g<d?g:d,p=v<p?v:p,f=g>f?g:f,m=v>m?v:m,g=s*i+l*o+u,v=a*i+c*o+h,d=g<d?g:d,p=v<p?v:p,f=g>f?g:f,m=v>m?v:m,this.minX=d,this.minY=p,this.maxX=f,this.maxY=m}addVertexData(e,t,r){let i=this.minX,o=this.minY,s=this.maxX,a=this.maxY;for(let l=t;l<r;l+=2){const c=e[l],u=e[l+1];i=c<i?c:i,o=u<o?u:o,s=c>s?c:s,a=u>a?u:a}this.minX=i,this.minY=o,this.maxX=s,this.maxY=a}addVertices(e,t,r,i){this.addVerticesMatrix(e.worldTransform,t,r,i)}addVerticesMatrix(e,t,r,i,o=0,s=o){const a=e.a,l=e.b,c=e.c,u=e.d,h=e.tx,d=e.ty;let p=this.minX,f=this.minY,m=this.maxX,g=this.maxY;for(let v=r;v<i;v+=2){const _=t[v],y=t[v+1],b=a*_+c*y+h,S=u*y+l*_+d;p=Math.min(p,b-o),m=Math.max(m,b+o),f=Math.min(f,S-s),g=Math.max(g,S+s)}this.minX=p,this.minY=f,this.maxX=m,this.maxY=g}addBounds(e){const t=this.minX,r=this.minY,i=this.maxX,o=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>o?e.maxY:o}addBoundsMask(e,t){const r=e.minX>t.minX?e.minX:t.minX,i=e.minY>t.minY?e.minY:t.minY,o=e.maxX<t.maxX?e.maxX:t.maxX,s=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=o&&i<=s){const a=this.minX,l=this.minY,c=this.maxX,u=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=o>c?o:c,this.maxY=s>u?s:u}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const r=e.minX>t.x?e.minX:t.x,i=e.minY>t.y?e.minY:t.y,o=e.maxX<t.x+t.width?e.maxX:t.x+t.width,s=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=o&&i<=s){const a=this.minX,l=this.minY,c=this.maxX,u=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=o>c?o:c,this.maxY=s>u?s:u}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,r,i,o,s){e-=o,t-=s,r+=o,i+=s,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>i?this.maxY:i}}class DisplayObject extends eventemitter3Exports{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Transform,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Bounds,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let r=0;r<t.length;++r){const i=t[r];Object.defineProperty(DisplayObject.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new Rectangle),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Bounds);const t=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,o=this._boundsID;this._bounds=this._localBounds;const s=this.getBounds(!1,e);return this.parent=r,this.transform=t,this._bounds=i,this._bounds.updateID+=this._boundsID-o,s}toGlobal(e,t,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,r,i){return t&&(e=t.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,t=0,r=1,i=1,o=0,s=0,a=0,l=0,c=0){return this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=i||1,this.rotation=o,this.skew.x=s,this.skew.y=a,this.pivot.x=l,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new TemporaryDisplayObject),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*RAD_TO_DEG}set angle(e){this.transform.rotation=e*DEG_TO_RAD}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,t._maskRefCount===0&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount===0&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}}class TemporaryDisplayObject extends DisplayObject{constructor(){super(...arguments),this.sortDirty=null}}DisplayObject.prototype.displayObjectUpdateTransform=DisplayObject.prototype.updateTransform;const tempMatrix=new Matrix;function sortChildren(n,e){return n.zIndex===e.zIndex?n._lastSortedIndex-e._lastSortedIndex:n.zIndex-e.zIndex}const _Container=class extends DisplayObject{constructor(){super(),this.children=[],this.sortableChildren=_Container.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(n){}addChild(...n){if(n.length>1)for(let e=0;e<n.length;e++)this.addChild(n[e]);else{const e=n[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return n[0]}addChildAt(n,e){if(e<0||e>this.children.length)throw new Error(`${n}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.splice(e,0,n),this._boundsID++,this.onChildrenChange(e),n.emit("added",this),this.emit("childAdded",n,this,e),n}swapChildren(n,e){if(n===e)return;const t=this.getChildIndex(n),r=this.getChildIndex(e);this.children[t]=e,this.children[r]=n,this.onChildrenChange(t<r?t:r)}getChildIndex(n){const e=this.children.indexOf(n);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(n,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const t=this.getChildIndex(n);removeItems(this.children,t,1),this.children.splice(e,0,n),this.onChildrenChange(e)}getChildAt(n){if(n<0||n>=this.children.length)throw new Error(`getChildAt: Index (${n}) does not exist.`);return this.children[n]}removeChild(...n){if(n.length>1)for(let e=0;e<n.length;e++)this.removeChild(n[e]);else{const e=n[0],t=this.children.indexOf(e);if(t===-1)return null;e.parent=null,e.transform._parentID=-1,removeItems(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t)}return n[0]}removeChildAt(n){const e=this.getChildAt(n);return e.parent=null,e.transform._parentID=-1,removeItems(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this),this.emit("childRemoved",e,this,n),e}removeChildren(n=0,e=this.children.length){const t=n,r=e,i=r-t;let o;if(i>0&&i<=r){o=this.children.splice(t,i);for(let s=0;s<o.length;++s)o[s].parent=null,o[s].transform&&(o[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(n);for(let s=0;s<o.length;++s)o[s].emit("removed",this),this.emit("childRemoved",o[s],this,s);return o}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let n=!1;for(let e=0,t=this.children.length;e<t;++e){const r=this.children[e];r._lastSortedIndex=e,!n&&r.zIndex!==0&&(n=!0)}n&&this.children.length>1&&this.children.sort(sortChildren),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let n=0,e=this.children.length;n<e;++n){const t=this.children[n];t.visible&&t.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let n=0;n<this.children.length;n++){const e=this.children[n];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const t=e._mask.isMaskData?e._mask.maskObject:e._mask;t?(t.calculateBounds(),this._bounds.addBoundsMask(e._bounds,t._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(n,e=!1){const t=super.getLocalBounds(n);if(!e)for(let r=0,i=this.children.length;r<i;++r){const o=this.children[r];o.visible&&o.updateTransform()}return t}_calculateBounds(){}_renderWithCulling(n){const e=n.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let t,r;this.cullArea?(t=this.cullArea,r=this.worldTransform):this._render!==_Container.prototype._render&&(t=this.getBounds(!0));const i=n.projection.transform;if(i&&(r?(r=tempMatrix.copyFrom(r),r.prepend(i)):r=i),t&&e.intersects(t,r))this._render(n);else if(this.cullArea)return;for(let o=0,s=this.children.length;o<s;++o){const a=this.children[o],l=a.cullable;a.cullable=l||!this.cullArea,a.render(n),a.cullable=l}}render(n){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(n);else if(this.cullable)this._renderWithCulling(n);else{this._render(n);for(let t=0,r=this.children.length;t<r;++t)this.children[t].render(n)}}renderAdvanced(n){var i,o,s;const e=this.filters,t=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const r=e&&((i=this._enabledFilters)==null?void 0:i.length)||t&&(!t.isMaskData||t.enabled&&(t.autoDetect||t.type!==MASK_TYPES.NONE));if(r&&n.batch.flush(),e&&((o=this._enabledFilters)!=null&&o.length)&&n.filter.push(this,this._enabledFilters),t&&n.mask.push(this,this._mask),this.cullable)this._renderWithCulling(n);else{this._render(n);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(n)}r&&n.batch.flush(),t&&n.mask.pop(this),e&&((s=this._enabledFilters)!=null&&s.length)&&n.filter.pop()}_render(n){}destroy(n){super.destroy(),this.sortDirty=!1;const e=typeof n=="boolean"?n:n==null?void 0:n.children,t=this.removeChildren(0,this.children.length);if(e)for(let r=0;r<t.length;++r)t[r].destroy(n)}get width(){return this.scale.x*this.getLocalBounds().width}set width(n){const e=this.getLocalBounds().width;e!==0?this.scale.x=n/e:this.scale.x=1,this._width=n}get height(){return this.scale.y*this.getLocalBounds().height}set height(n){const e=this.getLocalBounds().height;e!==0?this.scale.y=n/e:this.scale.y=1,this._height=n}};let Container=_Container;Container.defaultSortableChildren=!1;Container.prototype.containerUpdateTransform=Container.prototype.updateTransform;Object.defineProperties(settings,{SORTABLE_CHILDREN:{get(){return Container.defaultSortableChildren},set(n){deprecation("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Container.defaultSortableChildren=n}}});const tempPoint$1=new Point,indices=new Uint16Array([0,1,2,0,2,3]);class Sprite extends Container{constructor(e){super(),this._anchor=new ObservablePoint(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=BLEND_MODES.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||Texture.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=indices,this.pluginName="batch",this.isSprite=!0,this._roundPixels=settings.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=sign(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,r=t.a,i=t.b,o=t.c,s=t.d,a=t.tx,l=t.ty,c=this.vertexData,u=e.trim,h=e.orig,d=this._anchor;let p=0,f=0,m=0,g=0;if(u?(f=u.x-d._x*h.width,p=f+u.width,g=u.y-d._y*h.height,m=g+u.height):(f=-d._x*h.width,p=f+h.width,g=-d._y*h.height,m=g+h.height),c[0]=r*f+o*g+a,c[1]=s*g+i*f+l,c[2]=r*p+o*g+a,c[3]=s*g+i*p+l,c[4]=r*p+o*m+a,c[5]=s*m+i*p+l,c[6]=r*f+o*m+a,c[7]=s*m+i*f+l,this._roundPixels){const v=settings.RESOLUTION;for(let _=0;_<c.length;++_)c[_]=Math.round(c[_]*v)/v}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,r=e.orig,i=this._anchor,o=this.transform.worldTransform,s=o.a,a=o.b,l=o.c,c=o.d,u=o.tx,h=o.ty,d=-i._x*r.width,p=d+r.width,f=-i._y*r.height,m=f+r.height;t[0]=s*d+l*f+u,t[1]=c*f+a*d+h,t[2]=s*p+l*f+u,t[3]=c*f+a*p+h,t[4]=s*p+l*m+u,t[5]=c*m+a*p+h,t[6]=s*d+l*m+u,t[7]=c*m+a*d+h}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Bounds),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,tempPoint$1);const t=this._texture.orig.width,r=this._texture.orig.height,i=-t*this.anchor.x;let o=0;return tempPoint$1.x>=i&&tempPoint$1.x<i+t&&(o=-r*this.anchor.y,tempPoint$1.y>=o&&tempPoint$1.y<o+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,t){const r=e instanceof Texture?e:Texture.from(e,t);return new Sprite(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Texture.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const _tempMatrix=new Matrix;DisplayObject.prototype._cacheAsBitmap=!1;DisplayObject.prototype._cacheData=null;DisplayObject.prototype._cacheAsBitmapResolution=null;DisplayObject.prototype._cacheAsBitmapMultisample=null;class CacheData{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(DisplayObject.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(n){n!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(n){n!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(n){if(this._cacheAsBitmap===n)return;this._cacheAsBitmap=n;let e;n?(this._cacheData||(this._cacheData=new CacheData),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});DisplayObject.prototype._renderCached=function n(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};DisplayObject.prototype._initCachedDisplayObject=function n(e){var d,p;if((d=this._cacheData)!=null&&d.sprite)return;const t=this.alpha;this.alpha=1,e.batch.flush();const r=this.getLocalBounds(null,!0).clone();if((p=this.filters)!=null&&p.length){const f=this.filters[0].padding;r.pad(f)}r.ceil(settings.RESOLUTION);const i=e.renderTexture.current,o=e.renderTexture.sourceFrame.clone(),s=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=RenderTexture.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),c=`cacheAsBitmap_${uid()}`;this._cacheData.textureCacheId=c,BaseTexture.addToCache(l.baseTexture,c),Texture.addToCache(l,c);const u=this.transform.localTransform.copyTo(_tempMatrix).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:u,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,o,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const h=new Sprite(l);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=t,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)};DisplayObject.prototype._renderCachedCanvas=function n(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};DisplayObject.prototype._initCachedDisplayObjectCanvas=function n(e){var u;if((u=this._cacheData)!=null&&u.sprite)return;const t=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,o=e._projTransform;t.ceil(settings.RESOLUTION);const s=RenderTexture.create({width:t.width,height:t.height}),a=`cacheAsBitmap_${uid()}`;this._cacheData.textureCacheId=a,BaseTexture.addToCache(s.baseTexture,a),Texture.addToCache(s,a);const l=_tempMatrix;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=t.x,l.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:s,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const c=new Sprite(s);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(t.x/t.width),c.anchor.y=-(t.y/t.height),c.alpha=r,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)};DisplayObject.prototype._calculateCachedBounds=function n(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};DisplayObject.prototype._getCachedLocalBounds=function n(){return this._cacheData.sprite.getLocalBounds(null)};DisplayObject.prototype._destroyCachedDisplayObject=function n(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,BaseTexture.removeFromCache(this._cacheData.textureCacheId),Texture.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};DisplayObject.prototype._cacheAsBitmapDestroy=function n(e){this.cacheAsBitmap=!1,this.destroy(e)};DisplayObject.prototype.name=null;Container.prototype.getChildByName=function n(e,t){for(let r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(t)for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r];if(!o.getChildByName)continue;const s=o.getChildByName(e,!0);if(s)return s}return null};DisplayObject.prototype.getGlobalPosition=function n(e=new Point,t=!1){return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};var fragment$6=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class AlphaFilter extends Filter{constructor(e=1){super(defaultVertex,fragment$6,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const GAUSSIAN_VALUES={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},fragTemplate=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function generateBlurFragSource(n){const e=GAUSSIAN_VALUES[n],t=e.length;let r=fragTemplate,i="";const o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let s;for(let a=0;a<n;a++){let l=o.replace("%index%",a.toString());s=a,a>=t&&(s=n-a-1),l=l.replace("%value%",e[s].toString()),i+=l,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",n.toString()),r}const vertTemplate=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function generateBlurVertSource(n,e){const t=Math.ceil(n/2);let r=vertTemplate,i="",o;e?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let s=0;s<n;s++){let a=o.replace("%index%",s.toString());a=a.replace("%sampleIndex%",`${s-(t-1)}.0`),i+=a,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",n.toString()),r}class BlurFilterPass extends Filter{constructor(e,t=8,r=4,i=Filter.defaultResolution,o=5){const s=generateBlurVertSource(o,e),a=generateBlurFragSource(o);super(s,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=r,this.blur=t}apply(e,t,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/t.width):this.uniforms.strength=1/r.height*(r.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,t,r,i);else{const o=e.getFilterTexture(),s=e.renderer;let a=t,l=o;this.state.blend=!1,e.applyFilter(this,a,l,CLEAR_MODES.CLEAR);for(let c=1;c<this.passes-1;c++){e.bindAndClear(a,CLEAR_MODES.BLIT),this.uniforms.uSampler=l;const u=l;l=a,a=u,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,r,i),e.returnFilterTexture(o)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class BlurFilter extends Filter{constructor(e=8,t=4,r=Filter.defaultResolution,i=5){super(),this.blurXFilter=new BlurFilterPass(!0,e,t,r,i),this.blurYFilter=new BlurFilterPass(!1,e,t,r,i),this.resolution=r,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,r,i){const o=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(o&&s){const a=e.getFilterTexture();this.blurXFilter.apply(e,t,a,CLEAR_MODES.CLEAR),this.blurYFilter.apply(e,a,r,i),e.returnFilterTexture(a)}else s?this.blurYFilter.apply(e,t,r,i):this.blurXFilter.apply(e,t,r,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var fragment$5=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class ColorMatrixFilter extends Filter{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(defaultFilterVertex,fragment$5,e),this.alpha=1}_loadMatrix(e,t=!1){let r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}tint(e,t){const r=e>>16&255,i=e>>8&255,o=e&255,s=[r/255,0,0,0,0,0,i/255,0,0,0,0,0,o/255,0,0,0,0,0,1,0];this._loadMatrix(s,t)}greyscale(e,t){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}blackAndWhite(e){const t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)}hue(e,t){e=(e||0)/180*Math.PI;const r=Math.cos(e),i=Math.sin(e),o=Math.sqrt,s=1/3,a=o(s),l=r+(1-r)*s,c=s*(1-r)-a*i,u=s*(1-r)+a*i,h=s*(1-r)+a*i,d=r+s*(1-r),p=s*(1-r)-a*i,f=s*(1-r)-a*i,m=s*(1-r)+a*i,g=r+s*(1-r),v=[l,c,u,0,0,h,d,p,0,0,f,m,g,0,0,0,0,0,1,0];this._loadMatrix(v,t)}contrast(e,t){const r=(e||0)+1,i=-.5*(r-1),o=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(o,t)}saturate(e=0,t){const r=e*2/3+1,i=(r-1)*-.5,o=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(o,t)}desaturate(){this.saturate(-1)}negative(e){const t=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(t,e)}sepia(e){const t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)}technicolor(e){const t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)}polaroid(e){const t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)}toBGR(e){const t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)}kodachrome(e){const t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)}browni(e){const t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)}vintage(e){const t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)}colorTone(e,t,r,i,o){e=e||.2,t=t||.15,r=r||16770432,i=i||3375104;const s=(r>>16&255)/255,a=(r>>8&255)/255,l=(r&255)/255,c=(i>>16&255)/255,u=(i>>8&255)/255,h=(i&255)/255,d=[.3,.59,.11,0,0,s,a,l,e,0,c,u,h,t,0,s-c,a-u,l-h,0,0];this._loadMatrix(d,o)}night(e,t){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,t)}predator(e,t){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,t)}lsd(e){const t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}ColorMatrixFilter.prototype.grayscale=ColorMatrixFilter.prototype.greyscale;var fragment$4=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,vertex$3=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class DisplacementFilter extends Filter{constructor(e,t){const r=new Matrix;e.renderable=!1,super(vertex$3,fragment$4,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,t==null&&(t=20),this.scale=new Point(t,t)}apply(e,t,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const o=this.maskSprite.worldTransform,s=Math.sqrt(o.a*o.a+o.b*o.b),a=Math.sqrt(o.c*o.c+o.d*o.d);s!==0&&a!==0&&(this.uniforms.rotation[0]=o.a/s,this.uniforms.rotation[1]=o.b/s,this.uniforms.rotation[2]=o.c/a,this.uniforms.rotation[3]=o.d/a),e.applyFilter(this,t,r,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var fragment$3=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,vertex$2=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class FXAAFilter extends Filter{constructor(){super(vertex$2,fragment$3)}}var fragment$2=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class NoiseFilter extends Filter{constructor(e=.5,t=Math.random()){super(defaultFilterVertex,fragment$2,{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const filters={AlphaFilter,BlurFilter,BlurFilterPass,ColorMatrixFilter,DisplacementFilter,FXAAFilter,NoiseFilter};Object.entries(filters).forEach(([n,e])=>{Object.defineProperty(filters,n,{get(){return deprecation("7.1.0",`filters.${n} has moved to ${n}`),e}})});class FederatedEvent{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=FederatedEvent.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Point,this.page=new Point,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,r,i,o){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class FederatedMouseEvent extends FederatedEvent{constructor(){super(...arguments),this.client=new Point,this.movement=new Point,this.offset=new Point,this.global=new Point,this.screen=new Point}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,r,i,o,s,a,l,c,u,h,d,p,f,m){throw new Error("Method not implemented.")}}class FederatedPointerEvent extends FederatedMouseEvent{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class FederatedWheelEvent extends FederatedMouseEvent{constructor(){super(...arguments),this.DOM_DELTA_LINE=0,this.DOM_DELTA_PAGE=1,this.DOM_DELTA_PIXEL=2}}const PROPAGATION_LIMIT=2048,tempHitLocation=new Point,tempLocalMapping=new Point;class EventBoundary{constructor(e){this.dispatch=new eventemitter3Exports,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((r,i)=>r.priority-i.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let r=0,i=t.length;r<i;r++)t[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){const r=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,tempHitLocation.set(e,t),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,t){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,o=r.length-1;i<o;i++)if(e.currentTarget=r[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(e.currentTarget=r[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,r=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const i=r.children;if(i)for(let o=0;o<i.length;o++)this.all(e,t,i[o]);e.currentTarget=r,this.notifyTarget(e,t)}propagationPath(e){const t=[e];for(let r=0;r<PROPAGATION_LIMIT&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestRecursive(e,t,r,i,o){if(!e||!e.visible||o(e,r))return null;if(e.interactiveChildren&&e.children){const s=e.children;for(let a=s.length-1;a>=0;a--){const l=s[a],c=this.hitTestRecursive(l,t||l.interactive,r,i,o);if(c){if(c.length>0&&!c[c.length-1].parent)continue;return(c.length>0||e.interactive)&&c.push(e),c}}}return t&&i(e,r)?e.interactive?[e]:[]:null}hitPruneFn(e,t){var r;if(e.hitArea&&(e.worldTransform.applyInverse(t,tempLocalMapping),!e.hitArea.contains(tempLocalMapping.x,tempLocalMapping.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((r=i.containsPoint)!=null&&r.call(i,t)))return!0}return!1}hitTestFn(e,t){return e.hitArea?!0:e.containsPoint?e.containsPoint(t):!1}notifyTarget(e,t){var o,s;t=t??e.type;const r=`on${t}`;(s=(o=e.currentTarget)[r])==null||s.call(o,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),t.pointerType==="touch")this.dispatchEvent(t,"touchstart");else if(t.pointerType==="mouse"||t.pointerType==="pen"){const i=t.button===2;this.dispatchEvent(t,i?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){var a,l;if(!(e instanceof FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.createPointerEvent(e),r=t.pointerType==="mouse"||t.pointerType==="pen",i=this.trackingData(e.pointerId),o=this.findMountedTarget(i.overTargets);if(((a=i.overTargets)==null?void 0:a.length)>0&&o!==t.target){const c=e.type==="mousemove"?"mouseout":"pointerout",u=this.createPointerEvent(e,c,o);if(this.dispatchEvent(u,"pointerout"),r&&this.dispatchEvent(u,"mouseout"),!t.composedPath().includes(o)){const h=this.createPointerEvent(e,"pointerleave",o);for(h.eventPhase=h.AT_TARGET;h.target&&!t.composedPath().includes(h.target);)h.currentTarget=h.target,this.notifyTarget(h),r&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;this.freeEvent(h)}this.freeEvent(u)}if(o!==t.target){const c=e.type==="mousemove"?"mouseover":"pointerover",u=this.clonePointerEvent(t,c);this.dispatchEvent(u,"pointerover"),r&&this.dispatchEvent(u,"mouseover");let h=o==null?void 0:o.parent;for(;h&&h!==this.rootTarget.parent&&h!==t.target;)h=h.parent;if(!h||h===this.rootTarget.parent){const p=this.clonePointerEvent(t,"pointerenter");for(p.eventPhase=p.AT_TARGET;p.target&&p.target!==o&&p.target!==this.rootTarget.parent;)p.currentTarget=p.target,this.notifyTarget(p),r&&this.notifyTarget(p,"mouseenter"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(u)}const s=this.moveOnAll?"all":"dispatchEvent";this[s](t,"pointermove"),this.all(t,"globalpointermove"),t.pointerType==="touch"&&(this[s](t,"touchmove"),this.all(t,"globaltouchmove")),r&&(this[s](t,"mousemove"),this.all(t,"globalmousemove"),this.cursor=(l=t.target)==null?void 0:l.cursor),i.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){var s;if(!(e instanceof FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(s=r.target)==null?void 0:s.cursor);const o=this.clonePointerEvent(r,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),i&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;t.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(o)}mapPointerOut(e){if(!(e instanceof FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId);if(t.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(t.overTargets),o=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(o),r&&this.dispatchEvent(o,"mouseout");const s=this.createPointerEvent(e,"pointerleave",i);for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),r&&this.notifyTarget(s,"mouseleave"),s.target=s.target.parent;t.overTargets=null,this.freeEvent(o),this.freeEvent(s)}this.cursor=null}mapPointerUp(e){if(!(e instanceof FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const a=r.button===2;this.dispatchEvent(r,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),o=this.findMountedTarget(i.pressTargetsByButton[e.button]);let s=o;if(o&&!r.composedPath().includes(o)){let a=o;for(;a&&!r.composedPath().includes(a);){if(r.currentTarget=a,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const l=r.button===2;this.notifyTarget(r,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],s=a}if(s){const a=this.clonePointerEvent(r,"click");a.target=s,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:t});const l=i.clicksByButton[e.button];l.target===a.target&&t-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=t,a.detail=l.clickCount,a.pointerType==="mouse"?this.dispatchEvent(a,"click"):a.pointerType==="touch"&&this.dispatchEvent(a,"tap"),this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.findMountedTarget(t.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(r){let o=r;for(;o;)i.currentTarget=o,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),o=o.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof FederatedWheelEvent)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let r=1;r<e.length&&e[r].parent===t;r++)t=e[r];return t}createPointerEvent(e,t,r){const i=this.allocateEvent(FederatedPointerEvent);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=r??this.hitTest(i.global.x,i.global.y),typeof t=="string"&&(i.type=t),i}createWheelEvent(e){const t=this.allocateEvent(FederatedWheelEvent);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const r=this.allocateEvent(FederatedPointerEvent);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=t??r.type,r}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof FederatedPointerEvent&&t instanceof FederatedPointerEvent&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof FederatedMouseEvent&&t instanceof FederatedMouseEvent&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const r=e.currentTarget._events[t];if(r)if("fn"in r)r.fn.call(r.context,e);else for(let i=0,o=r.length;i<o&&!e.propagationImmediatelyStopped;i++)r[i].fn.call(r[i].context,e)}}const MOUSE_POINTER_ID=1,TOUCH_TO_POINTER={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class EventSystem{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new EventBoundary(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new FederatedPointerEvent(null),this.rootWheelEvent=new FederatedWheelEvent(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:t}=this.renderer;this.setTargetElement(e),this.resolution=t}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":t&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":t&&Object.assign(this.domElement.style,r);break}else t&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,i=t.length;r<i;r++){const o=t[r],s=this.bootstrapEvent(this.rootPointerEvent,o);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const t=this.normalizeToPointerData(e);for(let r=0,i=t.length;r<i;r++){const o=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const r=t!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let o=0,s=i.length;o<s;o++){const a=this.bootstrapEvent(this.rootPointerEvent,i[o]);a.type+=r,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const t=this.normalizeToPointerData(e);for(let r=0,i=t.length;r<i;r++){const o=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,r){let i;this.domElement.parentElement?i=this.domElement.getBoundingClientRect():i={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const o=1/this.resolution;e.x=(t-i.left)*(this.domElement.width/i.width)*o,e.y=(r-i.top)*(this.domElement.height/i.height)*o}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,i=e.changedTouches.length;r<i;r++){const o=e.changedTouches[r];typeof o.button>"u"&&(o.button=0),typeof o.buttons>"u"&&(o.buttons=1),typeof o.isPrimary>"u"&&(o.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,o.type=e.type,t.push(o)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=MOUSE_POINTER_ID),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,t.push(r)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=TOUCH_TO_POINTER[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}}EventSystem.extension={name:"events",type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem]};extensions$1.add(EventSystem);const FederatedDisplayObject={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(n,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,i=typeof e=="function"?void 0:e;n=r?`${n}capture`:n,e=typeof e=="function"?e:e.handleEvent,this.on(n,e,i)},removeEventListener(n,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,i=typeof e=="function"?void 0:e;n=r?`${n}capture`:n,e=typeof e=="function"?e:e.handleEvent,this.off(n,e,i)},dispatchEvent(n){if(!(n instanceof FederatedEvent))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return n.defaultPrevented=!1,n.path=null,n.target=this,n.manager.dispatchEvent(n),!n.defaultPrevented}};DisplayObject.mixin(FederatedDisplayObject);const accessibleTarget={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};DisplayObject.mixin(accessibleTarget);const KEY_CODE_TAB=9,DIV_TOUCH_SIZE=100,DIV_TOUCH_POS_X=0,DIV_TOUCH_POS_Y=0,DIV_TOUCH_ZINDEX=2,DIV_HOOK_SIZE=1,DIV_HOOK_POS_X=-1e3,DIV_HOOK_POS_Y=-1e3,DIV_HOOK_ZINDEX=2;class AccessibilityManager{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(isMobile.tablet||isMobile.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width=`${DIV_TOUCH_SIZE}px`,t.style.height=`${DIV_TOUCH_SIZE}px`,t.style.position="absolute",t.style.top=`${DIV_TOUCH_POS_X}px`,t.style.left=`${DIV_TOUCH_POS_Y}px`,t.style.zIndex=DIV_TOUCH_ZINDEX.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${DIV_HOOK_SIZE}px`,e.style.height=`${DIV_HOOK_SIZE}px`,e.style.position="absolute",e.style.top=`${DIV_HOOK_POS_X}px`,e.style.left=`${DIV_HOOK_POS_Y}px`,e.style.zIndex=DIV_HOOK_ZINDEX.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let r=0;r<t.length;r++)this.updateAccessibleObjects(t[r])}update(){const e=performance.now();if(isMobile.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:r,width:i,height:o}=this.renderer.view.getBoundingClientRect(),{width:s,height:a,resolution:l}=this.renderer,c=i/s*l,u=o/a*l;let h=this.div;h.style.left=`${t}px`,h.style.top=`${r}px`,h.style.width=`${s}px`,h.style.height=`${a}px`;for(let d=0;d<this.children.length;d++){const p=this.children[d];if(p.renderId!==this.renderId)p._accessibleActive=!1,removeItems(this.children,d,1),this.div.removeChild(p._accessibleDiv),this.pool.push(p._accessibleDiv),p._accessibleDiv=null,d--;else{h=p._accessibleDiv;let f=p.hitArea;const m=p.worldTransform;p.hitArea?(h.style.left=`${(m.tx+f.x*m.a)*c}px`,h.style.top=`${(m.ty+f.y*m.d)*u}px`,h.style.width=`${f.width*m.a*c}px`,h.style.height=`${f.height*m.d*u}px`):(f=p.getBounds(),this.capHitArea(f),h.style.left=`${f.x*c}px`,h.style.top=`${f.y*u}px`,h.style.width=`${f.width*c}px`,h.style.height=`${f.height*u}px`,h.title!==p.accessibleTitle&&p.accessibleTitle!==null&&(h.title=p.accessibleTitle),h.getAttribute("aria-label")!==p.accessibleHint&&p.accessibleHint!==null&&h.setAttribute("aria-label",p.accessibleHint)),(p.accessibleTitle!==h.title||p.tabIndex!==h.tabIndex)&&(h.title=p.accessibleTitle,h.tabIndex=p.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:r}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=`${DIV_TOUCH_SIZE}px`,t.style.height=`${DIV_TOUCH_SIZE}px`,t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=DIV_TOUCH_ZINDEX.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?t.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:r}=e.target,i=this.renderer.events.rootBoundary,o=Object.assign(new FederatedEvent(i),{target:r});i.rootTarget=this.renderer.lastObjectRendered,t.forEach(s=>i.dispatchEvent(o,s))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===KEY_CODE_TAB&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}AccessibilityManager.extension={name:"accessibility",type:[ExtensionType.RendererPlugin,ExtensionType.CanvasRendererPlugin]};extensions$1.add(AccessibilityManager);const _Application=class{constructor(n){this.stage=new Container,n=Object.assign({forceCanvas:!1},n),this.renderer=autoDetectRenderer(n),_Application._plugins.forEach(e=>{e.init.call(this,n)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(n,e){const t=_Application._plugins.slice(0);t.reverse(),t.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(n),this.renderer=null}};let Application=_Application;Application._plugins=[];extensions$1.handleByList(ExtensionType.Application,Application._plugins);class ResizePlugin{static init(e){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let t,r;if(this._resizeTo===globalThis.window)t=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:o}=this._resizeTo;t=i,r=o}this.renderer.resize(t,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}ResizePlugin.extension=ExtensionType.Application;extensions$1.add(ResizePlugin);const assetKeyMap={loader:ExtensionType.LoadParser,resolver:ExtensionType.ResolveParser,cache:ExtensionType.CacheParser,detection:ExtensionType.DetectionParser};extensions$1.handle(ExtensionType.Asset,n=>{const e=n.ref;Object.entries(assetKeyMap).filter(([t])=>!!e[t]).forEach(([t,r])=>extensions$1.add(Object.assign(e[t],{extension:e[t].extension??r})))},n=>{const e=n.ref;Object.keys(assetKeyMap).filter(t=>!!e[t]).forEach(t=>extensions$1.remove(e[t]))});class BackgroundLoader{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<t;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function checkDataUrl(n,e){if(Array.isArray(e)){for(const t of e)if(n.startsWith(`data:${t}`))return!0;return!1}return n.startsWith(`data:${e}`)}function checkExtension(n,e){const t=n.split("?")[0],r=path.extname(t).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const convertToList=(n,e)=>(Array.isArray(n)||(n=[n]),e?n.map(t=>typeof t=="string"?e(t):t):n),copySearchParams=(n,e)=>{const t=e.split("?")[1];return t&&(n+=`?${t}`),n};function processX(n,e,t,r,i){const o=e[t];for(let s=0;s<o.length;s++){const a=o[s];t<e.length-1?processX(n.replace(r[t],a),e,t+1,r,i):i.push(n.replace(r[t],a))}}function createStringVariations(n){const e=/\{(.*?)\}/g,t=n.match(e),r=[];if(t){const i=[];t.forEach(o=>{const s=o.substring(1,o.length-1).split(",");i.push(s)}),processX(n,i,0,t,r)}else r.push(n);return r}const isSingleItem=n=>!Array.isArray(n);class CacheClass{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const r=convertToList(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(t)){i=l.getCacheableAssets(r,t);break}}i||(i={},r.forEach(a=>{i[a]=t}));const o=Object.keys(i),s={cacheKeys:o,keys:r};if(r.forEach(a=>{this._cacheMap.set(a,s)}),o.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==t&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),t instanceof Texture){const a=t;r.forEach(l=>{a.baseTexture!==Texture.EMPTY.baseTexture&&BaseTexture.addToCache(a.baseTexture,l),Texture.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(i=>{this._cache.delete(i)}),t.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Cache=new CacheClass;class Loader{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,t){const r={promise:null,parser:null};return r.promise=(async()=>{var o,s;let i=null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.load&&((o=l.test)!=null&&o.call(l,e,t,this))){i=await l.load(e,t,this),r.parser=l;break}}if(!r.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];l.parse&&l.parse&&await((s=l.testParse)==null?void 0:s.call(l,i,t,this))&&(i=await l.parse(i,t,this)||i,r.parser=l)}return i})(),r}async load(e,t){let r=0;const i={},o=isSingleItem(e),s=convertToList(e,c=>({src:c})),a=s.length,l=s.map(async c=>{const u=path.toAbsolute(c.src);if(!i[c.src])try{this.promiseCache[u]||(this.promiseCache[u]=this._getLoadPromiseAndParser(u,c)),i[c.src]=await this.promiseCache[u].promise,t&&t(++r/a)}catch(h){throw delete this.promiseCache[u],delete i[c.src],new Error(`[Loader.load] Failed to load ${u}.
${h}`)}});return await Promise.all(l),o?i[s[0].src]:i}async unload(e){const r=convertToList(e,i=>({src:i})).map(async i=>{var a,l;const o=path.toAbsolute(i.src),s=this.promiseCache[o];if(s){const c=await s.promise;(l=(a=s.parser)==null?void 0:a.unload)==null||l.call(a,c,i,this),delete this.promiseCache[o]}});await Promise.all(r)}get parsers(){return this._parsers}}var LoaderParserPriority=(n=>(n[n.Low=0]="Low",n[n.Normal=1]="Normal",n[n.High=2]="High",n))(LoaderParserPriority||{});const loadJson={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Low},test(n){return path.extname(n).toLowerCase()===".json"},async load(n){return await(await settings.ADAPTER.fetch(n)).json()}};extensions$1.add(loadJson);const loadTxt={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Low},test(n){return path.extname(n).toLowerCase()===".txt"},async load(n){return await(await settings.ADAPTER.fetch(n)).text()}};extensions$1.add(loadTxt);const validWeights=["normal","bold","100","200","300","400","500","600","700","800","900"],validFontExtensions=[".ttf",".otf",".woff",".woff2"],validFontMIMEs=["font/ttf","font/otf","font/woff","font/woff2"];function getFontFamilyName(n){const e=path.extname(n);return path.basename(n,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}const loadWebFont={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Low},test(n){return checkDataUrl(n,validFontMIMEs)||checkExtension(n,validFontExtensions)},async load(n,e){var r,i,o;const t=settings.ADAPTER.getFontFaceSet();if(t){const s=[],a=((r=e.data)==null?void 0:r.family)??getFontFamilyName(n),l=((o=(i=e.data)==null?void 0:i.weights)==null?void 0:o.filter(u=>validWeights.includes(u)))??["normal"],c=e.data??{};for(let u=0;u<l.length;u++){const h=l[u],d=new FontFace(a,`url(${encodeURI(n)})`,{...c,weight:h});await d.load(),t.add(d),s.push(d)}return s.length===1?s[0]:s}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(n){(Array.isArray(n)?n:[n]).forEach(e=>settings.ADAPTER.getFontFaceSet().delete(e))}};extensions$1.add(loadWebFont);let UUID=0,MAX_WORKERS;const WHITE_PNG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",checkImageBitmapCode={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${WHITE_PNG}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},workerCode={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let workerURL;class WorkerManagerClass{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const t=URL.createObjectURL(new Blob([checkImageBitmapCode.code],{type:"application/javascript"})),r=new Worker(t);r.addEventListener("message",i=>{r.terminate(),URL.revokeObjectURL(t),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){MAX_WORKERS===void 0&&(MAX_WORKERS=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<MAX_WORKERS&&(workerURL||(workerURL=URL.createObjectURL(new Blob([workerCode.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(workerURL),e.addEventListener("message",t=>{this.complete(t.data),this.returnWorker(t.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const r=new Promise((i,o)=>{this.queue.push({id:e,arguments:t,resolve:i,reject:o})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),r=t.id;this.resolveHash[UUID]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:UUID++,id:r})}}const WorkerManager=new WorkerManagerClass;function createTexture(n,e,t){const r=new Texture(n);return r.baseTexture.on("dispose",()=>{delete e.promiseCache[t]}),r}const validImageExtensions=[".jpeg",".jpg",".png",".webp",".avif"],validImageMIMEs=["image/jpeg","image/png","image/webp","image/avif"];async function loadImageBitmap(n){const e=await settings.ADAPTER.fetch(n);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${n}: ${e.status} ${e.statusText}`);const t=await e.blob();return await createImageBitmap(t)}const loadTextures={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.High},config:{preferWorkers:!0},test(n){return checkDataUrl(n,validImageMIMEs)||checkExtension(n,validImageExtensions)},async load(n,e,t){let r=null;globalThis.createImageBitmap?this.config.preferWorkers&&await WorkerManager.isImageBitmapSupported()?r=await WorkerManager.loadImageBitmap(n):r=await loadImageBitmap(n):r=await new Promise(o=>{r=new Image,r.crossOrigin="anonymous",r.src=n,r.complete?o(r):r.onload=()=>{o(r)}});const i=new BaseTexture(r,{resolution:getResolutionOfUrl(n),...e.data});return i.resource.src=n,createTexture(i,t,n)},unload(n){n.destroy(!0)}};extensions$1.add(loadTextures);const loadSVG={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.High},test(n){return path.extname(n).toLowerCase()===".svg"},async testParse(n){return SVGResource.test(n)},async parse(n,e,t){var s,a,l;const r=new SVGResource(n,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions),i=new BaseTexture(r,{resolution:getResolutionOfUrl(n),...e==null?void 0:e.data});i.resource.src=n;const o=createTexture(i,t,n);return(l=(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions)!=null&&l.autoLoad||await r.load(),o},async load(n,e){return(await settings.ADAPTER.fetch(n)).text()},unload:loadTextures.unload};extensions$1.add(loadSVG);class Resolver{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const r=[];Array.isArray(t)?t.forEach(i=>{if(typeof i.name=="string"){const o=this._createBundleAssetId(e,i.name);r.push(o),this.add([i.name,o],i.srcs,i.data)}else{const o=i.name.map(s=>this._createBundleAssetId(e,s));o.forEach(s=>{r.push(s)}),this.add([...i.name,...o],i.srcs)}}):Object.keys(t).forEach(i=>{r.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],t[i])}),this._bundles[e]=r}add(e,t,r){const i=convertToList(e);i.forEach(s=>{this.hasKey(s)&&console.warn(`[Resolver] already has key: ${s} overwriting`)}),Array.isArray(t)||(typeof t=="string"?t=createStringVariations(t):t=[t]);const o=t.map(s=>{let a=s;if(typeof s=="string"){let l=!1;for(let c=0;c<this._parsers.length;c++){const u=this._parsers[c];if(u.test(s)){a=u.parse(s),l=!0;break}}l||(a={src:s})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=path.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??r,a});i.forEach(s=>{this._assetMap[s]=o})}resolveBundle(e){const t=isSingleItem(e);e=convertToList(e);const r={};return e.forEach(i=>{const o=this._bundles[i];if(o){const s=this.resolve(o),a={};for(const l in s){const c=s[l];a[this._extractAssetIdFromBundle(i,l)]=c}r[i]=a}}),t?r[e[0]]:r}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const r={};for(const i in t)r[i]=t[i].src;return r}return t.src}resolve(e){const t=isSingleItem(e);e=convertToList(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let o=this._assetMap[i];const s=this._getPreferredOrder(o),a=o[0];s==null||s.priority.forEach(l=>{s.params[l].forEach(c=>{const u=o.filter(h=>h[l]?h[l]===c:!1);u.length&&(o=u)})}),this._resolverHash[i]=o[0]??a}else{let o=i;(this._basePath||this._rootPath)&&(o=path.toAbsolute(o,this._basePath,this._rootPath)),o=this._appendDefaultSearchParams(o),this._resolverHash[i]={src:o}}r[i]=this._resolverHash[i]}),t?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const r=e[0],i=this._preferredOrder.find(o=>o.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}}class AssetsClass{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Resolver,this.loader=new Loader,this.cache=Cache,this._backgroundLoader=new BackgroundLoader(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var o,s,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const t=((o=e.texturePreference)==null?void 0:o.resolution)??1,r=typeof t=="number"?[t]:t;let i=[];if((s=e.texturePreference)!=null&&s.format){const l=(a=e.texturePreference)==null?void 0:a.format;i=typeof l=="string"?[l]:l;for(const c of this._detections)await c.test()||(i=await c.remove(i))}else for(const l of this._detections)await l.test()&&(i=await l.add(i));this.resolver.prefer({params:{format:i,resolution:r}})}add(e,t,r){this.resolver.add(e,t,r)}async load(e,t){this._initialized||await this.init();const r=isSingleItem(e),i=convertToList(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),o=this.resolver.resolve(i),s=await this._mapLoadToResolve(o,t);return r?s[i[0]]:s}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),o={},s=Object.keys(i);let a=0,l=0;const c=()=>{t==null||t(++a/l)},u=s.map(h=>{const d=i[h];return l+=Object.keys(d).length,this._mapLoadToResolve(d,c).then(p=>{o[h]=p})});return await Promise.all(u),r?o[e[0]]:o}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Cache.get(e);const t={};for(let r=0;r<e.length;r++)t[r]=Cache.get(e[r]);return t}async _mapLoadToResolve(e,t){const r=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const o=await this.loader.load(r,t);this._backgroundLoader.active=!0;const s={};return r.forEach((a,l)=>{const c=o[a.src],u=[a.src];a.alias&&u.push(...a.alias),s[i[l]]=c,Cache.set(u,c)}),s}async unload(e){this._initialized||await this.init();const t=convertToList(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(t);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=convertToList(e);const t=this.resolver.resolveBundle(e),r=Object.keys(t).map(i=>this._unloadFromResolved(t[i]));await Promise.all(r)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(r=>{Cache.remove(r.src)}),await this.loader.unload(t)}get detections(){return this._detections}get preferWorkers(){return loadTextures.config.preferWorkers}set preferWorkers(e){loadTextures.config.preferWorkers=e}}const Assets=new AssetsClass;extensions$1.handleByList(ExtensionType.LoadParser,Assets.loader.parsers).handleByList(ExtensionType.ResolveParser,Assets.resolver.parsers).handleByList(ExtensionType.CacheParser,Assets.cache.parsers).handleByList(ExtensionType.DetectionParser,Assets.detections);const cacheTextureArray={extension:ExtensionType.CacheParser,test:n=>Array.isArray(n)&&n.every(e=>e instanceof Texture),getCacheableAssets:(n,e)=>{const t={};return n.forEach(r=>{e.forEach((i,o)=>{t[r+(o===0?"":o+1)]=i})}),t}};extensions$1.add(cacheTextureArray);const detectAvif={extension:{type:ExtensionType.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const n="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await settings.ADAPTER.fetch(n).then(t=>t.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async n=>[...n,"avif"],remove:async n=>n.filter(e=>e!=="avif")};extensions$1.add(detectAvif);const detectWebp={extension:{type:ExtensionType.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const n="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await settings.ADAPTER.fetch(n).then(t=>t.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async n=>[...n,"webp"],remove:async n=>n.filter(e=>e!=="webp")};extensions$1.add(detectWebp);const imageFormats=["png","jpg","jpeg"],detectDefaults={extension:{type:ExtensionType.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async n=>[...n,...imageFormats],remove:async n=>n.filter(e=>!imageFormats.includes(e))};extensions$1.add(detectDefaults);const resolveTextureUrl={extension:ExtensionType.ResolveParser,test:loadTextures.test,parse:n=>{var e;return{resolution:parseFloat(((e=settings.RETINA_PREFIX.exec(n))==null?void 0:e[1])??"1"),format:n.split(".").pop(),src:n}}};extensions$1.add(resolveTextureUrl);var INTERNAL_FORMATS=(n=>(n[n.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",n[n.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",n[n.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",n[n.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",n[n.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",n[n.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",n[n.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",n[n.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",n[n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",n[n.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",n[n.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",n[n.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",n))(INTERNAL_FORMATS||{});const INTERNAL_FORMAT_TO_BYTES_PER_PIXEL={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1};let storedGl,extensions;function getCompressedTextureExtensions(){extensions={s3tc:storedGl.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:storedGl.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:storedGl.getExtension("WEBGL_compressed_texture_etc"),etc1:storedGl.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:storedGl.getExtension("WEBGL_compressed_texture_pvrtc")||storedGl.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:storedGl.getExtension("WEBGL_compressed_texture_atc"),astc:storedGl.getExtension("WEBGL_compressed_texture_astc")}}const detectCompressedTextures={extension:{type:ExtensionType.DetectionParser,priority:2},test:async()=>{const e=settings.ADAPTER.createCanvas().getContext("webgl");return e?(storedGl=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async n=>{extensions||getCompressedTextureExtensions();const e=[];for(const t in extensions)extensions[t]&&e.push(t);return[...e,...n]},remove:async n=>(extensions||getCompressedTextureExtensions(),n.filter(e=>!(e in extensions)))};extensions$1.add(detectCompressedTextures);class BlobResource extends BufferResource{constructor(e,t={width:1,height:1,autoLoad:!0}){let r,i;typeof e=="string"?(r=e,i=new Uint8Array):(r=null,i=e),super(i,t),this.origin=r,this.buffer=i?new ViewableBuffer(i):null,this.origin&&t.autoLoad!==!1&&this.load(),i!=null&&i.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const r=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(r),this.buffer=new ViewableBuffer(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),this}}class CompressedTextureResource extends BlobResource{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=CompressedTextureResource._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||CompressedTextureResource._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,r){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let s=0,a=this.levels;s<a;s++){const{levelID:l,levelWidth:c,levelHeight:u,levelBuffer:h}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,c,u,0,h)}return!0}onBlobLoaded(){this._levelBuffers=CompressedTextureResource._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,t,r,i,o,s,a){const l=new Array(r);let c=e.byteOffset,u=s,h=a,d=u+i-1&~(i-1),p=h+o-1&~(o-1),f=d*p*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t];for(let m=0;m<r;m++)l[m]={levelID:m,levelWidth:r>1?u:d,levelHeight:r>1?h:p,levelBuffer:new Uint8Array(e.buffer,c,f)},c+=f,u=u>>1||1,h=h>>1||1,d=u+i-1&~(i-1),p=h+o-1&~(o-1),f=d*p*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t];return l}}const DDS_MAGIC_SIZE=4,DDS_HEADER_SIZE=124,DDS_HEADER_PF_SIZE=32,DDS_HEADER_DX10_SIZE=20,DDS_MAGIC=542327876,DDS_FIELDS={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},DDS_PF_FIELDS={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},DDS_DX10_FIELDS={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},PF_FLAGS=1,DDPF_ALPHA=2,DDPF_FOURCC=4,DDPF_RGB=64,DDPF_YUV=512,DDPF_LUMINANCE=131072,FOURCC_DXT1=827611204,FOURCC_DXT3=861165636,FOURCC_DXT5=894720068,FOURCC_DX10=808540228,DDS_RESOURCE_MISC_TEXTURECUBE=4,FOURCC_TO_FORMAT={[FOURCC_DXT1]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,[FOURCC_DXT3]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,[FOURCC_DXT5]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT},DXGI_TO_FORMAT={[70]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,[77]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function parseDDS(n){const e=new Uint32Array(n);if(e[0]!==DDS_MAGIC)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(n,0,DDS_HEADER_SIZE/Uint32Array.BYTES_PER_ELEMENT),i=r[DDS_FIELDS.HEIGHT],o=r[DDS_FIELDS.WIDTH],s=r[DDS_FIELDS.MIPMAP_COUNT],a=new Uint32Array(n,DDS_FIELDS.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,DDS_HEADER_PF_SIZE/Uint32Array.BYTES_PER_ELEMENT),l=a[PF_FLAGS];if(l&DDPF_FOURCC){const c=a[DDS_PF_FIELDS.FOURCC];if(c!==FOURCC_DX10){const y=FOURCC_TO_FORMAT[c],b=DDS_MAGIC_SIZE+DDS_HEADER_SIZE,S=new Uint8Array(n,b);return[new CompressedTextureResource(S,{format:y,width:o,height:i,levels:s})]}const u=DDS_MAGIC_SIZE+DDS_HEADER_SIZE,h=new Uint32Array(e.buffer,u,DDS_HEADER_DX10_SIZE/Uint32Array.BYTES_PER_ELEMENT),d=h[DDS_DX10_FIELDS.DXGI_FORMAT],p=h[DDS_DX10_FIELDS.RESOURCE_DIMENSION],f=h[DDS_DX10_FIELDS.MISC_FLAG],m=h[DDS_DX10_FIELDS.ARRAY_SIZE],g=DXGI_TO_FORMAT[d];if(g===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${d}`);if(f===DDS_RESOURCE_MISC_TEXTURECUBE)throw new Error("DDSParser does not support cubemap textures");if(p===6)throw new Error("DDSParser does not supported 3D texture data");const v=new Array,_=DDS_MAGIC_SIZE+DDS_HEADER_SIZE+DDS_HEADER_DX10_SIZE;if(m===1)v.push(new Uint8Array(n,_));else{const y=INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[g];let b=0,S=o,T=i;for(let R=0;R<s;R++){const Z=Math.max(1,S+3&-4),L=Math.max(1,T+3&-4),G=Z*L*y;b+=G,S=S>>>1,T=T>>>1}let A=_;for(let R=0;R<m;R++)v.push(new Uint8Array(n,A,b)),A+=b}return v.map(y=>new CompressedTextureResource(y,{format:g,width:o,height:i,levels:s}))}throw l&DDPF_RGB?new Error("DDSParser does not support uncompressed texture data."):l&DDPF_YUV?new Error("DDSParser does not supported YUV uncompressed texture data."):l&DDPF_LUMINANCE?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&DDPF_ALPHA?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const FILE_IDENTIFIER=[171,75,84,88,32,49,49,187,13,10,26,10],ENDIANNESS=67305985,KTX_FIELDS={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},FILE_HEADER_SIZE=64,TYPES_TO_BYTES_PER_COMPONENT={[TYPES.UNSIGNED_BYTE]:1,[TYPES.UNSIGNED_SHORT]:2,[TYPES.INT]:4,[TYPES.UNSIGNED_INT]:4,[TYPES.FLOAT]:4,[TYPES.HALF_FLOAT]:8},FORMATS_TO_COMPONENTS={[FORMATS.RGBA]:4,[FORMATS.RGB]:3,[FORMATS.RG]:2,[FORMATS.RED]:1,[FORMATS.LUMINANCE]:1,[FORMATS.LUMINANCE_ALPHA]:2,[FORMATS.ALPHA]:1},TYPES_TO_BYTES_PER_PIXEL={[TYPES.UNSIGNED_SHORT_4_4_4_4]:2,[TYPES.UNSIGNED_SHORT_5_5_5_1]:2,[TYPES.UNSIGNED_SHORT_5_6_5]:2};function parseKTX(n,e,t=!1){const r=new DataView(e);if(!validate(n,r))return null;const i=r.getUint32(KTX_FIELDS.ENDIANNESS,!0)===ENDIANNESS,o=r.getUint32(KTX_FIELDS.GL_TYPE,i),s=r.getUint32(KTX_FIELDS.GL_FORMAT,i),a=r.getUint32(KTX_FIELDS.GL_INTERNAL_FORMAT,i),l=r.getUint32(KTX_FIELDS.PIXEL_WIDTH,i),c=r.getUint32(KTX_FIELDS.PIXEL_HEIGHT,i)||1,u=r.getUint32(KTX_FIELDS.PIXEL_DEPTH,i)||1,h=r.getUint32(KTX_FIELDS.NUMBER_OF_ARRAY_ELEMENTS,i)||1,d=r.getUint32(KTX_FIELDS.NUMBER_OF_FACES,i),p=r.getUint32(KTX_FIELDS.NUMBER_OF_MIPMAP_LEVELS,i),f=r.getUint32(KTX_FIELDS.BYTES_OF_KEY_VALUE_DATA,i);if(c===0||u!==1)throw new Error("Only 2D textures are supported");if(d!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(h!==1)throw new Error("WebGL does not support array textures");const m=4,g=4,v=l+3&-4,_=c+3&-4,y=new Array(h);let b=l*c;o===0&&(b=v*_);let S;if(o!==0?TYPES_TO_BYTES_PER_COMPONENT[o]?S=TYPES_TO_BYTES_PER_COMPONENT[o]*FORMATS_TO_COMPONENTS[s]:S=TYPES_TO_BYTES_PER_PIXEL[o]:S=INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[a],S===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const T=t?parseKvData(r,f,i):null;let R=b*S,Z=l,L=c,G=v,j=_,M=FILE_HEADER_SIZE+f;for(let E=0;E<p;E++){const I=r.getUint32(M,i);let U=M+4;for(let N=0;N<h;N++){let Y=y[N];Y||(Y=y[N]=new Array(p)),Y[E]={levelID:E,levelWidth:p>1||o!==0?Z:G,levelHeight:p>1||o!==0?L:j,levelBuffer:new Uint8Array(e,U,R)},U+=R}M+=I+4,M=M%4!==0?M+4-M%4:M,Z=Z>>1||1,L=L>>1||1,G=Z+m-1&~(m-1),j=L+g-1&~(g-1),R=G*j*S}return o!==0?{uncompressed:y.map(E=>{let I=E[0].levelBuffer,U=!1;return o===TYPES.FLOAT?I=new Float32Array(E[0].levelBuffer.buffer,E[0].levelBuffer.byteOffset,E[0].levelBuffer.byteLength/4):o===TYPES.UNSIGNED_INT?(U=!0,I=new Uint32Array(E[0].levelBuffer.buffer,E[0].levelBuffer.byteOffset,E[0].levelBuffer.byteLength/4)):o===TYPES.INT&&(U=!0,I=new Int32Array(E[0].levelBuffer.buffer,E[0].levelBuffer.byteOffset,E[0].levelBuffer.byteLength/4)),{resource:new BufferResource(I,{width:E[0].levelWidth,height:E[0].levelHeight}),type:o,format:U?convertFormatToInteger(s):s}}),kvData:T}:{compressed:y.map(E=>new CompressedTextureResource(null,{format:a,width:l,height:c,levels:p,levelBuffers:E})),kvData:T}}function validate(n,e){for(let t=0;t<FILE_IDENTIFIER.length;t++)if(e.getUint8(t)!==FILE_IDENTIFIER[t])return console.error(`${n} is not a valid *.ktx file!`),!1;return!0}function convertFormatToInteger(n){switch(n){case FORMATS.RGBA:return FORMATS.RGBA_INTEGER;case FORMATS.RGB:return FORMATS.RGB_INTEGER;case FORMATS.RG:return FORMATS.RG_INTEGER;case FORMATS.RED:return FORMATS.RED_INTEGER;default:return n}}function parseKvData(n,e,t){const r=new Map;let i=0;for(;i<e;){const o=n.getUint32(FILE_HEADER_SIZE+i,t),s=FILE_HEADER_SIZE+i+4,a=3-(o+3)%4;if(o===0||o>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<o&&n.getUint8(s+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const c=new TextDecoder().decode(new Uint8Array(n.buffer,s,l)),u=new DataView(n.buffer,s+l+1,o-l-1);r.set(c,u),i+=4+o+a}return r}const loadDDS={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.High},test(n){return checkExtension(n,".dds")},async load(n,e,t){const i=await(await settings.ADAPTER.fetch(n)).arrayBuffer(),s=parseDDS(i).map(a=>{const l=new BaseTexture(a,{mipmap:MIPMAP_MODES.OFF,alphaMode:ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:getResolutionOfUrl(n),...e.data});return createTexture(l,t,n)});return s.length===1?s[0]:s},unload(n){Array.isArray(n)?n.forEach(e=>e.destroy(!0)):n.destroy(!0)}};extensions$1.add(loadDDS);const loadKTX={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.High},test(n){return checkExtension(n,".ktx")},async load(n,e,t){const i=await(await settings.ADAPTER.fetch(n)).arrayBuffer(),{compressed:o,uncompressed:s,kvData:a}=parseKTX(n,i),l=o??s,c={mipmap:MIPMAP_MODES.OFF,alphaMode:ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:getResolutionOfUrl(n),...e.data},u=l.map(h=>{l===s&&Object.assign(c,{type:h.type,format:h.format});const d=new BaseTexture(h,c);return d.ktxKeyValueData=a,createTexture(d,t,n)});return u.length===1?u[0]:u},unload(n){Array.isArray(n)?n.forEach(e=>e.destroy(!0)):n.destroy(!0)}};extensions$1.add(loadKTX);const resolveCompressedTextureUrl={extension:ExtensionType.ResolveParser,test:n=>{const t=n.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(t)},parse:n=>{var r,i;if(n.split("?")[0].split(".").pop()==="ktx"){const o=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(o.some(s=>n.endsWith(s)))return{resolution:parseFloat(((r=settings.RETINA_PREFIX.exec(n))==null?void 0:r[1])??"1"),format:o.find(s=>n.endsWith(s)),src:n}}return{resolution:parseFloat(((i=settings.RETINA_PREFIX.exec(n))==null?void 0:i[1])??"1"),format:n.split(".").pop(),src:n}}};extensions$1.add(resolveCompressedTextureUrl);const TEMP_RECT=new Rectangle,BYTES_PER_PIXEL=4,_Extract=class{constructor(n){this.renderer=n}async image(n,e,t){const r=new Image;return r.src=await this.base64(n,e,t),r}async base64(n,e,t){const r=this.canvas(n);if(r.toDataURL!==void 0)return r.toDataURL(e,t);if(r.convertToBlob!==void 0){const i=await r.convertToBlob({type:e,quality:t});return await new Promise(o=>{const s=new FileReader;s.onload=()=>o(s.result),s.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(n,e){const{pixels:t,width:r,height:i,flipY:o}=this._rawPixels(n,e);let s=new CanvasRenderTarget(r,i,1);const a=s.context.getImageData(0,0,r,i);if(_Extract.arrayPostDivide(t,a.data),s.context.putImageData(a,0,0),o){const l=new CanvasRenderTarget(s.width,s.height,1);l.context.scale(1,-1),l.context.drawImage(s.canvas,0,-i),s.destroy(),s=l}return s.canvas}pixels(n,e){const{pixels:t}=this._rawPixels(n,e);return _Extract.arrayPostDivide(t,t),t}_rawPixels(n,e){const t=this.renderer;let r,i=!1,o,s=!1;if(n)if(n instanceof RenderTexture)o=n;else{const h=t.context.webGLVersion>=2?t.multisample:MSAA_QUALITY.NONE;if(o=this.renderer.generateTexture(n,{multisample:h}),h!==MSAA_QUALITY.NONE){const d=RenderTexture.create({width:o.width,height:o.height});t.framebuffer.bind(o.framebuffer),t.framebuffer.blit(d.framebuffer),t.framebuffer.bind(null),o.destroy(!0),o=d}s=!0}o?(r=o.baseTexture.resolution,e=e??o.frame,i=!1,t.renderTexture.bind(o)):(r=t.resolution,e||(e=TEMP_RECT,e.width=t.width,e.height=t.height),i=!0,t.renderTexture.bind(null));const a=Math.round(e.width*r),l=Math.round(e.height*r),c=new Uint8Array(BYTES_PER_PIXEL*a*l),u=t.gl;return u.readPixels(Math.round(e.x*r),Math.round(e.y*r),a,l,u.RGBA,u.UNSIGNED_BYTE,c),s&&o.destroy(!0),{pixels:c,width:a,height:l,flipY:i}}destroy(){this.renderer=null}static arrayPostDivide(n,e){for(let t=0;t<n.length;t+=4){const r=e[t+3]=n[t+3];r!==0?(e[t]=Math.round(Math.min(n[t]*255/r,255)),e[t+1]=Math.round(Math.min(n[t+1]*255/r,255)),e[t+2]=Math.round(Math.min(n[t+2]*255/r,255))):(e[t]=n[t],e[t+1]=n[t+1],e[t+2]=n[t+2])}}};let Extract=_Extract;Extract.extension={name:"extract",type:ExtensionType.RendererSystem};extensions$1.add(Extract);const buildCircle={build(n){const e=n.points;let t,r,i,o,s,a;if(n.type===SHAPES.CIRC){const f=n.shape;t=f.x,r=f.y,s=a=f.radius,i=o=0}else if(n.type===SHAPES.ELIP){const f=n.shape;t=f.x,r=f.y,s=f.width,a=f.height,i=o=0}else{const f=n.shape,m=f.width/2,g=f.height/2;t=f.x+m,r=f.y+g,s=a=Math.max(0,Math.min(f.radius,Math.min(m,g))),i=m-s,o=g-a}if(!(s>=0&&a>=0&&i>=0&&o>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(s+a)),c=l*8+(i?4:0)+(o?4:0);if(e.length=c,c===0)return;if(l===0){e.length=8,e[0]=e[6]=t+i,e[1]=e[3]=r+o,e[2]=e[4]=t-i,e[5]=e[7]=r-o;return}let u=0,h=l*4+(i?2:0)+2,d=h,p=c;{const f=i+s,m=o,g=t+f,v=t-f,_=r+m;if(e[u++]=g,e[u++]=_,e[--h]=_,e[--h]=v,o){const y=r-m;e[d++]=v,e[d++]=y,e[--p]=y,e[--p]=g}}for(let f=1;f<l;f++){const m=Math.PI/2*(f/l),g=i+Math.cos(m)*s,v=o+Math.sin(m)*a,_=t+g,y=t-g,b=r+v,S=r-v;e[u++]=_,e[u++]=b,e[--h]=b,e[--h]=y,e[d++]=y,e[d++]=S,e[--p]=S,e[--p]=_}{const f=i,m=o+a,g=t+f,v=t-f,_=r+m,y=r-m;e[u++]=g,e[u++]=_,e[--p]=y,e[--p]=g,i&&(e[u++]=v,e[u++]=_,e[--p]=y,e[--p]=v)}},triangulate(n,e){const t=n.points,r=e.points,i=e.indices;if(t.length===0)return;let o=r.length/2;const s=o;let a,l;if(n.type!==SHAPES.RREC){const u=n.shape;a=u.x,l=u.y}else{const u=n.shape;a=u.x+u.width/2,l=u.y+u.height/2}const c=n.matrix;r.push(n.matrix?c.a*a+c.c*l+c.tx:a,n.matrix?c.b*a+c.d*l+c.ty:l),o++,r.push(t[0],t[1]);for(let u=2;u<t.length;u+=2)r.push(t[u],t[u+1]),i.push(o++,s,o);i.push(s+1,s,o)}};function fixOrientation(n,e=!1){const t=n.length;if(t<6)return;let r=0;for(let i=0,o=n[t-2],s=n[t-1];i<t;i+=2){const a=n[i],l=n[i+1];r+=(a-o)*(l+s),o=a,s=l}if(!e&&r>0||e&&r<=0){const i=t/2;for(let o=i+i%2;o<t;o+=2){const s=t-o-2,a=t-o-1,l=o,c=o+1;[n[s],n[l]]=[n[l],n[s]],[n[a],n[c]]=[n[c],n[a]]}}}const buildPoly={build(n){n.points=n.shape.points.slice()},triangulate(n,e){let t=n.points;const r=n.holes,i=e.points,o=e.indices;if(t.length>=6){fixOrientation(t,!1);const s=[];for(let c=0;c<r.length;c++){const u=r[c];fixOrientation(u.points,!0),s.push(t.length/2),t=t.concat(u.points)}const a=earcutExports(t,s,2);if(!a)return;const l=i.length/2;for(let c=0;c<a.length;c+=3)o.push(a[c]+l),o.push(a[c+1]+l),o.push(a[c+2]+l);for(let c=0;c<t.length;c++)i.push(t[c])}}},buildRectangle={build(n){const e=n.shape,t=e.x,r=e.y,i=e.width,o=e.height,s=n.points;s.length=0,i>=0&&o>=0&&s.push(t,r,t+i,r,t+i,r+o,t,r+o)},triangulate(n,e){const t=n.points,r=e.points;if(t.length===0)return;const i=r.length/2;r.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},buildRoundedRectangle={build(n){buildCircle.build(n)},triangulate(n,e){buildCircle.triangulate(n,e)}};var LINE_JOIN=(n=>(n.MITER="miter",n.BEVEL="bevel",n.ROUND="round",n))(LINE_JOIN||{}),LINE_CAP=(n=>(n.BUTT="butt",n.ROUND="round",n.SQUARE="square",n))(LINE_CAP||{});const curves={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(n,e=20){if(!this.adaptive||!n||isNaN(n))return e;let t=Math.ceil(n/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}};class ArcUtils{static curveTo(e,t,r,i,o,s){const a=s[s.length-2],c=s[s.length-1]-t,u=a-e,h=i-t,d=r-e,p=Math.abs(c*d-u*h);if(p<1e-8||o===0)return(s[s.length-2]!==e||s[s.length-1]!==t)&&s.push(e,t),null;const f=c*c+u*u,m=h*h+d*d,g=c*h+u*d,v=o*Math.sqrt(f)/p,_=o*Math.sqrt(m)/p,y=v*g/f,b=_*g/m,S=v*d+_*u,T=v*h+_*c,A=u*(_+y),R=c*(_+y),Z=d*(v+b),L=h*(v+b),G=Math.atan2(R-T,A-S),j=Math.atan2(L-T,Z-S);return{cx:S+e,cy:T+t,radius:o,startAngle:G,endAngle:j,anticlockwise:u*h>d*c}}static arc(e,t,r,i,o,s,a,l,c){const u=a-s,h=curves._segmentsCount(Math.abs(u)*o,Math.ceil(Math.abs(u)/PI_2)*40),d=u/(h*2),p=d*2,f=Math.cos(d),m=Math.sin(d),g=h-1,v=g%1/g;for(let _=0;_<=g;++_){const y=_+v*_,b=d+s+p*y,S=Math.cos(b),T=-Math.sin(b);c.push((f*S+m*T)*o+r,(f*-T+m*S)*o+i)}}}class BatchPart{constructor(){this.reset()}begin(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class BezierUtils{static curveLength(e,t,r,i,o,s,a,l){let u=0,h=0,d=0,p=0,f=0,m=0,g=0,v=0,_=0,y=0,b=0,S=e,T=t;for(let A=1;A<=10;++A)h=A/10,d=h*h,p=d*h,f=1-h,m=f*f,g=m*f,v=g*e+3*m*h*r+3*f*d*o+p*a,_=g*t+3*m*h*i+3*f*d*s+p*l,y=S-v,b=T-_,S=v,T=_,u+=Math.sqrt(y*y+b*b);return u}static curveTo(e,t,r,i,o,s,a){const l=a[a.length-2],c=a[a.length-1];a.length-=2;const u=curves._segmentsCount(BezierUtils.curveLength(l,c,e,t,r,i,o,s));let h=0,d=0,p=0,f=0,m=0;a.push(l,c);for(let g=1,v=0;g<=u;++g)v=g/u,h=1-v,d=h*h,p=d*h,f=v*v,m=f*v,a.push(p*l+3*d*v*e+3*h*f*r+m*o,p*c+3*d*v*t+3*h*f*i+m*s)}}function square(n,e,t,r,i,o,s,a){const l=n-t*i,c=e-r*i,u=n+t*o,h=e+r*o;let d,p;s?(d=r,p=-t):(d=-r,p=t);const f=l+d,m=c+p,g=u+d,v=h+p;return a.push(f,m),a.push(g,v),2}function round(n,e,t,r,i,o,s,a){const l=t-n,c=r-e;let u=Math.atan2(l,c),h=Math.atan2(i-n,o-e);a&&u<h?u+=Math.PI*2:!a&&u>h&&(h+=Math.PI*2);let d=u;const p=h-u,f=Math.abs(p),m=Math.sqrt(l*l+c*c),g=(15*f*Math.sqrt(m)/Math.PI>>0)+1,v=p/g;if(d+=v,a){s.push(n,e),s.push(t,r);for(let _=1,y=d;_<g;_++,y+=v)s.push(n,e),s.push(n+Math.sin(y)*m,e+Math.cos(y)*m);s.push(n,e),s.push(i,o)}else{s.push(t,r),s.push(n,e);for(let _=1,y=d;_<g;_++,y+=v)s.push(n+Math.sin(y)*m,e+Math.cos(y)*m),s.push(n,e);s.push(i,o),s.push(n,e)}return g*2}function buildNonNativeLine(n,e){const t=n.shape;let r=n.points||t.points.slice();const i=e.closePointEps;if(r.length===0)return;const o=n.lineStyle,s=new Point(r[0],r[1]),a=new Point(r[r.length-2],r[r.length-1]),l=t.type!==SHAPES.POLY||t.closeStroke,c=Math.abs(s.x-a.x)<i&&Math.abs(s.y-a.y)<i;if(l){r=r.slice(),c&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));const N=(s.x+a.x)*.5,Y=(a.y+s.y)*.5;r.unshift(N,Y),r.push(N,Y)}const u=e.points,h=r.length/2;let d=r.length;const p=u.length/2,f=o.width/2,m=f*f,g=o.miterLimit*o.miterLimit;let v=r[0],_=r[1],y=r[2],b=r[3],S=0,T=0,A=-(_-b),R=v-y,Z=0,L=0,G=Math.sqrt(A*A+R*R);A/=G,R/=G,A*=f,R*=f;const j=o.alignment,M=(1-j)*2,E=j*2;l||(o.cap===LINE_CAP.ROUND?d+=round(v-A*(M-E)*.5,_-R*(M-E)*.5,v-A*M,_-R*M,v+A*E,_+R*E,u,!0)+2:o.cap===LINE_CAP.SQUARE&&(d+=square(v,_,A,R,M,E,!0,u))),u.push(v-A*M,_-R*M),u.push(v+A*E,_+R*E);for(let N=1;N<h-1;++N){v=r[(N-1)*2],_=r[(N-1)*2+1],y=r[N*2],b=r[N*2+1],S=r[(N+1)*2],T=r[(N+1)*2+1],A=-(_-b),R=v-y,G=Math.sqrt(A*A+R*R),A/=G,R/=G,A*=f,R*=f,Z=-(b-T),L=y-S,G=Math.sqrt(Z*Z+L*L),Z/=G,L/=G,Z*=f,L*=f;const Y=y-v,D=_-b,z=y-S,$=T-b,rt=Y*z+D*$,ot=D*z-$*Y,st=ot<0;if(Math.abs(ot)<.001*Math.abs(rt)){u.push(y-A*M,b-R*M),u.push(y+A*E,b+R*E),rt>=0&&(o.join===LINE_JOIN.ROUND?d+=round(y,b,y-A*M,b-R*M,y-Z*M,b-L*M,u,!1)+4:d+=2,u.push(y-Z*E,b-L*E),u.push(y+Z*M,b+L*M));continue}const tt=(-A+v)*(-R+b)-(-A+y)*(-R+_),nt=(-Z+S)*(-L+b)-(-Z+y)*(-L+T),Et=(Y*nt-z*tt)/ot,yt=($*tt-D*nt)/ot,Gt=(Et-y)*(Et-y)+(yt-b)*(yt-b),Nt=y+(Et-y)*M,jt=b+(yt-b)*M,Rt=y-(Et-y)*E,Dt=b-(yt-b)*E,Ct=Math.min(Y*Y+D*D,z*z+$*$),Q=st?M:E,ft=Ct+Q*Q*m;Gt<=ft?o.join===LINE_JOIN.BEVEL||Gt/m>g?(st?(u.push(Nt,jt),u.push(y+A*E,b+R*E),u.push(Nt,jt),u.push(y+Z*E,b+L*E)):(u.push(y-A*M,b-R*M),u.push(Rt,Dt),u.push(y-Z*M,b-L*M),u.push(Rt,Dt)),d+=2):o.join===LINE_JOIN.ROUND?st?(u.push(Nt,jt),u.push(y+A*E,b+R*E),d+=round(y,b,y+A*E,b+R*E,y+Z*E,b+L*E,u,!0)+4,u.push(Nt,jt),u.push(y+Z*E,b+L*E)):(u.push(y-A*M,b-R*M),u.push(Rt,Dt),d+=round(y,b,y-A*M,b-R*M,y-Z*M,b-L*M,u,!1)+4,u.push(y-Z*M,b-L*M),u.push(Rt,Dt)):(u.push(Nt,jt),u.push(Rt,Dt)):(u.push(y-A*M,b-R*M),u.push(y+A*E,b+R*E),o.join===LINE_JOIN.ROUND?st?d+=round(y,b,y+A*E,b+R*E,y+Z*E,b+L*E,u,!0)+2:d+=round(y,b,y-A*M,b-R*M,y-Z*M,b-L*M,u,!1)+2:o.join===LINE_JOIN.MITER&&Gt/m<=g&&(st?(u.push(Rt,Dt),u.push(Rt,Dt)):(u.push(Nt,jt),u.push(Nt,jt)),d+=2),u.push(y-Z*M,b-L*M),u.push(y+Z*E,b+L*E),d+=2)}v=r[(h-2)*2],_=r[(h-2)*2+1],y=r[(h-1)*2],b=r[(h-1)*2+1],A=-(_-b),R=v-y,G=Math.sqrt(A*A+R*R),A/=G,R/=G,A*=f,R*=f,u.push(y-A*M,b-R*M),u.push(y+A*E,b+R*E),l||(o.cap===LINE_CAP.ROUND?d+=round(y-A*(M-E)*.5,b-R*(M-E)*.5,y-A*M,b-R*M,y+A*E,b+R*E,u,!1)+2:o.cap===LINE_CAP.SQUARE&&(d+=square(y,b,A,R,M,E,!1,u)));const I=e.indices,U=curves.epsilon*curves.epsilon;for(let N=p;N<d+p-2;++N)v=u[N*2],_=u[N*2+1],y=u[(N+1)*2],b=u[(N+1)*2+1],S=u[(N+2)*2],T=u[(N+2)*2+1],!(Math.abs(v*(b-T)+y*(T-_)+S*(_-b))<U)&&I.push(N,N+1,N+2)}function buildNativeLine(n,e){let t=0;const r=n.shape,i=n.points||r.points,o=r.type!==SHAPES.POLY||r.closeStroke;if(i.length===0)return;const s=e.points,a=e.indices,l=i.length/2,c=s.length/2;let u=c;for(s.push(i[0],i[1]),t=1;t<l;t++)s.push(i[t*2],i[t*2+1]),a.push(u,u+1),u++;o&&a.push(u,c)}function buildLine(n,e){n.lineStyle.native?buildNativeLine(n,e):buildNonNativeLine(n,e)}class QuadraticUtils{static curveLength(e,t,r,i,o,s){const a=e-2*r+o,l=t-2*i+s,c=2*r-2*e,u=2*i-2*t,h=4*(a*a+l*l),d=4*(a*c+l*u),p=c*c+u*u,f=2*Math.sqrt(h+d+p),m=Math.sqrt(h),g=2*h*m,v=2*Math.sqrt(p),_=d/m;return(g*f+m*d*(f-v)+(4*p*h-d*d)*Math.log((2*m+_+f)/(_+v)))/(4*g)}static curveTo(e,t,r,i,o){const s=o[o.length-2],a=o[o.length-1],l=curves._segmentsCount(QuadraticUtils.curveLength(s,a,e,t,r,i));let c=0,u=0;for(let h=1;h<=l;++h){const d=h/l;c=s+(e-s)*d,u=a+(t-a)*d,o.push(c+(e+(r-e)*d-c)*d,u+(t+(i-t)*d-u)*d)}}}const FILL_COMMANDS={[SHAPES.POLY]:buildPoly,[SHAPES.CIRC]:buildCircle,[SHAPES.ELIP]:buildCircle,[SHAPES.RECT]:buildRectangle,[SHAPES.RREC]:buildRoundedRectangle},BATCH_POOL=[],DRAW_CALL_POOL=[];class GraphicsData{constructor(e,t=null,r=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=i,this.type=e.type}clone(){return new GraphicsData(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const tmpPoint=new Point,_GraphicsGeometry=class extends BatchGeometry{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Bounds,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[n]);this.drawCalls.length=0;for(let n=0;n<this.batches.length;n++){const e=this.batches[n];e.reset(),BATCH_POOL.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(n,e=null,t=null,r=null){const i=new GraphicsData(n,e,t,r);return this.graphicsData.push(i),this.dirty++,this}drawHole(n,e=null){if(!this.graphicsData.length)return null;const t=new GraphicsData(n,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return t.lineStyle=r.lineStyle,r.holes.push(t),this.dirty++,this}destroy(){super.destroy();for(let n=0;n<this.graphicsData.length;++n)this.graphicsData[n].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(n){const e=this.graphicsData;for(let t=0;t<e.length;++t){const r=e[t];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(n,tmpPoint):tmpPoint.copyFrom(n),r.shape.contains(tmpPoint.x,tmpPoint.y))){let i=!1;if(r.holes){for(let o=0;o<r.holes.length;o++)if(r.holes[o].shape.contains(tmpPoint.x,tmpPoint.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const n=this.uvs,e=this.graphicsData;let t=null,r=null;this.batches.length>0&&(t=this.batches[this.batches.length-1],r=t.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],c=l.fillStyle,u=l.lineStyle;FILL_COMMANDS[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(c.visible||u.visible)&&this.processHoles(l.holes);for(let d=0;d<2;d++){const p=d===0?c:u;if(!p.visible)continue;const f=p.texture.baseTexture,m=this.indices.length,g=this.points.length/2;f.wrapMode=WRAP_MODES.REPEAT,d===0?this.processFill(l):this.processLine(l);const v=this.points.length/2-g;v!==0&&(t&&!this._compareStyles(r,p)&&(t.end(m,g),t=null),t||(t=BATCH_POOL.pop()||new BatchPart,t.begin(p,m,g),this.batches.push(t),r=p),this.addUvs(this.points,n,p.texture,g,v,p.matrix))}}const i=this.indices.length,o=this.points.length/2;if(t&&t.end(i,o),this.batches.length===0){this.batchable=!0;return}const s=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&s===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=s?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(n,e){return!(!n||!e||n.texture.baseTexture!==e.texture.baseTexture||n.color+n.alpha!==e.color+e.alpha||!!n.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let n=0,e=this.graphicsData.length;n<e;n++){const t=this.graphicsData[n],r=t.fillStyle,i=t.lineStyle;if(r&&!r.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const n=this.batches;for(let e=0,t=n.length;e<t;e++){const r=n[e];for(let i=0;i<r.size;i++){const o=r.start+i;this.indicesUint16[o]=this.indicesUint16[o]-r.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const n=this.batches;for(let e=0;e<n.length;e++)if(n[e].style.native)return!1;return this.points.length<_GraphicsGeometry.BATCHABLE_SIZE*2}buildDrawCalls(){let n=++BaseTexture._globalBatch;for(let u=0;u<this.drawCalls.length;u++)this.drawCalls[u].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[u]);this.drawCalls.length=0;const e=this.colors,t=this.textureIds;let r=DRAW_CALL_POOL.pop();r||(r=new BatchDrawCall,r.texArray=new BatchTextureArray),r.texArray.count=0,r.start=0,r.size=0,r.type=DRAW_MODES.TRIANGLES;let i=0,o=null,s=0,a=!1,l=DRAW_MODES.TRIANGLES,c=0;this.drawCalls.push(r);for(let u=0;u<this.batches.length;u++){const h=this.batches[u],d=8,p=h.style,f=p.texture.baseTexture;a!==!!p.native&&(a=!!p.native,l=a?DRAW_MODES.LINES:DRAW_MODES.TRIANGLES,o=null,i=d,n++),o!==f&&(o=f,f._batchEnabled!==n&&(i===d&&(n++,i=0,r.size>0&&(r=DRAW_CALL_POOL.pop(),r||(r=new BatchDrawCall,r.texArray=new BatchTextureArray),this.drawCalls.push(r)),r.start=c,r.size=0,r.texArray.count=0,r.type=l),f.touched=1,f._batchEnabled=n,f._batchLocation=i,f.wrapMode=WRAP_MODES.REPEAT,r.texArray.elements[r.texArray.count++]=f,i++)),r.size+=h.size,c+=h.size,s=f._batchLocation,this.addColors(e,p.color,p.alpha,h.attribSize,h.attribStart),this.addTextureIds(t,s,h.attribSize,h.attribStart)}BaseTexture._globalBatch=n,this.packAttributes()}packAttributes(){const n=this.points,e=this.uvs,t=this.colors,r=this.textureIds,i=new ArrayBuffer(n.length*3*4),o=new Float32Array(i),s=new Uint32Array(i);let a=0;for(let l=0;l<n.length/2;l++)o[a++]=n[l*2],o[a++]=n[l*2+1],o[a++]=e[l*2],o[a++]=e[l*2+1],s[a++]=t[l],o[a++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(n){n.holes.length?buildPoly.triangulate(n,this):FILL_COMMANDS[n.type].triangulate(n,this)}processLine(n){buildLine(n,this);for(let e=0;e<n.holes.length;e++)buildLine(n.holes[e],this)}processHoles(n){for(let e=0;e<n.length;e++){const t=n[e];FILL_COMMANDS[t.type].build(t),t.matrix&&this.transformPoints(t.points,t.matrix)}}calculateBounds(){const n=this._bounds;n.clear(),n.addVertexData(this.points,0,this.points.length),n.pad(this.boundsPadding,this.boundsPadding)}transformPoints(n,e){for(let t=0;t<n.length/2;t++){const r=n[t*2],i=n[t*2+1];n[t*2]=e.a*r+e.c*i+e.tx,n[t*2+1]=e.b*r+e.d*i+e.ty}}addColors(n,e,t,r,i=0){const o=(e>>16)+(e&65280)+((e&255)<<16),s=premultiplyTint(o,t);n.length=Math.max(n.length,i+r);for(let a=0;a<r;a++)n[i+a]=s}addTextureIds(n,e,t,r=0){n.length=Math.max(n.length,r+t);for(let i=0;i<t;i++)n[r+i]=e}addUvs(n,e,t,r,i,o=null){let s=0;const a=e.length,l=t.frame;for(;s<i;){let u=n[(r+s)*2],h=n[(r+s)*2+1];if(o){const d=o.a*u+o.c*h+o.tx;h=o.b*u+o.d*h+o.ty,u=d}s++,e.push(u/l.width,h/l.height)}const c=t.baseTexture;(l.width<c.width||l.height<c.height)&&this.adjustUvs(e,t,a,i)}adjustUvs(n,e,t,r){const i=e.baseTexture,o=1e-6,s=t+r*2,a=e.frame,l=a.width/i.width,c=a.height/i.height;let u=a.x/a.width,h=a.y/a.height,d=Math.floor(n[t]+o),p=Math.floor(n[t+1]+o);for(let f=t+2;f<s;f+=2)d=Math.min(d,Math.floor(n[f]+o)),p=Math.min(p,Math.floor(n[f+1]+o));u-=d,h-=p;for(let f=t;f<s;f+=2)n[f]=(n[f]+u)*l,n[f+1]=(n[f+1]+h)*c}};let GraphicsGeometry=_GraphicsGeometry;GraphicsGeometry.BATCHABLE_SIZE=100;class FillStyle{constructor(){this.color=16777215,this.alpha=1,this.texture=Texture.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new FillStyle;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=Texture.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class LineStyle extends FillStyle{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=LINE_CAP.BUTT,this.join=LINE_JOIN.MITER,this.miterLimit=10}clone(){const e=new LineStyle;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const temp=new Float32Array(3),DEFAULT_SHADERS={},_Graphics=class extends Container{constructor(n=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new FillStyle,this._lineStyle=new LineStyle,this._matrix=null,this._holeMode=!1,this.state=State.for2d(),this._geometry=n||new GraphicsGeometry,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=BLEND_MODES.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new _Graphics(this._geometry)}set blendMode(n){this.state.blendMode=n}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(n){this._tint=n}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(n=null,e=0,t=1,r=.5,i=!1){return typeof n=="number"&&(n={width:n,color:e,alpha:t,alignment:r,native:i}),this.lineTextureStyle(n)}lineTextureStyle(n){n=Object.assign({width:0,texture:Texture.WHITE,color:n!=null&&n.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:LINE_CAP.BUTT,join:LINE_JOIN.MITER,miterLimit:10},n),this.currentPath&&this.startPoly();const e=n.width>0&&n.alpha>0;return e?(n.matrix&&(n.matrix=n.matrix.clone(),n.matrix.invert()),Object.assign(this._lineStyle,{visible:e},n)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const n=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(n[e-2],n[e-1]))}else this.currentPath=new Polygon,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(n,e){return this.startPoly(),this.currentPath.points[0]=n,this.currentPath.points[1]=e,this}lineTo(n,e){this.currentPath||this.moveTo(0,0);const t=this.currentPath.points,r=t[t.length-2],i=t[t.length-1];return(r!==n||i!==e)&&t.push(n,e),this}_initCurve(n=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[n,e]):this.moveTo(n,e)}quadraticCurveTo(n,e,t,r){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),QuadraticUtils.curveTo(n,e,t,r,i),this}bezierCurveTo(n,e,t,r,i,o){return this._initCurve(),BezierUtils.curveTo(n,e,t,r,i,o,this.currentPath.points),this}arcTo(n,e,t,r,i){this._initCurve(n,e);const o=this.currentPath.points,s=ArcUtils.curveTo(n,e,t,r,i,o);if(s){const{cx:a,cy:l,radius:c,startAngle:u,endAngle:h,anticlockwise:d}=s;this.arc(a,l,c,u,h,d)}return this}arc(n,e,t,r,i,o=!1){if(r===i)return this;if(!o&&i<=r?i+=PI_2:o&&r<=i&&(r+=PI_2),i-r===0)return this;const a=n+Math.cos(r)*t,l=e+Math.sin(r)*t,c=this._geometry.closePointEps;let u=this.currentPath?this.currentPath.points:null;if(u){const h=Math.abs(u[u.length-2]-a),d=Math.abs(u[u.length-1]-l);h<c&&d<c||u.push(a,l)}else this.moveTo(a,l),u=this.currentPath.points;return ArcUtils.arc(a,l,n,e,t,r,i,o,u),this}beginFill(n=0,e=1){return this.beginTextureFill({texture:Texture.WHITE,color:n,alpha:e})}beginTextureFill(n){n=Object.assign({texture:Texture.WHITE,color:16777215,alpha:1,matrix:null},n),this.currentPath&&this.startPoly();const e=n.alpha>0;return e?(n.matrix&&(n.matrix=n.matrix.clone(),n.matrix.invert()),Object.assign(this._fillStyle,{visible:e},n)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(n,e,t,r){return this.drawShape(new Rectangle(n,e,t,r))}drawRoundedRect(n,e,t,r,i){return this.drawShape(new RoundedRectangle(n,e,t,r,i))}drawCircle(n,e,t){return this.drawShape(new Circle(n,e,t))}drawEllipse(n,e,t,r){return this.drawShape(new Ellipse(n,e,t,r))}drawPolygon(...n){let e,t=!0;const r=n[0];r.points?(t=r.closeStroke,e=r.points):Array.isArray(n[0])?e=n[0]:e=n;const i=new Polygon(e);return i.closeStroke=t,this.drawShape(i),this}drawShape(n){return this._holeMode?this._geometry.drawHole(n,this._matrix):this._geometry.drawShape(n,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const n=this._geometry.graphicsData;return n.length===1&&n[0].shape.type===SHAPES.RECT&&!n[0].matrix&&!n[0].holes.length&&!(n[0].lineStyle.visible&&n[0].lineStyle.width)}_render(n){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(n)):(n.batch.flush(),this._renderDirect(n))}_populateBatches(){const n=this._geometry,e=this.blendMode,t=n.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=n.batchDirty,this.batches.length=t,this.vertexData=new Float32Array(n.points);for(let r=0;r<t;r++){const i=n.batches[r],o=i.style.color,s=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(n.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),l=new Uint16Array(n.indicesUint16.buffer,i.start*2,i.size),c={vertexData:s,blendMode:e,indices:l,uvs:a,_batchRGB:hex2rgb(o),_tintRGB:o,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=c}}_renderBatched(n){if(this.batches.length){n.batch.setObjectRenderer(n.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,t=this.batches.length;e<t;e++){const r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,n.plugins[this.pluginName].render(r)}}}_renderDirect(n){const e=this._resolveDirectShader(n),t=this._geometry,r=this.tint,i=this.worldAlpha,o=e.uniforms,s=t.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(r>>16&255)/255*i,o.tint[1]=(r>>8&255)/255*i,o.tint[2]=(r&255)/255*i,o.tint[3]=i,n.shader.bind(e),n.geometry.bind(t,e),n.state.set(this.state);for(let a=0,l=s.length;a<l;a++)this._renderDrawCallDirect(n,t.drawCalls[a])}_renderDrawCallDirect(n,e){const{texArray:t,type:r,size:i,start:o}=e,s=t.count;for(let a=0;a<s;a++)n.texture.bind(t.elements[a],a);n.geometry.draw(r,i,o)}_resolveDirectShader(n){let e=this.shader;const t=this.pluginName;if(!e){if(!DEFAULT_SHADERS[t]){const{maxTextures:r}=n.plugins[t],i=new Int32Array(r);for(let a=0;a<r;a++)i[a]=a;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix,default:UniformGroup.from({uSamplers:i},!0)},s=n.plugins[t]._shader.program;DEFAULT_SHADERS[t]=new Shader(s,o)}e=DEFAULT_SHADERS[t]}return e}_calculateBounds(){this.finishPoly();const n=this._geometry;if(!n.graphicsData.length)return;const{minX:e,minY:t,maxX:r,maxY:i}=n.bounds;this._bounds.addFrame(this.transform,e,t,r,i)}containsPoint(n){return this.worldTransform.applyInverse(n,_Graphics._TEMP_POINT),this._geometry.containsPoint(_Graphics._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const n=hex2rgb(this.tint,temp);for(let e=0;e<this.batches.length;e++){const t=this.batches[e],r=t._batchRGB,i=n[0]*r[0]*255,o=n[1]*r[1]*255,s=n[2]*r[2]*255,a=(i<<16)+(o<<8)+(s|0);t._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}}}calculateVertices(){const n=this.transform._worldID;if(this._transformID===n)return;this._transformID=n;const e=this.transform.worldTransform,t=e.a,r=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty,l=this._geometry.points,c=this.vertexData;let u=0;for(let h=0;h<l.length;h+=2){const d=l[h],p=l[h+1];c[u++]=t*d+i*p+s,c[u++]=o*p+r*d+a}}closePath(){const n=this.currentPath;return n&&(n.closeStroke=!0,this.finishPoly()),this}setMatrix(n){return this._matrix=n,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(n){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(n)}};let Graphics=_Graphics;Graphics.curves=curves;Graphics._TEMP_POINT=new Point;class MeshBatchUvs{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const tempPoint=new Point,tempPolygon=new Polygon,_Mesh=class extends Container{constructor(n,e,t,r=DRAW_MODES.TRIANGLES){super(),this.geometry=n,this.shader=e,this.state=t||State.for2d(),this.drawMode=r,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=settings.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(n){this._geometry!==n&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=n,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(n){this.shader=n}get material(){return this.shader}set blendMode(n){this.state.blendMode=n}get blendMode(){return this.state.blendMode}set roundPixels(n){this._roundPixels!==n&&(this._transformID=-1),this._roundPixels=n}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(n){this.shader.tint=n}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(n){this.shader.texture=n}_render(n){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===DRAW_MODES.TRIANGLES&&e.length<_Mesh.BATCHABLE_SIZE*2?this._renderToBatch(n):this._renderDefault(n)}_renderDefault(n){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),n.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),n.shader.bind(e),n.state.set(this.state),n.geometry.bind(this.geometry,e),n.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(n){const e=this.geometry,t=this.shader;t.uvMatrix&&(t.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=t._tintRGB,this._texture=t.texture;const r=this.material.pluginName;n.batch.setObjectRenderer(n.plugins[r]),n.plugins[r].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,l=i.d,c=i.tx,u=i.ty,h=this.vertexData;for(let d=0;d<h.length/2;d++){const p=t[d*2],f=t[d*2+1];h[d*2]=o*p+a*f+c,h[d*2+1]=s*p+l*f+u}if(this._roundPixels){const d=settings.RESOLUTION;for(let p=0;p<h.length;++p)h[p]=Math.round(h[p]*d)/d}this.vertexDirty=r}calculateUvs(){const n=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=n.data:(this.batchUvs||(this.batchUvs=new MeshBatchUvs(n,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(n){if(!this.getBounds().contains(n.x,n.y))return!1;this.worldTransform.applyInverse(n,tempPoint);const e=this.geometry.getBuffer("aVertexPosition").data,t=tempPolygon.points,r=this.geometry.getIndex().data,i=r.length,o=this.drawMode===4?3:1;for(let s=0;s+2<i;s+=o){const a=r[s]*2,l=r[s+1]*2,c=r[s+2]*2;if(t[0]=e[a],t[1]=e[a+1],t[2]=e[l],t[3]=e[l+1],t[4]=e[c],t[5]=e[c+1],tempPolygon.contains(tempPoint.x,tempPoint.y))return!0}return!1}destroy(n){super.destroy(n),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let Mesh=_Mesh;Mesh.BATCHABLE_SIZE=100;class MeshGeometry extends Geometry{constructor(e,t,r){super();const i=new Buffer$1(e),o=new Buffer$1(t,!0),s=new Buffer$1(r,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,TYPES.FLOAT).addAttribute("aTextureCoord",o,2,!1,TYPES.FLOAT).addIndex(s),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var fragment$1=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,vertex$1=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class MeshMaterial extends Shader{constructor(e,t){const r={uSampler:e,alpha:1,uTextureMatrix:Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t),t.uniforms&&Object.assign(r,t.uniforms),super(t.program||Program.from(vertex$1,fragment$1),r),this._colorDirty=!1,this.uvMatrix=new TextureMatrix(e),this.batchable=t.program===void 0,this.pluginName=t.pluginName,this.tint=t.tint,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture;premultiplyTintToRgba(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class ParticleBuffer{constructor(e,t,r){this.geometry=new Geometry,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let o=e[i];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||TYPES.FLOAT,offset:o.offset},t[i]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new Buffer$1(createIndicesForQuads(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let s=0;s<this.dynamicProperties.length;++s){const a=this.dynamicProperties[s];a.offset=t,t+=a.size,this.dynamicStride+=a.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new Buffer$1(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let s=0;s<this.staticProperties.length;++s){const a=this.staticProperties[s];a.offset=i,i+=a.size,this.staticStride+=a.size}const o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new Buffer$1(this.staticData,!0,!1);for(let s=0;s<this.dynamicProperties.length;++s){const a=this.dynamicProperties[s];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===TYPES.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let s=0;s<this.staticProperties.length;++s){const a=this.staticProperties[s];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===TYPES.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,t,r){for(let i=0;i<this.dynamicProperties.length;i++){const o=this.dynamicProperties[i];o.uploadFunction(e,t,r,o.type===TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,r){for(let i=0;i<this.staticProperties.length;i++){const o=this.staticProperties[i];o.uploadFunction(e,t,r,o.type===TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var fragment=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,vertex=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class ParticleRenderer extends ObjectRenderer{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Matrix,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:TYPES.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Shader.from(vertex,fragment,{}),this.state=State.for2d()}render(e){const t=e.children,r=e._maxSize,i=e._batchSize,o=this.renderer;let s=t.length;if(s===0)return;s>r&&!e.autoResize&&(s=r);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=t[0]._texture.baseTexture,c=l.alphaMode>0;this.state.blendMode=correctBlendMode(e.blendMode,c),o.state.set(this.state);const u=o.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=premultiplyRgba(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,c),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let d=!1;for(let p=0,f=0;p<s;p+=i,f+=1){let m=s-p;m>i&&(m=i),f>=a.length&&a.push(this._generateOneMoreBuffer(e));const g=a[f];g.uploadDynamic(t,p,m);const v=e._bufferUpdateIDs[f]||0;d=d||g._updateID<v,d&&(g._updateID=e._updateID,g.uploadStatic(t,p,m)),o.geometry.bind(g.geometry),u.drawElements(u.TRIANGLES,m*6,u.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],r=e._maxSize,i=e._batchSize,o=e._properties;for(let s=0;s<r;s+=i)t.push(new ParticleBuffer(this.properties,o,i));return t}_generateOneMoreBuffer(e){const t=e._batchSize,r=e._properties;return new ParticleBuffer(this.properties,r,t)}uploadVertices(e,t,r,i,o,s){let a=0,l=0,c=0,u=0;for(let h=0;h<r;++h){const d=e[t+h],p=d._texture,f=d.scale.x,m=d.scale.y,g=p.trim,v=p.orig;g?(l=g.x-d.anchor.x*v.width,a=l+g.width,u=g.y-d.anchor.y*v.height,c=u+g.height):(a=v.width*(1-d.anchor.x),l=v.width*-d.anchor.x,c=v.height*(1-d.anchor.y),u=v.height*-d.anchor.y),i[s]=l*f,i[s+1]=u*m,i[s+o]=a*f,i[s+o+1]=u*m,i[s+o*2]=a*f,i[s+o*2+1]=c*m,i[s+o*3]=l*f,i[s+o*3+1]=c*m,s+=o*4}}uploadPosition(e,t,r,i,o,s){for(let a=0;a<r;a++){const l=e[t+a].position;i[s]=l.x,i[s+1]=l.y,i[s+o]=l.x,i[s+o+1]=l.y,i[s+o*2]=l.x,i[s+o*2+1]=l.y,i[s+o*3]=l.x,i[s+o*3+1]=l.y,s+=o*4}}uploadRotation(e,t,r,i,o,s){for(let a=0;a<r;a++){const l=e[t+a].rotation;i[s]=l,i[s+o]=l,i[s+o*2]=l,i[s+o*3]=l,s+=o*4}}uploadUvs(e,t,r,i,o,s){for(let a=0;a<r;++a){const l=e[t+a]._texture._uvs;l?(i[s]=l.x0,i[s+1]=l.y0,i[s+o]=l.x1,i[s+o+1]=l.y1,i[s+o*2]=l.x2,i[s+o*2+1]=l.y2,i[s+o*3]=l.x3,i[s+o*3+1]=l.y3,s+=o*4):(i[s]=0,i[s+1]=0,i[s+o]=0,i[s+o+1]=0,i[s+o*2]=0,i[s+o*2+1]=0,i[s+o*3]=0,i[s+o*3+1]=0,s+=o*4)}}uploadTint(e,t,r,i,o,s){for(let a=0;a<r;++a){const l=e[t+a],c=l._texture.baseTexture.alphaMode>0,u=l.alpha,h=u<1&&c?premultiplyTint(l._tintRGB,u):l._tintRGB+(u*255<<24);i[s]=h,i[s+o]=h,i[s+o*2]=h,i[s+o*3]=h,s+=o*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}ParticleRenderer.extension={name:"particle",type:ExtensionType.RendererPlugin};extensions$1.add(ParticleRenderer);var TEXT_GRADIENT=(n=>(n[n.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",n[n.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",n))(TEXT_GRADIENT||{});const contextSettings={willReadFrequently:!0},_TextMetrics=class{static get experimentalLetterSpacingSupported(){let n=_TextMetrics._experimentalLetterSpacingSupported;if(n!==void 0){const e=settings.ADAPTER.getCanvasRenderingContext2D().prototype;n=_TextMetrics._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return n}constructor(n,e,t,r,i,o,s,a,l){this.text=n,this.style=e,this.width=t,this.height=r,this.lines=i,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=l}static measureText(n,e,t,r=_TextMetrics._canvas){t=t??e.wordWrap;const i=e.toFontString(),o=_TextMetrics.measureFont(i);o.fontSize===0&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);const s=r.getContext("2d",contextSettings);s.font=i;const l=(t?_TextMetrics.wordWrap(n,e,r):n).split(/(?:\r\n|\r|\n)/),c=new Array(l.length);let u=0;for(let f=0;f<l.length;f++){const m=_TextMetrics._measureText(l[f],e.letterSpacing,s);c[f]=m,u=Math.max(u,m)}let h=u+e.strokeThickness;e.dropShadow&&(h+=e.dropShadowDistance);const d=e.lineHeight||o.fontSize+e.strokeThickness;let p=Math.max(d,o.fontSize+e.strokeThickness*2)+(l.length-1)*(d+e.leading);return e.dropShadow&&(p+=e.dropShadowDistance),new _TextMetrics(n,e,h,p,l,c,d+e.leading,u,o)}static _measureText(n,e,t){let r=!1;_TextMetrics.experimentalLetterSpacingSupported&&(_TextMetrics.experimentalLetterSpacing?(t.letterSpacing=`${e}px`,t.textLetterSpacing=`${e}px`,r=!0):(t.letterSpacing="0px",t.textLetterSpacing="0px"));let i=t.measureText(n).width;return i>0&&(r?i-=e:i+=(_TextMetrics.graphemeSegmenter(n).length-1)*e),i}static wordWrap(n,e,t=_TextMetrics._canvas){const r=t.getContext("2d",contextSettings);let i=0,o="",s="";const a=Object.create(null),{letterSpacing:l,whiteSpace:c}=e,u=_TextMetrics.collapseSpaces(c),h=_TextMetrics.collapseNewlines(c);let d=!u;const p=e.wordWrapWidth+l,f=_TextMetrics.tokenize(n);for(let m=0;m<f.length;m++){let g=f[m];if(_TextMetrics.isNewline(g)){if(!h){s+=_TextMetrics.addLine(o),d=!u,o="",i=0;continue}g=" "}if(u){const _=_TextMetrics.isBreakingSpace(g),y=_TextMetrics.isBreakingSpace(o[o.length-1]);if(_&&y)continue}const v=_TextMetrics.getFromCache(g,l,a,r);if(v>p)if(o!==""&&(s+=_TextMetrics.addLine(o),o="",i=0),_TextMetrics.canBreakWords(g,e.breakWords)){const _=_TextMetrics.wordWrapSplit(g);for(let y=0;y<_.length;y++){let b=_[y],S=b,T=1;for(;_[y+T];){const R=_[y+T];if(!_TextMetrics.canBreakChars(S,R,g,y,e.breakWords))b+=R;else break;S=R,T++}y+=T-1;const A=_TextMetrics.getFromCache(b,l,a,r);A+i>p&&(s+=_TextMetrics.addLine(o),d=!1,o="",i=0),o+=b,i+=A}}else{o.length>0&&(s+=_TextMetrics.addLine(o),o="",i=0);const _=m===f.length-1;s+=_TextMetrics.addLine(g,!_),d=!1,o="",i=0}else v+i>p&&(d=!1,s+=_TextMetrics.addLine(o),o="",i=0),(o.length>0||!_TextMetrics.isBreakingSpace(g)||d)&&(o+=g,i+=v)}return s+=_TextMetrics.addLine(o,!1),s}static addLine(n,e=!0){return n=_TextMetrics.trimRight(n),n=e?`${n}
`:n,n}static getFromCache(n,e,t,r){let i=t[n];return typeof i!="number"&&(i=_TextMetrics._measureText(n,e,r)+e,t[n]=i),i}static collapseSpaces(n){return n==="normal"||n==="pre-line"}static collapseNewlines(n){return n==="normal"}static trimRight(n){if(typeof n!="string")return"";for(let e=n.length-1;e>=0;e--){const t=n[e];if(!_TextMetrics.isBreakingSpace(t))break;n=n.slice(0,-1)}return n}static isNewline(n){return typeof n!="string"?!1:_TextMetrics._newlines.includes(n.charCodeAt(0))}static isBreakingSpace(n,e){return typeof n!="string"?!1:_TextMetrics._breakingSpaces.includes(n.charCodeAt(0))}static tokenize(n){const e=[];let t="";if(typeof n!="string")return e;for(let r=0;r<n.length;r++){const i=n[r],o=n[r+1];if(_TextMetrics.isBreakingSpace(i,o)||_TextMetrics.isNewline(i)){t!==""&&(e.push(t),t=""),e.push(i);continue}t+=i}return t!==""&&e.push(t),e}static canBreakWords(n,e){return e}static canBreakChars(n,e,t,r,i){return!0}static wordWrapSplit(n){return _TextMetrics.graphemeSegmenter(n)}static measureFont(n){if(_TextMetrics._fonts[n])return _TextMetrics._fonts[n];const e={ascent:0,descent:0,fontSize:0},t=_TextMetrics._canvas,r=_TextMetrics._context;r.font=n;const i=_TextMetrics.METRICS_STRING+_TextMetrics.BASELINE_SYMBOL,o=Math.ceil(r.measureText(i).width);let s=Math.ceil(r.measureText(_TextMetrics.BASELINE_SYMBOL).width);const a=Math.ceil(_TextMetrics.HEIGHT_MULTIPLIER*s);if(s=s*_TextMetrics.BASELINE_MULTIPLIER|0,o===0||a===0)return _TextMetrics._fonts[n]=e,e;t.width=o,t.height=a,r.fillStyle="#f00",r.fillRect(0,0,o,a),r.font=n,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,s);const l=r.getImageData(0,0,o,a).data,c=l.length,u=o*4;let h=0,d=0,p=!1;for(h=0;h<s;++h){for(let f=0;f<u;f+=4)if(l[d+f]!==255){p=!0;break}if(!p)d+=u;else break}for(e.ascent=s-h,d=c-u,p=!1,h=a;h>s;--h){for(let f=0;f<u;f+=4)if(l[d+f]!==255){p=!0;break}if(!p)d-=u;else break}return e.descent=h-s,e.fontSize=e.ascent+e.descent,_TextMetrics._fonts[n]=e,e}static clearMetrics(n=""){n?delete _TextMetrics._fonts[n]:_TextMetrics._fonts={}}static get _canvas(){if(!_TextMetrics.__canvas){let n;try{const e=new OffscreenCanvas(0,0),t=e.getContext("2d",contextSettings);if(t!=null&&t.measureText)return _TextMetrics.__canvas=e,e;n=settings.ADAPTER.createCanvas()}catch{n=settings.ADAPTER.createCanvas()}n.width=n.height=10,_TextMetrics.__canvas=n}return _TextMetrics.__canvas}static get _context(){return _TextMetrics.__context||(_TextMetrics.__context=_TextMetrics._canvas.getContext("2d",contextSettings)),_TextMetrics.__context}};let TextMetrics=_TextMetrics;TextMetrics.METRICS_STRING="|ÉqÅ";TextMetrics.BASELINE_SYMBOL="M";TextMetrics.BASELINE_MULTIPLIER=1.4;TextMetrics.HEIGHT_MULTIPLIER=2;TextMetrics.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const n=new Intl.Segmenter;return e=>[...n.segment(e)].map(t=>t.segment)}return n=>[...n]})();TextMetrics.experimentalLetterSpacing=!1;TextMetrics._fonts={};TextMetrics._newlines=[10,13];TextMetrics._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const genericFontFamilies=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],_TextStyle=class{constructor(n){this.styleID=0,this.reset(),deepCopyProperties(this,n,n)}clone(){const n={};return deepCopyProperties(n,this,_TextStyle.defaultStyle),new _TextStyle(n)}reset(){deepCopyProperties(this,_TextStyle.defaultStyle,_TextStyle.defaultStyle)}get align(){return this._align}set align(n){this._align!==n&&(this._align=n,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(n){this._breakWords!==n&&(this._breakWords=n,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(n){this._dropShadow!==n&&(this._dropShadow=n,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(n){this._dropShadowAlpha!==n&&(this._dropShadowAlpha=n,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(n){this._dropShadowAngle!==n&&(this._dropShadowAngle=n,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(n){this._dropShadowBlur!==n&&(this._dropShadowBlur=n,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(n){const e=getColor(n);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(n){this._dropShadowDistance!==n&&(this._dropShadowDistance=n,this.styleID++)}get fill(){return this._fill}set fill(n){const e=getColor(n);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(n){this._fillGradientType!==n&&(this._fillGradientType=n,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(n){areArraysEqual(this._fillGradientStops,n)||(this._fillGradientStops=n,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(n){this.fontFamily!==n&&(this._fontFamily=n,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(n){this._fontSize!==n&&(this._fontSize=n,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(n){this._fontStyle!==n&&(this._fontStyle=n,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(n){this._fontVariant!==n&&(this._fontVariant=n,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(n){this._fontWeight!==n&&(this._fontWeight=n,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(n){this._letterSpacing!==n&&(this._letterSpacing=n,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(n){this._lineHeight!==n&&(this._lineHeight=n,this.styleID++)}get leading(){return this._leading}set leading(n){this._leading!==n&&(this._leading=n,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(n){this._lineJoin!==n&&(this._lineJoin=n,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(n){this._miterLimit!==n&&(this._miterLimit=n,this.styleID++)}get padding(){return this._padding}set padding(n){this._padding!==n&&(this._padding=n,this.styleID++)}get stroke(){return this._stroke}set stroke(n){const e=getColor(n);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(n){this._strokeThickness!==n&&(this._strokeThickness=n,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(n){this._textBaseline!==n&&(this._textBaseline=n,this.styleID++)}get trim(){return this._trim}set trim(n){this._trim!==n&&(this._trim=n,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(n){this._whiteSpace!==n&&(this._whiteSpace=n,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(n){this._wordWrap!==n&&(this._wordWrap=n,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(n){this._wordWrapWidth!==n&&(this._wordWrapWidth=n,this.styleID++)}toFontString(){const n=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let t=e.length-1;t>=0;t--){let r=e[t].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!genericFontFamilies.includes(r)&&(r=`"${r}"`),e[t]=r}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${n} ${e.join(",")}`}};let TextStyle=_TextStyle;TextStyle.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function getSingleColor(n){return typeof n=="number"?hex2string(n):(typeof n=="string"&&n.startsWith("0x")&&(n=n.replace("0x","#")),n)}function getColor(n){if(Array.isArray(n)){for(let e=0;e<n.length;++e)n[e]=getSingleColor(n[e]);return n}else return getSingleColor(n)}function areArraysEqual(n,e){if(!Array.isArray(n)||!Array.isArray(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(n[t]!==e[t])return!1;return!0}function deepCopyProperties(n,e,t){for(const r in t)Array.isArray(e[r])?n[r]=e[r].slice():n[r]=e[r]}const defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},_Text=class extends Sprite{constructor(n,e,t){let r=!1;t||(t=settings.ADAPTER.createCanvas(),r=!0),t.width=3,t.height=3;const i=Texture.from(t);i.orig=new Rectangle,i.trim=new Rectangle,super(i),this._ownCanvas=r,this.canvas=t,this.context=t.getContext("2d",{willReadFrequently:!0}),this._resolution=_Text.defaultResolution??settings.RESOLUTION,this._autoResolution=_Text.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=n,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return TextMetrics.experimentalLetterSpacing}static set experimentalLetterSpacing(n){deprecation("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),TextMetrics.experimentalLetterSpacing=n}updateText(n){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&n)return;this._font=this._style.toFontString();const t=this.context,r=TextMetrics.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=r.width,o=r.height,s=r.lines,a=r.lineHeight,l=r.lineWidths,c=r.maxLineWidth,u=r.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+e.padding*2)*this._resolution),t.scale(this._resolution,this._resolution),t.clearRect(0,0,this.canvas.width,this.canvas.height),t.font=this._font,t.lineWidth=e.strokeThickness,t.textBaseline=e.textBaseline,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit;let h,d;const p=e.dropShadow?2:1;for(let f=0;f<p;++f){const m=e.dropShadow&&f===0,g=m?Math.ceil(Math.max(1,o)+e.padding*2):0,v=g*this._resolution;if(m){t.fillStyle="black",t.strokeStyle="black";const y=e.dropShadowColor,b=hex2rgb(typeof y=="number"?y:string2hex(y)),S=e.dropShadowBlur*this._resolution,T=e.dropShadowDistance*this._resolution;t.shadowColor=`rgba(${b[0]*255},${b[1]*255},${b[2]*255},${e.dropShadowAlpha})`,t.shadowBlur=S,t.shadowOffsetX=Math.cos(e.dropShadowAngle)*T,t.shadowOffsetY=Math.sin(e.dropShadowAngle)*T+v}else t.fillStyle=this._generateFillStyle(e,s,r),t.strokeStyle=e.stroke,t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;let _=(a-u.fontSize)/2;a-u.fontSize<0&&(_=0);for(let y=0;y<s.length;y++)h=e.strokeThickness/2,d=e.strokeThickness/2+y*a+u.ascent+_,e.align==="right"?h+=c-l[y]:e.align==="center"&&(h+=(c-l[y])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(s[y],h+e.padding,d+e.padding-g,!0),e.fill&&this.drawLetterSpacing(s[y],h+e.padding,d+e.padding-g)}this.updateTexture()}drawLetterSpacing(n,e,t,r=!1){const o=this._style.letterSpacing;let s=!1;if(TextMetrics.experimentalLetterSpacingSupported&&(TextMetrics.experimentalLetterSpacing?(this.context.letterSpacing=`${o}px`,this.context.textLetterSpacing=`${o}px`,s=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),o===0||s){r?this.context.strokeText(n,e,t):this.context.fillText(n,e,t);return}let a=e;const l=TextMetrics.graphemeSegmenter(n);let c=this.context.measureText(n).width,u=0;for(let h=0;h<l.length;++h){const d=l[h];r?this.context.strokeText(d,a,t):this.context.fillText(d,a,t);let p="";for(let f=h+1;f<l.length;++f)p+=l[f];u=this.context.measureText(p).width,a+=c-u+o,c=u}}updateTexture(){const n=this.canvas;if(this._style.trim){const o=trimCanvas(n);o.data&&(n.width=o.width,n.height=o.height,this.context.putImageData(o.data,0,0))}const e=this._texture,t=this._style,r=t.trim?0:t.padding,i=e.baseTexture;e.trim.width=e._frame.width=n.width/this._resolution,e.trim.height=e._frame.height=n.height/this._resolution,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-r*2,e.orig.height=e._frame.height-r*2,this._onTextureUpdate(),i.setRealSize(n.width,n.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(n){this._autoResolution&&this._resolution!==n.resolution&&(this._resolution=n.resolution,this.dirty=!0),this.updateText(!0),super._render(n)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(n,e){return this.updateText(!0),this._textureID===-1&&(n=!1),super.getBounds(n,e)}getLocalBounds(n){return this.updateText(!0),super.getLocalBounds.call(this,n)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(n,e,t){const r=n.fill;if(Array.isArray(r)){if(r.length===1)return r[0]}else return r;let i;const o=n.dropShadow?n.dropShadowDistance:0,s=n.padding||0,a=this.canvas.width/this._resolution-o-s*2,l=this.canvas.height/this._resolution-o-s*2,c=r.slice(),u=n.fillGradientStops.slice();if(!u.length){const h=c.length+1;for(let d=1;d<h;++d)u.push(d/h)}if(c.unshift(r[0]),u.unshift(0),c.push(r[r.length-1]),u.push(1),n.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,s,a/2,l+s);const h=t.fontProperties.fontSize+n.strokeThickness;for(let d=0;d<e.length;d++){const p=t.lineHeight*(d-1)+h,f=t.lineHeight*d;let m=f;d>0&&p>f&&(m=(f+p)/2);const g=f+h,v=t.lineHeight*(d+1);let _=g;d+1<e.length&&v<g&&(_=(g+v)/2);const y=(_-m)/l;for(let b=0;b<c.length;b++){let S=0;typeof u[b]=="number"?S=u[b]:S=b/c.length;let T=Math.min(1,Math.max(0,m/l+S*y));T=Number(T.toFixed(5)),i.addColorStop(T,c[b])}}}else{i=this.context.createLinearGradient(s,l/2,a+s,l/2);const h=c.length+1;let d=1;for(let p=0;p<c.length;p++){let f;typeof u[p]=="number"?f=u[p]:f=d/h,i.addColorStop(f,c[p]),d++}}return i}destroy(n){typeof n=="boolean"&&(n={children:n}),n=Object.assign({},defaultDestroyOptions,n),super.destroy(n),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(n){this.updateText(!0);const e=sign(this.scale.x)||1;this.scale.x=e*n/this._texture.orig.width,this._width=n}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(n){this.updateText(!0);const e=sign(this.scale.y)||1;this.scale.y=e*n/this._texture.orig.height,this._height=n}get style(){return this._style}set style(n){n=n||{},n instanceof TextStyle?this._style=n:this._style=new TextStyle(n),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(n){n=String(n??""),this._text!==n&&(this._text=n,this.dirty=!0)}get resolution(){return this._resolution}set resolution(n){this._autoResolution=!1,this._resolution!==n&&(this._resolution=n,this.dirty=!0)}};let Text$1=_Text;Text$1.defaultAutoResolution=!0;class CountLimiter{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function findMultipleBaseTextures(n,e){var r;let t=!1;if((r=n==null?void 0:n._textures)!=null&&r.length){for(let i=0;i<n._textures.length;i++)if(n._textures[i]instanceof Texture){const o=n._textures[i].baseTexture;e.includes(o)||(e.push(o),t=!0)}}return t}function findBaseTexture(n,e){if(n.baseTexture instanceof BaseTexture){const t=n.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function findTexture(n,e){if(n._texture&&n._texture instanceof Texture){const t=n._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function drawText(n,e){return e instanceof Text$1?(e.updateText(!0),!0):!1}function calculateTextStyle(n,e){if(e instanceof TextStyle){const t=e.toFontString();return TextMetrics.measureFont(t),!0}return!1}function findText(n,e){if(n instanceof Text$1){e.includes(n.style)||e.push(n.style),e.includes(n)||e.push(n);const t=n._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function findTextStyle(n,e){return n instanceof TextStyle?(e.includes(n)||e.push(n),!0):!1}const _BasePrepare=class{constructor(n){this.limiter=new CountLimiter(_BasePrepare.uploadsPerFrame),this.renderer=n,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(findText),this.registerFindHook(findTextStyle),this.registerFindHook(findMultipleBaseTextures),this.registerFindHook(findBaseTexture),this.registerFindHook(findTexture),this.registerUploadHook(drawText),this.registerUploadHook(calculateTextStyle)}upload(n){return new Promise(e=>{n&&this.add(n),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,Ticker.system.addOnce(this.tick,this,UPDATE_PRIORITY.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const n=this.queue[0];let e=!1;if(n&&!n._destroyed){for(let t=0,r=this.uploadHooks.length;t<r;t++)if(this.uploadHooks[t](this.uploadHookHelper,n)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)Ticker.system.addOnce(this.tick,this,UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;const n=this.completes.slice(0);this.completes.length=0;for(let e=0,t=n.length;e<t;e++)n[e]()}}registerFindHook(n){return n&&this.addHooks.push(n),this}registerUploadHook(n){return n&&this.uploadHooks.push(n),this}add(n){for(let e=0,t=this.addHooks.length;e<t&&!this.addHooks[e](n,this.queue);e++);if(n instanceof Container)for(let e=n.children.length-1;e>=0;e--)this.add(n.children[e]);return this}destroy(){this.ticking&&Ticker.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let BasePrepare=_BasePrepare;BasePrepare.uploadsPerFrame=4;Object.defineProperties(settings,{UPLOADS_PER_FRAME:{get(){return BasePrepare.uploadsPerFrame},set(n){deprecation("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),BasePrepare.uploadsPerFrame=n}}});function uploadBaseTextures(n,e){return e instanceof BaseTexture?(e._glTextures[n.CONTEXT_UID]||n.texture.bind(e),!0):!1}function uploadGraphics(n,e){if(!(e instanceof Graphics))return!1;const{geometry:t}=e;e.finishPoly(),t.updateBatches();const{batches:r}=t;for(let i=0;i<r.length;i++){const{texture:o}=r[i].style;o&&uploadBaseTextures(n,o.baseTexture)}return t.batchable||n.geometry.bind(t,e._resolveDirectShader(n)),!0}function findGraphics(n,e){return n instanceof Graphics?(e.push(n),!0):!1}class Prepare extends BasePrepare{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(findGraphics),this.registerUploadHook(uploadBaseTextures),this.registerUploadHook(uploadGraphics)}}Prepare.extension={name:"prepare",type:ExtensionType.RendererSystem};extensions$1.add(Prepare);var gl2FragmentSrc=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,gl2VertexSrc=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,gl1FragmentSrc=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,gl1VertexSrc=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,fragmentSimpleSrc=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const tempMat=new Matrix;class TilingSpriteRenderer extends ObjectRenderer{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new QuadUv,this.state=State.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=Shader.from(gl1VertexSrc,fragmentSimpleSrc,t),this.shader=e.context.webGLVersion>1?Shader.from(gl2VertexSrc,gl2FragmentSrc,t):Shader.from(gl1VertexSrc,gl1FragmentSrc,t)}render(e){const t=this.renderer,r=this.quad;let i=r.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const o=e.uvRespectAnchor?e.anchor.x:0,s=e.uvRespectAnchor?e.anchor.y:0;i=r.uvs,i[0]=i[6]=-o,i[1]=i[3]=-s,i[2]=i[4]=1-o,i[5]=i[7]=1-s,r.invalidate();const a=e._texture,l=a.baseTexture,c=l.alphaMode>0,u=e.tileTransform.localTransform,h=e.uvMatrix;let d=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;d&&(l._glTextures[t.CONTEXT_UID]?d=l.wrapMode!==WRAP_MODES.CLAMP:l.wrapMode===WRAP_MODES.CLAMP&&(l.wrapMode=WRAP_MODES.REPEAT));const p=d?this.simpleShader:this.shader,f=a.width,m=a.height,g=e._width,v=e._height;tempMat.set(u.a*f/g,u.b*f/v,u.c*m/g,u.d*m/v,u.tx/g,u.ty/v),tempMat.invert(),d?tempMat.prepend(h.mapCoord):(p.uniforms.uMapCoord=h.mapCoord.toArray(!0),p.uniforms.uClampFrame=h.uClampFrame,p.uniforms.uClampOffset=h.uClampOffset),p.uniforms.uTransform=tempMat.toArray(!0),p.uniforms.uColor=premultiplyTintToRgba(e.tint,e.worldAlpha,p.uniforms.uColor,c),p.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),p.uniforms.uSampler=a,t.shader.bind(p),t.geometry.bind(r),this.state.blendMode=correctBlendMode(e.blendMode,c),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}TilingSpriteRenderer.extension={name:"tilingSprite",type:ExtensionType.RendererPlugin};extensions$1.add(TilingSpriteRenderer);const _Spritesheet=class{constructor(n,e,t=null){this.linkedSheets=[],this._texture=n instanceof Texture?n:null,this.baseTexture=n instanceof BaseTexture?n:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const r=this.baseTexture.resource;this.resolution=this._updateResolution(t||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(n=null){const{scale:e}=this.data.meta;let t=getResolutionOfUrl(n,null);return t===null&&(t=parseFloat(e??"1")),t!==1&&this.baseTexture.setResolution(t),t}parse(){return new Promise(n=>{this._callback=n,this._batchIndex=0,this._frameKeys.length<=_Spritesheet.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(n){let e=n;const t=_Spritesheet.BATCH_SIZE;for(;e-n<t&&e<this._frameKeys.length;){const r=this._frameKeys[e],i=this._frames[r],o=i.frame;if(o){let s=null,a=null;const l=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,c=new Rectangle(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);i.rotated?s=new Rectangle(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):s=new Rectangle(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new Rectangle(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[r]=new Texture(this.baseTexture,s,c,a,i.rotated?2:0,i.anchor),Texture.addToCache(this.textures[r],r)}e++}}_processAnimations(){const n=this.data.animations||{};for(const e in n){this.animations[e]=[];for(let t=0;t<n[e].length;t++){const r=n[e][t];this.animations[e].push(this.textures[r])}}}_parseComplete(){const n=this._callback;this._callback=null,this._batchIndex=0,n.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*_Spritesheet.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*_Spritesheet.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(n=!1){var e;for(const t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,n&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let Spritesheet=_Spritesheet;Spritesheet.BATCH_SIZE=1e3;const validImages=["jpg","png","jpeg","avif","webp"];function getCacheableAssets(n,e,t){const r={};if(n.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[i]=e.textures[i]}),!t){const i=path.dirname(n[0]);e.linkedSheets.forEach((o,s)=>{const a=getCacheableAssets([`${i}/${e.data.meta.related_multi_packs[s]}`],o,!0);Object.assign(r,a)})}return r}const spritesheetAsset={extension:ExtensionType.Asset,cache:{test:n=>n instanceof Spritesheet,getCacheableAssets:(n,e)=>getCacheableAssets(n,e,!1)},resolver:{test:n=>{const t=n.split("?")[0].split("."),r=t.pop(),i=t.pop();return r==="json"&&validImages.includes(i)},parse:n=>{var t;const e=n.split(".");return{resolution:parseFloat(((t=settings.RETINA_PREFIX.exec(n))==null?void 0:t[1])??"1"),format:e[e.length-2],src:n}}},loader:{extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Normal},async testParse(n,e){return path.extname(e.src).toLowerCase()===".json"&&!!n.frames},async parse(n,e,t){var c,u;let r=path.dirname(e.src);r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");let i=r+n.meta.image;i=copySearchParams(i,e.src);const s=(await t.load([i]))[i],a=new Spritesheet(s.baseTexture,n,e.src);await a.parse();const l=(c=n==null?void 0:n.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(l)){const h=[];for(const p of l){if(typeof p!="string")continue;let f=r+p;(u=e.data)!=null&&u.ignoreMultiPack||(f=copySearchParams(f,e.src),h.push(t.load({src:f,data:{ignoreMultiPack:!0}})))}const d=await Promise.all(h);a.linkedSheets=d,d.forEach(p=>{p.linkedSheets=[a].concat(a.linkedSheets.filter(f=>f!==p))})}return a},unload(n){n.destroy(!0)}}};extensions$1.add(spritesheetAsset);class BitmapFontData{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class TextFormat{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const o in t){const s=t[o].match(/^[a-z]+/gm)[0],a=t[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const c in a){const u=a[c].split("="),h=u[0],d=u[1].replace(/"/gm,""),p=parseFloat(d),f=isNaN(p)?d:p;l[h]=f}r[s].push(l)}const i=new BitmapFontData;return r.info.forEach(o=>i.info.push({face:o.face,size:parseInt(o.size,10)})),r.common.forEach(o=>i.common.push({lineHeight:parseInt(o.lineHeight,10)})),r.page.forEach(o=>i.page.push({id:parseInt(o.id,10),file:o.file})),r.char.forEach(o=>i.char.push({id:parseInt(o.id,10),page:parseInt(o.page,10),x:parseInt(o.x,10),y:parseInt(o.y,10),width:parseInt(o.width,10),height:parseInt(o.height,10),xoffset:parseInt(o.xoffset,10),yoffset:parseInt(o.yoffset,10),xadvance:parseInt(o.xadvance,10)})),r.kerning.forEach(o=>i.kerning.push({first:parseInt(o.first,10),second:parseInt(o.second,10),amount:parseInt(o.amount,10)})),r.distanceField.forEach(o=>i.distanceField.push({distanceRange:parseInt(o.distanceRange,10),fieldType:o.fieldType})),i}}class XMLFormat{static test(e){const t=e;return"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const t=new BitmapFontData,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),o=e.getElementsByTagName("page"),s=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let c=0;c<r.length;c++)t.info.push({face:r[c].getAttribute("face"),size:parseInt(r[c].getAttribute("size"),10)});for(let c=0;c<i.length;c++)t.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(let c=0;c<o.length;c++)t.page.push({id:parseInt(o[c].getAttribute("id"),10)||0,file:o[c].getAttribute("file")});for(let c=0;c<s.length;c++){const u=s[c];t.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(let c=0;c<a.length;c++)t.kerning.push({first:parseInt(a[c].getAttribute("first"),10),second:parseInt(a[c].getAttribute("second"),10),amount:parseInt(a[c].getAttribute("amount"),10)});for(let c=0;c<l.length;c++)t.distanceField.push({fieldType:l[c].getAttribute("fieldType"),distanceRange:parseInt(l[c].getAttribute("distanceRange"),10)});return t}}class XMLStringFormat{static test(e){return typeof e=="string"&&e.includes("<font>")?XMLFormat.test(settings.ADAPTER.parseXML(e)):!1}static parse(e){return XMLFormat.parse(settings.ADAPTER.parseXML(e))}}const formats=[TextFormat,XMLFormat,XMLStringFormat];function autoDetectFormat(n){for(let e=0;e<formats.length;e++)if(formats[e].test(n))return formats[e];return null}function generateFillStyle(n,e,t,r,i,o){const s=t.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;let a;const l=t.dropShadow?t.dropShadowDistance:0,c=t.padding||0,u=n.width/r-l-c*2,h=n.height/r-l-c*2,d=s.slice(),p=t.fillGradientStops.slice();if(!p.length){const f=d.length+1;for(let m=1;m<f;++m)p.push(m/f)}if(d.unshift(s[0]),p.unshift(0),d.push(s[s.length-1]),p.push(1),t.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL){a=e.createLinearGradient(u/2,c,u/2,h+c);let f=0;const g=(o.fontProperties.fontSize+t.strokeThickness)/h;for(let v=0;v<i.length;v++){const _=o.lineHeight*v;for(let y=0;y<d.length;y++){let b=0;typeof p[y]=="number"?b=p[y]:b=y/d.length;const S=_/h+b*g;let T=Math.max(f,S);T=Math.min(T,1),a.addColorStop(T,d[y]),f=T}}}else{a=e.createLinearGradient(c,h/2,u+c,h/2);const f=d.length+1;let m=1;for(let g=0;g<d.length;g++){let v;typeof p[g]=="number"?v=p[g]:v=m/f,a.addColorStop(v,d[g]),m++}}return a}function drawGlyph(n,e,t,r,i,o,s){const a=t.text,l=t.fontProperties;e.translate(r,i),e.scale(o,o);const c=s.strokeThickness/2,u=-(s.strokeThickness/2);if(e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=generateFillStyle(n,e,s,o,[a],t),e.strokeStyle=s.stroke,s.dropShadow){const h=s.dropShadowColor,d=hex2rgb(typeof h=="number"?h:string2hex(h)),p=s.dropShadowBlur*o,f=s.dropShadowDistance*o;e.shadowColor=`rgba(${d[0]*255},${d[1]*255},${d[2]*255},${s.dropShadowAlpha})`,e.shadowBlur=p,e.shadowOffsetX=Math.cos(s.dropShadowAngle)*f,e.shadowOffsetY=Math.sin(s.dropShadowAngle)*f}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;s.stroke&&s.strokeThickness&&e.strokeText(a,c,u+t.lineHeight-l.descent),s.fill&&e.fillText(a,c,u+t.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function extractCharCode(n){return n.codePointAt?n.codePointAt(0):n.charCodeAt(0)}function splitTextToCharacters(n){return Array.from?Array.from(n):n.split("")}function resolveCharacters(n){typeof n=="string"&&(n=[n]);const e=[];for(let t=0,r=n.length;t<r;t++){const i=n[t];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const o=i[0].charCodeAt(0),s=i[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(let a=o,l=s;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...splitTextToCharacters(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const _BitmapFont=class{constructor(n,e,t){var c;const[r]=n.info,[i]=n.common,[o]=n.page,[s]=n.distanceField,a=getResolutionOfUrl(o.file),l={};this._ownsTextures=t,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=l;for(let u=0;u<n.page.length;u++){const{id:h,file:d}=n.page[u];l[h]=e instanceof Array?e[u]:e[d],s!=null&&s.fieldType&&s.fieldType!=="none"&&(l[h].baseTexture.alphaMode=ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,l[h].baseTexture.mipmap=MIPMAP_MODES.OFF)}for(let u=0;u<n.char.length;u++){const{id:h,page:d}=n.char[u];let{x:p,y:f,width:m,height:g,xoffset:v,yoffset:_,xadvance:y}=n.char[u];p/=a,f/=a,m/=a,g/=a,v/=a,_/=a,y/=a;const b=new Rectangle(p+l[d].frame.x/a,f+l[d].frame.y/a,m,g);this.chars[h]={xOffset:v,yOffset:_,xAdvance:y,kerning:{},texture:new Texture(l[d].baseTexture,b),page:d}}for(let u=0;u<n.kerning.length;u++){let{first:h,second:d,amount:p}=n.kerning[u];h/=a,d/=a,p/=a,this.chars[d]&&(this.chars[d].kerning[h]=p)}this.distanceFieldRange=s==null?void 0:s.distanceRange,this.distanceFieldType=((c=s==null?void 0:s.fieldType)==null?void 0:c.toLowerCase())??"none"}destroy(){for(const n in this.chars)this.chars[n].texture.destroy(),this.chars[n].texture=null;for(const n in this.pageTextures)this._ownsTextures&&this.pageTextures[n].destroy(!0),this.pageTextures[n]=null;this.chars=null,this.pageTextures=null}static install(n,e,t){let r;if(n instanceof BitmapFontData)r=n;else{const o=autoDetectFormat(n);if(!o)throw new Error("Unrecognized data format for font.");r=o.parse(n)}e instanceof Texture&&(e=[e]);const i=new _BitmapFont(r,e,t);return _BitmapFont.available[i.font]=i,i}static uninstall(n){const e=_BitmapFont.available[n];if(!e)throw new Error(`No font found named '${n}'`);e.destroy(),delete _BitmapFont.available[n]}static from(n,e,t){if(!n)throw new Error("[BitmapFont] Property `name` is required.");const{chars:r,padding:i,resolution:o,textureWidth:s,textureHeight:a,...l}=Object.assign({},_BitmapFont.defaultOptions,t),c=resolveCharacters(r),u=e instanceof TextStyle?e:new TextStyle(e),h=s,d=new BitmapFontData;d.info[0]={face:u.fontFamily,size:u.fontSize},d.common[0]={lineHeight:u.fontSize};let p=0,f=0,m,g,v,_=0;const y=[];for(let S=0;S<c.length;S++){m||(m=settings.ADAPTER.createCanvas(),m.width=s,m.height=a,g=m.getContext("2d"),v=new BaseTexture(m,{resolution:o,...l}),y.push(new Texture(v)),d.page.push({id:y.length-1,file:""}));const T=c[S],A=TextMetrics.measureText(T,u,!1,m),R=A.width,Z=Math.ceil(A.height),L=Math.ceil((u.fontStyle==="italic"?2:1)*R);if(f>=a-Z*o){if(f===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${u.fontFamily}', fontSize: ${u.fontSize}px, char: '${T}')`);--S,m=null,g=null,v=null,f=0,p=0,_=0;continue}if(_=Math.max(Z+A.fontProperties.descent,_),L*o+p>=h){if(p===0)throw new Error(`[BitmapFont] textureWidth ${s}px is too small (fontFamily: '${u.fontFamily}', fontSize: ${u.fontSize}px, char: '${T}')`);--S,f+=_*o,f=Math.ceil(f),p=0,_=0;continue}drawGlyph(m,g,A,p,f,o,u);const G=extractCharCode(A.text);d.char.push({id:G,page:y.length-1,x:p/o,y:f/o,width:L,height:Z,xoffset:0,yoffset:0,xadvance:R-(u.dropShadow?u.dropShadowDistance:0)-(u.stroke?u.strokeThickness:0)}),p+=(L+2*i)*o,p=Math.ceil(p)}for(let S=0,T=c.length;S<T;S++){const A=c[S];for(let R=0;R<T;R++){const Z=c[R],L=g.measureText(A).width,G=g.measureText(Z).width,M=g.measureText(A+Z).width-(L+G);M&&d.kerning.push({first:extractCharCode(A),second:extractCharCode(Z),amount:M})}}const b=new _BitmapFont(d,y,!0);return _BitmapFont.available[n]!==void 0&&_BitmapFont.uninstall(n),_BitmapFont.available[n]=b,b}};let BitmapFont=_BitmapFont;BitmapFont.ALPHA=[["a","z"],["A","Z"]," "];BitmapFont.NUMERIC=[["0","9"]];BitmapFont.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];BitmapFont.ASCII=[[" ","~"]];BitmapFont.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:_BitmapFont.ALPHANUMERIC};BitmapFont.available={};var msdfFrag=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,msdfVert=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const pageMeshDataDefaultPageMeshData=[],pageMeshDataMSDFPageMeshData=[],charRenderDataPool=[],_BitmapText=class extends Container{constructor(n,e={}){super(),this._tint=16777215;const{align:t,tint:r,maxWidth:i,letterSpacing:o,fontName:s,fontSize:a}=Object.assign({},_BitmapText.styleDefaults,e);if(!BitmapFont.available[s])throw new Error(`Missing BitmapFont "${s}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=t,this._tint=r,this._font=void 0,this._fontName=s,this._fontSize=a,this.text=n,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new ObservablePoint(()=>{this.dirty=!0},this,0,0),this._roundPixels=settings.ROUND_PIXELS,this.dirty=!0,this._resolution=settings.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var L;const n=BitmapFont.available[this._fontName],e=this.fontSize,t=e/n.size,r=new Point,i=[],o=[],s=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=splitTextToCharacters(a),c=this._maxWidth*n.size/e,u=n.distanceFieldType==="none"?pageMeshDataDefaultPageMeshData:pageMeshDataMSDFPageMeshData;let h=null,d=0,p=0,f=0,m=-1,g=0,v=0,_=0,y=0;for(let G=0;G<l.length;G++){const j=l[G],M=extractCharCode(j);if(/(?:\s)/.test(j)&&(m=G,g=d,y++),j==="\r"||j===`
`){o.push(d),s.push(-1),p=Math.max(p,d),++f,++v,r.x=0,r.y+=n.lineHeight,h=null,y=0;continue}const E=n.chars[M];if(!E)continue;h&&E.kerning[h]&&(r.x+=E.kerning[h]);const I=charRenderDataPool.pop()||{texture:Texture.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Point};I.texture=E.texture,I.line=f,I.charCode=M,I.position.x=Math.round(r.x+E.xOffset+this._letterSpacing/2),I.position.y=Math.round(r.y+E.yOffset),I.prevSpaces=y,i.push(I),d=I.position.x+Math.max(E.xAdvance-E.xOffset,E.texture.orig.width),r.x+=E.xAdvance+this._letterSpacing,_=Math.max(_,E.yOffset+E.texture.height),h=M,m!==-1&&c>0&&r.x>c&&(++v,removeItems(i,1+m-v,1+G-m),G=m,m=-1,o.push(g),s.push(i.length>0?i[i.length-1].prevSpaces:0),p=Math.max(p,g),f++,r.x=0,r.y+=n.lineHeight,h=null,y=0)}const b=l[l.length-1];b!=="\r"&&b!==`
`&&(/(?:\s)/.test(b)&&(d=g),o.push(d),p=Math.max(p,d),s.push(-1));const S=[];for(let G=0;G<=f;G++){let j=0;this._align==="right"?j=p-o[G]:this._align==="center"?j=(p-o[G])/2:this._align==="justify"&&(j=s[G]<0?0:(p-o[G])/s[G]),S.push(j)}const T=i.length,A={},R=[],Z=this._activePagesMeshData;u.push(...Z);for(let G=0;G<T;G++){const j=i[G].texture,M=j.baseTexture.uid;if(!A[M]){let E=u.pop();if(!E){const U=new MeshGeometry;let N,Y;n.distanceFieldType==="none"?(N=new MeshMaterial(Texture.EMPTY),Y=BLEND_MODES.NORMAL):(N=new MeshMaterial(Texture.EMPTY,{program:Program.from(msdfVert,msdfFrag),uniforms:{uFWidth:0}}),Y=BLEND_MODES.NORMAL_NPM);const D=new Mesh(U,N);D.blendMode=Y,E={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:D,vertices:null,uvs:null,indices:null}}E.index=0,E.indexCount=0,E.vertexCount=0,E.uvsCount=0,E.total=0;const{_textureCache:I}=this;I[M]=I[M]||new Texture(j.baseTexture),E.mesh.texture=I[M],E.mesh.tint=this._tint,R.push(E),A[M]=E}A[M].total++}for(let G=0;G<Z.length;G++)R.includes(Z[G])||this.removeChild(Z[G].mesh);for(let G=0;G<R.length;G++)R[G].mesh.parent!==this&&this.addChild(R[G].mesh);this._activePagesMeshData=R;for(const G in A){const j=A[G],M=j.total;if(!(((L=j.indices)==null?void 0:L.length)>6*M)||j.vertices.length<Mesh.BATCHABLE_SIZE*2)j.vertices=new Float32Array(4*2*M),j.uvs=new Float32Array(4*2*M),j.indices=new Uint16Array(6*M);else{const E=j.total,I=j.vertices;for(let U=E*4*2;U<I.length;U++)I[U]=0}j.mesh.size=6*M}for(let G=0;G<T;G++){const j=i[G];let M=j.position.x+S[j.line]*(this._align==="justify"?j.prevSpaces:1);this._roundPixels&&(M=Math.round(M));const E=M*t,I=j.position.y*t,U=j.texture,N=A[U.baseTexture.uid],Y=U.frame,D=U._uvs,z=N.index++;N.indices[z*6+0]=0+z*4,N.indices[z*6+1]=1+z*4,N.indices[z*6+2]=2+z*4,N.indices[z*6+3]=0+z*4,N.indices[z*6+4]=2+z*4,N.indices[z*6+5]=3+z*4,N.vertices[z*8+0]=E,N.vertices[z*8+1]=I,N.vertices[z*8+2]=E+Y.width*t,N.vertices[z*8+3]=I,N.vertices[z*8+4]=E+Y.width*t,N.vertices[z*8+5]=I+Y.height*t,N.vertices[z*8+6]=E,N.vertices[z*8+7]=I+Y.height*t,N.uvs[z*8+0]=D.x0,N.uvs[z*8+1]=D.y0,N.uvs[z*8+2]=D.x1,N.uvs[z*8+3]=D.y1,N.uvs[z*8+4]=D.x2,N.uvs[z*8+5]=D.y2,N.uvs[z*8+6]=D.x3,N.uvs[z*8+7]=D.y3}this._textWidth=p*t,this._textHeight=(r.y+n.lineHeight)*t;for(const G in A){const j=A[G];if(this.anchor.x!==0||this.anchor.y!==0){let U=0;const N=this._textWidth*this.anchor.x,Y=this._textHeight*this.anchor.y;for(let D=0;D<j.total;D++)j.vertices[U++]-=N,j.vertices[U++]-=Y,j.vertices[U++]-=N,j.vertices[U++]-=Y,j.vertices[U++]-=N,j.vertices[U++]-=Y,j.vertices[U++]-=N,j.vertices[U++]-=Y}this._maxLineHeight=_*t;const M=j.mesh.geometry.getBuffer("aVertexPosition"),E=j.mesh.geometry.getBuffer("aTextureCoord"),I=j.mesh.geometry.getIndex();M.data=j.vertices,E.data=j.uvs,I.data=j.indices,M.update(),E.update(),I.update()}for(let G=0;G<i.length;G++)charRenderDataPool.push(i[G]);this._font=n,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(n){this._autoResolution&&this._resolution!==n.resolution&&(this._resolution=n.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:t,size:r}=BitmapFont.available[this._fontName];if(t!=="none"){const{a:i,b:o,c:s,d:a}=this.worldTransform,l=Math.sqrt(i*i+o*o),c=Math.sqrt(s*s+a*a),u=(Math.abs(l)+Math.abs(c))/2,h=this.fontSize/r,d=n._view.resolution;for(const p of this._activePagesMeshData)p.mesh.shader.uniforms.uFWidth=u*e*h*d}super._render(n)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const n=BitmapFont.available[this._fontName];if(!n)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==n&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(n){if(this._tint!==n){this._tint=n;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=n}}get align(){return this._align}set align(n){this._align!==n&&(this._align=n,this.dirty=!0)}get fontName(){return this._fontName}set fontName(n){if(!BitmapFont.available[n])throw new Error(`Missing BitmapFont "${n}"`);this._fontName!==n&&(this._fontName=n,this.dirty=!0)}get fontSize(){return this._fontSize??BitmapFont.available[this._fontName].size}set fontSize(n){this._fontSize!==n&&(this._fontSize=n,this.dirty=!0)}get anchor(){return this._anchor}set anchor(n){typeof n=="number"?this._anchor.set(n):this._anchor.copyFrom(n)}get text(){return this._text}set text(n){n=String(n??""),this._text!==n&&(this._text=n,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(n){this._maxWidth!==n&&(this._maxWidth=n,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(n){this._letterSpacing!==n&&(this._letterSpacing=n,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(n){n!==this._roundPixels&&(this._roundPixels=n,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(n){this._autoResolution=!1,this._resolution!==n&&(this._resolution=n,this.dirty=!0)}destroy(n){const{_textureCache:e}=this,r=BitmapFont.available[this._fontName].distanceFieldType==="none"?pageMeshDataDefaultPageMeshData:pageMeshDataMSDFPageMeshData;r.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],r.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=Texture.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._textureCache=null,super.destroy(n)}};let BitmapText=_BitmapText;BitmapText.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const validExtensions=[".xml",".fnt"],loadBitmapFont={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Normal},test(n){return validExtensions.includes(path.extname(n).toLowerCase())},async testParse(n){return TextFormat.test(n)||XMLStringFormat.test(n)},async parse(n,e,t){const r=TextFormat.test(n)?TextFormat.parse(n):XMLStringFormat.parse(n),{src:i}=e,{page:o}=r,s=[];for(let c=0;c<o.length;++c){const u=o[c].file;let h=path.join(path.dirname(i),u);h=copySearchParams(h,i),s.push(h)}const a=await t.load(s),l=s.map(c=>a[c]);return BitmapFont.install(r,l,!0)},async load(n,e){return(await settings.ADAPTER.fetch(n)).text()},unload(n){n.destroy()}};extensions$1.add(loadBitmapFont);const bg$1="/assets/flap_back-9b07db15.png",pipeTop="/assets/pipe_top-fb72a7c3.png",pipeBottom="/assets/pipe_bottom-0da884d3.png",player$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAAAwCAYAAACooNxlAAABb0lEQVR42u2ZIU5DQRBAf5MqBArBFSiiKIJBECq6SU/QK1SjKZoguQISRdIKmooaUlVE26QOh0AhcOSjd0J2Mpndj+CNm/R32rzMvM5u21XhuDg6rUvWn2+XrZz12hUBEIA0CURzxOShZ6oXhs9RPl0tks/3T87rnE6hQwACkLJApDM0R3zvHpOvD8b7JmfIkM97nUKHAAQgPiDWs4fcG57Gn64vtH5/ifLjwzNtD8nqFDoEIACxAZHOsO4B2kx7nUKHAAQg/wvIL3tA0ikyH/SvovxuepvcS7zOo0MAApC8QOrNTZS3OtemgvL91tCc4g25d8mzDR3CyADEBkTOUBhW4s7UVtB7PyLvWCdfr0UBBOEUOoSRAYgPiOYULe4vP6L8TTlqjGYHSWeEvW5RAOwhjAxAmgUiHeENWS/MukX3EM1JdAhAAJIXiPydHlXp/369jtGcknvvoEMYGYA0C0SbQc0xuT+PDgEIQP40fgDUyYOiZ1v97gAAAC10RVh0U29mdHdhcmUAYnkuYmxvb2RkeS5jcnlwdG8uaW1hZ2UuUE5HMjRFbmNvZGVyqAZ/7gAAAABJRU5ErkJggg==",Textures={bg:Texture.from(bg$1),pipeTop:Texture.from(pipeBottom),pipeBottom:Texture.from(pipeTop),player:Texture.from(player$1)};eruda.init();const app=new Application({width:600,height:550});document.body.appendChild(app.view);const bg=new Sprite(Textures.bg);bg.y=app.view.height-644;app.stage.addChild(bg);const uDied=new Text$1("You died",{align:"center"});uDied.x=app.view.width/2;uDied.y=100;class Player extends Sprite{constructor(){super(Textures.player);ti(this,"gravity");ti(this,"ySpeed");this.x=100,this.y=app.view.height/2,this.height=50,this.gravity=1,this.ySpeed=0,this.addEventListeners()}addEventListeners(){window.addEventListener("keydown",({key:t,repeat:r})=>{t==" "&&!r&&(this.ySpeed=-10)}),app.stage.on("mousedown",()=>{this.ySpeed=-10})}async update(){this.ySpeed+=this.gravity,this.ySpeed>10&&(this.ySpeed=10),this.y+=this.ySpeed,this.hasDied()&&(app.stage.addChild(uDied),await new Promise(t=>setTimeout(t,1e3)),app.stage.removeChild(uDied),this.y=app.view.height/2,pipes.forEach(t=>t.remove()),pipes=[])}hasDied(){return this.y>app.view.height-this.height||pipes.filter(t=>this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.height+this.y>t.y).length>0}}class Pipe extends Sprite{constructor(e,t){super(t),this.y=e,this.x=app.view.width+87,this.width=87,this.height=793}update(){this.x-=5,this.x<-87&&this.remove()}remove(){app.stage.removeChild(this)}}class PipeBottom extends Pipe{constructor(e){super(e,Textures.pipeTop)}}class PipeTop extends Pipe{constructor(e){super(e,Textures.pipeBottom)}}let pipes=[];const player=new Player;app.stage.addChild(player);async function frame(){await player.update(),pipes.forEach(n=>n.update()),requestAnimationFrame(frame)}frame();setInterval(()=>{const n=new PipeBottom(app.view.height-Math.floor(Math.random()*400)),e=new PipeTop(n.y-793-150);app.stage.addChild(n,e),pipes.push(n,e)},1500);
