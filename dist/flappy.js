var Ha=Object.defineProperty;var Ya=(n,e,t)=>e in n?Ha(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ti=(n,e,t)=>(Ya(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var erudaExports={},eruda$1={get exports(){return erudaExports},set exports(n){erudaExports=n}};/*! eruda v2.11.2 https://eruda.liriliri.io/ */(function(module,exports){(function(n,e){module.exports=e()})(self,function(){return function(){var __webpack_modules__={8816:function(n,e,t){t.d(e,{Z:function(){return Yn}});var r=t(168),i=t(181);function o(Xt,pe){return function(Qt){if(Array.isArray(Qt))return Qt}(Xt)||function(Qt,R){var B=Qt==null?null:typeof Symbol<"u"&&Qt[Symbol.iterator]||Qt["@@iterator"];if(B!=null){var X,J,Bt,xt,Ht=[],$t=!0,ie=!1;try{if(Bt=(B=B.call(Qt)).next,R===0){if(Object(B)!==B)return;$t=!1}else for(;!($t=(X=Bt.call(B)).done)&&(Ht.push(X.value),Ht.length!==R);$t=!0);}catch(Te){ie=!0,J=Te}finally{try{if(!$t&&B.return!=null&&(xt=B.return(),Object(xt)!==xt))return}finally{if(ie)throw J}}return Ht}}(Xt,pe)||(0,i.Z)(Xt,pe)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var s=t(5671),a=t(3144),c=t(1752),l=t(9340),u=t(2963),h=t(1120),d=t(7326),p=t(8901),f=t.n(p),m=t(3367),g=t.n(m),v=t(6341),y=t.n(v),A=t(6930),x=t.n(A),S=t(4187),E=t.n(S),w=t(3783),k=t.n(w),Z=t(4858),L=t.n(Z),G=t(8887),j=t.n(G),M=t(7756),T=t.n(M),P=t(3023),U=t.n(P);function N(Xt){return Xt.constructor&&Xt.constructor.name?Xt.constructor.name:U()({}.toString.call(Xt).replace(/(\[object )|]/g,""))}var $=t(2461),D=t.n($),z=t(4331),Y=t.n(z),rt=t(5610),ot=t.n(rt),st=t(7483),tt=t.n(st),nt=t(3990),Tt=t.n(nt),At=t(3875),Gt=t.n(At),Nt=t(6954),jt=t.n(Nt),kt=t(9585),Dt=t.n(kt);function Ct(Xt){var pe="luna-".concat(Xt,"-");function Qt(R){return D()(Y()(R).split(/\s+/),function(B){return y()(B,pe)?B:B.replace(/[\w-]+/,function(X){return"".concat(pe).concat(X)})}).join(" ")}return function(R){if(/<[^>]*>/g.test(R))try{var B=tt().parse(R);return q(B,function(X){X.attrs&&X.attrs.class&&(X.attrs.class=Qt(X.attrs.class))}),tt().stringify(B)}catch{return Qt(R)}return Qt(R)}}function q(Xt,pe){for(var Qt=0,R=Xt.length;Qt<R;Qt++){var B=Xt[Qt];pe(B),B.content&&q(B.content,pe)}}ot();function ft(){var Xt=jt()();return Xt==="os x"?"mac":Xt}var yt=Ct("console");function Lt(Xt){var pe,Qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=Qt.topObj,B=Qt.level,X=B===void 0?0:B,J=Qt.getterVal,Bt=J!==void 0&&J,xt=Qt.unenumerable,Ht=xt===void 0||xt,$t="",ie="",Te=5,Ae=[],Be=[],ze="";R=R||Xt;var ge={getterVal:Bt,unenumerable:Ht,level:X+1},Fe=X===0,qe='<span class="'.concat(yt("key"),'">'),Qe='<span class="'.concat(yt("number"),'">'),Pn='<span class="'.concat(yt("null"),'">'),Xe='<span class="'.concat(yt("string"),'">'),Bn='<span class="'.concat(yt("boolean"),'">'),xn='<span class="'.concat(yt("special"),'">'),gn=function(Ie){return f()(Ie).replace(/\\n/g,"↵").replace(/\\f|\\r|\\t/g,"").replace(/\\/g,"")},He="</span>",$n=function(Ie){return qe+gn(Ie)+He},Dn=function(Ie){return Qe+Ie+He},Tn=function(Ie){return Xe+Ie+He},Zn=function(Ie){return Bn+Ie+He},On=function(Ie){return Pn+Ie+He};function cn(Ie){return Ie=g()(Ie),y()(K,Ie)||x()(Ie,"Array[")?xn+gn(Ie)+He:(Ie.length>100&&(Ie=T()(Ie,100,{separator:" ",ellipsis:"…"})),Xe+gn('"'.concat(Ie,'"'))+He)}function Sn(Ie){if(pe>Te)ze=", …";else{var rr=$n(W(Ie));if(!Bt){var ir=Object.getOwnPropertyDescriptor(Xt,Ie);if(ir&&ir.get)return Ae.push("".concat(rr,": ").concat(cn("(...)"))),void pe++}Ae.push("".concat(rr,": ").concat(Lt(R[Ie],ge))),pe++}}try{ie={}.toString.call(Xt)}catch{ie="[object Object]"}var bn=ie=="[object String]",wn=ie=="[object Array]",Fn=ie=="[object Object]",zr=ie=="[object Number]",Hr=ie=="[object RegExp]",Yr=ie=="[object Symbol]",En=ie=="[object Function]",$r=ie=="[object Boolean]";if(bn)$t=cn(W(Xt));else if(Hr)$t=Tn(W(Xt.toString()));else if(En)$t=cn("ƒ");else if(wn)if(Fe){$t="[";var vn=Xt.length,nr="";vn>100&&(vn=100,nr=", …");for(var Nn=0;Nn<vn;Nn++)Ae.push("".concat(Lt(Xt[Nn],ge)));$t+=Ae.join(", ")+nr+"]"}else $t="Array(".concat(Xt.length,")");else if(Fn)mt(Xt)&&(Xt=Object.getPrototypeOf(Xt)),Be=Ht?Object.getOwnPropertyNames(Xt):Object.keys(Xt),Fe?(pe=1,$t="{",k()(Be,Sn),$t+=Ae.join(", ")+ze+"}"):($t=N(Xt))==="Object"&&($t="{…}");else if(zr)$t=Xt+"",$t=L()($t,"Infinity")||$t==="NaN"?'"'.concat($t,'"'):Dn($t);else if($r)$t=Zn(Xt?"true":"false");else if(Xt===null)$t=On("null");else if(Yr)$t=cn("Symbol");else if(Xt===void 0)$t=cn("undefined");else try{mt(Xt)&&(Xt=Object.getPrototypeOf(Xt)),Fe?(pe=1,$t="{",Be=Ht?Object.getOwnPropertyNames(Xt):Object.keys(Xt),k()(Be,Sn),$t+=Ae.join(", ")+ze+"}"):($t=N(Xt))==="Object"&&($t="{…}")}catch{$t=cn(Xt)}return $t}var K=["(...)","undefined","Symbol","Object","ƒ"];function mt(Xt){var pe=j()(Object.getOwnPropertyNames(Xt)),Qt=Object.getPrototypeOf(Xt);return pe&&Qt&&Qt!==Object.prototype}function W(Xt){return E()(Xt).replace(/\\'/g,"'").replace(/\t/g,"\\t")}var vt,ut=t(8299),ht=t(5564),Yt=t(8209),gt=t(242),it=t.n(gt),wt=t(5166),at=t.n(wt),dt=t(6768),It=t.n(dt),pt=t(2749),Pt=t.n(pt),Rt=t(6997),et=t.n(Rt),_t=t(4193),Ot=t.n(_t),qt=t(9833),te=t.n(qt),se=t(9296),ye=t.n(se),me=t(8099),he=t.n(me),xe=t(6156),ke=t.n(xe),be=t(1286),je=t.n(be),Ve=t(4777),Je=t.n(Ve),en=t(1352),le=t.n(en),de=t(6472),ee=t.n(de),bt=t(42),Ft=t.n(bt),lt=t(4675),ne=t.n(lt),re=t(3063),ve=t.n(re),_e=t(2533),we=t.n(_e),Oe=t(1512),Re=t.n(Oe),Ue=t(8613),Vt=t.n(Ue),Kt=t(1443),Zt=t.n(Kt),Et=t(6049),Mt=t.n(Et),zt=t(4400),ue=t.n(zt),oe=t(2327),Wt=t.n(oe),Jt=t(9963),fe=t.n(Jt),ae=t(6837),Se=t.n(ae),Ce=t(3988),De=t.n(Ce),$e=t(3651),Ke=t.n($e),sn=t(6053),nn=t.n(sn),un=t(1907),hn=t.n(un),Ze=t(4891),an=t.n(Ze),pn=t(5229),We=t.n(pn),rn=t(4696),ln=t.n(rn),mn=t(9804),Rn=t.n(mn),zn=t(1754),_n=t.n(zn);function mr(Xt){var pe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Qt,R=(0,h.Z)(Xt);if(pe){var B=(0,h.Z)(this).constructor;Qt=Reflect.construct(R,arguments,B)}else Qt=R.apply(this,arguments);return(0,u.Z)(this,Qt)}}var gr=/https?:\/\/([0-9.\-A-Za-z]+)(?::(\d+))?\/[A-Z.a-z0-9/]*\.js/g,vr={comment:"",string:"",number:"",keyword:"",operator:""},Ar=function(Xt){(0,l.Z)(Qt,Xt);var pe=mr(Qt);function Qt(R,B){var X,J=B.type,Bt=J===void 0?"log":J,xt=B.args,Ht=xt===void 0?[]:xt,$t=B.id,ie=B.group,Te=B.targetGroup,Ae=B.header,Be=B.ignoreFilter,ze=Be!==void 0&&Be,ge=B.accessGetter,Fe=B.unenumerable,qe=B.lazyEvaluation;(0,s.Z)(this,Qt),(X=pe.call(this)).container=Vt()("div"),X.count=1,X.width=0,X.height=0,X.isHidden=!1,X.columns=[],X.elements={},X.objects={},X.console=R,X.type=Bt,X.group=ie,X.targetGroup=Te,X.args=Ht,X.id=$t,X.header=Ae,X.ignoreFilter=ze,X.collapsed=!1,X.container.log=(0,d.Z)(X),X.height=0,X.width=0,X.$container=Re()(X.container),X.accessGetter=ge,X.unenumerable=Fe,X.lazyEvaluation=qe;var Qe="info";switch(Bt){case"debug":Qe="verbose";break;case"error":Qe="error";break;case"warn":Qe="warning"}return X.level=Qe,X.resizeSensor=new(it())(X.container),X.onResize=Mt()(function(){Dt()(X.container)?X.isHidden=!0:(X.isHidden||X.updateSize(!1),X.isHidden=!1)},16),X.formatMsg(),X.group&&X.checkGroup(),X.bindEvent(),X}return(0,a.Z)(Qt,[{key:"checkGroup",value:function(){for(var R=this.group,B=!1;R;){if(R.collapsed){B=!0;break}R=R.parent}return B!==this.collapsed&&(this.collapsed=B,!0)}},{key:"updateIcon",value:function(R){var B=this.console.c;return this.$container.find(B(".icon-container")).find(B(".icon")).rmAttr("class").addClass([B("icon"),B("icon-".concat(R))]),this}},{key:"addCount",value:function(){this.count++;var R=this.$container,B=this.count,X=this.console.c,J=R.find(X(".count-container")),Bt=R.find(X(".icon-container")),xt=J.find(X(".count"));return B===2&&J.rmClass(X("hidden")),xt.text(g()(B)),Bt.addClass(X("hidden")),this}},{key:"groupEnd",value:function(){var R=this.$container,B=this.console.c;return R.find(".".concat(B("nesting-level"),":not(.").concat(B("group-closed"),")")).last().addClass(B("group-closed")),this}},{key:"updateTime",value:function(R){var B=this.$container.find(this.console.c(".time-container"));return this.header&&(B.find("span").eq(0).text(R),this.header.time=R),this}},{key:"isAttached",value:function(){return!!this.container.parentNode}},{key:"isSimple",value:function(){return!nn()(this.args,function(R){return at()(R)})}},{key:"updateSize",value:function(){var R=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],B=this.container.getBoundingClientRect(),X=B.width,J=B.height,Bt=J-1;this.height!==Bt&&(this.height=Bt,R||this.emit("updateHeight")),this.width!==X&&(this.width=X)}},{key:"html",value:function(){return this.container.outerHTML}},{key:"text",value:function(){return this.content.textContent||""}},{key:"select",value:function(){this.$container.addClass(this.console.c("selected"))}},{key:"deselect",value:function(){this.$container.rmClass(this.console.c("selected"))}},{key:"copy",value:function(){var R=this.args,B="";k()(R,function(X,J){J!==0&&(B+=" "),at()(X)?B+=ue()(X):B+=g()(X)}),Wt()(B)}},{key:"bindEvent",value:function(){var R=this,B=this.console.c,X=this;this.resizeSensor.addListener(this.onResize),this.$container.on("click",B(".dom-viewer"),function(J){return J.stopPropagation()}).on("click",B(".preview"),function(J){J.stopPropagation();var Bt=Re()(this).find(B(".preview-icon-container")).find(B(".icon")),xt="caret-down";Bt.hasClass(B("icon-caret-down"))&&(xt="caret-right"),Bt.rmAttr("class").addClass([B("icon"),B("icon-".concat(xt))]),X.renderObjectViewer(this)}).on("click",function(){return R.click()})}},{key:"renderEl",value:function(){var R=this.elements,B=this.console.c,X=this;this.$container.find(B(".dom-viewer")).each(function(){var J=Re()(this).data("id");new Yt.Z(this,{node:R[J],theme:X.console.getOption("theme")})})}},{key:"renderObjectViewer",value:function(R){var B=this.console,X=this.unenumerable,J=this.accessGetter,Bt=this.lazyEvaluation,xt=B.c,Ht=Re()(R),$t=Ht.data("id");if($t){var ie=this.objects[$t],Te=Ht.find(xt(".json"));if(Te.hasClass(xt("hidden"))){if(Te.data("init")!=="true"){if(Bt){var Ae=new ut.Z(Te.get(0),{unenumerable:X,accessGetter:J});Ae.setOption("theme",B.getOption("theme")),Ae.set(ie)}else{var Be=new ut.q(Te.get(0));Be.setOption("theme",B.getOption("theme")),Be.set(ie)}Te.data("init","true")}Te.rmClass(xt("hidden"))}else Te.addClass(xt("hidden"))}}},{key:"renderTable",value:function(R){var B=this,X="__LunaConsoleValue",J=this.columns,Bt=this.$container,xt=this.console,Ht=xt.c,$t=Bt.find(Ht(".data-grid")),ie=R[0],Te=new ht.Z($t.get(0),{columns:he()([{id:"(index)",title:"(index)",sortable:!0}],D()(J,function(Ae){return{id:Ae,title:Ae===X?"Value":Ae,sortable:!0}})),theme:xt.getOption("theme")});k()(ie,function(Ae,Be){var ze={"(index)":g()(Be)};J.forEach(function(ge){at()(Ae)?ze[ge]=ge===X?"":B.formatTableVal(Ae[ge]):et()(Ae)&&(ze[ge]=ge===X?B.formatTableVal(Ae):"")}),Te.append(ze)})}},{key:"extractObj",value:function(R){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=arguments.length>2?arguments[2]:void 0,J=this.accessGetter,Bt=this.unenumerable;Ot()(B,{accessGetter:J,unenumerable:Bt,symbol:Bt,timeout:1e3}),_r(R,B,function(xt){return X(JSON.parse(xt))})}},{key:"click",value:function(){var R=this.type,B=this.$container,X=this.console,J=X.c;switch(R){case"log":case"warn":case"debug":case"output":case"table":case"dir":break;case"group":case"groupCollapsed":X.toggleGroup(this);break;case"error":B.find(J(".stack")).toggleClass(J("hidden"))}}},{key:"formatMsg",value:function(){var R=this.args,B=this.type,X=this.id,J=this.header,Bt=this.group,xt=this.console.c;R=ne()(R);var Ht,$t,ie="";switch(B!=="group"&&B!=="groupCollapsed"||R.length===0&&(R=["console.group"]),B){case"log":case"debug":ie=this.formatCommon(R);break;case"dir":ie=this.formatDir(R);break;case"warn":Ht="warn",ie=this.formatCommon(R);break;case"error":It()(R[0])&&R.length!==1&&(R=this.substituteStr(R)),$t=R[0],Ht="error",$t=Pt()($t)?$t:new Error(this.formatCommon(R)),ie=this.formatErr($t);break;case"table":ie=this.formatTable(R);break;case"html":ie=R[0];break;case"input":ie=this.formatJs(R[0]),Ht="input";break;case"output":ie=this.formatCommon(R),Ht="output";break;case"groupCollapsed":ie=this.formatCommon(R),Ht="caret-right";break;case"group":ie=this.formatCommon(R),Ht="caret-down"}y()(["log","debug","warn"],B)&&this.isSimple()&&(ie=De()(ie,function(Te){return'<a href="'.concat(Te,'" target="_blank">').concat(Te,"</a>")})),ie=this.render({msg:ie,type:B,icon:Ht,id:X,header:J,group:Bt}),this.$container.addClass("".concat(xt("log-container"))).html(ie),B==="table"&&(j()(this.columns)||this.renderTable(R)),j()(this.elements)||this.renderEl(),this.$content=this.$container.find(xt(".log-content")),this.content=this.$content.get(0)}},{key:"render",value:function(R){var B=this.console.c,X="",J="";if(R.group)for(var Bt=R.group.indentLevel,xt=0;xt<Bt;xt++)J+='<div class="'.concat(B("nesting-level"),'"></div>');R.header&&(X+=hn()(vt||(vt=(0,r.Z)([`
      <div class="`,`">
        `,`
        <div class="`,`">
          <span>`,"</span> <span>",`</span>
        </div>
      </div>`])),B("header"),J,B("time-from-container"),R.header.time,R.header.from));var Ht="";return R.icon&&(Ht='<div class="'.concat(B("icon-container"),'"><span class="').concat(B("icon icon-"+R.icon),'"></span></div>')),X+=`
    <div class="`.concat(B(R.type+" log-item"),`">
      `).concat(J,`
      `).concat(Ht,`
      <div class="`).concat(B("count-container hidden"),`">
        <div class="`).concat(B("count"),`"></div>
      </div>    
      <div class="`).concat(B("log-content-wrapper"),`">
        <div class="`).concat(B("log-content"),'">').concat(R.msg,`</div>
      </div>
    </div>`)}},{key:"formatTable",value:function(R){var B=R[0],X=R[1],J=[];return It()(X)&&(X=le()(X)),ee()(X)||(X=null),at()(B)?(k()(B,function(Bt){et()(Bt)?J.push("__LunaConsoleValue"):at()(Bt)&&(J=J.concat(we()(Bt)))}),(J=Ft()(J)).sort(),X&&(J=J.filter(function(Bt){return y()(X,Bt)})),J.length>20&&(J=J.slice(0,20)),j()(J)?this.formatCommon(R):(this.columns=J,this.console.c('<div class="data-grid"></div>')+this.formatPreview(B))):this.formatCommon(R)}},{key:"formatErr",value:function(R){var B=R.stack?R.stack.split(`
`):[],X="".concat(R.message||B[0],"<br/>");return B=B.map(function(J){return f()(J)}),X+'<div class="'.concat(this.console.c("stack hidden"),'">').concat(B.slice(1).join("<br/>"),"</div>").replace(gr,function(J){return'<a href="'.concat(J,'" target="_blank">').concat(J,"</a>")})}},{key:"formatCommon",value:function(R){var B=this.console.c,X=It()(R[0])&&R.length!==1;X&&(R=this.substituteStr(R));for(var J=0,Bt=R.length;J<Bt;J++){var xt=R[J];te()(xt)?R[J]=this.formatEl(xt):Je()(xt)?R[J]=this.formatFn(xt):_n()(xt)?R[J]='<span class="'.concat(B("regexp"),'">').concat(f()(g()(xt)),"</span>"):at()(xt)?R[J]=this.formatPreview(xt):je()(xt)?R[J]='<span class="'.concat(B("undefined"),'">undefined</span>'):ke()(xt)?R[J]='<span class="'.concat(B("null"),'">null</span>'):Tt()(xt)?R[J]='<span class="'.concat(B("number"),'">').concat(g()(xt),"</span>"):typeof xt=="bigint"?R[J]='<span class="'.concat(B("number"),'">').concat(g()(xt),"n</span>"):ln()(xt)?R[J]='<span class="'.concat(B("boolean"),'">').concat(g()(xt),"</span>"):Rn()(xt)?R[J]='<span class="'.concat(B("symbol"),'">').concat(f()(g()(xt)),"</span>"):(xt=g()(xt),J===0&&X||(xt=f()(xt)),xt.length>5e3&&(xt=T()(xt,5e3,{separator:" ",ellipsis:"…"})),R[J]=xt)}return R.join(" ")}},{key:"formatDir",value:function(R){return at()(R[0])?this.formatPreview(R[0]):this.formatCommon(R)}},{key:"formatTableVal",value:function(R){var B=this.console.c;return at()(R)?"{…}":et()(R)?an()('<div class="'.concat(B("preview"),'">').concat(Lt(R),"</div>")):g()(R)}},{key:"formatPreview",value:function(R){var B=this,X=this.console.c,J=We()();this.lazyEvaluation?this.objects[J]=R:this.extractObj(R,{},function(Ht){B.objects[J]=Ht});var Bt=y()(["dir","table"],this.type),xt=N(R);return xt==="Array"&&R.length>1?(xt="(".concat(R.length,")"),Bt&&(xt="Array".concat(xt))):xt==="RegExp"?xt=g()(R):te()(R)&&(xt=this.formatElName(R)),'<div class="'.concat(X("preview"),'" data-id="').concat(J,'">')+'<div class="'.concat(X("preview-container"),'">')+'<div class="'.concat(X("preview-icon-container"),'"><span class="').concat(X("icon icon-caret-right"),'"></span></div>')+'<span class="'.concat(X("preview-content-container"),'">')+'<span class="'.concat(X("descriptor"),'">').concat(f()(xt),"</span> ")+'<span class="'.concat(X("object-preview"),'">').concat(Bt?"":Lt(R,{getterVal:this.accessGetter,unenumerable:!1}),"</span>")+"</span></div>"+'<div class="'.concat(X("json hidden"),'"></div></div>')}},{key:"substituteStr",value:function(R){var B=f()(R[0]),X=!1,J="";R.shift();for(var Bt=0,xt=B.length;Bt<xt;Bt++){var Ht=B[Bt];if(Ht==="%"&&R.length!==0){Bt++;var $t=R.shift();switch(B[Bt]){case"i":case"d":J+=ye()($t);break;case"f":J+=Gt()($t);break;case"s":J+=g()($t);break;case"O":at()($t)&&(J+=this.formatPreview($t));break;case"o":te()($t)?J+=this.formatEl($t):at()($t)&&(J+=this.formatPreview($t));break;case"c":if(B.length<=Bt+1)break;X&&(J+="</span>"),X=!0,J+='<span style="'.concat(yr($t),'">');break;default:Bt--,R.unshift($t),J+=Ht}}else J+=Ht}return X&&(J+="</span>"),R.unshift(J),R}},{key:"formatJs",value:function(R){return'<pre class="'.concat(this.console.c("code"),'">').concat(this.console.c(Ke()(R,"js",vr)),"</pre>")}},{key:"formatFn",value:function(R){return'<pre style="display:inline">'.concat(this.formatJs(R.toString()),"</pre>")}},{key:"formatElName",value:function(R){var B=R.id,X=R.className,J=R.tagName.toLowerCase();if(B!==""&&(J+="#".concat(B)),It()(X)){var Bt="";k()(X.split(/\s+/g),function(xt){xt.trim()!==""&&(Bt+=".".concat(xt))}),J+=Bt}return J}},{key:"formatEl",value:function(R){var B=We()();return this.elements[B]=R,this.console.c('<div class="dom-viewer" data-id="'.concat(B,'"></div>'))}}]),Qt}(Zt());function yr(Xt){var pe=(Xt=ve()(Xt)).split(";"),Qt={};k()(pe,function(B){if(y()(B,":")){var X=o(B.split(":"),2),J=X[0],Bt=X[1];Qt[Y()(J)]=Y()(Bt)}}),Qt.display="inline-block",Qt["max-width"]="100%",delete Qt.width,delete Qt.height;var R="";return k()(Qt,function(B,X){R+="".concat(X,":").concat(B,";")}),R}function _r(Xt,pe,Qt){var R=fe()(Xt,pe);Se()(function(){return Qt(R)})}var xr=t(1194),Mn=t.n(xr),br=t(8847),Hn=t.n(br),wr=t(6329),Kn=t.n(wr),Er=t(9001),qn=t.n(Er),Tr=t(9702),Ee=t.n(Tr),Sr=t(2439),Jn=t.n(Sr),Cr=t(8933),Ir=t.n(Cr),kr=t(4407),Rr=t.n(kr),Mr=t(5852),Pr=t.n(Mr);function Br(Xt){var pe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Qt,R=(0,h.Z)(Xt);if(pe){var B=(0,h.Z)(this).constructor;Qt=Reflect.construct(R,arguments,B)}else Qt=R.apply(this,arguments);return(0,u.Z)(this,Qt)}}var tr,Dr=function(Xt){(0,l.Z)(Qt,Xt);var pe=Br(Qt);function Qt(R,B){var X,J=B.compName,Bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},xt=Bt.theme,Ht=xt===void 0?"light":xt;return(0,s.Z)(this,Qt),(X=pe.call(this)).subComponents=[],X.compName=J,X.c=Ct(J),X.options={},X.container=R,X.$container=Re()(R),X.$container.addClass(["luna-".concat(J),X.c("platform-".concat(ft()))]),X.on("optionChange",function($t,ie,Te){var Ae=X.c;$t==="theme"&&(X.$container.rmClass(Ae("theme-".concat(Te))).addClass(Ae("theme-".concat(ie))),k()(X.subComponents,function(Be){return Be.setOption("theme",ie)}))}),X.setOption("theme",Ht),X}return(0,a.Z)(Qt,[{key:"destroy",value:function(){this.destroySubComponents();var R=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(R("platform-".concat(ft()))).rmClass(R("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(R,B){var X=this,J=this.options,Bt={};typeof R=="string"?Bt[R]=B:Bt=R,k()(Bt,function(xt,Ht){var $t=J[Ht];J[Ht]=xt,X.emit("optionChange",Ht,xt,$t)})}},{key:"getOption",value:function(R){return this.options[R]}},{key:"addSubComponent",value:function(R){R.setOption("theme",this.options.theme),this.subComponents.push(R)}},{key:"removeSubComponent",value:function(R){Pr()(this.subComponents,function(B){return B===R})}},{key:"destroySubComponents",value:function(){k()(this.subComponents,function(R){return R.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(R){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ot()(R,B),Kn()(this.options,R)}},{key:"find",value:function(R){return this.$container.find(this.c(R))}}]),Qt}(Zt()),Or=t(1571),Fr=t.n(Or);function Nr(Xt){var pe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Qt,R=(0,h.Z)(Xt);if(pe){var B=(0,h.Z)(this).constructor;Qt=Reflect.construct(R,arguments,B)}else Qt=R.apply(this,arguments);return(0,u.Z)(this,Qt)}}n=t.hmd(n);var er=navigator.userAgent,Lr=er.indexOf("Android")>-1||er.indexOf("Adr")>-1,Ur=0,Yn=function(Xt){(0,l.Z)(Qt,Xt);var pe=Nr(Qt);function Qt(R){var B,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,s.Z)(this,Qt),(B=pe.call(this,R,{compName:"console"},X)).spaceHeight=0,B.topSpaceHeight=0,B.bottomSpaceHeight=0,B.lastScrollTop=0,B.lastTimestamp=0,B.speedToleranceFactor=100,B.maxSpeedTolerance=2e3,B.minSpeedTolerance=100,B.logs=[],B.displayLogs=[],B.timer={},B.counter={},B.asyncList=[],B.asyncTimer=null,B.isAtBottom=!0,B.groupStack=new(qn()),B.selectedLog=null,B.onScroll=function(){var J=B.container,Bt=J.scrollHeight,xt=J.offsetHeight,Ht=J.scrollTop;if(!(Ht<=0||xt+Ht>Bt)){var $t=!1;(Bt===xt||Ht===Bt-xt)&&($t=!0),B.isAtBottom=$t;var ie=B.lastScrollTop,Te=B.lastTimestamp,Ae=Hn()(),Be=Ae-Te,ze=Ht-ie,ge=Math.abs(ze/Be)*B.speedToleranceFactor;Be>1e3&&(ge=1e3),ge>B.maxSpeedTolerance&&(ge=B.maxSpeedTolerance),ge<B.minSpeedTolerance&&(ge=B.minSpeedTolerance),B.lastScrollTop=Ht,B.lastTimestamp=Ae;var Fe=0,qe=0;ie<Ht?(Fe=B.minSpeedTolerance,qe=ge):(Fe=ge,qe=B.minSpeedTolerance),B.topSpaceHeight<Ht-Fe&&B.topSpaceHeight+B.el.offsetHeight>Ht+xt+qe||B.renderViewport({topTolerance:2*Fe,bottomTolerance:2*qe})}},B.initTpl(),B.initOptions(X,{maxNum:0,asyncRender:!0,showHeader:!1,filter:"",level:["verbose","info","warning","error"],accessGetter:!1,unenumerable:!0,lazyEvaluation:!0}),B.$el=B.find(".logs"),B.el=B.$el.get(0),B.$fakeEl=B.find(".fake-logs"),B.fakeEl=B.$fakeEl.get(0),B.$space=B.find(".logs-space"),B.space=B.$space.get(0),Lr&&(B.speedToleranceFactor=800,B.maxSpeedTolerance=3e3,B.minSpeedTolerance=800),B.resizeSensor=new(it())(R),B.renderViewport=Jn()(function(J){B._renderViewport(J)},16),B.global={copy:function(J){It()(J)||(J=JSON.stringify(J,null,2)),Wt()(J)},$:function(J){return document.querySelector(J)},$$:function(J){return le()(document.querySelectorAll(J))},$x:function(J){return Ir()(J)},clear:function(){B.clear()},dir:function(J){B.dir(J)},table:function(J,Bt){B.table(J,Bt)},keys:we()},B.bindEvent(),B}return(0,a.Z)(Qt,[{key:"setGlobal",value:function(R,B){this.global[R]=B}},{key:"destroy",value:function(){this.$container.off("scroll",this.onScroll),this.resizeSensor.destroy(),(0,c.Z)((0,h.Z)(Qt.prototype),"destroy",this).call(this)}},{key:"count",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default",B=this.counter;je()(B[R])?B[R]=1:B[R]++,this.info("".concat(R,": ").concat(B[R]))}},{key:"countReset",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";this.counter[R]=0}},{key:"assert",value:function(){for(var R=arguments.length,B=new Array(R),X=0;X<R;X++)B[X]=arguments[X];if(!j()(B)){var J=B.shift();J||(B.length===0&&B.unshift("console.assert"),B.unshift("Assertion failed: "),this.insert("error",B))}}},{key:"log",value:function(){for(var R=arguments.length,B=new Array(R),X=0;X<R;X++)B[X]=arguments[X];j()(B)||this.insert("log",B)}},{key:"debug",value:function(){for(var R=arguments.length,B=new Array(R),X=0;X<R;X++)B[X]=arguments[X];j()(B)||this.insert("debug",B)}},{key:"dir",value:function(R){je()(R)||this.insert("dir",[R])}},{key:"table",value:function(){for(var R=arguments.length,B=new Array(R),X=0;X<R;X++)B[X]=arguments[X];j()(B)||this.insert("table",B)}},{key:"time",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";if(this.timer[R])return this.insert("warn",["Timer '".concat(R,"' already exists")]);this.timer[R]=Mn()()}},{key:"timeLog",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default",B=this.timer[R];if(!B)return this.insert("warn",["Timer '".concat(R,"' does not exist")]);this.info("".concat(R,": ").concat(Mn()()-B,"ms"))}},{key:"timeEnd",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";this.timeLog(R),delete this.timer[R]}},{key:"clear",value:function(){var R=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.logs=[],this.displayLogs=[],this.selectLog(null),this.lastLog=void 0,this.counter={},this.timer={},this.groupStack=new(qn()),this.asyncList=[],this.asyncTimer&&(clearTimeout(this.asyncTimer),this.asyncTimer=null),R?this.render():this.insert("log",["%cConsole was cleared","color:#808080;font-style:italic;"])}},{key:"info",value:function(){for(var R=arguments.length,B=new Array(R),X=0;X<R;X++)B[X]=arguments[X];j()(B)||this.insert("log",B)}},{key:"error",value:function(){for(var R=arguments.length,B=new Array(R),X=0;X<R;X++)B[X]=arguments[X];j()(B)||this.insert("error",B)}},{key:"warn",value:function(){for(var R=arguments.length,B=new Array(R),X=0;X<R;X++)B[X]=arguments[X];j()(B)||this.insert("warn",B)}},{key:"group",value:function(){for(var R=arguments.length,B=new Array(R),X=0;X<R;X++)B[X]=arguments[X];this.insert({type:"group",args:B,ignoreFilter:!0})}},{key:"groupCollapsed",value:function(){for(var R=arguments.length,B=new Array(R),X=0;X<R;X++)B[X]=arguments[X];this.insert({type:"groupCollapsed",args:B,ignoreFilter:!0})}},{key:"groupEnd",value:function(){this.insert("groupEnd")}},{key:"evaluate",value:function(R){this.insert({type:"input",args:[R],ignoreFilter:!0});try{this.output(this.evalJs(R))}catch(B){this.insert({type:"error",ignoreFilter:!0,args:[B]})}}},{key:"html",value:function(){for(var R=arguments.length,B=new Array(R),X=0;X<R;X++)B[X]=arguments[X];this.insert("html",B)}},{key:"toggleGroup",value:function(R){R.targetGroup.collapsed?this.openGroup(R):this.collapseGroup(R)}},{key:"output",value:function(R){this.insert({type:"output",args:[R],ignoreFilter:!0})}},{key:"render",value:function(){var R=this.logs,B=this.selectedLog;this.$el.html(""),this.isAtBottom=!0,this.updateBottomSpace(0),this.updateTopSpace(0),this.displayLogs=[];for(var X=0,J=R.length;X<J;X++)this.attachLog(R[X]);B&&(y()(this.displayLogs,B)||this.selectLog(null))}},{key:"insert",value:function(R,B){var X,J=this.options,Bt=J.showHeader,xt=J.asyncRender;if(Bt&&(X={time:Gr(),from:jr()}),xt)return this.insertAsync(R,B,X);this.insertSync(R,B,X)}},{key:"insertAsync",value:function(R,B,X){this.asyncList.push([R,B,X]),this.handleAsyncList()}},{key:"insertSync",value:function(R,B,X){var J,Bt=this,xt=this.logs,Ht=this.groupStack,$t=this.options,ie=$t.maxNum,Te=$t.accessGetter,Ae=$t.unenumerable,Be=$t.lazyEvaluation;if((J=It()(R)?{type:R,args:B,header:X}:R).type==="groupEnd")return this.lastLog.groupEnd(),void this.groupStack.pop();if(Ht.size>0&&(J.group=Ht.peek()),Kn()(J,{id:++Ur,accessGetter:Te,unenumerable:Ae,lazyEvaluation:Be}),J.type==="group"||J.type==="groupCollapsed"){var ze={id:We()("group"),collapsed:!1,parent:Ht.peek(),indentLevel:Ht.size+1};J.type==="groupCollapsed"&&(ze.collapsed=!0),J.targetGroup=ze,Ht.push(ze)}var ge=new Ar(this,J);ge.on("updateHeight",function(){Bt.isAtBottom=!1,Bt.renderViewport()});var Fe=this.lastLog;if(Fe&&!y()(["html","group","groupCollapsed"],ge.type)&&Fe.type===ge.type&&ge.isSimple()&&Fe.text()===ge.text()?(Fe.addCount(),ge.header&&Fe.updateTime(ge.header.time),ge=Fe,this.detachLog(Fe)):(xt.push(ge),this.lastLog=ge),ie!==0&&xt.length>ie){var qe=xt[0];this.detachLog(qe),xt.shift()}this.attachLog(ge),this.emit("insert",ge)}},{key:"updateTopSpace",value:function(R){this.topSpaceHeight=R,this.el.style.top=R+"px"}},{key:"updateBottomSpace",value:function(R){this.bottomSpaceHeight=R}},{key:"updateSpace",value:function(R){this.spaceHeight!==R&&(this.spaceHeight=R,this.space.style.height=R+"px")}},{key:"detachLog",value:function(R){var B=this.displayLogs,X=B.indexOf(R);X>-1&&(B.splice(X,1),this.renderViewport())}},{key:"attachLog",value:function(R){if(this.filterLog(R)&&!R.collapsed){var B=this.displayLogs;if(B.length===0)return B.push(R),void this.renderViewport();var X=Ee()(B);if(R.id>X.id)return B.push(R),void this.renderViewport();for(var J,Bt=0,xt=B.length-1,Ht=0;Bt<=xt;){if((J=B[Ht=Bt+Math.floor((xt-Bt)/2)]).id===R.id)return;J.id<R.id?Bt=Ht+1:xt=Ht-1}J.id<R.id?B.splice(Ht+1,0,R):B.splice(Ht,0,R),this.renderViewport()}}},{key:"handleAsyncList",value:function(){var R=this,B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,X=this.asyncList;this.asyncTimer||(this.asyncTimer=setTimeout(function(){R.asyncTimer=null;var J,Bt,xt=!1,Ht=X.length;Ht<1e3?(Bt=200,J=400):Ht<5e3?(Bt=500,J=800):Ht<1e4?(Bt=800,J=1e3):Ht<25e3?(Bt=1e3,J=1200):Ht<5e4?(Bt=1500,J=1500):(Bt=2e3,J=2500),Bt>Ht&&(Bt=Ht,xt=!0);for(var $t=0;$t<Bt;$t++){var ie=o(X.shift(),3),Te=ie[0],Ae=ie[1],Be=ie[2];R.insertSync(Te,Ae,Be)}xt||Fr()(function(){return R.handleAsyncList(J)})},B))}},{key:"injectGlobal",value:function(){k()(this.global,function(R,B){window[B]||(window[B]=R)})}},{key:"clearGlobal",value:function(){k()(this.global,function(R,B){window[B]&&window[B]===R&&delete window[B]})}},{key:"evalJs",value:function(R){var B;this.injectGlobal();try{B=eval.call(window,"(".concat(R,")"))}catch{B=eval.call(window,R)}return this.setGlobal("$_",B),this.clearGlobal(),B}},{key:"filterLog",value:function(R){var B=this.options,X=B.filter,J=B.level;if(R.ignoreFilter)return!0;if(!y()(J,R.level))return!1;if(X){if(Je()(X))return X(R);if(_n()(X))return X.test(ve()(R.text()));if(It()(X)&&Y()(X)!=="")return y()(R.text(),X)}return!0}},{key:"collapseGroup",value:function(R){R.targetGroup.collapsed=!0,R.updateIcon("caret-right"),this.updateGroup(R)}},{key:"openGroup",value:function(R){R.targetGroup.collapsed=!1,R.updateIcon("caret-down"),this.updateGroup(R)}},{key:"updateGroup",value:function(R){for(var B=R.targetGroup,X=this.logs,J=X.length,Bt=X.indexOf(R)+1;Bt<J;){var xt=X[Bt];if(!xt.checkGroup()&&xt.group===B)break;xt.collapsed?this.detachLog(xt):this.attachLog(xt),Bt++}}},{key:"selectLog",value:function(R){var B;this.selectedLog&&(this.selectedLog.deselect(),this.selectedLog=null),ke()(R)?this.emit("deselect"):(this.selectedLog=R,(B=this.selectedLog)===null||B===void 0||B.select(),this.emit("select",R))}},{key:"bindEvent",value:function(){var R=this,B=this.$el,X=this.c;this.resizeSensor.addListener(this.renderViewport);var J=this;B.on("click",X(".log-container"),function(){J.selectLog(this.log)}),this.on("optionChange",function(Bt,xt){var Ht=R.logs;switch(Bt){case"maxNum":xt>0&&Ht.length>xt&&(R.logs=Ht.slice(Ht.length-xt),R.render());break;case"filter":R.render();break;case"level":R.options.level=le()(xt),R.render()}}),this.$container.on("scroll",this.onScroll)}},{key:"_renderViewport",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=R.topTolerance,X=B===void 0?500:B,J=R.bottomTolerance,Bt=J===void 0?500:J,xt=this.el,Ht=this.container,$t=this.space;if(!Dt()(Ht)){for(var ie=Ht.scrollTop,Te=Ht.offsetHeight,Ae=$t.getBoundingClientRect().width,Be=ie-X,ze=ie+Te+Bt,ge=this.displayLogs,Fe=0,qe=0,Qe=0,Pn=ge.length,Xe=this.fakeEl,Bn=document.createDocumentFragment(),xn=[],gn=0;gn<Pn;gn++){var He=ge[gn],$n=He.width,Dn=He.height;Dn!==0&&$n===Ae||(Bn.appendChild(He.container),xn.push(He))}if(xn.length>0){Xe.appendChild(Bn);for(var Tn=0,Zn=xn.length;Tn<Zn;Tn++)xn[Tn].updateSize();Xe.textContent=""}for(var On=document.createDocumentFragment(),cn=0;cn<Pn;cn++){var Sn=ge[cn],bn=Sn.container,wn=Sn.height;Qe>ze?qe+=wn:Qe+wn>Be?On.appendChild(bn):Qe<Be&&(Fe+=wn),Qe+=wn}for(this.updateSpace(Qe),this.updateTopSpace(Fe),this.updateBottomSpace(qe);xt.firstChild;)xt.lastChild&&xt.removeChild(xt.lastChild);xt.appendChild(On);var Fn=Ht.scrollHeight;this.isAtBottom&&ie<=Fn-Te&&(Ht.scrollTop=1e7)}}},{key:"initTpl",value:function(){this.$container.html(this.c(hn()(tr||(tr=(0,r.Z)([`
      <div class="logs-space">
        <div class="fake-logs"></div>
        <div class="logs"></div>
      </div>
    `])))))}}]),Qt}(Dr),Gr=function(){return Rr()("HH:MM:ss ")};function jr(){for(var Xt=new Error,pe="",Qt=Xt.stack?Xt.stack.split(`
`):"",R=0,B=Qt.length;R<B;R++)if((pe=Qt[R]).indexOf("winConsole")>-1&&R<B-1){pe=Qt[R+1];break}return pe}(function(Xt,pe){try{Xt.exports=pe,Xt.exports.default=pe}catch{}})(n,Yn)},5564:function(n,e,t){t.d(e,{Z:function(){return Ve}});var r=t(168),i=t(5671),o=t(3144),s=t(7326),a=t(1752),c=t(9340),l=t(2963),u=t(1120),h=t(1512),d=t.n(h),p=t(1907),f=t.n(p),m=t(1443),g=t.n(m),v=t(2461),y=t.n(v),A=t(4331),x=t.n(A),S=t(5610),E=t.n(S),w=t(7483),k=t.n(w),Z=(t(3990),t(6341)),L=t.n(Z),G=t(3875),j=t.n(G),M=t(6954),T=t.n(M);t(9585);function P(le){var de="luna-".concat(le,"-");function ee(bt){return y()(x()(bt).split(/\s+/),function(Ft){return L()(Ft,de)?Ft:Ft.replace(/[\w-]+/,function(lt){return"".concat(de).concat(lt)})}).join(" ")}return function(bt){if(/<[^>]*>/g.test(bt))try{var Ft=k().parse(bt);return U(Ft,function(lt){lt.attrs&&lt.attrs.class&&(lt.attrs.class=ee(lt.attrs.class))}),k().stringify(Ft)}catch{return ee(bt)}return ee(bt)}}function U(le,de){for(var ee=0,bt=le.length;ee<bt;ee++){var Ft=le[ee];de(Ft),Ft.content&&U(Ft.content,de)}}var N="ontouchstart"in E(),$={start:"touchstart",move:"touchmove",end:"touchend"},D={start:"mousedown",move:"mousemove",end:"mouseup"};function z(le){return N?$[le]:D[le]}function Y(le,de){var ee=le==="x"?"clientX":"clientY";return de[ee]?de[ee]:de.changedTouches?de.changedTouches[0][ee]:0}function rt(){var le=T()();return le==="os x"?"mac":le}var ot=t(3783),st=t.n(ot),tt=t(6329),nt=t.n(tt),Tt=t(4193),At=t.n(Tt),Gt=t(5852),Nt=t.n(Gt);function jt(le){var de=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ee,bt=(0,u.Z)(le);if(de){var Ft=(0,u.Z)(this).constructor;ee=Reflect.construct(bt,arguments,Ft)}else ee=bt.apply(this,arguments);return(0,l.Z)(this,ee)}}var kt,Dt=function(le){(0,c.Z)(ee,le);var de=jt(ee);function ee(bt,Ft){var lt,ne=Ft.compName,re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ve=re.theme,_e=ve===void 0?"light":ve;return(0,i.Z)(this,ee),(lt=de.call(this)).subComponents=[],lt.compName=ne,lt.c=P(ne),lt.options={},lt.container=bt,lt.$container=d()(bt),lt.$container.addClass(["luna-".concat(ne),lt.c("platform-".concat(rt()))]),lt.on("optionChange",function(we,Oe,Re){var Ue=lt.c;we==="theme"&&(lt.$container.rmClass(Ue("theme-".concat(Re))).addClass(Ue("theme-".concat(Oe))),st()(lt.subComponents,function(Vt){return Vt.setOption("theme",Oe)}))}),lt.setOption("theme",_e),lt}return(0,o.Z)(ee,[{key:"destroy",value:function(){this.destroySubComponents();var bt=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(bt("platform-".concat(rt()))).rmClass(bt("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(bt,Ft){var lt=this,ne=this.options,re={};typeof bt=="string"?re[bt]=Ft:re=bt,st()(re,function(ve,_e){var we=ne[_e];ne[_e]=ve,lt.emit("optionChange",_e,ve,we)})}},{key:"getOption",value:function(bt){return this.options[bt]}},{key:"addSubComponent",value:function(bt){bt.setOption("theme",this.options.theme),this.subComponents.push(bt)}},{key:"removeSubComponent",value:function(bt){Nt()(this.subComponents,function(Ft){return Ft===bt})}},{key:"destroySubComponents",value:function(){st()(this.subComponents,function(bt){return bt.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(bt){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};At()(bt,Ft),nt()(this.options,bt)}},{key:"find",value:function(bt){return this.$container.find(this.c(bt))}}]),ee}(g()),Ct=t(8901),q=t.n(Ct),ft=t(8613),yt=t.n(ft),Lt=t(3367),K=t.n(Lt),mt=t(9833),W=t.n(mt),vt=t(1286),ut=t.n(vt),ht=t(242),Yt=t.n(ht),gt=t(2439),it=t.n(gt),wt=t(6930),at=t.n(wt),dt=t(6156),It=t.n(dt),pt=t(4777),Pt=t.n(pt),Rt=t(1754),et=t.n(Rt),_t=t(6768),Ot=t.n(_t),qt=t(3063),te=t.n(qt),se=t(9882),ye=t.n(se),me=t(9853),he=t.n(me),xe=t(6435),ke=t.n(xe);function be(le){var de=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ee,bt=(0,u.Z)(le);if(de){var Ft=(0,u.Z)(this).constructor;ee=Reflect.construct(bt,arguments,Ft)}else ee=bt.apply(this,arguments);return(0,l.Z)(this,ee)}}n=t.hmd(n);var je=d()(document),Ve=function(le){(0,c.Z)(ee,le);var de=be(ee);function ee(bt,Ft){var lt;(0,i.Z)(this,ee),(lt=de.call(this,bt,{compName:"data-grid"},Ft)).resizeIdx=0,lt.resizeStartX=0,lt.resizeStartLeft=0,lt.resizeDeltaX=0,lt.nodes=[],lt.colWidthsInitialized=!1,lt.colMap={},lt.selectedNode=null,lt.isAscending=!0,lt.colWidths=[],lt.onResizeColMove=function(we){var Oe=(0,s.Z)(lt),Re=Oe.resizeIdx,Ue=Oe.$resizers,Vt=Oe.colWidths,Kt=Oe.$colgroup,Zt=Y("x",we=we.origEvent)-lt.resizeStartX,Et=Vt[Re],Mt=Vt[Re+1],zt=ke()(24-Et,0),ue=he()(Mt-24,0);Zt=ye()(Zt,zt,ue),Kt.each(function(){var Wt=d()(this).find("col");Wt.eq(Re).css("width",Et+Zt+"px"),Wt.eq(Re+1).css("width",Mt-Zt+"px")}),lt.resizeDeltaX=Zt;var oe=lt.resizeStartLeft+Zt;Ue.eq(Re).css("left","".concat(oe,"px"))},lt.onResizeColEnd=function(we){lt.onResizeColMove(we);var Oe=(0,s.Z)(lt),Re=Oe.c,Ue=Oe.colWidths,Vt=Oe.resizeIdx,Kt=Oe.resizeDeltaX,Zt=lt.options.columns,Et=Zt[Vt],Mt=Zt[Vt+1],zt=Ue[Vt]+Kt,ue=zt+(Ue[Vt+1]-Kt),oe=Et.weight+Mt.weight,Wt=oe*(zt/ue),Jt=oe-Wt;Et.weight=Wt,Mt.weight=Jt,lt.applyColWeights(),d()(document.body).rmClass(Re("resizing")),je.off(z("move"),lt.onResizeColMove),je.off(z("end"),lt.onResizeColEnd)},lt.$container.attr("tabindex","0"),lt.resizeSensor=new(Yt())(bt),lt.onResize=it()(function(){lt.updateHeight(),lt.updateWeights()},16),Ft.height&&(Ft.maxHeight=Ft.height,Ft.minHeight=Ft.height),lt.initOptions(Ft,{minHeight:41,maxHeight:1/0,filter:""});var ne=lt.options,re=ne.columns,ve=ne.minHeight,_e=ne.maxHeight;return st()(re,function(we){At()(we,{sortable:!1}),lt.colMap[we.id]=we}),_e<ve&&lt.setOption("maxHeight",ve),lt.initTpl(),lt.$headerRow=lt.find(".header").find("tr"),lt.$fillerRow=lt.find(".filler-row"),lt.fillerRow=lt.$fillerRow.get(0),lt.$tableBody=lt.find(".data").find("tbody"),lt.tableBody=lt.$tableBody.get(0),lt.$colgroup=lt.$container.find("colgroup"),lt.$dataContainer=lt.find(".data-container"),lt.renderHeader(),lt.renderResizers(),lt.updateWeights(),lt.updateHeight(),lt.bindEvent(),lt}return(0,o.Z)(ee,[{key:"destroy",value:function(){(0,a.Z)((0,u.Z)(ee.prototype),"destroy",this).call(this),this.resizeSensor.destroy(),this.$container.rmAttr("tabindex")}},{key:"remove",value:function(bt){var Ft=this.nodes,lt=Ft.indexOf(bt);lt>-1&&(bt.detach(),Ft.splice(lt,1),bt===this.selectedNode&&this.selectNode(Ft[lt]||Ft[lt-1]||null),this.updateHeight())}},{key:"append",value:function(bt,Ft){var lt=new Je(this,bt,Ft);return this.nodes.push(lt),this.sortId?this.sortNodes(this.sortId,this.isAscending):this.filterNode(lt)&&(this.tableBody.insertBefore(lt.container,this.fillerRow),this.updateHeight()),lt}},{key:"clear",value:function(){st()(this.nodes,function(bt){return bt.detach()}),this.nodes=[],this.selectNode(null),this.updateHeight()}},{key:"updateHeight",value:function(){var bt=this.$fillerRow,Ft=this.options,lt=Ft.maxHeight,ne=Ft.minHeight;this.$dataContainer.css({height:"auto"}),(ne-=23)<0&&(ne=0),lt-=23;var re=20*(this.$dataContainer.find("tr").length-1);re>ne?bt.hide():bt.show(),re<ne?re=ne:re>=lt&&(re=lt),this.$dataContainer.css({height:re})}},{key:"selectNode",value:function(bt){var Ft;(It()(bt)||bt!=null&&bt.selectable)&&(this.selectedNode&&(this.selectedNode.deselect(),this.selectedNode=null),It()(bt)?this.emit("deselect"):(this.selectedNode=bt,(Ft=this.selectedNode)===null||Ft===void 0||Ft.select(),this.emit("select",bt)))}},{key:"onResizeColStart",value:function(bt){var Ft,lt=this.c,ne=this.resizeIdx,re=this.$resizers;bt.stopPropagation(),bt.preventDefault(),bt=bt.origEvent,this.resizeStartX=Y("x",bt),this.resizeStartLeft=(Ft=re.eq(ne).css("left"),j()(Ft.replace("px",""))),d()(document.body).addClass(lt("resizing")),je.on(z("move"),this.onResizeColMove),je.on(z("end"),this.onResizeColEnd)}},{key:"bindEvent",value:function(){var bt=this,Ft=this.c,lt=this.$headerRow,ne=this.$tableBody,re=this.$resizers;this.resizeSensor.addListener(this.onResize);var ve=this;ne.on("click",Ft(".node"),function(){ve.selectNode(this.dataGridNode)}),lt.on("click",Ft(".sortable"),function(_e){_e.stopPropagation();var we=d()(this),Oe=we.data("id"),Re=we.data("order")!=="descending";we.data("order",Re?"descending":"ascending"),ve.sortNodes(Oe,Re),lt.find("th").each(function(){var Ue=d()(this);Ue.data("id")!==Oe&&Ue.rmAttr("data-order")})}),re.on(z("start"),function(_e){var we=d()(this);ve.resizeIdx=j()(we.data("idx")),ve.onResizeColStart(_e)}),this.on("optionChange",function(_e){switch(_e){case"minHeight":case"maxHeight":bt.updateHeight();case"filter":bt.renderData()}})}},{key:"sortNodes",value:function(bt,Ft){var lt=this.colMap[bt].comparator||en;this.nodes.sort(function(ne,re){var ve=ne.data[bt],_e=re.data[bt];return W()(ve)&&(ve=ve.innerText),W()(_e)&&(_e=_e.innerText),Ft?lt(ve,_e):lt(_e,ve)}),this.renderData(),this.sortId=bt,this.isAscending=Ft}},{key:"updateWeights",value:function(){var bt=this.container,Ft=this.$headerRow,lt=this.options.columns,ne=bt.offsetWidth;if(!this.colWidthsInitialized&&ne){for(var re=0,ve=lt.length;re<ve;re++){var _e=lt[re];if(!_e.weight){var we=Ft.find("th").get(re).offsetWidth;_e.weight=100*we/ne}}this.colWidthsInitialized=!0}this.applyColWeights()}},{key:"applyColWeights",value:function(){var bt=this.container,Ft=this.$colgroup,lt=this.options.columns,ne=bt.offsetWidth;if(!(ne<=0)){for(var re=0,ve=lt.length,_e=0;_e<ve;_e++)re+=lt[_e].weight;var we="",Oe=0,Re=0;this.colWidths=[];for(var Ue=0;Ue<ve;Ue++){var Vt=(Oe+=lt[Ue].weight)*ne/re|0,Kt=Math.max(Vt-Re,14);Re=Vt,we+='<col style="width:'.concat(Kt,'px"></col>'),this.colWidths[Ue]=Kt}Ft.html(we),this.positionResizers()}}},{key:"positionResizers",value:function(){for(var bt=this.colWidths,Ft=[],lt=bt.length-1,ne=0;ne<lt;ne++)Ft[ne]=(Ft[ne-1]||0)+bt[ne];for(var re=0;re<lt;re++)this.$resizers.eq(re).css("left",Ft[re]+"px")}},{key:"renderData",value:function(){var bt=this,Ft=this.tableBody,lt=this.nodes,ne=this.fillerRow;st()(lt,function(re){return re.detach()}),st()(lt,function(re){bt.filterNode(re)&&Ft.insertBefore(re.container,ne)}),this.selectedNode&&!this.filterNode(this.selectedNode)&&this.selectNode(null),this.updateHeight()}},{key:"filterNode",value:function(bt){var Ft=this.options.filter;if(Ft){if(Pt()(Ft))return Ft(bt);if(et()(Ft))return Ft.test(bt.text());if(Ot()(Ft)&&(Ft=x()(Ft)))return L()(te()(bt.text()),te()(Ft))}return!0}},{key:"renderHeader",value:function(){var bt=this.c,Ft="",lt="";st()(this.options.columns,function(ne){var re=q()(ne.title);ne.sortable?Ft+=bt('<th class="sortable" data-id="'.concat(ne.id,'">').concat(re,"</th>")):Ft+="<th>".concat(re,"</th>"),lt+="<td></td>"}),this.$headerRow.html(Ft),this.$fillerRow.html(lt)}},{key:"renderResizers",value:function(){for(var bt="",Ft=this.options.columns.length-1,lt=0;lt<Ft;lt++)bt+=this.c('<div class="resizer" data-idx="'.concat(lt,'"></div>'));this.$container.append(bt),this.$resizers=this.find(".resizer")}},{key:"initTpl",value:function(){this.$container.html(this.c(f()(kt||(kt=(0,r.Z)([`
        <div class="header-container">
          <table class="header">
            <colgroup></colgroup>
            <tbody>
              <tr></tr>
            </tbody>
          </table>
        </div>
        <div class="data-container">
          <table class="data">
            <colgroup></colgroup>
            <tbody>
              <tr class="filler-row"></tr>
            </tbody>
          </table>
        </div>
      `])))))}}]),ee}(Dt),Je=function(){function le(de,ee){var bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{selectable:!1};(0,i.Z)(this,le),this.container=yt()("tr"),this.selectable=!1,this.container.dataGridNode=this,this.$container=d()(this.container),this.$container.addClass(de.c("node")),this.dataGrid=de,this.data=ee,bt.selectable&&(this.selectable=bt.selectable),this.render()}return(0,o.Z)(le,[{key:"text",value:function(){return this.$container.text()}},{key:"detach",value:function(){this.$container.remove()}},{key:"select",value:function(){this.$container.addClass(this.dataGrid.c("selected"))}},{key:"deselect",value:function(){this.$container.rmClass(this.dataGrid.c("selected"))}},{key:"render",value:function(){var de=this.data,ee=this.$container,bt=this.container,Ft=this.dataGrid.getOption("columns");ee.html(""),st()(Ft,function(lt){var ne=yt()("td"),re=de[lt.id];ut()(re)||(W()(re)?ne.appendChild(re):ne.innerText=K()(re)),bt.appendChild(ne)})}}]),le}();function en(le,de){if(le=K()(le),de=K()(de),at()(le,"_")&&!at()(de,"_"))return 1;if(at()(de,"_")&&!at()(le,"_"))return-1;for(var ee,bt,Ft,lt,ne=/^\d+|^\D+/;;){if(!le)return de?-1:0;if(!de)return 1;if(ee=le.match(ne)[0],bt=de.match(ne)[0],Ft=!isNaN(ee),lt=!isNaN(bt),Ft&&!lt)return-1;if(lt&&!Ft)return 1;if(Ft&&lt){var re=ee-bt;if(re)return re;if(ee.length!==bt.length)return+ee||+bt?bt.length-ee.length:ee.length-bt.length}else if(ee!==bt)return ee<bt?-1:1;le=le.substring(ee.length),de=de.substring(bt.length)}}(function(le,de){try{le.exports=de,le.exports.default=de}catch{}})(n,Ve)},8209:function(n,e,t){t.d(e,{Z:function(){return at}});var r=t(1002),i=t(168),o=t(4942),s=t(5671),a=t(3144),c=t(7326),l=t(9340),u=t(2963),h=t(1120),d=t(1443),p=t.n(d),f=t(1512),m=t.n(f),g=t(2461),v=t.n(g),y=t(4331),A=t.n(y),x=t(5610),S=t.n(x),E=t(7483),w=t.n(E),k=(t(3990),t(6341)),Z=t.n(k),L=(t(3875),t(6954)),G=t.n(L);t(9585);function j(pt){var Pt="luna-".concat(pt,"-");function Rt(et){return v()(A()(et).split(/\s+/),function(_t){return Z()(_t,Pt)?_t:_t.replace(/[\w-]+/,function(Ot){return"".concat(Pt).concat(Ot)})}).join(" ")}return function(et){if(/<[^>]*>/g.test(et))try{var _t=w().parse(et);return M(_t,function(Ot){Ot.attrs&&Ot.attrs.class&&(Ot.attrs.class=Rt(Ot.attrs.class))}),w().stringify(_t)}catch{return Rt(et)}return Rt(et)}}function M(pt,Pt){for(var Rt=0,et=pt.length;Rt<et;Rt++){var _t=pt[Rt];Pt(_t),_t.content&&M(_t.content,Pt)}}var T="ontouchstart"in S();function P(){var pt=G()();return pt==="os x"?"mac":pt}var U=t(3783),N=t.n(U),$=t(6329),D=t.n($),z=t(4193),Y=t.n(z),rt=t(5852),ot=t.n(rt);function st(pt){var Pt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Rt,et=(0,h.Z)(pt);if(Pt){var _t=(0,h.Z)(this).constructor;Rt=Reflect.construct(et,arguments,_t)}else Rt=et.apply(this,arguments);return(0,u.Z)(this,Rt)}}var tt,nt=function(pt){(0,l.Z)(Rt,pt);var Pt=st(Rt);function Rt(et,_t){var Ot,qt=_t.compName,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},se=te.theme,ye=se===void 0?"light":se;return(0,s.Z)(this,Rt),(Ot=Pt.call(this)).subComponents=[],Ot.compName=qt,Ot.c=j(qt),Ot.options={},Ot.container=et,Ot.$container=m()(et),Ot.$container.addClass(["luna-".concat(qt),Ot.c("platform-".concat(P()))]),Ot.on("optionChange",function(me,he,xe){var ke=Ot.c;me==="theme"&&(Ot.$container.rmClass(ke("theme-".concat(xe))).addClass(ke("theme-".concat(he))),N()(Ot.subComponents,function(be){return be.setOption("theme",he)}))}),Ot.setOption("theme",ye),Ot}return(0,a.Z)(Rt,[{key:"destroy",value:function(){this.destroySubComponents();var et=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(et("platform-".concat(P()))).rmClass(et("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(et,_t){var Ot=this,qt=this.options,te={};typeof et=="string"?te[et]=_t:te=et,N()(te,function(se,ye){var me=qt[ye];qt[ye]=se,Ot.emit("optionChange",ye,se,me)})}},{key:"getOption",value:function(et){return this.options[et]}},{key:"addSubComponent",value:function(et){et.setOption("theme",this.options.theme),this.subComponents.push(et)}},{key:"removeSubComponent",value:function(et){ot()(this.subComponents,function(_t){return _t===et})}},{key:"destroySubComponents",value:function(){N()(this.subComponents,function(et){return et.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(et){var _t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Y()(et,_t),D()(this.options,et)}},{key:"find",value:function(et){return this.$container.find(this.c(et))}}]),Rt}(p()),Tt=t(8613),At=t.n(Tt),Gt=t(5972),Nt=t.n(Gt),jt=t(1907),kt=t.n(jt),Dt=t(1352),Ct=t.n(Dt),q=t(2289),ft=t.n(q),yt=t(3651),Lt=t.n(yt),K=t(7756),mt=t.n(K),W=t(8901),vt=t.n(W),ut=t(1672),ht=t.n(ut);function Yt(pt,Pt){var Rt=Object.keys(pt);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(pt);Pt&&(et=et.filter(function(_t){return Object.getOwnPropertyDescriptor(pt,_t).enumerable})),Rt.push.apply(Rt,et)}return Rt}function gt(pt){for(var Pt=1;Pt<arguments.length;Pt++){var Rt=arguments[Pt]!=null?arguments[Pt]:{};Pt%2?Yt(Object(Rt),!0).forEach(function(et){(0,o.Z)(pt,et,Rt[et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pt,Object.getOwnPropertyDescriptors(Rt)):Yt(Object(Rt)).forEach(function(et){Object.defineProperty(pt,et,Object.getOwnPropertyDescriptor(Rt,et))})}return pt}function it(pt){var Pt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Rt,et=(0,h.Z)(pt);if(Pt){var _t=(0,h.Z)(this).constructor;Rt=Reflect.construct(et,arguments,_t)}else Rt=et.apply(this,arguments);return(0,u.Z)(this,Rt)}}n=t.hmd(n);var wt={comment:"",string:"",number:"",keyword:"",operator:""},at=function(pt){(0,l.Z)(Rt,pt);var Pt=it(Rt);function Rt(et){var _t,Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,s.Z)(this,Rt),(_t=Pt.call(this,et,{compName:"dom-viewer"},Ot)).isExpanded=!1,_t.childNodes=[],_t.childNodeDomViewers=[],_t.toggle=function(){_t.isExpanded?_t.collapse():_t.expand()},_t.initOptions(Ot,{node:document.documentElement,parent:null,isEndTag:!1,rootContainer:et,rootDomViewer:(0,c.Z)(_t),ignore:function(){return!1}}),_t.initTpl(),_t.bindEvent(),_t.options.isEndTag||_t.initObserver(),_t}return(0,a.Z)(Rt,[{key:"select",value:function(et){var _t=this.c,Ot=this.options;if(!et||et&&Ot.node===et)return this.$tag.hasClass(_t("selected"))?void 0:(m()(this.options.rootContainer).find(_t(".selected")).rmClass(_t("selected")).rmAttr("tabindex"),this.$tag.attr("tabindex","0").get(0).focus(),this.$tag.addClass(_t("selected")),void Ot.rootDomViewer.emit("select",Ot.node));if(et.nodeType===Node.ELEMENT_NODE)for(var qt=et,te=et.parentElement;te;){if(te===Ot.node){this.expand(),this.childNodeDomViewers[this.childNodes.indexOf(qt)].select(et);break}qt=te,te=te.parentElement}}},{key:"attach",value:function(){this.container.appendChild(this.$tag.get(0)),this.$children&&this.container.appendChild(this.$children.get(0))}},{key:"isAttached",value:function(){return!!this.$tag.get(0).parentNode}},{key:"detach",value:function(){this.$tag.remove(),this.$children&&this.$children.remove()}},{key:"expand",value:function(){this.isExpandable()&&!this.isExpanded&&(this.isExpanded=!0,this.renderExpandTag(),this.renderChildNodes())}},{key:"collapse",value:function(){this.isExpandable()&&this.isExpanded&&(this.isExpanded=!1,this.renderCollapseTag())}},{key:"destroy",value:function(){var et=this.c;this.$tag.hasClass(et("selected"))&&this.options.rootDomViewer.emit("deselect"),this.detach(),this.observer&&this.observer.disconnect(),this.destroySubComponents(),this.options.rootDomViewer===this&&this.$container.rmClass("luna-dom-viewer").rmClass(et("platform-".concat(P()))).rmClass(et("theme-".concat(this.options.theme))),this.emit("destroy"),this.removeAllListeners()}},{key:"renderExpandTag",value:function(){var et=this.$tag,_t=this.c,Ot=this.options.node;et.html(this.renderHtmlTag(gt(gt({},dt(Ot)),{},{hasTail:!1,hasToggleButton:!0}))),et.addClass(_t("expanded")),this.$children.rmClass(_t("hidden"))}},{key:"renderCollapseTag",value:function(){var et=this.$tag,_t=this.c,Ot=this.options.node;this.$children.addClass(_t("hidden")),this.$tag.html(this.renderHtmlTag(gt(gt({},dt(Ot)),{},{hasTail:!0,hasToggleButton:!0}))),et.rmClass(_t("expanded"))}},{key:"initObserver",value:function(){var et=this;this.observer=new(ft())(function(_t){N()(_t,function(Ot){et.handleMutation(Ot)})}),this.observer.observe(this.options.node,{attributes:!0,childList:!0,characterData:!0})}},{key:"handleMutation",value:function(et){var _t=this.$tag,Ot=this.c,qt=this.options,te=qt.node,se=qt.ignore;if(Z()(["attributes","childList"],et.type)){if(et.type==="childList"){if(ht()(et.addedNodes,se)&&ht()(et.removedNodes,se))return;this.renderChildNodes()}this.isExpandable()?this.isExpanded?this.renderExpandTag():this.renderCollapseTag():(this.$children.addClass(Ot("hidden")),_t.html(this.renderHtmlTag(gt(gt({},dt(te)),{},{hasTail:!1}))))}else et.type==="characterData"&&(te.nodeType===Node.TEXT_NODE?_t.html(this.renderTextNode(te)):te.nodeType===Node.COMMENT_NODE&&_t.html(this.renderHtmlComment(te.nodeValue)))}},{key:"bindEvent",value:function(){var et=this,_t=this.c,Ot=this.$tag;this.options.node.nodeType===Node.ELEMENT_NODE&&Ot.on("click",_t(".toggle"),function(qt){qt.stopPropagation(),et.toggle()}),T?Ot.on("click",function(){return et.select()}):Ot.on("mousedown",function(){return et.select()})}},{key:"isExpandable",value:function(){return this.options.node.nodeType===Node.ELEMENT_NODE&&this.getChildNodes().length>0}},{key:"getChildNodes",value:function(){var et=this.options,_t=et.rootContainer,Ot=et.ignore,qt=this.options.node,te=Ct()(qt.childNodes);return te=Nt()(te,function(se){if(se.nodeType===Node.TEXT_NODE||se.nodeType===Node.COMMENT_NODE){var ye=se.nodeValue;if(A()(ye)==="")return!1}return se!==_t&&!Ot(se)})}},{key:"initTpl",value:function(){var et=this.container,_t=this.c,Ot=this.options,qt=Ot.node,te=Ot.isEndTag,se=m()(At()("li"));if(se.addClass(_t("tree-item")),this.$tag=se,te)se.html(_t('<span class="html-tag" style="margin-left: -15px;">&lt;<span class="tag-name">/'.concat(qt.tagName.toLocaleLowerCase(),'</span>&gt;</span><span class="selection"></span>')));else if(qt.nodeType===Node.ELEMENT_NODE){var ye=this.isExpandable(),me=gt(gt({},dt(qt)),{},{hasTail:ye,hasToggleButton:ye});se.html(this.renderHtmlTag(me))}else if(qt.nodeType===Node.TEXT_NODE)se.html(this.renderTextNode(qt));else{if(qt.nodeType!==Node.COMMENT_NODE)return;var he=qt.nodeValue;if(he.trim()==="")return;se.html(this.renderHtmlComment(he))}if(et.appendChild(se.get(0)),qt.nodeType===qt.ELEMENT_NODE){var xe=m()(At()("ul"));xe.addClass([_t("children"),_t("hidden")]),et.appendChild(xe.get(0)),this.$children=xe}}},{key:"renderChildNodes",value:function(){var et=this,_t=this.options.node,Ot=this.options,qt=Ot.rootContainer,te=Ot.ignore,se=Ot.rootDomViewer,ye=this.$children.get(0),me=this.childNodes,he=this.childNodeDomViewers;N()(he,function(be){be.detach(),et.removeSubComponent(be)}),this.endTagDomViewer&&this.endTagDomViewer.detach();var xe=this.getChildNodes();this.childNodes=xe;var ke=[];this.childNodeDomViewers=ke,N()(xe,function(be,je){var Ve,Je=me.indexOf(be);(Ve=Je>-1?he[Je]:new Rt(ye,{node:be,parent:et,rootContainer:qt,rootDomViewer:se,ignore:te})).attach(),ke[je]=Ve,et.addSubComponent(Ve)}),N()(he,function(be){be.isAttached()||be.destroy()}),_t&&(this.endTagDomViewer?this.endTagDomViewer.attach():(this.endTagDomViewer=new Rt(ye,{node:_t,parent:this,isEndTag:!0,rootContainer:qt,rootDomViewer:se,ignore:te}),this.addSubComponent(this.endTagDomViewer)))}},{key:"renderHtmlTag",value:function(et){var _t=v()(et.attributes,function(te){var se=te.name,ye=te.value,me=te.isLink;return`<span class="attribute">
          <span class="attribute-name">`.concat(vt()(se),"</span>").concat(ye?'="<span class="attribute-value'.concat(me?" attribute-underline":"",'">').concat(vt()(ye),'</span>"'):"","</span>")}).join(""),Ot="";et.hasTail?Ot="".concat(et.hasTail?"…":"",'<span class="html-tag">&lt;<span class="tag-name">/').concat(et.tagName,"</span>&gt;</span>"):this.isExpandable()||(Ot='<span class="html-tag">&lt;<span class="tag-name">/'.concat(et.tagName,"</span>&gt;</span>"));var qt="";return et.hasToggleButton&&(qt='<div class="toggle "><span class="icon icon-arrow-right"></span><span class="icon icon-arrow-down"></span></div>'),this.c(kt()(tt||(tt=(0,i.Z)([`
      `,`
      <span class="html-tag">&lt;<span class="tag-name">`,"</span>","&gt;</span>",`
      <span class="selection"></span>`])),qt,et.tagName,_t,Ot))}},{key:"renderTextNode",value:function(et){var _t=this.c,Ot=et.nodeValue,qt=et.parentElement,te='<span class="text-node">',se='</span><span class="selection"></span>';if(qt&&Ot.length<1e4){if(qt.tagName==="STYLE")return _t("".concat(te).concat(Lt()(Ot,"css",wt)).concat(se));if(qt.tagName==="SCRIPT")return _t("".concat(te).concat(Lt()(Ot,"js",wt)).concat(se))}return _t('"'.concat(te).concat(vt()(mt()(Ot,1e4,{separator:" ",ellipsis:"…"}))).concat(se,'"'))}},{key:"renderHtmlComment",value:function(et){return this.c('<span class="html-comment">&lt;!-- '.concat(vt()(et),' --&gt;</span><span class="selection"></span>'))}}]),Rt}(nt);function dt(pt){var Pt={tagName:"",attributes:[]};Pt.tagName=pt.tagName.toLocaleLowerCase();var Rt=[];return N()(pt.attributes,function(et){var _t=et.name,Ot=et.value;Rt.push({name:_t,value:Ot,isLink:It(pt,_t)})}),Pt.attributes=Rt,Pt}function It(pt,Pt){var Rt=pt.tagName;return(Rt==="SCRIPT"||Rt==="IMAGE"||Rt==="VIDEO"||Rt==="AUDIO")&&Pt==="src"||Rt==="LINK"&&Pt==="href"}(0,r.Z)(n)!==void 0&&function(pt,Pt){try{pt.exports=Pt,pt.exports.default=Pt}catch{}}(n,at)},129:function(n,e,t){t.d(e,{Z:function(){return Dt}});var r=t(907),i=t(181);function o(K){return function(mt){if(Array.isArray(mt))return(0,r.Z)(mt)}(K)||function(mt){if(typeof Symbol<"u"&&mt[Symbol.iterator]!=null||mt["@@iterator"]!=null)return Array.from(mt)}(K)||(0,i.Z)(K)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var s=t(168),a=t(5671),c=t(3144),l=t(7326),u=t(1752),h=t(9340),d=t(2963),p=t(1120),f=t(1443),m=t.n(f),g=t(1512),v=t.n(g),y=t(2461),A=t.n(y),x=t(4331),S=t.n(x),E=t(5610),w=t.n(E),k=t(7483),Z=t.n(k),L=(t(3990),t(6341)),G=t.n(L),j=(t(3875),t(6954)),M=t.n(j);t(9585);function T(K){var mt="luna-".concat(K,"-");function W(vt){return A()(S()(vt).split(/\s+/),function(ut){return G()(ut,mt)?ut:ut.replace(/[\w-]+/,function(ht){return"".concat(mt).concat(ht)})}).join(" ")}return function(vt){if(/<[^>]*>/g.test(vt))try{var ut=Z().parse(vt);return P(ut,function(ht){ht.attrs&&ht.attrs.class&&(ht.attrs.class=W(ht.attrs.class))}),Z().stringify(ut)}catch{return W(vt)}return W(vt)}}function P(K,mt){for(var W=0,vt=K.length;W<vt;W++){var ut=K[W];mt(ut),ut.content&&P(ut.content,mt)}}w();function U(){var K=M()();return K==="os x"?"mac":K}var N=t(3783),$=t.n(N),D=t(6329),z=t.n(D),Y=t(4193),rt=t.n(Y),ot=t(5852),st=t.n(ot);function tt(K){var mt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var W,vt=(0,p.Z)(K);if(mt){var ut=(0,p.Z)(this).constructor;W=Reflect.construct(vt,arguments,ut)}else W=vt.apply(this,arguments);return(0,d.Z)(this,W)}}var nt,Tt=function(K){(0,h.Z)(W,K);var mt=tt(W);function W(vt,ut){var ht,Yt=ut.compName,gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},it=gt.theme,wt=it===void 0?"light":it;return(0,a.Z)(this,W),(ht=mt.call(this)).subComponents=[],ht.compName=Yt,ht.c=T(Yt),ht.options={},ht.container=vt,ht.$container=v()(vt),ht.$container.addClass(["luna-".concat(Yt),ht.c("platform-".concat(U()))]),ht.on("optionChange",function(at,dt,It){var pt=ht.c;at==="theme"&&(ht.$container.rmClass(pt("theme-".concat(It))).addClass(pt("theme-".concat(dt))),$()(ht.subComponents,function(Pt){return Pt.setOption("theme",dt)}))}),ht.setOption("theme",wt),ht}return(0,c.Z)(W,[{key:"destroy",value:function(){this.destroySubComponents();var vt=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(vt("platform-".concat(U()))).rmClass(vt("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(vt,ut){var ht=this,Yt=this.options,gt={};typeof vt=="string"?gt[vt]=ut:gt=vt,$()(gt,function(it,wt){var at=Yt[wt];Yt[wt]=it,ht.emit("optionChange",wt,it,at)})}},{key:"getOption",value:function(vt){return this.options[vt]}},{key:"addSubComponent",value:function(vt){vt.setOption("theme",this.options.theme),this.subComponents.push(vt)}},{key:"removeSubComponent",value:function(vt){st()(this.subComponents,function(ut){return ut===vt})}},{key:"destroySubComponents",value:function(){$()(this.subComponents,function(vt){return vt.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(vt){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};rt()(vt,ut),z()(this.options,vt)}},{key:"find",value:function(vt){return this.$container.find(this.c(vt))}}]),W}(m()),At=t(1907),Gt=t.n(At),Nt=t(8613),jt=t.n(Nt);function kt(K){var mt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var W,vt=(0,p.Z)(K);if(mt){var ut=(0,p.Z)(this).constructor;W=Reflect.construct(vt,arguments,ut)}else W=vt.apply(this,arguments);return(0,d.Z)(this,W)}}n=t.hmd(n);var Dt=function(K){(0,h.Z)(W,K);var mt=kt(W);function W(vt){var ut,ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,a.Z)(this,W),(ut=mt.call(this,vt,{compName:"modal"},ht)).hide=function(){ut.$container.addClass(ut.c("hidden"))},ut.render=function(){var Yt=(0,l.Z)(ut),gt=Yt.options,it=Yt.c,wt=Yt.$body;gt.title?(wt.rmClass(it("no-title")),ut.$title.text(gt.title)):wt.addClass(it("no-title")),gt.footer?(wt.rmClass(it("no-footer")),ut.$footer.html("").append(gt.footer)):wt.addClass(it("no-footer")),gt.showClose?ut.$close.show():ut.$close.hide(),ut.$body.css("width",gt.width+"px"),ut.$content.html("").append(gt.content)},ut.hide(),ut.initOptions(ht,{title:"",content:"",footer:"",showClose:!0,width:Lt()}),ut.initTpl(),ut.$title=ut.find(".title"),ut.$content=ut.find(".content"),ut.$body=ut.find(".body"),ut.$footer=ut.find(".footer"),ut.$close=ut.find(".icon-close"),ut.bindEvent(),ut}return(0,c.Z)(W,[{key:"show",value:function(){this.render(),this.$container.rmClass(this.c("hidden"))}},{key:"destroy",value:function(){(0,u.Z)((0,p.Z)(W.prototype),"destroy",this).call(this),this.$container.rmClass(this.c("hidden"))}},{key:"bindEvent",value:function(){this.$body.on("click",this.c(".icon-close"),this.hide),this.on("optionChange",this.render)}},{key:"initTpl",value:function(){this.$container.html(this.c(Gt()(nt||(nt=(0,s.Z)([`
      <div class="body">
        <span class="icon icon-close"></span>
        <div class="title"></div>
        <div class="content"></div>
        <div class="footer"></div>
      </div>
      `])))))}}],[{key:"alert",value:function(vt){var ut=ft(),ht=ut.c;ut.setOption({title:"",content:vt,width:Lt(),footer:yt({OK:{type:"primary",onclick:function(){ut.hide()}}},ht)}),ut.show()}},{key:"confirm",value:function(vt){return new Promise(function(ut){var ht=ft(),Yt=ht.c;ht.setOption({title:"",content:vt,width:Lt(),footer:yt({Cancel:{type:"secondary",onclick:function(){ht.hide(),ut(!1)}},OK:{type:"primary",onclick:function(){ht.hide(),ut(!0)}}},Yt)}),ht.show()})}},{key:"prompt",value:function(){var vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Promise(function(ht){var Yt=ft(),gt=Yt.c,it=jt()("input"+gt(".input"),{value:ut});function wt(){Yt.hide(),ht(it.value)}v()(it).on("keypress",function(dt){(dt=dt.origEvent).key==="Enter"&&wt()}),Yt.setOption({title:vt,content:it,width:Lt(),footer:yt({Cancel:{type:"secondary",onclick:function(){Yt.hide(),ht(null)}},OK:{type:"primary",onclick:wt}},gt)}),Yt.show();var at=it.value.length;it.setSelectionRange(at,at),it.focus()})}},{key:"setContainer",value:function(vt){q=vt}}]),W}(Tt),Ct=null,q=null;function ft(){return q||(q=jt()("div"),document.body.append(q)),Ct||(Ct=new Dt(q,{showClose:!1})),Ct}function yt(K,mt){var W=A()(K,function(vt,ut){return jt()(mt(".button")+mt("."+vt.type),{onclick:vt.onclick},ut)});return jt().apply(void 0,[mt(".button-group"),{}].concat(o(W)))}function Lt(){return window.innerWidth<500?window.innerWidth-32:500}(function(K,mt){try{K.exports=mt,K.exports.default=mt}catch{}})(n,Dt)},8299:function(n,e,t){t.d(e,{q:function(){return ve},Z:function(){return Re}});var r=t(1002),i=t(5671),o=t(3144),s=t(7326),a=t(1752),c=t(9340),l=t(2963),u=t(1120),h=t(415),d=t.n(h),p=t(3990),f=t.n(p),m=t(4696),g=t.n(m),v=t(3063),y=t.n(v),A=t(5166),x=t.n(A),S=t(6472),E=t.n(S),w=t(3023),k=t.n(w),Z=t(2533),L=t.n(Z),G=t(3783),j=t.n(G),M=t(300),T=t.n(M),P=t(4321),U=t.n(P),N=t(3085),$=t.n(N),D=t(1512),z=t.n(D),Y=t(801),rt=t.n(Y),ot=t(7756),st=t.n(ot),tt=t(6768),nt=t.n(tt),Tt=t(1116),At=t.n(Tt),Gt=t(5972),Nt=t.n(Gt),jt=t(996),kt=t.n(jt),Dt=t(3367),Ct=t.n(Dt),q=t(1214),ft=t.n(q),yt=t(7658),Lt=t.n(yt),K=t(6329),mt=t.n(K),W=function(){function Vt(){(0,i.Z)(this,Vt),this.id=0,this.visited=[]}return(0,o.Z)(Vt,[{key:"set",value:function(Kt,Zt){var Et=this.visited,Mt=this.id,zt={id:Mt,val:Kt};return mt()(zt,Zt),Et.push(zt),this.id++,Mt}},{key:"get",value:function(Kt){for(var Zt=this.visited,Et=0,Mt=Zt.length;Et<Mt;Et++){var zt=Zt[Et];if(Kt===zt.val)return zt}return!1}}]),Vt}(),vt=t(4331),ut=t.n(vt),ht=t(8901),Yt=t.n(ht),gt=function(Vt){return Yt()(Ct()(Vt)).replace(/\n/g,"↵").replace(/\f|\r|\t/g,"")};function it(Vt){return Vt.length>500&&(Vt=Vt.slice(0,500)+"..."),"ƒ "+ut()(function(Kt){var Zt=Kt.match(wt);return Zt?Zt[0]:Kt}(Vt).replace("function",""))}var wt=/function(.*?)\((.*?)\)/,at=t(6930),dt=t.n(at),It=t(5229),pt=t.n(It),Pt=t(3875),Rt=t.n(Pt),et=t(9433),_t=t.n(et),Ot=t(1443),qt=t.n(Ot),te=t(2461),se=t.n(te),ye=t(5610),me=t.n(ye),he=t(7483),xe=t.n(he),ke=t(6341),be=t.n(ke),je=t(6954),Ve=t.n(je);t(9585);function Je(Vt){var Kt="luna-".concat(Vt,"-");function Zt(Et){return se()(ut()(Et).split(/\s+/),function(Mt){return be()(Mt,Kt)?Mt:Mt.replace(/[\w-]+/,function(zt){return"".concat(Kt).concat(zt)})}).join(" ")}return function(Et){if(/<[^>]*>/g.test(Et))try{var Mt=xe().parse(Et);return en(Mt,function(zt){zt.attrs&&zt.attrs.class&&(zt.attrs.class=Zt(zt.attrs.class))}),xe().stringify(Mt)}catch{return Zt(Et)}return Zt(Et)}}function en(Vt,Kt){for(var Zt=0,Et=Vt.length;Zt<Et;Zt++){var Mt=Vt[Zt];Kt(Mt),Mt.content&&en(Mt.content,Kt)}}me();function le(){var Vt=Ve()();return Vt==="os x"?"mac":Vt}var de=t(4193),ee=t.n(de),bt=t(5852),Ft=t.n(bt);function lt(Vt){var Kt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Zt,Et=(0,u.Z)(Vt);if(Kt){var Mt=(0,u.Z)(this).constructor;Zt=Reflect.construct(Et,arguments,Mt)}else Zt=Et.apply(this,arguments);return(0,l.Z)(this,Zt)}}var ne=function(Vt){(0,c.Z)(Zt,Vt);var Kt=lt(Zt);function Zt(Et,Mt){var zt,ue=Mt.compName,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Wt=oe.theme,Jt=Wt===void 0?"light":Wt;return(0,i.Z)(this,Zt),(zt=Kt.call(this)).subComponents=[],zt.compName=ue,zt.c=Je(ue),zt.options={},zt.container=Et,zt.$container=z()(Et),zt.$container.addClass(["luna-".concat(ue),zt.c("platform-".concat(le()))]),zt.on("optionChange",function(fe,ae,Se){var Ce=zt.c;fe==="theme"&&(zt.$container.rmClass(Ce("theme-".concat(Se))).addClass(Ce("theme-".concat(ae))),j()(zt.subComponents,function(De){return De.setOption("theme",ae)}))}),zt.setOption("theme",Jt),zt}return(0,o.Z)(Zt,[{key:"destroy",value:function(){this.destroySubComponents();var Et=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(Et("platform-".concat(le()))).rmClass(Et("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(Et,Mt){var zt=this,ue=this.options,oe={};typeof Et=="string"?oe[Et]=Mt:oe=Et,j()(oe,function(Wt,Jt){var fe=ue[Jt];ue[Jt]=Wt,zt.emit("optionChange",Jt,Wt,fe)})}},{key:"getOption",value:function(Et){return this.options[Et]}},{key:"addSubComponent",value:function(Et){Et.setOption("theme",this.options.theme),this.subComponents.push(Et)}},{key:"removeSubComponent",value:function(Et){Ft()(this.subComponents,function(Mt){return Mt===Et})}},{key:"destroySubComponents",value:function(){j()(this.subComponents,function(Et){return Et.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(Et){var Mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ee()(Et,Mt),mt()(this.options,Et)}},{key:"find",value:function(Et){return this.$container.find(this.c(Et))}}]),Zt}(qt());function re(Vt){var Kt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Zt,Et=(0,u.Z)(Vt);if(Kt){var Mt=(0,u.Z)(this).constructor;Zt=Reflect.construct(Et,arguments,Mt)}else Zt=Et.apply(this,arguments);return(0,l.Z)(this,Zt)}}var ve=function(Vt){(0,c.Z)(Zt,Vt);var Kt=re(Zt);function Zt(Et){var Mt;return(0,i.Z)(this,Zt),(Mt=Kt.call(this,Et,{compName:"object-viewer"})).onItemClick=function(zt){var ue=(0,s.Z)(Mt),oe=ue.map,Wt=ue.c,Jt=z()(zt.curTarget),fe=Jt.data("object-id"),ae=Jt.find("span").eq(0);if(!Jt.data("first-level")&&(fe&&(Jt.find("ul").html(Mt.objToHtml(oe[fe],!1)),Jt.rmAttr("data-object-id")),zt.stopImmediatePropagation(),ae.hasClass(Wt("expanded")))){var Se=Jt.find("ul").eq(0);ae.hasClass(Wt("collapsed"))?(ae.rmClass(Wt("collapsed")),Se.show()):(ae.addClass(Wt("collapsed")),Se.hide()),Mt.emit("change")}},Mt.bindEvent(),Mt}return(0,o.Z)(Zt,[{key:"set",value:function(Et){nt()(Et)&&(Et=JSON.parse(Et)),this.data={id:pt()("json"),enumerable:{0:Et}},this.map={},_e(this.map,this.data),this.render()}},{key:"destroy",value:function(){(0,a.Z)((0,u.Z)(Zt.prototype),"destroy",this).call(this),this.$container.off("click","li",this.onItemClick)}},{key:"objToHtml",value:function(Et,Mt){var zt=this,ue="";return j()(["enumerable","unenumerable","symbol"],function(oe){if(Et[oe]){var Wt=L()(Et[oe]);Lt()(Wt);for(var Jt=0,fe=Wt.length;Jt<fe;Jt++){var ae=Wt[Jt];ue+=zt.createEl(ae,Et[oe][ae],oe,Mt)}}}),Et.proto&&(ue===""?ue=this.objToHtml(Et.proto):ue+=this.createEl("[[Prototype]]",Et.proto,"proto")),ue}},{key:"createEl",value:function(Et,Mt,zt){var ue=arguments.length>3&&arguments[3]!==void 0&&arguments[3],oe=this.c,Wt=(0,r.Z)(Mt);if(Mt===null)return"<li>".concat(De(Et),'<span class="').concat(oe("null"),'">null</span></li>');if(f()(Mt)||g()(Mt))return"<li>".concat(De(Et),'<span class="').concat(oe(Wt),'">').concat(gt(Mt),"</span></li>");if(Mt.type==="RegExp"&&(Wt="regexp"),Mt.type==="Number"&&(Wt="number"),Mt.type==="Number"||Mt.type==="RegExp")return"<li>".concat(De(Et),'<span class="').concat(oe(Wt),'">').concat(gt(Mt.value),"</span></li>");if(Mt.type==="Undefined"||Mt.type==="Symbol")return"<li>".concat(De(Et),'<span class="').concat(oe("special"),'">').concat(y()(Mt.type),"</span></li>");if(Mt==="(...)")return"<li>".concat(De(Et),'<span class="').concat(oe("special"),'">').concat(Mt,"</span></li>");if(x()(Mt)){var Jt=Mt.id,fe=Mt.reference,ae=we(Mt)||k()(Wt),Se=ue?"":'<span class="'.concat(oe("expanded collapsed"),'"><span class="').concat(oe("icon icon-caret-right"),'"></span><span class="').concat(oe("icon icon-caret-down"),'"></span></span>'),Ce="<li ".concat(ue?'data-first-level="true"':""," ").concat('data-object-id="'+(fe||Jt)+'"',">").concat(Se).concat(De(Et),'<span class="').concat(oe("open"),'">').concat(ue?"":ae,'</span><ul class="').concat(oe(Wt),'" ').concat(ue?"":'style="display:none"',">");return ue&&(Ce+=this.objToHtml(this.map[Jt])),Ce+'</ul><span class="'.concat(oe("close"),'"></span></li>')}function De($e){if(ue||x()(Mt)&&Mt.jsonSplitArr)return"";var Ke=oe("key");return zt==="unenumerable"||zt==="symbol"?Ke=oe("key-lighter"):zt==="proto"&&(Ke=oe("key-special")),'<span class="'.concat(Ke,'">').concat(gt($e),"</span>: ")}return nt()(Mt)&&Mt.length>1e4&&(Mt=st()(Mt,50,{separator:" ",ellipsis:"…"})),"<li>".concat(De(Et),'<span class="').concat(oe((0,r.Z)(Mt)),'">"').concat(gt(Mt),'"</span></li>')}},{key:"render",value:function(){var Et=this.map[this.data.id];this.$container.html(this.objToHtml(Et,!0))}},{key:"bindEvent",value:function(){this.$container.on("click","li",this.onItemClick)}}]),Zt}(ne);function _e(Vt,Kt){var Zt=Kt.id;if(Zt||Zt===0){if(Kt.type&&dt()(Kt.type,"Array")&&Kt.enumerable){var Et=function(Wt,Jt,fe){var ae=[],Se={};return j()(Wt.enumerable,function(Ce,De){var $e=Rt()(De);_t()($e)?Se[De]=Ce:ae[$e]=Ce}),ae.enumerable=Se,ae.type=fe,ae.id=Jt,Wt.unenumerable&&(ae.unenumerable=Wt.unenumerable),Wt.symbol&&(ae.symbol=Wt.symbol),Wt.proto&&(ae.proto=Wt.proto),ae}(Kt,Zt,Kt.type);Et.length>100&&(Kt=function(Wt){var Jt=0,fe={};j()(kt()(Wt,100),function(Se){var Ce={},De=Jt;Ce.type="["+De,Ce.enumerable={},j()(Se,function(Ke){Ce.enumerable[Jt]=Ke,Jt+=1});var $e=Jt-1;Ce.type+=($e-De>0?" … "+$e:"")+"]",Ce.id=pt()("json"),Ce.jsonSplitArr=!0,fe[Jt]=Ce});var ae={};return ae.enumerable=fe,ae.id=Wt.id,ae.type=Wt.type,Wt.unenumerable&&(ae.unenumerable=Wt.unenumerable),Wt.symbol&&(ae.symbol=Wt.symbol),Wt.proto&&(ae.proto=Wt.proto),ae}(Et))}Vt[Zt]=Kt;var Mt=[];j()(["enumerable","unenumerable","symbol"],function(Wt){if(Kt[Wt])for(var Jt in Kt[Wt])Mt.push(Kt[Wt][Jt])}),Kt.proto&&Mt.push(Kt.proto);for(var zt=0,ue=Mt.length;zt<ue;zt++){var oe=Mt[zt];x()(oe)&&_e(Vt,oe)}}}function we(Vt){var Kt=Vt.type,Zt=Vt.value;if(Kt)return Kt==="Function"?it(Zt):Kt==="Array"&&Vt.unenumerable?"Array(".concat(Vt.unenumerable.length,")"):Vt.type}function Oe(Vt){var Kt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Zt,Et=(0,u.Z)(Vt);if(Kt){var Mt=(0,u.Z)(this).constructor;Zt=Reflect.construct(Et,arguments,Mt)}else Zt=Et.apply(this,arguments);return(0,l.Z)(this,Zt)}}n=t.hmd(n);var Re=function(Vt){(0,c.Z)(Zt,Vt);var Kt=Oe(Zt);function Zt(Et){var Mt,zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,i.Z)(this,Zt),(Mt=Kt.call(this,Et,{compName:"object-viewer"})).onItemClick=function(ue){var oe=(0,s.Z)(Mt),Wt=oe.map,Jt=oe.c,fe=z()(ue.curTarget),ae=fe.data("object-id"),Se=fe.find("span").eq(0);if(!fe.data("first-level")&&(ae&&(fe.find("ul").html(Mt.objToHtml(Wt[ae],!1)),fe.rmAttr("data-object-id")),ue.stopImmediatePropagation(),Se.hasClass(Jt("expanded")))){var Ce=fe.find("ul").eq(0);Se.hasClass(Jt("collapsed"))?(Se.rmClass(Jt("collapsed")),Ce.show()):(Se.addClass(Jt("collapsed")),Ce.hide()),Mt.emit("change")}},Mt.initOptions(zt,{unenumerable:!1,accessGetter:!1}),Mt.bindEvent(),Mt}return(0,o.Z)(Zt,[{key:"set",value:function(Et){this.data=[Et],this.visitor=new W,this.map={},this.render()}},{key:"destroy",value:function(){(0,a.Z)((0,u.Z)(Zt.prototype),"destroy",this).call(this),this.$container.off("click","li",this.onItemClick)}},{key:"objToHtml",value:function(Et,Mt){var zt=this,ue=this.visitor,oe=Et,Wt=!1,Jt=ue.get(Et);Jt&&Jt.self&&(oe=Jt.self);var fe="",ae=["enumerable"],Se=L()(Et),Ce=[],De=[],$e=[],Ke={};if(this.options.unenumerable&&!Mt&&(ae.push("unenumerable"),ae.push("symbol"),Ce=rt()(At()(Et,{prototype:!1,unenumerable:!0}),Se),De=Nt()(At()(Et,{prototype:!1,symbol:!0}),function(Ze){return(0,r.Z)(Ze)==="symbol"})),E()(Et)&&Et.length>100){ae.unshift("virtual"),Wt=!0;var sn=0,nn={};j()(kt()(Et,100),function(Ze){var an=Object.create(null),pn=sn,We="["+pn;j()(Ze,function(ln){an[sn]=ln,nn[sn]=!0,sn++});var rn=sn-1;Ke[We+=(rn-pn>0?" … "+rn:"")+"]"]=an}),$e=L()(Ke),Se=Nt()(Se,function(Ze){return!nn[Ze]})}j()(ae,function(Ze){var an=[];an=Ze==="symbol"?De:Ze==="unenumerable"?Ce:Ze==="virtual"?$e:Se,Wt||Lt()(an);for(var pn=0,We=an.length;pn<We;pn++){var rn=Ct()(an[pn]),ln="",mn=Object.getOwnPropertyDescriptor(Et,rn),Rn=mn&&mn.get,zn=mn&&mn.set;if(Rn&&!zt.options.accessGetter)ln="(...)";else try{ln=Ze==="virtual"?Ke[rn]:oe[rn],U()(ln)&&ln.catch(ft())}catch(_n){ln=_n instanceof Error?_n.message:Ct()(_n)}fe+=zt.createEl(rn,Et,ln,Ze,Mt),Rn&&(fe+=zt.createEl("get ".concat(rn),Et,mn.get,Ze,Mt)),zn&&(fe+=zt.createEl("set ".concat(rn),Et,mn.set,Ze,Mt))}});var un=d()(Et);if(!Mt&&un)if(fe===""){var hn=ue.set(un,{self:Et});this.map[hn]=un,fe=this.objToHtml(un)}else fe+=this.createEl("[[Prototype]]",oe||Et,un,"proto");return fe}},{key:"createEl",value:function(Et,Mt,zt,ue){var oe=arguments.length>4&&arguments[4]!==void 0&&arguments[4],Wt=this.visitor,Jt=this.c,fe=(0,r.Z)(zt),ae=$()(zt,!1);if(ue==="virtual"&&(ae=Et),zt===null)return"<li>".concat(nn(Et),'<span class="').concat(Jt("null"),'">null</span></li>');if(f()(zt)||g()(zt))return"<li>".concat(nn(Et),'<span class="').concat(Jt(fe),'">').concat(gt(zt),"</span></li>");if(ae==="RegExp"&&(fe="regexp"),ae==="Number"&&(fe="number"),ae==="Undefined"||ae==="Symbol")return"<li>".concat(nn(Et),'<span class="').concat(Jt("special"),'">').concat(y()(ae),"</span></li>");if(zt==="(...)")return"<li>".concat(nn(Et),'<span class="').concat(Jt("special"),'">').concat(zt,"</span></li>");if(x()(zt)){var Se,Ce=Wt.get(zt);if(Ce)Se=Ce.id;else{var De={};ue==="proto"&&(De.self=Mt),Se=Wt.set(zt,De),this.map[Se]=zt}var $e="Object";$e=fe==="regexp"?'<span class="'.concat(Jt(fe),'">').concat(gt(zt)):gt(Ue(zt,ae)||k()(fe));var Ke=oe?"":'<span class="'.concat(Jt("expanded collapsed"),'"><span class="').concat(Jt("icon icon-caret-right"),'"></span><span class="').concat(Jt("icon icon-caret-down"),'"></span></span>'),sn="<li ".concat(oe?'data-first-level="true"':""," ").concat('data-object-id="'+Se+'"',">").concat(Ke).concat(nn(Et),'<span class="').concat(Jt("open"),'">').concat(oe?"":$e,'</span><ul class="').concat(Jt(fe),'" ').concat(oe?"":'style="display:none"',">");return oe&&(sn+=this.objToHtml(zt)),sn+'</ul><span class="'.concat(Jt("close"),'"></span></li>')}function nn(un){if(oe||x()(zt)&&ue==="virtual")return"";var hn=Jt("key");return ue==="unenumerable"||ue==="symbol"?hn=Jt("key-lighter"):ue==="proto"&&(hn=Jt("key-special")),'<span class="'.concat(hn,'">').concat(gt(un),"</span>: ")}return nt()(zt)&&zt.length>1e4&&(zt=st()(zt,50,{separator:" ",ellipsis:"…"})),"<li>".concat(nn(Et),'<span class="').concat(Jt((0,r.Z)(zt)),'">"').concat(gt(zt),'"</span></li>')}},{key:"render",value:function(){this.$container.html(this.objToHtml(this.data,!0))}},{key:"bindEvent",value:function(){this.$container.on("click","li",this.onItemClick)}}]),Zt}(ne);function Ue(Vt,Kt){if(Kt)return Kt==="Function"?it(T()(Vt)):Kt==="Array"?"Array(".concat(Vt.length,")"):Kt}Re.Static=ve,function(Vt,Kt){try{Vt.exports=Kt,Vt.exports.default=Kt}catch{}}(n,Re)},4714:function(n,e,t){t.d(e,{Z:function(){return yt}});var r=t(7326),i=t(5671),o=t(3144),s=t(9340),a=t(2963),c=t(1120),l=t(1512),u=t.n(l),h=t(8613),d=t.n(h),p=t(8901),f=t.n(p),m=t(5229),g=t.n(m),v=t(5166),y=t.n(v),A=t(4193),x=t.n(A),S=t(2461),E=t.n(S),w=t(3875),k=t.n(w),Z=t(3367),L=t.n(Z),G=t(4777),j=t.n(G),M=t(1443),T=t.n(M),P=t(4331),U=t.n(P),N=t(5610),$=t.n(N),D=t(7483),z=t.n(D),Y=(t(3990),t(6341)),rt=t.n(Y),ot=t(6954),st=t.n(ot);t(9585);function tt(it){var wt="luna-".concat(it,"-");function at(dt){return E()(U()(dt).split(/\s+/),function(It){return rt()(It,wt)?It:It.replace(/[\w-]+/,function(pt){return"".concat(wt).concat(pt)})}).join(" ")}return function(dt){if(/<[^>]*>/g.test(dt))try{var It=z().parse(dt);return nt(It,function(pt){pt.attrs&&pt.attrs.class&&(pt.attrs.class=at(pt.attrs.class))}),z().stringify(It)}catch{return at(dt)}return at(dt)}}function nt(it,wt){for(var at=0,dt=it.length;at<dt;at++){var It=it[at];wt(It),It.content&&nt(It.content,wt)}}$();function Tt(){var it=st()();return it==="os x"?"mac":it}var At=t(3783),Gt=t.n(At),Nt=t(6329),jt=t.n(Nt),kt=t(5852),Dt=t.n(kt);function Ct(it){var wt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var at,dt=(0,c.Z)(it);if(wt){var It=(0,c.Z)(this).constructor;at=Reflect.construct(dt,arguments,It)}else at=dt.apply(this,arguments);return(0,a.Z)(this,at)}}var q=function(it){(0,s.Z)(at,it);var wt=Ct(at);function at(dt,It){var pt,Pt=It.compName,Rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},et=Rt.theme,_t=et===void 0?"light":et;return(0,i.Z)(this,at),(pt=wt.call(this)).subComponents=[],pt.compName=Pt,pt.c=tt(Pt),pt.options={},pt.container=dt,pt.$container=u()(dt),pt.$container.addClass(["luna-".concat(Pt),pt.c("platform-".concat(Tt()))]),pt.on("optionChange",function(Ot,qt,te){var se=pt.c;Ot==="theme"&&(pt.$container.rmClass(se("theme-".concat(te))).addClass(se("theme-".concat(qt))),Gt()(pt.subComponents,function(ye){return ye.setOption("theme",qt)}))}),pt.setOption("theme",_t),pt}return(0,o.Z)(at,[{key:"destroy",value:function(){this.destroySubComponents();var dt=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(dt("platform-".concat(Tt()))).rmClass(dt("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(dt,It){var pt=this,Pt=this.options,Rt={};typeof dt=="string"?Rt[dt]=It:Rt=dt,Gt()(Rt,function(et,_t){var Ot=Pt[_t];Pt[_t]=et,pt.emit("optionChange",_t,et,Ot)})}},{key:"getOption",value:function(dt){return this.options[dt]}},{key:"addSubComponent",value:function(dt){dt.setOption("theme",this.options.theme),this.subComponents.push(dt)}},{key:"removeSubComponent",value:function(dt){Dt()(this.subComponents,function(It){return It===dt})}},{key:"destroySubComponents",value:function(){Gt()(this.subComponents,function(dt){return dt.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(dt){var It=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};x()(dt,It),jt()(this.options,dt)}},{key:"find",value:function(dt){return this.$container.find(this.c(dt))}}]),at}(T());function ft(it){var wt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var at,dt=(0,c.Z)(it);if(wt){var It=(0,c.Z)(this).constructor;at=Reflect.construct(dt,arguments,It)}else at=dt.apply(this,arguments);return(0,a.Z)(this,at)}}n=t.hmd(n);var yt=function(it){(0,s.Z)(at,it);var wt=ft(at);function at(dt){var It,pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,i.Z)(this,at),(It=wt.call(this,dt,{compName:"setting"},pt)).initOptions(pt,{separatorCollapse:!0}),It}return(0,o.Z)(at,[{key:"appendTitle",value:function(dt){var It=new K(this,dt);return this.append(It),It}},{key:"appendSeparator",value:function(){var dt=this.lastItem;if(this.options.separatorCollapse&&dt instanceof mt)return dt;var It=new mt(this);return this.append(It),It}},{key:"appendNumber",value:function(dt,It,pt,Pt,Rt){y()(Pt)&&(Rt=Pt,Pt="");var et=new vt(this,dt,It,pt,Pt,Rt);return this.append(et),et}},{key:"appendButton",value:function(dt,It,pt){j()(It)&&(pt=It,It="");var Pt=new gt(this,dt,It,pt);return this.append(Pt),Pt}},{key:"appendInput",value:function(dt,It,pt){var Pt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",Rt=new W(this,dt,It,pt,Pt);return this.append(Rt),Rt}},{key:"appendCheckbox",value:function(dt,It,pt,Pt){Pt||(Pt=pt,pt="");var Rt=new ht(this,dt,It,pt,Pt);return this.append(Rt),Rt}},{key:"appendSelect",value:function(dt,It,pt,Pt,Rt){y()(Pt)&&(Rt=Pt,Pt="");var et=new Yt(this,dt,It,pt,Pt,Rt);return this.append(et),et}},{key:"clear",value:function(){this.$container.text("")}},{key:"append",value:function(dt){this.lastItem=dt,this.$container.append(dt.container)}}]),at}(q),Lt=function(){function it(wt,at,dt,It){(0,i.Z)(this,it),this.container=d()("div"),this.setting=wt,this.$container=u()(this.container),this.$container.addClass(wt.c("item")).addClass(wt.c("item-".concat(It))),this.key=at,this.value=dt}return(0,o.Z)(it,[{key:"detach",value:function(){this.$container.remove()}},{key:"onChange",value:function(wt){this.setting.emit("change",this.key,wt,this.value),this.value=wt}}]),it}(),K=function(it){(0,s.Z)(at,it);var wt=ft(at);function at(dt,It){var pt;return(0,i.Z)(this,at),(pt=wt.call(this,dt,"","","title")).$container.text(It),pt}return(0,o.Z)(at)}(Lt),mt=function(it){(0,s.Z)(at,it);var wt=ft(at);function at(dt){return(0,i.Z)(this,at),wt.call(this,dt,"","","separator")}return(0,o.Z)(at)}(Lt),W=function(it){(0,s.Z)(at,it);var wt=ft(at);function at(dt,It,pt,Pt,Rt){var et;(0,i.Z)(this,at),(et=wt.call(this,dt,It,pt,"input")).$container.html(dt.c('<div class="title">'.concat(f()(Pt),`</div>
      <div class="description">`).concat(f()(Rt),`</div>
      <div class="control">
        <input type="text"></input>
      </div>`)));var _t=et.$container.find("input");return _t.val(pt),_t.on("change",function(){return et.onChange(_t.val())}),et}return(0,o.Z)(at)}(Lt),vt=function(it){(0,s.Z)(at,it);var wt=ft(at);function at(dt,It,pt,Pt,Rt){var et,_t=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};(0,i.Z)(this,at),et=wt.call(this,dt,It,pt,"number"),x()(_t,{min:0,max:10,step:1});var Ot=(0,r.Z)(et),qt=Ot.$container,te=!!_t.range;delete _t.range;var se=_t.min,ye=_t.max,me='<input type="'.concat(te?"range":"number",'"').concat(E()(_t,function(be,je){return" ".concat(je,'="').concat(be,'"')}),"></input>");te&&(console.log(pt,se,ye),me="".concat(se,`<div class="range-container">
        <div class="range-track">
          <div class="range-track-bar">
            <div class="range-track-progress" style="width: `).concat(ut(pt,se,ye),`%;"></div>
          </div>
        </div>
        `).concat(me,`
      </div><span class="value">`).concat(pt,"</span>/").concat(ye)),qt.html(dt.c('<div class="title">'.concat(f()(Pt),`</div>
      <div class="description">`).concat(f()(Rt),`</div>
      <div class="control">`).concat(me,"</div>")));var he=qt.find(dt.c(".value")),xe=qt.find("input"),ke=qt.find(dt.c(".range-track-progress"));return xe.val(L()(pt)),xe.on("change",function(){var be=k()(xe.val());et.onChange(be)}),xe.on("input",function(){var be=k()(xe.val());ke.css("width",ut(be,se,ye)+"%"),he.text(L()(be))}),et}return(0,o.Z)(at)}(Lt),ut=function(it,wt,at){return((it-wt)/(at-wt)*100).toFixed(2)},ht=function(it){(0,s.Z)(at,it);var wt=ft(at);function at(dt,It,pt,Pt,Rt){var et;(0,i.Z)(this,at),et=wt.call(this,dt,It,pt,"checkbox");var _t=g()(dt.c("checkbox-"));et.$container.html(dt.c('<div class="title">'.concat(f()(Pt),`</div>
      <div class="control">
        <input type="checkbox" id="`).concat(_t,`"></input>
        <label for="`).concat(_t,'">').concat(f()(Rt),`</label>
      </div>`)));var Ot=et.$container.find("input"),qt=Ot.get(0);return qt.checked=pt,Ot.on("change",function(){return et.onChange(qt.checked)}),et}return(0,o.Z)(at)}(Lt),Yt=function(it){(0,s.Z)(at,it);var wt=ft(at);function at(dt,It,pt,Pt,Rt,et){var _t;(0,i.Z)(this,at),(_t=wt.call(this,dt,It,pt,"select")).$container.html(dt.c('<div class="title">'.concat(f()(Pt),`</div>
      <div class="description">`).concat(f()(Rt),`</div>
      <div class="control">
        <div class="select">
          <select>
            `).concat(E()(et,function(qt,te){return'<option value="'.concat(f()(qt),'"').concat(qt===pt?" selected":"",">").concat(f()(te),"</option>")}).join(""),`
          </select>
        </div>
      </div>`)));var Ot=_t.$container.find("select");return Ot.on("change",function(){return _t.onChange(Ot.val())}),_t}return(0,o.Z)(at)}(Lt),gt=function(it){(0,s.Z)(at,it);var wt=ft(at);function at(dt,It,pt,Pt){var Rt;return(0,i.Z)(this,at),pt||(pt=It,It=""),(Rt=wt.call(this,dt,"","","button")).$container.html(dt.c('<div class="title">'.concat(f()(It),`</div>
      <div class="control">
        <button>`).concat(pt,`</button>
      </div>`))),Rt.$container.find("button").on("click",Pt),Rt}return(0,o.Z)(at)}(Lt);(function(it,wt){try{it.exports=wt,it.exports.default=wt}catch{}})(n,yt)},7638:function(n,e,t){t.d(e,{Z:function(){return jt}});var r=t(168),i=t(5671),o=t(3144),s=t(9340),a=t(2963),c=t(1120),l=t(1443),u=t.n(l),h=t(1512),d=t.n(h),p=t(2461),f=t.n(p),m=t(4331),g=t.n(m),v=t(5610),y=t.n(v),A=t(7483),x=t.n(A),S=t(3990),E=t.n(S),w=t(6341),k=t.n(w),Z=(t(3875),t(6954)),L=t.n(Z);t(9585);function G(kt){var Dt="luna-".concat(kt,"-");function Ct(q){return f()(g()(q).split(/\s+/),function(ft){return k()(ft,Dt)?ft:ft.replace(/[\w-]+/,function(yt){return"".concat(Dt).concat(yt)})}).join(" ")}return function(q){if(/<[^>]*>/g.test(q))try{var ft=x().parse(q);return j(ft,function(yt){yt.attrs&&yt.attrs.class&&(yt.attrs.class=Ct(yt.attrs.class))}),x().stringify(ft)}catch{return Ct(q)}return Ct(q)}}function j(kt,Dt){for(var Ct=0,q=kt.length;Ct<q;Ct++){var ft=kt[Ct];Dt(ft),ft.content&&j(ft.content,Dt)}}var M;y();function T(){var kt=L()();return kt==="os x"?"mac":kt}var P=t(3783),U=t.n(P),N=t(6329),$=t.n(N),D=t(4193),z=t.n(D),Y=t(5852),rt=t.n(Y);function ot(kt){var Dt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ct,q=(0,c.Z)(kt);if(Dt){var ft=(0,c.Z)(this).constructor;Ct=Reflect.construct(q,arguments,ft)}else Ct=q.apply(this,arguments);return(0,a.Z)(this,Ct)}}var st,tt=function(kt){(0,s.Z)(Ct,kt);var Dt=ot(Ct);function Ct(q,ft){var yt,Lt=ft.compName,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},mt=K.theme,W=mt===void 0?"light":mt;return(0,i.Z)(this,Ct),(yt=Dt.call(this)).subComponents=[],yt.compName=Lt,yt.c=G(Lt),yt.options={},yt.container=q,yt.$container=d()(q),yt.$container.addClass(["luna-".concat(Lt),yt.c("platform-".concat(T()))]),yt.on("optionChange",function(vt,ut,ht){var Yt=yt.c;vt==="theme"&&(yt.$container.rmClass(Yt("theme-".concat(ht))).addClass(Yt("theme-".concat(ut))),U()(yt.subComponents,function(gt){return gt.setOption("theme",ut)}))}),yt.setOption("theme",W),yt}return(0,o.Z)(Ct,[{key:"destroy",value:function(){this.destroySubComponents();var q=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(q("platform-".concat(T()))).rmClass(q("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(q,ft){var yt=this,Lt=this.options,K={};typeof q=="string"?K[q]=ft:K=q,U()(K,function(mt,W){var vt=Lt[W];Lt[W]=mt,yt.emit("optionChange",W,mt,vt)})}},{key:"getOption",value:function(q){return this.options[q]}},{key:"addSubComponent",value:function(q){q.setOption("theme",this.options.theme),this.subComponents.push(q)}},{key:"removeSubComponent",value:function(q){rt()(this.subComponents,function(ft){return ft===q})}},{key:"destroySubComponents",value:function(){U()(this.subComponents,function(q){return q.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(q){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};z()(q,ft),$()(this.options,q)}},{key:"find",value:function(q){return this.$container.find(this.c(q))}}]),Ct}(u()),nt=t(1907),Tt=t.n(nt),At=t(8901),Gt=t.n(At);function Nt(kt){var Dt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ct,q=(0,c.Z)(kt);if(Dt){var ft=(0,c.Z)(this).constructor;Ct=Reflect.construct(q,arguments,ft)}else Ct=q.apply(this,arguments);return(0,a.Z)(this,Ct)}}n=t.hmd(n);var jt=function(kt){(0,s.Z)(Ct,kt);var Dt=Nt(Ct);function Ct(q){var ft,yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,i.Z)(this,Ct),(ft=Dt.call(this,q,{compName:"tab"},yt)).initOptions(yt,{height:30}),ft.initTpl(),ft.find(".tabs-container").css("height",ft.options.height+"px"),ft.$tabs=ft.find(".tabs"),ft.tabs=ft.$tabs.get(0),ft.$slider=ft.find(".slider"),ft.bindEvent(),ft.hideScrollbar(),ft}return(0,o.Z)(Ct,[{key:"length",get:function(){return this.$tabs.find(this.c(".item")).length}},{key:"insert",value:function(q,ft){var yt=this.c,Lt=this.$tabs,K=this.options.height-1,mt=Lt.find(yt(".item")),W=mt.length,vt='<div class="'.concat(this.c("item"),'" data-id="').concat(Gt()(ft.id),'" style="height: ').concat(K,"px; line-height: ").concat(K,'px;">').concat(Gt()(ft.title),"</div>");q>W-1?Lt.append(vt):mt.eq(q).before(vt),this.updateSlider()}},{key:"append",value:function(q){this.insert(this.length,q)}},{key:"remove",value:function(q){var ft=this.c,yt=this;this.$tabs.find(ft(".item")).each(function(){var Lt=d()(this);if(Lt.data("id")===q){if(Lt.hasClass(ft("selected")))if(yt.length>0){var K=yt.$tabs.find(ft(".item")).eq(0).data("id");yt.select(K)}else yt.emit("deselect");Lt.remove()}}),this.updateSlider()}},{key:"select",value:function(q){var ft=this.c,yt=this;this.$tabs.find(ft(".item")).each(function(){var Lt=d()(this);Lt.data("id")===q?(Lt.addClass(ft("selected")),yt.updateSlider(),yt.scrollToSelected(),yt.emit("select",q)):Lt.rmClass(ft("selected"))})}},{key:"scrollToSelected",value:function(){var q,ft=this.$tabs,yt=this.tabs,Lt=this.c,K=ft.find(Lt(".selected")).get(0),mt=K.offsetLeft,W=K.offsetWidth,vt=yt.offsetWidth,ut=yt.scrollLeft;mt<ut?q=mt:mt+W>vt+ut&&(q=mt+W-vt),E()(q)&&(yt.scrollLeft=q)}},{key:"hideScrollbar",value:function(){var q=this.$tabs;if(getComputedStyle(this.tabs,"::-webkit-scrollbar").display!=="none"){var ft=function(){if(E()(M))return M;if(!document)return 16;var yt=document.createElement("div"),Lt=document.createElement("div");yt.setAttribute("style","display: block; width: 100px; height: 100px; overflow: scroll;"),Lt.setAttribute("style","height: 200px"),yt.appendChild(Lt);var K=document.body||document.documentElement;return K.appendChild(yt),M=yt.offsetWidth-yt.clientWidth,K.removeChild(yt),M}();q.css("height",this.options.height-1+ft+"px")}}},{key:"updateSlider",value:function(){var q=this.$slider,ft=this.$tabs,yt=this.c,Lt=ft.find(yt(".selected")).get(0);Lt?q.css({width:Lt.offsetWidth,left:Lt.offsetLeft-ft.get(0).scrollLeft}):q.css({width:0})}},{key:"bindEvent",value:function(){var q=this,ft=this.tabs,yt=this.c,Lt=this;this.$tabs.on("wheel",function(K){K.preventDefault(),ft.scrollLeft+=K.origEvent.deltaY}).on("click",yt(".item"),function(){var K=d()(this);Lt.select(K.data("id"))}).on("scroll",function(){q.updateSlider()})}},{key:"initTpl",value:function(){this.$container.html(this.c(Tt()(st||(st=(0,r.Z)([`
        <div class="tabs-container">
          <div class="tabs"></div>
        </div>
        <div class="slider"></div>
      `])))))}}]),Ct}(tt);(function(kt,Dt){try{kt.exports=Dt,kt.exports.default=Dt}catch{}})(n,jt)},7049:function(n,e,t){t.d(e,{Z:function(){return W}});var r=t(5671),i=t(3144),o=t(7326),s=t(1752),a=t(9340),c=t(2963),l=t(1120),u=t(1443),h=t.n(u),d=t(1512),p=t.n(d),f=t(2461),m=t.n(f),g=t(4331),v=t.n(g),y=t(5610),A=t.n(y),x=t(7483),S=t.n(x),E=(t(3990),t(6341)),w=t.n(E),k=(t(3875),t(6954)),Z=t.n(k);t(9585);function L(ut){var ht="luna-".concat(ut,"-");function Yt(gt){return m()(v()(gt).split(/\s+/),function(it){return w()(it,ht)?it:it.replace(/[\w-]+/,function(wt){return"".concat(ht).concat(wt)})}).join(" ")}return function(gt){if(/<[^>]*>/g.test(gt))try{var it=S().parse(gt);return G(it,function(wt){wt.attrs&&wt.attrs.class&&(wt.attrs.class=Yt(wt.attrs.class))}),S().stringify(it)}catch{return Yt(gt)}return Yt(gt)}}function G(ut,ht){for(var Yt=0,gt=ut.length;Yt<gt;Yt++){var it=ut[Yt];ht(it),it.content&&G(it.content,ht)}}var j="ontouchstart"in A();function M(){var ut=Z()();return ut==="os x"?"mac":ut}var T=t(3783),P=t.n(T),U=t(6329),N=t.n(U),$=t(4193),D=t.n($),z=t(5852),Y=t.n(z);function rt(ut){var ht=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Yt,gt=(0,l.Z)(ut);if(ht){var it=(0,l.Z)(this).constructor;Yt=Reflect.construct(gt,arguments,it)}else Yt=gt.apply(this,arguments);return(0,c.Z)(this,Yt)}}var ot=function(ut){(0,a.Z)(Yt,ut);var ht=rt(Yt);function Yt(gt,it){var wt,at=it.compName,dt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},It=dt.theme,pt=It===void 0?"light":It;return(0,r.Z)(this,Yt),(wt=ht.call(this)).subComponents=[],wt.compName=at,wt.c=L(at),wt.options={},wt.container=gt,wt.$container=p()(gt),wt.$container.addClass(["luna-".concat(at),wt.c("platform-".concat(M()))]),wt.on("optionChange",function(Pt,Rt,et){var _t=wt.c;Pt==="theme"&&(wt.$container.rmClass(_t("theme-".concat(et))).addClass(_t("theme-".concat(Rt))),P()(wt.subComponents,function(Ot){return Ot.setOption("theme",Rt)}))}),wt.setOption("theme",pt),wt}return(0,i.Z)(Yt,[{key:"destroy",value:function(){this.destroySubComponents();var gt=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(gt("platform-".concat(M()))).rmClass(gt("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(gt,it){var wt=this,at=this.options,dt={};typeof gt=="string"?dt[gt]=it:dt=gt,P()(dt,function(It,pt){var Pt=at[pt];at[pt]=It,wt.emit("optionChange",pt,It,Pt)})}},{key:"getOption",value:function(gt){return this.options[gt]}},{key:"addSubComponent",value:function(gt){gt.setOption("theme",this.options.theme),this.subComponents.push(gt)}},{key:"removeSubComponent",value:function(gt){Y()(this.subComponents,function(it){return it===gt})}},{key:"destroySubComponents",value:function(){P()(this.subComponents,function(gt){return gt.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(gt){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D()(gt,it),N()(this.options,gt)}},{key:"find",value:function(gt){return this.$container.find(this.c(gt))}}]),Yt}(h()),st=t(9702),tt=t.n(st),nt=t(8887),Tt=t.n(nt),At=t(2439),Gt=t.n(At),Nt=t(6049),jt=t.n(Nt),kt=t(2327),Dt=t.n(kt),Ct=t(8901),q=t.n(Ct),ft=t(7387),yt=t.n(ft),Lt=t(8648),K=t.n(Lt);function mt(ut){var ht=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Yt,gt=(0,l.Z)(ut);if(ht){var it=(0,l.Z)(this).constructor;Yt=Reflect.construct(gt,arguments,it)}else Yt=gt.apply(this,arguments);return(0,c.Z)(this,Yt)}}n=t.hmd(n);var W=function(ut){(0,a.Z)(Yt,ut);var ht=mt(Yt);function Yt(gt){var it,wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,r.Z)(this,Yt),(it=ht.call(this,gt,{compName:"text-viewer"},wt)).lineNum=0,it.copy=function(){var at=(0,o.Z)(it).c,dt=it.options,It=dt.text,pt=dt.escape;Dt()(pt?It:yt()(K()(It)));var Pt=it.$copy.find(at(".icon"));Pt.addClass(at("icon-check")).rmClass(at("icon-copy")),setTimeout(function(){Pt.rmClass(at("icon-check")).addClass(at("icon-copy"))},1e3)},it._updateCopyPos=function(){var at=(0,o.Z)(it).container;it.$copy.css({top:at.scrollTop+5,right:5-at.scrollLeft})},it.initOptions(wt,{text:"",escape:!0,showLineNumbers:!0,wrapLongLines:!0,maxHeight:1/0}),it.render=Gt()(function(){return it._render()},16),it.updateCopyPos=jt()(function(){return it._updateCopyPos()},300),it.initTpl(),it.$text=it.find(".text"),it.$copy=it.find(".copy"),j&&it.$copy.css("opacity","1"),it.options.text&&it.render(),it.bindEvent(),it.updateHeight(),it}return(0,i.Z)(Yt,[{key:"append",value:function(gt){var it=this,wt=this.options,at=this.$copy,dt=this.c,It=this.$text,pt=wt.showLineNumbers;if(this.options.text+=gt,!pt)return this.$text.append(wt.escape?q()(gt):gt);var Pt=function(et){return et.length===0?[]:et.split(vt)}(gt);Tt()(Pt)&&(Pt=["&nbsp;"]),v()(tt()(Pt))||Pt.pop();var Rt="";P()(Pt,function(et,_t){it.lineNum+=1,Rt+='<div class="'.concat(dt("table-row"),'"><div class="').concat(dt("line-number"),'">').concat(it.lineNum,'</div><div class="').concat(dt("line-text"),'">').concat(wt.escape?q()(et):et||" ","</div></div>")}),It.find(dt(".table")).append(Rt),at.hide(),It.offset().height>40&&at.show(),this.updateCopyPos()}},{key:"destroy",value:function(){this.$container.off("scroll",this.updateCopyPos),(0,s.Z)((0,l.Z)(Yt.prototype),"destroy",this).call(this)}},{key:"updateHeight",value:function(){var gt=this.options.maxHeight;gt>0&&gt!==1/0?this.$text.css("max-height",gt):this.$text.css("max-height","none")}},{key:"initTpl",value:function(){this.$container.html(this.c('<div class="text"></div><div class="copy"><span class="icon icon-copy"></span></div>'))}},{key:"bindEvent",value:function(){var gt=this;this.on("optionChange",function(it){it==="maxHeight"?gt.updateHeight():gt.render()}),this.$container.on("scroll",this.updateCopyPos),this.$copy.on("click",this.copy)}},{key:"_render",value:function(){var gt=this.c,it=this.$text,wt=this.options,at=wt.text,dt=wt.wrapLongLines,It=wt.showLineNumbers;dt?it.addClass(gt("wrap-long-lines")):it.rmClass(gt("wrap-long-lines")),It?it.addClass(gt("line-numbers")):it.rmClass(gt("line-numbers")),it.html('<div class="'.concat(gt("table"),'"></div>')),this.lineNum=0,this.options.text="",this.append(at)}}]),Yt}(ot),vt=/\r\n|\r|\n/g;(function(ut,ht){try{ut.exports=ht,ut.exports.default=ht}catch{}})(n,W)},6672:function(n,e,t){t.d(e,{Z:function(){return za}});var r={};t.r(r),t.d(r,{$:function(){return x()},$attr:function(){return Pt()},$class:function(){return et()},$css:function(){return Ot()},$data:function(){return te()},$event:function(){return ye()},$insert:function(){return he()},$offset:function(){return ke()},$property:function(){return je()},$remove:function(){return Je()},$safeEls:function(){return le()},$show:function(){return ee()},Class:function(){return v()},Emitter:function(){return d()},Enum:function(){return Ft()},LocalStore:function(){return E()},Logger:function(){return ne()},MediaQuery:function(){return ve()},MutationObserver:function(){return we()},Select:function(){return Re()},SingleEmitter:function(){return Vt()},Stack:function(){return Zt()},Store:function(){return Mt()},Url:function(){return ue()},ajax:function(){return Wt()},allKeys:function(){return fe()},before:function(){return Se()},camelCase:function(){return De()},castPath:function(){return Ke()},clamp:function(){return nn()},classPrefix:function(){return Q},clone:function(){return $()},cloneDeep:function(){return hn()},concat:function(){return an()},contain:function(){return U()},copy:function(){return We()},create:function(){return ln()},createAssigner:function(){return Rn()},dateFormat:function(){return _n()},debounce:function(){return gr()},defaults:function(){return nt()},defineProp:function(){return Ar()},delegate:function(){return _r()},detectBrowser:function(){return Mn()},detectOs:function(){return Hn()},difference:function(){return Kn()},drag:function(){return dn},each:function(){return L()},endWith:function(){return qn()},escape:function(){return Ee()},escapeJsStr:function(){return Jn()},escapeJsonStr:function(){return Rs},escapeRegExp:function(){return Ir()},evalCss:function(){return Ms},eventClient:function(){return Cn},eventPage:function(){return Os},extend:function(){return At()},extendOwn:function(){return Rr()},extractUrls:function(){return Pr()},filter:function(){return j()},flatten:function(){return tr()},freeze:function(){return Or()},getFileName:function(){return vi},getProto:function(){return Nr()},has:function(){return Lr()},hasSafeArea:function(){return gi},highlight:function(){return Yn()},identity:function(){return jr()},idxOf:function(){return pe()},inherits:function(){return R()},isArgs:function(){return X()},isArr:function(){return Nt()},isArrLike:function(){return Bt()},isBool:function(){return Ht()},isBrowser:function(){return ie()},isBuffer:function(){return Ae()},isChobitsuEl:function(){return Ai},isDarkMode:function(){return ze()},isDate:function(){return Fe()},isEl:function(){return Qe()},isEmpty:function(){return Xe()},isErr:function(){return xn()},isErudaEl:function(){return Wn},isFn:function(){return He()},isHidden:function(){return Dn()},isMatch:function(){return Zn()},isMiniProgram:function(){return cn()},isMobile:function(){return bn()},isNaN:function(){return Fn()},isNil:function(){return Hr()},isNull:function(){return En()},isNum:function(){return vn()},isObj:function(){return Nn()},isPrimitive:function(){return rr()},isPromise:function(){return Ui()},isRegExp:function(){return ei()},isSorted:function(){return zi()},isStr:function(){return T()},isUndef:function(){return Zr()},kebabCase:function(){return st()},keys:function(){return rt()},last:function(){return or()},linkify:function(){return Zi()},loadJs:function(){return ni()},lowerCase:function(){return ri()},lpad:function(){return Vi()},ltrim:function(){return qi()},map:function(){return Ne()},mapObj:function(){return eo()},matcher:function(){return ro()},memStorage:function(){return ii()},memoize:function(){return so()},mergeArr:function(){return lo()},meta:function(){return uo()},ms:function(){return oi()},nextTick:function(){return at()},noop:function(){return si()},now:function(){return ai()},objToStr:function(){return go()},once:function(){return Ao()},optimizeCb:function(){return _o()},orientation:function(){return It()},partial:function(){return bo()},perfNow:function(){return Eo()},pick:function(){return li()},prefix:function(){return Co()},property:function(){return ko()},pxToNum:function(){return Un},query:function(){return Mo()},raf:function(){return Bo()},repeat:function(){return Oo()},restArgs:function(){return No()},reverse:function(){return Uo()},root:function(){return ci()},rtrim:function(){return zo()},safeCb:function(){return Yo()},safeGet:function(){return ui()},safeSet:function(){return Qo()},safeStorage:function(){return Qr},sameOrigin:function(){return hi()},slice:function(){return Vo()},some:function(){return qo()},sortKeys:function(){return di()},splitCase:function(){return es()},startWith:function(){return Qn()},stringify:function(){return is()},stringifyAll:function(){return ss()},throttle:function(){return fi()},toArr:function(){return sr()},toInt:function(){return us()},toNum:function(){return ar()},toSrc:function(){return fs()},toStr:function(){return z()},trim:function(){return An()},type:function(){return gs()},types:function(){return As()},uncaught:function(){return lr()},uniqId:function(){return k()},unique:function(){return Ln()},upperFirst:function(){return Xn()},values:function(){return ws()},viewportScale:function(){return pi()},wrap:function(){return Ss()},xpath:function(){return Is()}}),t(1532),t(1150);var i=t(5671),o=t(3144),s=t(7326),a=t(9340),c=t(2963),l=t(1120),u=t(4942),h=t(1443),d=t.n(h),p=new(d());p.ADD="ADD",p.SHOW="SHOW",p.SCALE="SCALE";var f=p,m=t(1752),g=t(7496),v=t.n(g),y=v()({init:function(F){this._$el=F},show:function(){return this._$el.show(),this},hide:function(){return this._$el.hide(),this},destroy:function(){this._$el.remove()}}),A=t(1512),x=t.n(A),S=t(125),E=t.n(S),w=t(5229),k=t.n(w),Z=t(3783),L=t.n(Z),G=t(5972),j=t.n(G),M=t(6768),T=t.n(M),P=t(6341),U=t.n(P),N=t(4675),$=t.n(N),D=t(3367),z=t.n(D),Y=t(2533),rt=t.n(Y),ot=t(7622),st=t.n(ot),tt=t(4193),nt=t.n(tt),Tt=t(6329),At=t.n(Tt),Gt=t(6472),Nt=t.n(Gt),jt=["background","foreground","selectForeground","accent","highlight","border","primary","contrast","varColor","stringColor","keywordColor","numberColor","operatorColor","linkColor","textColor","tagNameColor","functionColor","attributeNameColor","commentColor"],kt=jt.length;function Dt(F){for(var O={},I=0;I<kt;I++)O[jt[I]]=F[I];return O}function Ct(F){return Nt()(F)&&(F=Dt(F)),F.darkerBackground||(F.darkerBackground=F.contrast),At()({consoleWarnBackground:"#332a00",consoleWarnForeground:"#ffcb6b",consoleWarnBorder:"#650",consoleErrorBackground:"#290000",consoleErrorForeground:"#ff8080",consoleErrorBorder:"#5c0000",light:"#ccc",dark:"#aaa"},F)}function q(F){return Nt()(F)&&(F=Dt(F)),F.darkerBackground||(F.darkerBackground=F.contrast),At()({consoleWarnBackground:"#fffbe5",consoleWarnForeground:"#5c5c00",consoleWarnBorder:"#fff5c2",consoleErrorBackground:"#fff0f0",consoleErrorForeground:"#f00",consoleErrorBorder:"#ffd6d6",light:"#fff",dark:"#eee"},F)}var ft=["Dark","Material Oceanic","Material Darker","Material Palenight","Material Deep Ocean","Monokai Pro","Dracula","Arc Dark","Atom One Dark","Solarized Dark","Night Owl"],yt={Light:q({darkerBackground:"#f3f3f3",background:"#fff",foreground:"#333",selectForeground:"#333",accent:"#1a73e8",highlight:"#eaeaea",border:"#ccc",primary:"#333",contrast:"#f2f7fd",varColor:"#c80000",stringColor:"#1a1aa6",keywordColor:"#881280",numberColor:"#1c00cf",operatorColor:"#808080",linkColor:"#1155cc",textColor:"#8097bd",tagNameColor:"#881280",functionColor:"#222",attributeNameColor:"#994500",commentColor:"#236e25",cssProperty:"#c80000"}),Dark:Ct({darkerBackground:"#333",background:"#242424",foreground:"#a5a5a5",selectForeground:"#eaeaea",accent:"#555",highlight:"#000",border:"#3d3d3d",primary:"#ccc",contrast:"#0b2544",varColor:"#e36eec",stringColor:"#f29766",keywordColor:"#9980ff",numberColor:"#9980ff",operatorColor:"#7f7f7f",linkColor:"#ababab",textColor:"#42597f",tagNameColor:"#5db0d7",functionColor:"#d5d5d5",attributeNameColor:"#9bbbdc",commentColor:"#747474"}),"Material Oceanic":Ct(["#263238","#B0BEC5","#FFFFFF","#009688","#425B67","#2A373E","#607D8B","#1E272C","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#B0BEC5","#f07178","#82aaff","#ffcb6b","#546e7a"]),"Material Darker":Ct(["#212121","#B0BEC5","#FFFFFF","#FF9800","#3F3F3F","#292929","#727272","#1A1A1A","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#B0BEC5","#f07178","#82aaff","#ffcb6b","#616161"]),"Material Lighter":q(["#FAFAFA","#546E7A","#546e7a","#00BCD4","#E7E7E8","#d3e1e8","#94A7B0","#F4F4F4","#272727","#91B859","#7C4DFF","#F76D47","#39ADB5","#39ADB5","#546E7A","#E53935","#6182B8","#F6A434","#AABFC9"]),"Material Palenight":Ct(["#292D3E","#A6ACCD","#FFFFFF","#ab47bc","#444267","#2b2a3e","#676E95","#202331","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#A6ACCD","#f07178","#82aaff","#ffcb6b","#676E95"]),"Material Deep Ocean":Ct(["#0F111A","#8F93A2","#FFFFFF","#84ffff","#1F2233","#41465b","#4B526D","#090B10","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#8F93A2","#f07178","#82aaff","#ffcb6b","#717CB4"]),"Monokai Pro":Ct(["#2D2A2E","#fcfcfa","#FFFFFF","#ffd866","#5b595c","#423f43","#939293","#221F22","#FCFCFA","#FFD866","#FF6188","#AB9DF2","#FF6188","#78DCE8","#fcfcfa","#FF6188","#A9DC76","#78DCE8","#727072"]),Dracula:Ct(["#282A36","#F8F8F2","#8BE9FD","#FF79C5","#6272A4","#21222C","#6272A4","#191A21","#F8F8F2","#F1FA8C","#FF79C6","#BD93F9","#FF79C6","#F1FA8C","#F8F8F2","#FF79C6","#50FA78","#50FA7B","#6272A4"]),"Arc Dark":Ct(["#2f343f","#D3DAE3","#FFFFFF","#42A5F5","#3F3F46","#404552","#8b9eb5","#262b33","#CF6A4C","#8F9D6A","#9B859D","#CDA869","#A7A7A7","#7587A6","#D3DAE3","#CF6A4C","#7587A6","#F9EE98","#747C84"]),"Atom One Dark":Ct(["#282C34","#979FAD","#FFFFFF","#2979ff","#383D48","#2e3239","#979FAD","#21252B","#D19A66","#98C379","#C679DD","#D19A66","#61AFEF","#56B6C2","#979FAD","#F07178","#61AEEF","#E5C17C","#59626F"]),"Atom One Light":q(["#FAFAFA","#232324","#232324","#2979ff","#EAEAEB","#DBDBDC","#9D9D9F","#FFFFFF","#986801","#50A14E","#A626A4","#986801","#4078F2","#0184BC","#232324","#E4564A","#4078F2","#C18401","#A0A1A7"]),"Solarized Dark":Ct(["#002B36","#839496","#FFFFFF","#d33682","#11353F","#0D3640","#586e75","#00252E","#268BD2","#2AA198","#859900","#D33682","#93A1A1","#268BD2","#839496","#268BD2","#B58900","#B58900","#657B83"]),"Solarized Light":q(["#fdf6e3","#586e75","#002b36","#d33682","#F6F0DE","#f7f2e2","#93a1a1","#eee8d5","#268BD2","#2AA198","#859900","#D33682","#657B83","#268BD2","#586e75","#268BD2","#B58900","#657B83","#93A1A1"]),Github:q(["#F7F8FA","#5B6168","#FFFFFF","#79CB60","#CCE5FF","#DFE1E4","#292D31","#FFFFFF","#24292E","#032F62","#D73A49","#005CC5","#D73A49","#005CC5","#5B6168","#22863A","#6F42C1","#6F42C1","#6A737D"]),"Night Owl":Ct(["#011627","#b0bec5","#ffffff","#7e57c2","#152C3B","#2a373e","#607d8b","#001424","#addb67","#ecc48d","#c792ea","#f78c6c","#c792ea","#80CBC4","#b0bec5","#7fdbca","#82AAFF","#FAD430","#637777"]),"Light Owl":q(["#FAFAFA","#546e7a","#403f53","#269386","#E0E7EA","#efefef","#403F53","#FAFAFA","#0C969B","#c96765","#994cc3","#aa0982","#7d818b","#994cc3","#546e7a","#994cc3","#4876d6","#4876d6","#637777"])},Lt=[],K=1,mt=yt.Light,W=function F(O,I){O=z()(O);for(var _=0,b=Lt.length;_<b;_++)if(Lt[_].css===O)return;I=I||F.container||document.head;var C=document.createElement("style");C.type="text/css",I.appendChild(C);var H={css:O,el:C,container:I};return ut(H),Lt.push(H),H};function vt(){L()(Lt,function(F){return ut(F)})}function ut(F){var O=F.css,I=F.el;O=(O=O.replace(/(\d+)px/g,function(b,C){return+C*K+"px"})).replace(/_/g,"eruda-");var _=rt()(yt.Light);L()(_,function(b){O=O.replace(new RegExp("var\\(--".concat(st()(b),"\\)"),"g"),mt[b])}),I.innerText=O}W.setScale=function(F){K=F,vt()},W.setTheme=function(F){mt=T()(F)?yt[F]||yt.Light:nt()(F,yt.Light),vt()},W.getCurTheme=function(){return mt},W.getThemes=function(){return yt},W.clear=function(){L()(Lt,function(F){var O=F.container,I=F.el;return O.removeChild(I)}),Lt=[]},W.remove=function(F){Lt=j()(Lt,function(O){return O!==F}),F.container.removeChild(F.el)};var ht=W,Yt=t(4714);function gt(F){var O=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var I,_=(0,l.Z)(F);if(O){var b=(0,l.Z)(this).constructor;I=Reflect.construct(_,arguments,b)}else I=_.apply(this,arguments);return(0,c.Z)(this,I)}}var it=function(F){(0,a.Z)(I,F);var O=gt(I);function I(){var _;return(0,i.Z)(this,I),(_=O.call(this))._style=ht(t(8011)),_.name="settings",_._settings=[],_}return(0,o.Z)(I,[{key:"init",value:function(_){(0,m.Z)((0,l.Z)(I.prototype),"init",this).call(this,_),this._setting=new Yt.Z(_.get(0)),this._bindEvent()}},{key:"remove",value:function(_,b){return T()(_)?this._$el.find(".luna-setting-item-title").each(function(){var C=x()(this);C.text()===_&&C.remove()}):this._settings=j()(this._settings,function(C){return C.config!==_||C.key!==b||(C.item.detach(),!1)}),this._cleanSeparator(),this}},{key:"destroy",value:function(){this._setting.destroy(),(0,m.Z)((0,l.Z)(I.prototype),"destroy",this).call(this),ht.remove(this._style)}},{key:"clear",value:function(){this._settings=[],this._setting.clear()}},{key:"switch",value:function(_,b,C){var H=this._genId("settings"),V=this._setting.appendCheckbox(H,!!_.get(b),C);return this._settings.push({config:_,key:b,id:H,item:V}),this}},{key:"select",value:function(_,b,C,H){var V=this._genId("settings"),ct={};L()(H,function(Ut){return ct[Ut]=Ut});var St=this._setting.appendSelect(V,_.get(b),"",C,ct);return this._settings.push({config:_,key:b,id:V,item:St}),this}},{key:"range",value:function(_,b,C,H){var V=H.min,ct=V===void 0?0:V,St=H.max,Ut=St===void 0?1:St,ce=H.step,Me=ce===void 0?.1:ce,Ye=this._genId("settings"),Pe=this._setting.appendNumber(Ye,_.get(b),C,{max:Ut,min:ct,step:Me,range:!0});return this._settings.push({config:_,key:b,min:ct,max:Ut,step:Me,id:Ye,item:Pe}),this}},{key:"button",value:function(_,b){return this._setting.appendButton(_,b),this}},{key:"separator",value:function(){return this._setting.appendSeparator(),this}},{key:"text",value:function(_){return this._setting.appendTitle(_),this}},{key:"_cleanSeparator",value:function(){var _=$()(this._$el.get(0).children);function b(V){return U()(V.getAttribute("class"),"luna-setting-item-separator")}for(var C=0,H=_.length;C<H-1;C++)b(_[C])&&b(_[C+1])&&x()(_[C]).remove()}},{key:"_genId",value:function(){return k()("eruda-settings")}},{key:"_getSetting",value:function(_){var b;return L()(this._settings,function(C){C.id===_&&(b=C)}),b}},{key:"_bindEvent",value:function(){var _=this;this._setting.on("change",function(b,C){var H=_._getSetting(b);H.config.set(H.key,C)})}}],[{key:"createCfg",value:function(_,b){return new(E())("eruda-"+_,b)}}]),I}(y),wt=t(6837),at=t.n(wt),dt=t(442),It=t.n(dt),pt=t(4991),Pt=t.n(pt),Rt=t(7781),et=t.n(Rt),_t=t(975),Ot=t.n(_t),qt=t(8381),te=t.n(qt),se=t(5543),ye=t.n(se),me=t(8908),he=t.n(me),xe=t(6906),ke=t.n(xe),be=t(4209),je=t.n(be),Ve=t(6757),Je=t.n(Ve),en=t(2341),le=t.n(en),de=t(7665),ee=t.n(de),bt=t(9640),Ft=t.n(bt),lt=t(4989),ne=t.n(lt),re=t(2765),ve=t.n(re),_e=t(2289),we=t.n(_e),Oe=t(3244),Re=t.n(Oe),Ue=t(8985),Vt=t.n(Ue),Kt=t(9001),Zt=t.n(Kt),Et=t(5128),Mt=t.n(Et),zt=t(6334),ue=t.n(zt),oe=t(8991),Wt=t.n(oe),Jt=t(1116),fe=t.n(Jt),ae=t(5637),Se=t.n(ae),Ce=t(7494),De=t.n(Ce),$e=t(2848),Ke=t.n($e),sn=t(9882),nn=t.n(sn),un=t(550),hn=t.n(un),Ze=t(8099),an=t.n(Ze),pn=t(2327),We=t.n(pn),rn=t(1662),ln=t.n(rn),mn=t(4427),Rn=t.n(mn),zn=t(4407),_n=t.n(zn),mr=t(6049),gr=t.n(mr),vr=t(9803),Ar=t.n(vr),yr=t(2443),_r=t.n(yr),xr=t(4541),Mn=t.n(xr),br=t(6954),Hn=t.n(br),wr=t(801),Kn=t.n(wr),Er=t(4858),qn=t.n(Er),Tr=t(8901),Ee=t.n(Tr),Sr=t(4187),Jn=t.n(Sr),Cr=t(2337),Ir=t.n(Cr),kr=t(3021),Rr=t.n(kr),Mr=t(2581),Pr=t.n(Mr),Br=t(1225),tr=t.n(Br),Dr=t(4454),Or=t.n(Dr),Fr=t(415),Nr=t.n(Fr),er=t(6257),Lr=t.n(er),Ur=t(3651),Yn=t.n(Ur),Gr=t(6362),jr=t.n(Gr),Xt=t(496),pe=t.n(Xt),Qt=t(5022),R=t.n(Qt),B=t(7403),X=t.n(B),J=t(1369),Bt=t.n(J),xt=t(4696),Ht=t.n(xt),$t=t(2727),ie=t.n($t),Te=t(2349),Ae=t.n(Te),Be=t(2520),ze=t.n(Be),ge=t(2106),Fe=t.n(ge),qe=t(9833),Qe=t.n(qe),Pn=t(8887),Xe=t.n(Pn),Bn=t(2749),xn=t.n(Bn),gn=t(4777),He=t.n(gn),$n=t(9585),Dn=t.n($n),Tn=t(7949),Zn=t.n(Tn),On=t(9537),cn=t.n(On),Sn=t(9956),bn=t.n(Sn),wn=t(9433),Fn=t.n(wn),zr=t(2763),Hr=t.n(zr),Yr=t(6156),En=t.n(Yr),$r=t(3990),vn=t.n($r),nr=t(5166),Nn=t.n(nr),Ie=t(6997),rr=t.n(Ie),ir=t(4321),Ui=t.n(ir),Gi=t(1754),ei=t.n(Gi),ji=t(3843),zi=t.n(ji),Hi=t(1286),Zr=t.n(Hi),Yi=t(9702),or=t.n(Yi),$i=t(3988),Zi=t.n($i),Qi=t(9622),ni=t.n(Qi),Xi=t(3063),ri=t.n(Xi),Wi=t(5351),Vi=t.n(Wi),Ki=t(7767),qi=t.n(Ki),Ji=t(2461),Ne=t.n(Ji),to=t(8820),eo=t.n(to),no=t(4491),ro=t.n(no),io=t(5026),ii=t.n(io),oo=t(1475),so=t.n(oo),ao=t(9971),lo=t.n(ao),co=t(8573),uo=t.n(co),ho=t(4677),oi=t.n(ho),fo=t(1214),si=t.n(fo),po=t(8847),ai=t.n(po),mo=t(106),go=t.n(mo),vo=t(8763),Ao=t.n(vo),yo=t(3955),_o=t.n(yo),xo=t(4198),bo=t.n(xo),wo=t(1194),Eo=t.n(wo),To=t(3487),li=t.n(To),So=t(747),Co=t.n(So),Io=t(2994),ko=t.n(Io),Ro=t(1745),Mo=t.n(Ro),Po=t(1571),Bo=t.n(Po),Do=t(4552),Oo=t.n(Do),Fo=t(1137),No=t.n(Fo),Lo=t(1527),Uo=t.n(Lo),Go=t(5610),ci=t.n(Go),jo=t(3597),zo=t.n(jo),Ho=t(2838),Yo=t.n(Ho),$o=t(7653),ui=t.n($o),Zo=t(8079),Qo=t.n(Zo),Xo=t(4224),hi=t.n(Xo),Wo=t(9677),Vo=t.n(Wo),Ko=t(6053),qo=t.n(Ko),Jo=t(3629),di=t.n(Jo),ts=t(8935),es=t.n(ts),ns=t(6930),Qn=t.n(ns),rs=t(4400),is=t.n(rs),os=t(9963),ss=t.n(os),as=t(2439),fi=t.n(as),ls=t(1352),sr=t.n(ls),cs=t(9296),us=t.n(cs),hs=t(3875),ar=t.n(hs),ds=t(300),fs=t.n(ds),ps=t(4331),An=t.n(ps),ms=t(3085),gs=t.n(ms),vs=t(9016),As=t.n(vs),ys=t(5484),lr=t.n(ys),_s=t(42),Ln=t.n(_s),xs=t(3023),Xn=t.n(xs),bs=t(2578),ws=t.n(bs),Es=t(3514),pi=t.n(Es),Ts=t(5491),Ss=t.n(Ts),Cs=t(8933),Is=t.n(Cs),ks=t(7483),mi=t.n(ks);function gi(){var F=!1,O=document.createElement("div");if(CSS.supports("padding-bottom: env(safe-area-inset-bottom)")?(O.style.paddingBottom="env(safe-area-inset-bottom)",F=!0):CSS.supports("padding-bottom: constant(safe-area-inset-bottom)")&&(O.style.paddingBottom="constant(safe-area-inset-bottom)",F=!0),F){document.body.appendChild(O);var I=parseInt(window.getComputedStyle(O).paddingBottom);if(document.body.removeChild(O),I>0)return!0}return!1}function Rs(F){return Jn()(F).replace(/\\'/g,"'").replace(/\t/g,"\\t")}function Qr(F,O){var I;switch(Zr()(O)&&(O=!0),F){case"local":I=window.localStorage;break;case"session":I=window.sessionStorage}try{var _="test-localStorage-"+Date.now();I.setItem(_,_);var b=I.getItem(_);if(I.removeItem(_),b!==_)throw new Error}catch{return O?ii():void 0}return I}function vi(F){var O=or()(F.split("/"));return O===""&&(O=(F=new(ue())(F)).hostname),O}function Un(F){return ar()(F.replace("px",""))}function Wn(F){for(;F;){if(F.id==="eruda")return!0;F=F.parentNode}return!1}function Ai(F){for(;F;){var O="";if(F.getAttribute&&(O=F.getAttribute("class")||""),U()(O,"__chobitsu-hide__"))return!0;F=F.parentNode}return!1}var Ms=ht;function Q(F){if(/<[^>]*>/g.test(F))try{var O=mi().parse(F);return yi(O,function(I){I.attrs&&I.attrs.class&&(I.attrs.class=Xr(I.attrs.class))}),mi().stringify(O)}catch{return Xr(F)}return Xr(F)}function yi(F,O){for(var I=0,_=F.length;I<_;I++){var b=F[I];O(b),b.content&&yi(b.content,O)}}function Xr(F){var O="eruda-";return Ne()(An()(F).split(/\s+/),function(I){return U()(I,O)?I:I.replace(/[\w-]+/,function(_){return"".concat(O).concat(_)})}).join(" ")}var Ps="ontouchstart"in ci(),Bs={start:"touchstart",move:"touchmove",end:"touchend"},Ds={start:"mousedown",move:"mousemove",end:"mouseup"};function dn(F){return Ps?Bs[F]:Ds[F]}function Cn(F,O){var I=F==="x"?"clientX":"clientY";return O[I]?O[I]:O.changedTouches?O.changedTouches[0][I]:0}function Os(F,O){var I=F==="x"?"pageX":"pageY";return O[I]?O[I]:O.changedTouches?O.changedTouches[0][I]:0}function Fs(F){var O=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var I,_=(0,l.Z)(F);if(O){var b=(0,l.Z)(this).constructor;I=Reflect.construct(_,arguments,b)}else I=_.apply(this,arguments);return(0,c.Z)(this,I)}}var _i,cr=x()(document),Ns=function(F){(0,a.Z)(I,F);var O=Fs(I);function I(_){var b;return(0,i.Z)(this,I),b=O.call(this),(0,u.Z)((0,s.Z)(b),"_onDragStart",function(C){var H=b._$el;H.addClass(Q("active")),b._isClick=!0,C=C.origEvent,b._startX=Cn("x",C),b._oldX=Un(H.css("left")),b._oldY=Un(H.css("top")),b._startY=Cn("y",C),cr.on(dn("move"),b._onDragMove),cr.on(dn("end"),b._onDragEnd)}),(0,u.Z)((0,s.Z)(b),"_onDragMove",function(C){var H=b._$el.get(0).offsetWidth,V=b._$container.get(0).offsetWidth,ct=b._$container.get(0).offsetHeight,St=Cn("x",C=C.origEvent)-b._startX,Ut=Cn("y",C)-b._startY;(Math.abs(St)>3||Math.abs(Ut)>3)&&(b._isClick=!1);var ce=b._oldX+St,Me=b._oldY+Ut;ce<0?ce=0:ce>V-H&&(ce=V-H),Me<0?Me=0:Me>ct-H&&(Me=ct-H),b._$el.css({left:ce,top:Me})}),(0,u.Z)((0,s.Z)(b),"_onDragEnd",function(C){var H=b._$el;b._isClick&&b.emit("click"),b._onDragMove(C),cr.off(dn("move"),b._onDragMove),cr.off(dn("end"),b._onDragEnd);var V=b.config;V.get("rememberPos")&&V.set("pos",{x:Un(H.css("left")),y:Un(H.css("top"))}),H.rmClass("eruda-active")}),b._style=ht(t(9195)),b._$container=_,b._initTpl(),b._bindEvent(),b._registerListener(),b}return(0,o.Z)(I,[{key:"hide",value:function(){this._$el.hide()}},{key:"show",value:function(){this._$el.show()}},{key:"setPos",value:function(_){this._isOutOfRange(_)&&(_=this._getDefPos()),this._$el.css({left:_.x,top:_.y}),this.config.set("pos",_)}},{key:"getPos",value:function(){return this.config.get("pos")}},{key:"destroy",value:function(){ht.remove(this._style),this._unregisterListener(),this._$el.remove()}},{key:"_isOutOfRange",value:function(_){_=_||this.config.get("pos");var b=this._getDefPos();return _.x>b.x+10||_.x<0||_.y<0||_.y>b.y+10}},{key:"_registerListener",value:function(){var _=this;this._scaleListener=function(){return at()(function(){_._isOutOfRange()&&_._resetPos()})},f.on(f.SCALE,this._scaleListener)}},{key:"_unregisterListener",value:function(){f.off(f.SCALE,this._scaleListener)}},{key:"_initTpl",value:function(){var _=this._$container;_.append(Q('<div class="entry-btn"><span class="icon-tool"></span></div>')),this._$el=_.find(".eruda-entry-btn")}},{key:"_resetPos",value:function(_){var b=this.config,C=b.get("pos"),H=this._getDefPos();b.get("rememberPos")&&!_||(C=H),this.setPos(C)}},{key:"_bindEvent",value:function(){var _=this;this._$el.on(dn("start"),this._onDragStart),It().on("change",function(){return _._resetPos(!0)}),window.addEventListener("resize",function(){return _._resetPos()})}},{key:"initCfg",value:function(_){var b=this.config=it.createCfg("entry-button",{rememberPos:!0,pos:this._getDefPos()});_.switch(b,"rememberPos","Remember Entry Button Position"),this._resetPos()}},{key:"_getDefPos",value:function(){var _=this._$el.get(0).offsetWidth+10;return{x:window.innerWidth-_,y:window.innerHeight-_}}}]),I}(d()),Gn=_i=new(ne())("[Eruda]","warn");_i.formatter=function(F,O){return O.unshift(this.name),O};var Ls=t(4270),Us=t.n(Ls),Gs=t(6093),js=t.n(Gs),In=t(129),zs=t(7638);function Hs(F){var O=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var I,_=(0,l.Z)(F);if(O){var b=(0,l.Z)(this).constructor;I=Reflect.construct(_,arguments,b)}else I=_.apply(this,arguments);return(0,c.Z)(this,I)}}var Ys=function(F){(0,a.Z)(I,F);var O=Hs(I);function I(_){var b,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=C.defaults,V=H===void 0?{}:H;return(0,i.Z)(this,I),b=O.call(this),(0,u.Z)((0,s.Z)(b),"_checkSafeArea",function(){var ct=(0,s.Z)(b).$container;gi()?ct.addClass(Q("safe-area")):ct.rmClass(Q("safe-area"))}),b._defCfg=At()({transparency:1,displaySize:80,theme:ze()()?"Dark":"Light"},V),b._style=ht(t(13)),b.$container=_,b._isShow=!1,b._opacity=1,b._tools={},b._isResizing=!1,b._resizeTimer=null,b._resizeStartY=0,b._resizeStartSize=0,b._initTpl(),b._initTab(),b._initNotification(),b._initModal(),Us()(function(){return b._checkSafeArea()}),b._bindEvent(),b}return(0,o.Z)(I,[{key:"show",value:function(){var _=this;return this._isShow=!0,this._$el.show(),this._tab.updateSlider(),setTimeout(function(){_._$el.css("opacity",_._opacity)},50),this.emit("show"),this}},{key:"hide",value:function(){var _=this;return this._isShow=!1,this.emit("hide"),this._$el.css({opacity:0}),setTimeout(function(){return _._$el.hide()},300),this}},{key:"toggle",value:function(){return this._isShow?this.hide():this.show()}},{key:"add",value:function(_){var b=this._tab;if(!(_ instanceof y)){var C=new y,H=C.init,V=C.show,ct=C.hide,St=C.destroy;nt()(_,{init:H,show:V,hide:ct,destroy:St})}var Ut=_.name;return Ut?(Ut=Ut.toLowerCase(),this._tools[Ut]?Gn.warn("Tool ".concat(Ut," already exists")):(this._$tools.prepend('<div id="'.concat(Q(Ut),'" class="').concat(Q(Ut+" tool"),'"></div>')),_.init(this._$tools.find(".".concat(Q(Ut),".").concat(Q("tool"))),this),_.active=!1,this._tools[Ut]=_,Ut==="settings"?b.append({id:Ut,title:Ut}):b.insert(b.length-1,{id:Ut,title:Ut}),this)):Gn.error("You must specify a name for a tool")}},{key:"remove",value:function(_){var b=this._tools;if(!b[_])return Gn.warn("Tool ".concat(_," doesn't exist"));this._tab.remove(_);var C=b[_];if(delete b[_],C.active){var H=rt()(b);H.length>0&&this.showTool(b[or()(H)].name)}return C.destroy(),this}},{key:"removeAll",value:function(){var _=this;return L()(this._tools,function(b){return _.remove(b.name)}),this}},{key:"get",value:function(_){var b=this._tools[_];if(b)return b}},{key:"showTool",value:function(_){if(this._curTool===_)return this;this._curTool=_;var b=this._tools,C=b[_];if(C){var H={};return L()(b,function(V){V.active&&(H=V,V.active=!1,V.hide())}),C.active=!0,C.show(),this._tab.select(_),this.emit("showTool",_,H),this}}},{key:"initCfg",value:function(_){var b=this,C=this.config=it.createCfg("dev-tools",this._defCfg);this._setTransparency(C.get("transparency")),this._setDisplaySize(C.get("displaySize")),this._setTheme(C.get("theme")),C.on("change",function(H,V){switch(H){case"transparency":return b._setTransparency(V);case"displaySize":return b._setDisplaySize(V);case"theme":return b._setTheme(V)}}),_.separator().select(C,"theme","Theme",rt()(ht.getThemes())).range(C,"transparency","Transparency",{min:.2,max:1,step:.01}).range(C,"displaySize","Display Size",{min:40,max:100,step:1}).button("Restore defaults and reload",function(){var H=Qr("local"),V=JSON.parse(JSON.stringify(H));L()(V,function(ct,St){T()(ct)&&Qn()(St,"eruda")&&H.removeItem(St)}),window.location.reload()}).separator()}},{key:"notify",value:function(_,b){this._notification.notify(_,b)}},{key:"destroy",value:function(){ht.remove(this._style),this.removeAll(),this._tab.destroy(),this._$el.remove(),window.removeEventListener("resize",this._checkSafeArea)}},{key:"_setTheme",value:function(_){var b=this.$container;(function(C){return U()(ft,C)})(_)?b.addClass(Q("dark")):b.rmClass(Q("dark")),ht.setTheme(_)}},{key:"_setTransparency",value:function(_){vn()(_)&&(this._opacity=_,this._isShow&&this._$el.css({opacity:_}))}},{key:"_setDisplaySize",value:function(_){vn()(_)&&this._$el.css({height:_+"%"})}},{key:"_initTpl",value:function(){var _=this.$container;_.append(Q(`
      <div class="dev-tools">
        <div class="resizer"></div>
        <div class="tab"></div>
        <div class="tools"></div>
        <div class="notification"></div>
        <div class="modal"></div>
      </div>
      `)),this._$el=_.find(Q(".dev-tools")),this._$tools=this._$el.find(Q(".tools"))}},{key:"_initTab",value:function(){var _=this;this._tab=new zs.Z(this._$el.find(Q(".tab")).get(0),{height:40}),this._tab.on("select",function(b){return _.showTool(b)})}},{key:"_initNotification",value:function(){this._notification=new(js())(this._$el.find(Q(".notification")).get(0),{position:{x:"center",y:"top"}})}},{key:"_initModal",value:function(){In.Z.setContainer(this._$el.find(Q(".modal")).get(0))}},{key:"_bindEvent",value:function(){var _=this,b=this._$el.find(Q(".resizer")),C=this._$el.find(Q(".nav-bar")),H=x()(document),V=function(St){if(_._isResizing){St.preventDefault(),St.stopPropagation(),St=St.origEvent;var Ut=(_._resizeStartY-Cn("y",St))/window.innerHeight*100,ce=_._resizeStartSize+Ut;ce<40?ce=40:ce>100&&(ce=100),_.config.set("displaySize",ar()(ce.toFixed(2)))}},ct=function St(){clearTimeout(_._resizeTimer),_._isResizing=!1,b.css("height",10),H.off(dn("move"),V),H.off(dn("end"),St)};b.css("height",10),b.on(dn("start"),function(St){St.preventDefault(),St.stopPropagation(),St=St.origEvent,_._isResizing=!0,_._resizeStartSize=_.config.get("displaySize"),_._resizeStartY=Cn("y",St),b.css("height","100%"),H.on(dn("move"),V),H.on(dn("end"),ct)}),C.on("contextmenu",function(St){return St.preventDefault()}),this.$container.on("click",function(St){return St.stopPropagation()}),window.addEventListener("resize",this._checkSafeArea)}}]),I}(d()),$s=t(8816);function Zs(F){var O=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var I,_=(0,l.Z)(F);if(O){var b=(0,l.Z)(this).constructor;I=Reflect.construct(_,arguments,b)}else I=_.apply(this,arguments);return(0,c.Z)(this,I)}}lr().start();var Qs=function(F){(0,a.Z)(I,F);var O=Zs(I);function I(){var _,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=b.name,H=C===void 0?"console":C;return(0,i.Z)(this,I),_=O.call(this),(0,u.Z)((0,s.Z)(_),"_handleShow",function(){Dn()(_._$el.get(0))||_._logger.renderViewport()}),(0,u.Z)((0,s.Z)(_),"_handleErr",function(V){_._logger.error(V)}),d().mixin((0,s.Z)(_)),_.name=H,_._scale=1,_._selectedLog=null,_._registerListener(),_}return(0,o.Z)(I,[{key:"init",value:function(_,b){(0,m.Z)((0,l.Z)(I.prototype),"init",this).call(this,_),this._container=b,this._appendTpl(),this._initCfg(),this._initLogger(),this._exposeLogger(),this._bindEvent()}},{key:"show",value:function(){(0,m.Z)((0,l.Z)(I.prototype),"show",this).call(this),this._handleShow()}},{key:"overrideConsole",value:function(){var _=this,b=this._origConsole={},C=window.console;return Wr.forEach(function(H){var V=b[H]=si();C[H]&&(V=b[H]=C[H].bind(C)),C[H]=function(){_[H].apply(_,arguments),V.apply(void 0,arguments)}}),this}},{key:"setGlobal",value:function(_,b){this._logger.setGlobal(_,b)}},{key:"restoreConsole",value:function(){var _=this;return this._origConsole?(Wr.forEach(function(b){return window.console[b]=_._origConsole[b]}),delete this._origConsole,this):this}},{key:"catchGlobalErr",value:function(){return lr().addListener(this._handleErr),this}},{key:"ignoreGlobalErr",value:function(){return lr().rmListener(this._handleErr),this}},{key:"filter",value:function(_){var b=this._$filterText,C=this._logger;T()(_)?(b.text(_),C.setOption("filter",An()(_))):ei()(_)?(b.text(z()(_)),C.setOption("filter",_)):He()(_)&&(b.text("ƒ"),C.setOption("filter",_))}},{key:"destroy",value:function(){this._logger.destroy(),(0,m.Z)((0,l.Z)(I.prototype),"destroy",this).call(this),this._container.off("show",this._handleShow),this._style&&ht.remove(this._style),this.ignoreGlobalErr(),this.restoreConsole(),this._unregisterListener(),this._rmCfg()}},{key:"_enableJsExecution",value:function(_){var b=this._$el,C=b.find(Q(".js-input"));_?(C.show(),b.rmClass(Q("js-input-hidden"))):(C.hide(),b.addClass(Q("js-input-hidden")))}},{key:"_registerListener",value:function(){var _=this;this._scaleListener=function(b){return _._scale=b},f.on(f.SCALE,this._scaleListener)}},{key:"_unregisterListener",value:function(){f.off(f.SCALE,this._scaleListener)}},{key:"_appendTpl",value:function(){var _=this._$el;this._style=ht(t(3191)),_.append(Q(`
      <div class="control">
        <span class="icon-clear clear-console"></span>
        <span class="level active" data-level="all">All</span>
        <span class="level" data-level="info">Info</span>
        <span class="level" data-level="warning">Warning</span>
        <span class="level" data-level="error">Error</span>
        <span class="filter-text"></span>
        <span class="icon-filter filter"></span>
        <span class="icon-copy icon-disabled copy"></span>
      </div>
      <div class="logs-container"></div>
      <div class="js-input">
        <div class="buttons">
          <div class="button cancel">Cancel</div>
          <div class="button execute">Execute</div>
        </div>
        <span class="icon-arrow-right"></span>
        <textarea></textarea>
      </div>
    `));var b=_.find(Q(".js-input")),C=b.find("textarea"),H=b.find(Q(".buttons"));At()(this,{_$control:_.find(Q(".control")),_$logs:_.find(Q(".logs-container")),_$inputContainer:b,_$input:C,_$inputBtns:H,_$filterText:_.find(Q(".filter-text"))})}},{key:"_initLogger",value:function(){var _=this.config,b=_.get("maxLogNum");b=b==="infinite"?0:+b;var C=this._$control.find(Q(".level")),H=new $s.Z(this._$logs.get(0),{asyncRender:_.get("asyncRender"),maxNum:b,showHeader:_.get("displayExtraInfo"),unenumerable:_.get("displayUnenumerable"),accessGetter:_.get("displayGetterVal"),lazyEvaluation:_.get("lazyEvaluation")});H.on("optionChange",function(V,ct){V==="level"&&C.each(function(){var St=x()(this),Ut=St.data("level");St[Ut===ct||Ut==="all"&&Nt()(ct)?"addClass":"rmClass"](Q("active"))})}),_.get("overrideConsole")&&this.overrideConsole(),this._logger=H}},{key:"_exposeLogger",value:function(){var _=this,b=this._logger;["html"].concat(Wr).forEach(function(C){return _[C]=function(){for(var H=arguments.length,V=new Array(H),ct=0;ct<H;ct++)V[ct]=arguments[ct];return b[C].apply(b,V),_.emit.apply(_,[C].concat(V)),_}})}},{key:"_bindEvent",value:function(){var _=this,b=this._container,C=this._$input,H=this._$inputBtns,V=this._$control,ct=this._logger,St=this.config;V.on("click",Q(".clear-console"),function(){return ct.clear(!0)}).on("click",Q(".level"),function(){var Ut=x()(this).data("level");Ut==="all"&&(Ut=["verbose","info","warning","error"]),ct.setOption("level",Ut)}).on("click",Q(".filter"),function(){In.Z.prompt("Filter").then(function(Ut){En()(Ut)||_.filter(Ut)})}).on("click",Q(".copy"),function(){_._selectedLog.copy(),b.notify("Copied")}),H.on("click",Q(".cancel"),function(){return _._hideInput()}).on("click",Q(".execute"),function(){var Ut=C.val().trim();Ut!==""&&(ct.evaluate(Ut),C.val("").get(0).blur(),_._hideInput())}),C.on("focusin",function(){return _._showInput()}),ct.on("insert",function(Ut){Ut.type==="error"&&St.get("displayIfErr")&&b.showTool("console").show()}),ct.on("select",function(Ut){_._selectedLog=Ut,V.find(Q(".icon-copy")).rmClass(Q("icon-disabled"))}),ct.on("deselect",function(){_._selectedLog=null,V.find(Q(".icon-copy")).addClass(Q("icon-disabled"))}),b.on("show",this._handleShow)}},{key:"_hideInput",value:function(){this._$inputContainer.rmClass(Q("active")),this._$inputBtns.css("display","none")}},{key:"_showInput",value:function(){this._$inputContainer.addClass(Q("active")),this._$inputBtns.css("display","flex")}},{key:"_rmCfg",value:function(){var _=this.config,b=this._container.get("settings");b&&b.remove(_,"asyncRender").remove(_,"jsExecution").remove(_,"catchGlobalErr").remove(_,"overrideConsole").remove(_,"displayExtraInfo").remove(_,"displayUnenumerable").remove(_,"displayGetterVal").remove(_,"lazyEvaluation").remove(_,"displayIfErr").remove(_,"maxLogNum").remove(Xn()(this.name))}},{key:"_initCfg",value:function(){var _=this,b=this._container,C=this.config=it.createCfg(this.name,{asyncRender:!0,catchGlobalErr:!0,jsExecution:!0,overrideConsole:!0,displayExtraInfo:!1,displayUnenumerable:!0,displayGetterVal:!0,lazyEvaluation:!0,displayIfErr:!1,maxLogNum:"infinite"});this._enableJsExecution(C.get("jsExecution")),C.get("catchGlobalErr")&&this.catchGlobalErr(),C.on("change",function(V,ct){var St=_._logger;switch(V){case"asyncRender":return St.setOption("asyncRender",ct);case"jsExecution":return _._enableJsExecution(ct);case"catchGlobalErr":return ct?_.catchGlobalErr():_.ignoreGlobalErr();case"overrideConsole":return ct?_.overrideConsole():_.restoreConsole();case"maxLogNum":return St.setOption("maxNum",ct==="infinite"?0:+ct);case"displayExtraInfo":return St.setOption("showHeader",ct);case"displayUnenumerable":return St.setOption("unenumerable",ct);case"displayGetterVal":return St.setOption("accessGetter",ct);case"lazyEvaluation":return St.setOption("lazyEvaluation",ct)}});var H=b.get("settings");H&&H.text(Xn()(this.name)).switch(C,"asyncRender","Asynchronous Rendering").switch(C,"jsExecution","Enable JavaScript Execution").switch(C,"catchGlobalErr","Catch Global Errors").switch(C,"overrideConsole","Override Console").switch(C,"displayIfErr","Auto Display If Error Occurs").switch(C,"displayExtraInfo","Display Extra Information").switch(C,"displayUnenumerable","Display Unenumerable Properties").switch(C,"displayGetterVal","Access Getter Value").switch(C,"lazyEvaluation","Lazy Evaluation").select(C,"maxLogNum","Max Log Number",["infinite","250","125","100","50","10"]).separator()}}]),I}(y),Wr=["log","error","info","warn","dir","time","timeLog","timeEnd","clear","table","assert","count","countReset","debug","group","groupCollapsed","groupEnd"],Xs=t(4219),Ws=t.n(Xs),Vs=t(7756),ur=t.n(Vs);function Ks(F){var O=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var I,_=(0,l.Z)(F);if(O){var b=(0,l.Z)(this).constructor;I=Reflect.construct(_,arguments,b)}else I=_.apply(this,arguments);return(0,c.Z)(this,I)}}var qs=function(F){(0,a.Z)(I,F);var O=Ks(I);function I(_,b){var C;return(0,i.Z)(this,I),C=O.call(this),(0,u.Z)((0,s.Z)(C),"_copyRes",function(){var H=C._detailData,V="".concat(H.method," ").concat(H.url," ").concat(H.status,`
`);Xe()(H.reqHeaders)||(V+=`
Request Headers

`,L()(H.reqHeaders,function(ct,St){return V+="".concat(St,": ").concat(ct,`
`)})),Xe()(H.resHeaders)||(V+=`
Response Headers

`,L()(H.resHeaders,function(ct,St){return V+="".concat(St,": ").concat(ct,`
`)})),H.resTxt&&(V+=`
`.concat(H.resTxt,`
`)),We()(V),C._devtools.notify("Copied")}),C._$container=_,C._devtools=b,C._detailData={},C._bindEvent(),C}return(0,o.Z)(I,[{key:"show",value:function(_){_.resTxt&&An()(_.resTxt)===""&&delete _.resTxt,Xe()(_.resHeaders)&&delete _.resHeaders,Xe()(_.reqHeaders)&&delete _.reqHeaders;var b="";_.data&&(b='<pre class="'.concat(Q("data"),'">').concat(Ee()(_.data),"</pre>"));var C="<tr><td>Empty</td></tr>";_.reqHeaders&&(C=Ne()(_.reqHeaders,function(Ut,ce){return`<tr>
          <td class="`.concat(Q("key"),'">').concat(Ee()(ce),`</td>
          <td>`).concat(Ee()(Ut),`</td>
        </tr>`)}).join(""));var H="<tr><td>Empty</td></tr>";_.resHeaders&&(H=Ne()(_.resHeaders,function(Ut,ce){return`<tr>
          <td class="`.concat(Q("key"),'">').concat(Ee()(ce),`</td>
          <td>`).concat(Ee()(Ut),`</td>
        </tr>`)}).join(""));var V="";if(_.resTxt){var ct=_.resTxt;ct.length>xi&&(ct=ur()(ct,xi)),V='<pre class="'.concat(Q("response"),'">').concat(Ee()(ct),"</pre>")}var St='<div class="'.concat(Q("control"),`">
      <span class="`).concat(Q("icon-arrow-left back"),`"></span>
      <span class="`).concat(Q("icon-delete back"),`"></span>
      <span class="`).concat(Q("url"),'">').concat(Ee()(_.url),`</span>
      <span class="`).concat(Q("icon-copy copy-res"),`"></span>
    </div>
    <div class="`).concat(Q("http"),`">
      `).concat(b,`
      <div class="`).concat(Q("section"),`">
        <h2>Response Headers</h2>
        <table class="`).concat(Q("headers"),`">
          <tbody>
            `).concat(H,`
          </tbody>
        </table>
      </div>
      <div class="`).concat(Q("section"),`">
        <h2>Request Headers</h2>
        <table class="`).concat(Q("headers"),`">
          <tbody>
            `).concat(C,`
          </tbody>
        </table>
      </div>
      `).concat(V,`
    </div>`);this._$container.html(St).show(),this._detailData=_}},{key:"hide",value:function(){this._$container.hide(),this.emit("hide")}},{key:"_bindEvent",value:function(){var _=this,b=this._devtools;this._$container.on("click",Q(".back"),function(){return _.hide()}).on("click",Q(".copy-res"),this._copyRes).on("click",Q(".http .response"),function(){var H=_._detailData,V=H.resTxt;if(Ws()(V))return C("object",V);switch(H.subType){case"css":return C("css",V);case"html":return C("html",V);case"javascript":return C("js",V);case"json":return C("object",V)}return H.type==="image"?C("img",H.url):void 0});var C=function(H,V){var ct=b.get("sources");ct&&(ct.set(H,V),b.showTool("sources"))}}}]),I}(d()),xi=1e5,Js=t(9143),ta=t.n(Js),ea=t(2139),na=t(8689),Vr=t(7935),ra=t(9119);function bi(F,O){var I=Object.keys(F);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(F);O&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(F,b).enumerable})),I.push.apply(I,_)}return I}function wi(F){for(var O=1;O<arguments.length;O++){var I=arguments[O]!=null?arguments[O]:{};O%2?bi(Object(I),!0).forEach(function(_){(0,u.Z)(F,_,I[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(I)):bi(Object(I)).forEach(function(_){Object.defineProperty(F,_,Object.getOwnPropertyDescriptor(I,_))})}return F}var Vn=new(ta());Vn.register("Network",ea),Vn.register("Overlay",na),Vn.register("DOM",wi(wi({},Vr),{},{getNodeId:Vr.getDOMNodeId,getNode:Vr.getDOMNode})),Vn.register("Storage",ra);var Ge=Vn,Kr=t(5564),ia=t(242),oa=t.n(ia),sa=t(7913),aa=t.n(sa);function la(F){var O=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var I,_=(0,l.Z)(F);if(O){var b=(0,l.Z)(this).constructor;I=Reflect.construct(_,arguments,b)}else I=_.apply(this,arguments);return(0,c.Z)(this,I)}}var ca=function(F){(0,a.Z)(I,F);var O=la(I);function I(){var _;return(0,i.Z)(this,I),_=O.call(this),(0,u.Z)((0,s.Z)(_),"_reqWillBeSent",function(b){if(_._isRecording){var C,H={name:vi(b.request.url),url:b.request.url,status:"pending",type:"unknown",subType:"unknown",size:0,data:b.request.postData,method:b.request.method,startTime:1e3*b.timestamp,time:0,resTxt:"",done:!1,reqHeaders:b.request.headers||{},resHeaders:{}};H.render=function(){var V={name:H.name,method:H.method,status:H.status,type:H.subType,size:H.size,time:H.displayTime};C?(C.data=V,C.render()):(C=_._requestDataGrid.append(V,{selectable:!0}),x()(C.container).data("id",b.requestId)),H.hasErr&&x()(C.container).addClass(Q("request-error"))},H.render(),_._requests[b.requestId]=H}}),(0,u.Z)((0,s.Z)(_),"_resReceivedExtraInfo",function(b){var C=_._requests[b.requestId];_._isRecording&&C&&(C.resHeaders=b.headers,_._updateType(C),C.render())}),(0,u.Z)((0,s.Z)(_),"_resReceived",function(b){var C=_._requests[b.requestId];if(_._isRecording&&C){var H=b.response,V=H.status,ct=H.headers;C.status=V,(V<200||V>=300)&&(C.hasErr=!0),ct&&(C.resHeaders=ct,_._updateType(C)),C.render()}}),(0,u.Z)((0,s.Z)(_),"_loadingFinished",function(b){var C=_._requests[b.requestId];if(_._isRecording&&C){var H=1e3*b.timestamp;C.time=H-C.startTime,C.displayTime=oi()(C.time),C.size=b.encodedDataLength,C.done=!0,C.resTxt=Ge.domain("Network").getResponseBody({requestId:b.requestId}).body,C.render()}}),(0,u.Z)((0,s.Z)(_),"_copyCurl",function(){var b=_._selectedRequest;We()(function(C){var H=Hn()();H==="windows"&&(H="win");var V=[],ct=aa()(["accept-encoding","host","method","path","scheme","version"]),St=H==="win"?function(tn){var fn=/[\r\n]/.test(tn)?'^"':'"';return fn+tn.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/[^a-zA-Z0-9\s_\-:=+~'\/.',?;()*`&]/g,"^$&").replace(/%(?=[a-zA-Z0-9_])/g,"%^").replace(/\r?\n/g,`^

`)+fn}:function(tn){return/[\0-\x1F\x7F-\x9F!]|\'/.test(tn)?"$'"+tn.replace(/\\/g,"\\\\").replace(/\'/g,"\\'").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\0-\x1F\x7F-\x9F!]/g,function(fn){for(var kn=fn.charCodeAt(0).toString(16);kn.length<4;)kn="0"+kn;return"\\u"+kn})+"'":"'"+tn+"'"};V.push(St(C.url()).replace(/[[{}\]]/g,"\\$&"));var Ut="GET",ce=[],Me=C.requestFormData();Me&&(ce.push("--data-raw "+St(Me)),ct["content-length"]=!0,Ut="POST"),C.requestMethod!==Ut&&V.push("-X "+St(C.requestMethod));for(var Ye=C.requestHeaders(),Pe=0;Pe<Ye.length;Pe++){var Le=Ye[Pe],on=Le.name.replace(/^:/,"");ct[on.toLowerCase()]||V.push("-H "+St(on+": "+Le.value))}return(V=V.concat(ce)).push("--compressed"),"curl "+V.join(V.length>=3?H==="win"?` ^
  `:` \\
  `:" ")}({requestMethod:b.method,url:function(){return b.url},requestFormData:function(){return b.data},requestHeaders:function(){var C=b.reqHeaders||{};return At()(C,{"User-Agent":navigator.userAgent,Referer:location.href}),Ne()(C,function(H,V){return{name:V,value:H}})}})),_._container.notify("Copied")}),(0,u.Z)((0,s.Z)(_),"_toggleRecording",function(){_._$control.find(Q(".record")).toggleClass(Q("recording")),_._isRecording=!_._isRecording}),(0,u.Z)((0,s.Z)(_),"_showDetail",function(){_._selectedRequest&&(_._splitMode&&_._$network.css("width","50%"),_._detail.show(_._selectedRequest))}),_._style=ht(t(3180)),_.name="network",_._requests={},_._selectedRequest=null,_._isRecording=!0,_}return(0,o.Z)(I,[{key:"init",value:function(_,b){(0,m.Z)((0,l.Z)(I.prototype),"init",this).call(this,_),this._container=b,this._initTpl(),this._detail=new qs(this._$detail,b),this._splitMeidaQuery=new(ve())("screen and (min-width: 680px)"),this._splitMode=this._splitMeidaQuery.isMatch(),this._requestDataGrid=new Kr.Z(this._$requests.get(0),{columns:[{id:"name",title:"Name",sortable:!0,weight:30},{id:"method",title:"Method",sortable:!0,weight:14},{id:"status",title:"Status",sortable:!0,weight:14},{id:"type",title:"Type",sortable:!0,weight:14},{id:"size",title:"Size",sortable:!0,weight:14},{id:"time",title:"Time",sortable:!0,weight:14}]}),this._resizeSensor=new(oa())(_.get(0)),this._bindEvent()}},{key:"show",value:function(){(0,m.Z)((0,l.Z)(I.prototype),"show",this).call(this),this._updateDataGridHeight()}},{key:"clear",value:function(){this._requests={},this._requestDataGrid.clear()}},{key:"requests",value:function(){var _=[];return L()(this._requests,function(b){_.push(b)}),_}},{key:"_updateDataGridHeight",value:function(){var _=this._$el.offset().height-41;this._requestDataGrid.setOption("minHeight",_),this._requestDataGrid.setOption("maxHeight",_)}},{key:"_updateType",value:function(_){var b=function(V){if(!V)return"unknown";var ct=V.split(";")[0].split("/");return{type:ct[0],subType:or()(ct)}}(_.resHeaders["content-type"]||""),C=b.type,H=b.subType;_.type=C,_.subType=H}},{key:"_updateButtons",value:function(){var _=this._$control,b=_.find(Q(".show-detail")),C=_.find(Q(".copy-curl")),H=Q("icon-disabled");b.addClass(H),C.addClass(H),this._selectedRequest&&(b.rmClass(H),C.rmClass(H))}},{key:"_bindEvent",value:function(){var _=this,b=this._$control,C=this._$filterText,H=this._requestDataGrid,V=this;b.on("click",Q(".clear-request"),function(){return _.clear()}).on("click",Q(".show-detail"),this._showDetail).on("click",Q(".copy-curl"),this._copyCurl).on("click",Q(".record"),this._toggleRecording).on("click",Q(".filter"),function(){In.Z.prompt("Filter").then(function(St){En()(St)||(C.text(St),H.setOption("filter",An()(St)))})}),H.on("select",function(St){var Ut=x()(St.container).data("id"),ce=V._requests[Ut];_._selectedRequest=ce,_._updateButtons(),_._splitMode&&_._showDetail()}),H.on("deselect",function(){_._selectedRequest=null,_._updateButtons(),_._detail.hide()}),this._resizeSensor.addListener(fi()(function(){return _._updateDataGridHeight()},15)),this._splitMeidaQuery.on("match",function(){_._detail.hide(),_._splitMode=!0}),this._splitMeidaQuery.on("unmatch",function(){_._detail.hide(),_._splitMode=!1}),this._detail.on("hide",function(){_._splitMode&&_._$network.css("width","100%")}),Ge.domain("Network").enable();var ct=Ge.domain("Network");ct.on("requestWillBeSent",this._reqWillBeSent),ct.on("responseReceivedExtraInfo",this._resReceivedExtraInfo),ct.on("responseReceived",this._resReceived),ct.on("loadingFinished",this._loadingFinished)}},{key:"destroy",value:function(){(0,m.Z)((0,l.Z)(I.prototype),"destroy",this).call(this),this._resizeSensor.destroy(),ht.remove(this._style),this._splitMeidaQuery.removeAllListeners();var _=Ge.domain("Network");_.off("requestWillBeSent",this._reqWillBeSent),_.off("responseReceivedExtraInfo",this._resReceivedExtraInfo),_.off("responseReceived",this._resReceived),_.off("loadingFinished",this._loadingFinished)}},{key:"_initTpl",value:function(){var _=this._$el;_.html(Q(`<div class="network">
        <div class="control">
          <span class="icon-record record recording"></span>
          <span class="icon-clear clear-request"></span>
          <span class="icon-eye icon-disabled show-detail"></span>
          <span class="icon-copy icon-disabled copy-curl"></span>
          <span class="filter-text"></span>
          <span class="icon-filter filter"></span>
        </div>
        <div class="requests"></div>
      </div>
      <div class="detail"></div>`)),this._$network=_.find(Q(".network")),this._$detail=_.find(Q(".detail")),this._$requests=_.find(Q(".requests")),this._$control=_.find(Q(".control")),this._$filterText=_.find(Q(".filter-text"))}}]),I}(y),ua=t(8209);function Ei(F){for(var O={},I=0,_=F.length;I<_;I++){var b=F[I];F[b]!=="initial"&&(O[b]=F[b])}return function(C){return di()(C,{comparator:function(H,V){for(var ct=H.length,St=V.length,Ut=ct>St?St:ct,ce=0;ce<Ut;ce++){var Me=da(H.charCodeAt(ce),V.charCodeAt(ce));if(Me!==0)return Me}return ct>St?1:ct<St?-1:0}})}(O)}var Ti=Element.prototype,qr=function(){return!1};Ti.webkitMatchesSelector?qr=function(F,O){return F.webkitMatchesSelector(O)}:Ti.mozMatchesSelector&&(qr=function(F,O){return F.mozMatchesSelector(O)});var ha=function(){function F(O){(0,i.Z)(this,F),this._el=O}return(0,o.Z)(F,[{key:"getComputedStyle",value:function(){return Ei(window.getComputedStyle(this._el))}},{key:"getMatchedCSSRules",value:function(){var O=this,I=[];return L()(document.styleSheets,function(_){try{if(!_.cssRules)return}catch{return}L()(_.cssRules,function(b){var C=!1;try{C=O._elMatchesSel(b.selectorText)}catch{}C&&I.push({selectorText:b.selectorText,style:Ei(b.style)})})}),I}},{key:"_elMatchesSel",value:function(O){return qr(this._el,O)}}]),F}();function da(F,O){return(F=Si(F))>(O=Si(O))?1:F<O?-1:0}function Si(F){return F===45?123:F}function Ci(F){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=O.noAttr,_=I!==void 0&&I;if(F.nodeType===Node.TEXT_NODE)return'<span class="'.concat(Q("tag-name-color"),'">(text)</span>');if(F.nodeType===Node.COMMENT_NODE)return'<span class="'.concat(Q("tag-name-color"),'"><!--></span>');var b=F.id,C=F.className,H=F.attributes,V='<span class="eruda-tag-name-color">'.concat(F.tagName.toLowerCase(),"</span>");if(b!==""&&(V+='<span class="eruda-function-color">#'.concat(b,"</span>")),T()(C)){var ct="";L()(C.split(/\s+/g),function(St){St.trim()!==""&&(ct+=".".concat(St))}),V+='<span class="eruda-attribute-name-color">'.concat(ct,"</span>")}return _||L()(H,function(St){var Ut=St.name;Ut!=="id"&&Ut!=="class"&&Ut!=="style"&&(V+=' <span class="eruda-attribute-name-color">'.concat(Ut,'</span><span class="eruda-operator-color">="</span><span class="eruda-string-color">').concat(St.value,'</span><span class="eruda-operator-color">"</span>'))}),V}var fa=function(){function F(O,I){var _=this;(0,i.Z)(this,F),(0,u.Z)(this,"hide",function(){_._$container.hide(),_._disableObserver(),Ge.domain("Overlay").hideHighlight()}),this._$container=O,this._devtools=I,this._curEl=document.documentElement,this._bindEvent(),this._initObserver(),this._initCfg()}return(0,o.Z)(F,[{key:"show",value:function(O){this._curEl=O,this._rmDefComputedStyle=!0,this._computedStyleSearchKeyword="",this._enableObserver(),this._render();var I=Ge.domain("DOM").getNodeId({node:O}).nodeId;Ge.domain("Overlay").highlightNode({nodeId:I,highlightConfig:{showInfo:!0,contentColor:"rgba(111, 168, 220, .66)",paddingColor:"rgba(147, 196, 125, .55)",borderColor:"rgba(255, 229, 153, .66)",marginColor:"rgba(246, 178, 107, .66)"}})}},{key:"destroy",value:function(){this._disableObserver(),this.restoreEventTarget(),this._rmCfg()}},{key:"overrideEventTarget",value:function(){var O=Mi(),I=this._origAddEvent=O.addEventListener,_=this._origRmEvent=O.removeEventListener;O.addEventListener=function(b,C,H){ya(this,b,C,H),I.apply(this,arguments)},O.removeEventListener=function(b,C,H){_a(this,b,C,H),_.apply(this,arguments)}}},{key:"restoreEventTarget",value:function(){var O=Mi();this._origAddEvent&&(O.addEventListener=this._origAddEvent),this._origRmEvent&&(O.removeEventListener=this._origRmEvent)}},{key:"_toggleAllComputedStyle",value:function(){this._rmDefComputedStyle=!this._rmDefComputedStyle,this._render()}},{key:"_render",value:function(){var O=this._getData(this._curEl),I="<tr><td>Empty</td></tr>";Xe()(O.attributes)||(I=Ne()(O.attributes,function(ce){var Me=ce.name,Ye=ce.value;return`<tr>
          <td class="`.concat(Q("attribute-name-color"),'">').concat(Ee()(Me),`</td>
          <td class="`).concat(Q("string-color"),'">').concat(Ye,`</td>
        </tr>`)}).join("")),I='<div class="'.concat(Q("attributes section"),`">
      <h2>Attributes</h2>
      <div class="`).concat(Q("table-wrapper"),`">
        <table>
          <tbody>
            `).concat(I,` 
          </tbody>
        </table>
      </div>
    </div>`);var _="";if(!Xe()(O.styles)){var b=Ne()(O.styles,function(ce){var Me=ce.selectorText,Ye=ce.style;return Ye=Ne()(Ye,function(Pe,Le){return'<div class="'.concat(Q("rule"),'"><span>').concat(Ee()(Le),"</span>: ").concat(Pe,";</div>")}).join(""),'<div class="'.concat(Q("style-rules"),`">
          <div>`).concat(Ee()(Me),` {</div>
            `).concat(Ye,`
          <div>}</div>
        </div>`)}).join("");_='<div class="'.concat(Q("styles section"),`">
        <h2>Styles</h2>
        <div class="`).concat(Q("style-wrapper"),`">
          `).concat(b,`
        </div>
      </div>`)}var C="";if(O.computedStyle){var H=Q(`<div class="btn toggle-all-computed-style">
        <span class="icon-expand"></span>
      </div>`);O.rmDefComputedStyle&&(H=Q(`<div class="btn toggle-all-computed-style">
          <span class="icon-compress"></span>
        </div>`));var V=O.boxModel,ct=['<div class="'.concat(Q("box-model"),'">'),V.position?'<div class="'.concat(Q("position"),'">'):"",V.position?'<div class="'.concat(Q("label"),'">position</div><div class="').concat(Q("top"),'">').concat(V.position.top,'</div><br><div class="').concat(Q("left"),'">').concat(V.position.left,"</div>"):"",'<div class="'.concat(Q("margin"),'">'),'<div class="'.concat(Q("label"),'">margin</div><div class="').concat(Q("top"),'">').concat(V.margin.top,'</div><br><div class="').concat(Q("left"),'">').concat(V.margin.left,"</div>"),'<div class="'.concat(Q("border"),'">'),'<div class="'.concat(Q("label"),'">border</div><div class="').concat(Q("top"),'">').concat(V.border.top,'</div><br><div class="').concat(Q("left"),'">').concat(V.border.left,"</div>"),'<div class="'.concat(Q("padding"),'">'),'<div class="'.concat(Q("label"),'">padding</div><div class="').concat(Q("top"),'">').concat(V.padding.top,'</div><br><div class="').concat(Q("left"),'">').concat(V.padding.left,"</div>"),'<div class="'.concat(Q("content"),'">'),"<span>".concat(V.content.width,"</span>&nbsp;×&nbsp;<span>").concat(V.content.height,"</span>"),"</div>",'<div class="'.concat(Q("right"),'">').concat(V.padding.right,'</div><br><div class="').concat(Q("bottom"),'">').concat(V.padding.bottom,"</div>"),"</div>",'<div class="'.concat(Q("right"),'">').concat(V.border.right,'</div><br><div class="').concat(Q("bottom"),'">').concat(V.border.bottom,"</div>"),"</div>",'<div class="'.concat(Q("right"),'">').concat(V.margin.right,'</div><br><div class="').concat(Q("bottom"),'">').concat(V.margin.bottom,"</div>"),"</div>",V.position?'<div class="'.concat(Q("right"),'">').concat(V.position.right,'</div><br><div class="').concat(Q("bottom"),'">').concat(V.position.bottom,"</div>"):"",V.position?"</div>":"","</div>"].join("");C='<div class="'.concat(Q("computed-style section"),`">
        <h2>
          Computed Style
          `).concat(H,`
          <div class="`).concat(Q("btn computed-style-search"),`">
            <span class="`).concat(Q("icon-filter"),`"></span>
          </div>
          `).concat(O.computedStyleSearchKeyword?'<div class="'.concat(Q("btn filter-text"),'">').concat(Ee()(O.computedStyleSearchKeyword),"</div>"):"",`
        </h2>
        `).concat(ct,`
        <div class="`).concat(Q("table-wrapper"),`">
          <table>
            <tbody>
            `).concat(Ne()(O.computedStyle,function(ce,Me){return`<tr>
                <td class="`.concat(Q("key"),'">').concat(Ee()(Me),`</td>
                <td>`).concat(ce,`</td>
              </tr>`)}).join(""),`
            </tbody>
          </table>
        </div>
      </div>`)}var St="";O.listeners&&(St=Ne()(O.listeners,function(ce,Me){return ce=Ne()(ce,function(Ye){var Pe=Ye.useCapture,Le=Ye.listenerStr;return"<li ".concat(Pe?'class="'.concat(Q("capture"),'"'):"",">").concat(Ee()(Le),"</li>")}).join(""),'<div class="'.concat(Q("listener"),`">
          <div class="`).concat(Q("listener-type"),'">').concat(Ee()(Me),`</div>
          <ul class="`).concat(Q("listener-content"),`">
            `).concat(ce,`
          </ul>
        </div>`)}).join(""),St='<div class="'.concat(Q("listeners section"),`">
        <h2>Event Listeners</h2>
        <div class="`).concat(Q("listener-wrapper"),`">
          `).concat(St,` 
        </div>
      </div>`));var Ut='<div class="'.concat(Q("control"),`">
      <span class="`).concat(Q("icon-arrow-left back"),`"></span>
      <span class="`).concat(Q("element-name"),'">').concat(O.name,`</span>
      <span class="`).concat(Q("icon-refresh refresh"),`"></span>
    </div>
    <div class="`).concat(Q("element"),`">
      `).concat(I,`
      `).concat(_,`
      `).concat(C,`
      `).concat(St,`
    </div>`);this._$container.html(Ut).show()}},{key:"_getData",value:function(O){var I={},_=new ha(O),b=O.className,C=O.id,H=O.attributes,V=O.tagName;I.computedStyleSearchKeyword=this._computedStyleSearchKeyword,I.attributes=pa(H),I.name=Ci({tagName:V,id:C,className:b,attributes:H});var ct=O.erudaEvents;if(ct&&rt()(ct).length!==0&&(I.listeners=ct),Aa(V))return I;var St=_.getComputedStyle();function Ut(Pe){var Le=["top","left","right","bottom"];return Pe!=="position"&&(Le=Ne()(Le,function(on){return"".concat(Pe,"-").concat(on)})),Pe==="border"&&(Le=Ne()(Le,function(on){return"".concat(on,"-width")})),{top:jn(St[Le[0]],Pe),left:jn(St[Le[1]],Pe),right:jn(St[Le[2]],Pe),bottom:jn(St[Le[3]],Pe)}}var ce={margin:Ut("margin"),border:Ut("border"),padding:Ut("padding"),content:{width:jn(St.width),height:jn(St.height)}};St.position!=="static"&&(ce.position=Ut("position")),I.boxModel=ce;var Me=_.getMatchedCSSRules();Me.unshift(function(Pe){for(var Le={selectorText:"element.style",style:{}},on=0,tn=Pe.length;on<tn;on++){var fn=Pe[on];Le.style[fn]=Pe[fn]}return Le}(O.style)),Me.forEach(function(Pe){return Ii(Pe.style)}),I.styles=Me,this._rmDefComputedStyle&&(St=function(Pe,Le){var on={},tn=["display","width","height"];return L()(Le,function(fn){tn=tn.concat(rt()(fn.style))}),tn=Ln()(tn),L()(Pe,function(fn,kn){U()(tn,kn)&&(on[kn]=fn)}),on}(St,Me)),I.rmDefComputedStyle=this._rmDefComputedStyle;var Ye=ri()(I.computedStyleSearchKeyword);return Ye&&(St=li()(St,function(Pe,Le){return U()(Le,Ye)||U()(Pe,Ye)})),Ii(St),I.computedStyle=St,I}},{key:"_bindEvent",value:function(){var O=this,I=this._devtools;this._$container.on("click",Q(".toggle-all-computed-style"),function(){return O._toggleAllComputedStyle()}).on("click",Q(".computed-style-search"),function(){In.Z.prompt("Filter").then(function(_){En()(_)||(_=An()(_),O._computedStyleSearchKeyword=_,O._render())})}).on("click",".eruda-listener-content",function(){var _=x()(this).text(),b=I.get("sources");b&&(b.set("js",_),I.showTool("sources"))}).on("click",Q(".element-name"),function(){var _=I.get("sources");_&&(_.set("object",O._curEl),I.showTool("sources"))}).on("click",Q(".back"),this.hide).on("click",Q(".refresh"),function(){O._render(),I.notify("Refreshed")})}},{key:"_initObserver",value:function(){var O=this;this._observer=new(we())(function(I){L()(I,function(_){return O._handleMutation(_)})})}},{key:"_enableObserver",value:function(){this._observer.observe(document.documentElement,{attributes:!0,childList:!0,subtree:!0})}},{key:"_disableObserver",value:function(){this._observer.disconnect()}},{key:"_handleMutation",value:function(O){if(!Wn(O.target)&&O.type==="attributes"){if(O.target!==this._curEl)return;this._render()}}},{key:"_rmCfg",value:function(){var O=this.config,I=this._devtools.get("settings");I&&I.remove(O,"overrideEventTarget").remove(O,"observeElement").remove("Elements")}},{key:"_initCfg",value:function(){var O=this,I=this.config=it.createCfg("elements",{overrideEventTarget:!0});I.get("overrideEventTarget")&&this.overrideEventTarget(),I.on("change",function(b,C){if(b==="overrideEventTarget")return C?O.overrideEventTarget():O.restoreEventTarget()});var _=this._devtools.get("settings");_&&(_.text("Elements").switch(I,"overrideEventTarget","Catch Event Listeners"),_.separator())}}]),F}();function Ii(F){L()(F,function(O,I){return F[I]=ki(O)})}var pa=function(F){return Ne()(F,function(O){var I=O.value,_=O.name;return I=Ee()(I),(_==="src"||_==="href")&&!Qn()(I,"data")&&(I=Ri(I)),_==="style"&&(I=ki(I)),{name:_,value:I}})},ma=/rgba?\((.*?)\)/g,ga=/url\("?(.*?)"?\)/g;function ki(F){return(F=z()(F)).replace(ma,'<span class="eruda-style-color" style="background-color: $&"></span>$&').replace(ga,function(O,I){return'url("'.concat(Ri(I),'")')})}var va=["script","style","meta","title","link","head"],Aa=function(F){return va.indexOf(F.toLowerCase())>-1},Ri=function(F){return'<a href="'.concat(F,'" target="_blank">').concat(F,"</a>")};function jn(F,O){if(vn()(F))return F;if(!T()(F))return"‒";var I=Un(F);return Fn()(I)?F:O==="position"?I:I===0?"‒":I}function ya(F,O,I){var _=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(Qe()(F)&&He()(I)&&Ht()(_)){var b=F.erudaEvents=F.erudaEvents||{};b[O]=b[O]||[],b[O].push({listener:I,listenerStr:I.toString(),useCapture:_})}}function _a(F,O,I){var _=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(Qe()(F)&&He()(I)&&Ht()(_)){var b=F.erudaEvents;if(b&&b[O]){for(var C=b[O],H=0,V=C.length;H<V;H++)if(C[H].listener===I){C.splice(H,1);break}C.length===0&&delete b[O],rt()(b).length===0&&delete F.erudaEvents}}}var Mi=function(){return ui()(window,"EventTarget.prototype")||window.Node.prototype};function xa(F){var O=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var I,_=(0,l.Z)(F);if(O){var b=(0,l.Z)(this).constructor;I=Reflect.construct(_,arguments,b)}else I=_.apply(this,arguments);return(0,c.Z)(this,I)}}var ba=function(F){(0,a.Z)(I,F);var O=xa(I);function I(){var _;return(0,i.Z)(this,I),_=O.call(this),(0,u.Z)((0,s.Z)(_),"_showDetail",function(){_._isShow&&_._curNode&&(_._curNode.nodeType===Node.ELEMENT_NODE?_._detail.show(_._curNode):_._detail.show(_._curNode.parentNode))}),(0,u.Z)((0,s.Z)(_),"_back",function(){if(_._curNode!==_._htmlEl){for(var b=_._curParentQueue,C=b.shift();!Pi(C);)C=b.shift();_.set(C)}}),(0,u.Z)((0,s.Z)(_),"_deleteNode",function(){var b=_._curNode;b.parentNode&&b.parentNode.removeChild(b)}),(0,u.Z)((0,s.Z)(_),"_copyNode",function(){var b=_._curNode;b.nodeType===Node.ELEMENT_NODE?We()(b.outerHTML):We()(b.nodeValue),_._container.notify("Copied")}),(0,u.Z)((0,s.Z)(_),"_toggleSelect",function(){_._$el.find(Q(".select")).toggleClass(Q("active")),_._selectElement=!_._selectElement,_._selectElement?(Ge.domain("Overlay").setInspectMode({mode:"searchForNode",highlightConfig:{showInfo:!bn()(),showRulers:!1,showAccessibilityInfo:!bn()(),showExtensionLines:!1,contrastAlgorithm:"aa",contentColor:"rgba(111, 168, 220, .66)",paddingColor:"rgba(147, 196, 125, .55)",borderColor:"rgba(255, 229, 153, .66)",marginColor:"rgba(246, 178, 107, .66)"}}),_._container.hide()):(Ge.domain("Overlay").setInspectMode({mode:"none"}),Ge.domain("Overlay").hideHighlight())}),(0,u.Z)((0,s.Z)(_),"_inspectNodeRequested",function(b){var C=b.backendNodeId;_._container.show(),_._toggleSelect();var H=Ge.domain("DOM").getNode({nodeId:C}).node;_.select(H)}),(0,u.Z)((0,s.Z)(_),"_setNode",function(b){if(b!==_._curNode){_._curNode=b,_._renderCrumbs();for(var C=[],H=b.parentNode;H;)C.push(H),H=H.parentNode;_._curParentQueue=C,_._splitMode&&_._showDetail(),_._updateButtons(),_._updateHistory()}}),_._style=ht(t(5896)),_.name="elements",_._selectElement=!1,_._observeElement=!0,_._history=[],d().mixin((0,s.Z)(_)),_}return(0,o.Z)(I,[{key:"init",value:function(_,b){var C=this;(0,m.Z)((0,l.Z)(I.prototype),"init",this).call(this,_),this._container=b,this._initTpl(),this._htmlEl=document.documentElement,this._detail=new fa(this._$detail,b),this.config=this._detail.config,this._splitMediaQuery=new(ve())("screen and (min-width: 680px)"),this._splitMode=this._splitMediaQuery.isMatch(),this._domViewer=new ua.Z(this._$domViewer.get(0),{node:this._htmlEl,ignore:function(H){return Wn(H)||Ai(H)}}),this._domViewer.expand(),this._bindEvent(),Ge.domain("Overlay").enable(),at()(function(){return C._updateHistory()})}},{key:"show",value:function(){(0,m.Z)((0,l.Z)(I.prototype),"show",this).call(this),this._isShow=!0,this._curNode?this._splitMode&&this._showDetail():this.select(document.body)}},{key:"hide",value:function(){(0,m.Z)((0,l.Z)(I.prototype),"hide",this).call(this),this._isShow=!1,Ge.domain("Overlay").hideHighlight()}},{key:"set",value:function(_){return this.select(_)}},{key:"select",value:function(_){return this._domViewer.select(_),this._setNode(_),this.emit("change",_),this}},{key:"destroy",value:function(){(0,m.Z)((0,l.Z)(I.prototype),"destroy",this).call(this),ht.remove(this._style),this._detail.destroy(),Ge.domain("Overlay").off("inspectNodeRequested",this._inspectNodeRequested),Ge.domain("Overlay").disable(),this._splitMediaQuery.removeAllListeners()}},{key:"_updateButtons",value:function(){var _=this._$control,b=_.find(Q(".show-detail")),C=_.find(Q(".copy-node")),H=_.find(Q(".delete-node")),V=Q("icon-disabled");b.addClass(V),C.addClass(V),H.addClass(V);var ct=this._curNode;ct&&(ct!==document.documentElement&&ct!==document.body&&H.rmClass(V),C.rmClass(V),ct.nodeType===Node.ELEMENT_NODE&&b.rmClass(V))}},{key:"_initTpl",value:function(){var _=this._$el;_.html(Q(`<div class="elements">
        <div class="control">
          <span class="icon icon-select select"></span>
          <span class="icon icon-eye show-detail"></span>
          <span class="icon icon-copy copy-node"></span>
          <span class="icon icon-delete delete-node"></span>
        </div>
        <div class="dom-viewer-container">
          <div class="dom-viewer"></div>
        </div>
        <div class="crumbs"></div>
      </div>
      <div class="detail"></div>`)),this._$detail=_.find(Q(".detail")),this._$domViewer=_.find(Q(".dom-viewer")),this._$control=_.find(Q(".control")),this._$crumbs=_.find(Q(".crumbs"))}},{key:"_renderCrumbs",value:function(){var _=function(C){for(var H=[],V=0;C;)H.push({text:Ci(C,{noAttr:!0}),idx:V++}),C=C.parentElement;return H.reverse()}(this._curNode),b="";Xe()(_)||(b=Ne()(_,function(C){var H=C.text,V=C.idx;return'<li class="'.concat(Q("crumb"),'" data-idx="').concat(V,'">').concat(H,"</div></li>")}).join("")),this._$crumbs.html(b)}},{key:"_bindEvent",value:function(){var _=this,b=this;this._$el.on("click",Q(".crumb"),function(){for(var C=ar()(x()(this).data("idx")),H=b._curNode;C--&&H.parentElement;)H=H.parentElement;Pi(H)&&b.select(H)}),this._$control.on("click",Q(".select"),this._toggleSelect).on("click",Q(".show-detail"),this._showDetail).on("click",Q(".copy-node"),this._copyNode).on("click",Q(".delete-node"),this._deleteNode),this._domViewer.on("select",this._setNode).on("deselect",this._back),Ge.domain("Overlay").on("inspectNodeRequested",this._inspectNodeRequested),this._splitMediaQuery.on("match",function(){_._splitMode=!0,_._showDetail()}),this._splitMediaQuery.on("unmatch",function(){_._splitMode=!1,_._detail.hide()})}},{key:"_updateHistory",value:function(){var _=this._container.get("console");if(_){var b=this._history;b.unshift(this._curNode),b.length>5&&b.pop();for(var C=0;C<5;C++)_.setGlobal("$".concat(C),b[C])}}}]),I}(y),Pi=function(F){return Qe()(F)&&F.parentNode},hr=null,wa=[{name:"Border All",fn:function(){if(hr)return ht.remove(hr),void(hr=null);hr=ht("* { outline: 2px dashed #707d8b; outline-offset: -3px; }",document.head)},desc:"Add color borders to all elements"},{name:"Refresh Page",fn:function(){var F=new(ue());F.setQuery("timestamp",ai()()),window.location.replace(F.toString())},desc:"Add timestamp to url and refresh"},{name:"Search Text",fn:function(){In.Z.prompt("Enter the text").then(function(F){F&&An()(F)!==""&&function(O){var I=document.body,_=new RegExp(O,"ig");Jr(I,function(b){var C=x()(b);if(C.hasClass("eruda-search-highlight-block"))return document.createTextNode(C.text())}),Jr(I,function(b){if(b.nodeType===3){var C=b.nodeValue;if((C=C.replace(_,function(V){return'<span class="eruda-keyword">'.concat(V,"</span>")}))!==b.nodeValue){var H=x()(document.createElement("div"));return H.html(C),H.addClass("eruda-search-highlight-block"),H.get(0)}}})}(F)})},desc:"Highlight given text on page"},{name:"Edit Page",fn:function(){var F=document.body;F.contentEditable=F.contentEditable!=="true"},desc:"Toggle body contentEditable"},{name:"Fit Screen",fn:function(){var F=document.body,O=document.documentElement,I=x()(F);if(I.data("scaled"))window.scrollTo(0,+I.data("scaled")),I.rmAttr("data-scaled"),I.css("transform","none");else{var _=Math.max(F.scrollHeight,F.offsetHeight,O.clientHeight,O.scrollHeight,O.offsetHeight),b=Math.max(document.documentElement.clientHeight,window.innerHeight||0),C=b/_;I.css("transform","scale(".concat(C,")")),I.data("scaled",window.scrollY),window.scrollTo(0,_/2-b/2)}},desc:"Scale down the whole page to fit screen"},{name:"Load Fps Plugin",fn:function(){yn("fps")},desc:"Display page fps"},{name:"Load Features Plugin",fn:function(){yn("features")},desc:"Browser feature detections"},{name:"Load Timing Plugin",fn:function(){yn("timing")},desc:"Show performance and resource timing"},{name:"Load Memory Plugin",fn:function(){yn("memory")},desc:"Display memory"},{name:"Load Code Plugin",fn:function(){yn("code")},desc:"Edit and run JavaScript"},{name:"Load Benchmark Plugin",fn:function(){yn("benchmark")},desc:"Run JavaScript benchmarks"},{name:"Load Geolocation Plugin",fn:function(){yn("geolocation")},desc:"Test geolocation"},{name:"Load Orientation Plugin",fn:function(){yn("orientation")},desc:"Test orientation api"},{name:"Load Touches Plugin",fn:function(){yn("touches")},desc:"Visualize screen touches"}];function Jr(F,O){var I=F.childNodes;if(!Wn(F)){for(var _=0,b=I.length;_<b;_++){var C=Jr(I[_],O);C&&F.replaceChild(C,I[_])}return O(F)}}function yn(F){var O="eruda"+Xn()(F);if(!window[O]){var I=location.protocol;Qn()(I,"http")||(I="http:"),ni()("".concat(I,"//cdn.jsdelivr.net/npm/eruda-").concat(F,"@").concat(Ea[F]),function(_){if(!_||!window[O])return Gn.error("Fail to load plugin "+F);f.emit(f.ADD,window[O]),f.emit(f.SHOW,F)})}}ht(t(7346),document.head);var Ea={fps:"2.0.0",features:"2.0.0",timing:"2.0.1",memory:"2.0.0",code:"2.1.0",benchmark:"2.0.0",geolocation:"2.0.0",dom:"2.0.0",orientation:"2.0.0",touches:"2.0.0"};function Ta(F){var O=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var I,_=(0,l.Z)(F);if(O){var b=(0,l.Z)(this).constructor;I=Reflect.construct(_,arguments,b)}else I=_.apply(this,arguments);return(0,c.Z)(this,I)}}var Sa=function(F){(0,a.Z)(I,F);var O=Ta(I);function I(){var _;return(0,i.Z)(this,I),(_=O.call(this))._style=ht(t(5571)),_.name="snippets",_._snippets=[],_}return(0,o.Z)(I,[{key:"init",value:function(_){(0,m.Z)((0,l.Z)(I.prototype),"init",this).call(this,_),this._bindEvent(),this._addDefSnippets()}},{key:"destroy",value:function(){(0,m.Z)((0,l.Z)(I.prototype),"destroy",this).call(this),ht.remove(this._style)}},{key:"add",value:function(_,b,C){return this._snippets.push({name:_,fn:b,desc:C}),this._render(),this}},{key:"remove",value:function(_){for(var b=this._snippets,C=0,H=b.length;C<H;C++)b[C].name===_&&b.splice(C,1);return this._render(),this}},{key:"run",value:function(_){for(var b=this._snippets,C=0,H=b.length;C<H;C++)b[C].name===_&&this._run(C);return this}},{key:"clear",value:function(){return this._snippets=[],this._render(),this}},{key:"_bindEvent",value:function(){var _=this;this._$el.on("click",".eruda-run",function(){var b=x()(this).data("idx");_._run(b)})}},{key:"_run",value:function(_){this._snippets[_].fn.call(null)}},{key:"_addDefSnippets",value:function(){var _=this;L()(wa,function(b){_.add(b.name,b.fn,b.desc)})}},{key:"_render",value:function(){var _=Ne()(this._snippets,function(b,C){return'<div class="'.concat(Q("section run"),'" data-idx="').concat(C,`">
        <h2 class="`).concat(Q("name"),'">').concat(Ee()(b.name),`
          <div class="`).concat(Q("btn"),`">
            <span class="`).concat(Q("icon-play"),`"></span>
          </div>
        </h2>
        <div class="`).concat(Q("description"),`">
          `).concat(Ee()(b.desc),`
        </div>
      </div>`)}).join("");this._renderHtml(_)}},{key:"_renderHtml",value:function(_){_!==this._lastHtml&&(this._lastHtml=_,this._$el.html(_))}}]),I}(y),Bi=function(){function F(O,I,_,b){(0,i.Z)(this,F),this._type=b,this._$container=O,this._devtools=I,this._resources=_,this._selectedItem=null,this._storeData=[],this._initTpl(),this._dataGrid=new Kr.Z(this._$dataGrid.get(0),{columns:[{id:"key",title:"Key",weight:30},{id:"value",title:"Value",weight:90}],minHeight:60,maxHeight:223}),this._bindEvent()}return(0,o.Z)(F,[{key:"refresh",value:function(){var O=this._dataGrid;this._refreshStorage(),O.clear(),L()(this._storeData,function(I){var _=I.key,b=I.val;O.append({key:_,value:b},{selectable:!0})})}},{key:"_refreshStorage",value:function(){var O=this._resources,I=Qr(this._type,!1);if(I){var _=[];I=JSON.parse(JSON.stringify(I)),L()(I,function(b,C){T()(b)&&(O.config.get("hideErudaSetting")&&(Qn()(C,"eruda")||C==="active-eruda")||_.push({key:C,val:ur()(b,200)}))}),this._storeData=_}}},{key:"_updateButtons",value:function(){var O=this._$container,I=O.find(Q(".show-detail")),_=O.find(Q(".delete-storage")),b=O.find(Q(".copy-storage")),C=Q("btn-disabled");I.addClass(C),_.addClass(C),b.addClass(C),this._selectedItem&&(I.rmClass(C),_.rmClass(C),b.rmClass(C))}},{key:"_initTpl",value:function(){var O=this._$container,I=this._type;O.html(Q(`<h2 class="title">
      `.concat(I==="local"?"Local":"Session",` Storage
      <div class="btn refresh-storage">
        <span class="icon icon-refresh"></span>
      </div>
      <div class="btn show-detail btn-disabled">
        <span class="icon icon-eye"></span>
      </div>
      <div class="btn copy-storage btn-disabled">
        <span class="icon icon-copy"></span>
      </div>
      <div class="btn delete-storage btn-disabled">
        <span class="icon icon-delete"></span>
      </div>
      <div class="btn clear-storage">
        <span class="icon icon-clear"></span>
      </div>
      <div class="btn filter">
        <span class="icon icon-filter"></span>
      </div>
      <div class="btn filter-text"></div>
    </h2>
    <div class="data-grid"></div>`))),this._$dataGrid=O.find(Q(".data-grid")),this._$filterText=O.find(Q(".filter-text"))}},{key:"_getVal",value:function(O){return this._type==="local"?localStorage.getItem(O):sessionStorage.getItem(O)}},{key:"_bindEvent",value:function(){var O=this,I=this._type,_=this._devtools;function b(C,H){var V=_.get("sources");if(V)return V.set(C,H),_.showTool("sources"),!0}this._$container.on("click",Q(".refresh-storage"),function(){_.notify("Refreshed"),O.refresh()}).on("click",Q(".clear-storage"),function(){L()(O._storeData,function(C){I==="local"?localStorage.removeItem(C.key):sessionStorage.removeItem(C.key)}),O.refresh()}).on("click",Q(".show-detail"),function(){var C=O._selectedItem,H=O._getVal(C);try{b("object",JSON.parse(H))}catch{b("raw",H)}}).on("click",Q(".copy-storage"),function(){var C=O._selectedItem;We()(O._getVal(C)),_.notify("Copied")}).on("click",Q(".filter"),function(){In.Z.prompt("Filter").then(function(C){En()(C)||(C=An()(C),O._$filterText.text(C),O._dataGrid.setOption("filter",C))})}).on("click",Q(".delete-storage"),function(){var C=O._selectedItem;I==="local"?localStorage.removeItem(C):sessionStorage.removeItem(C),O.refresh()}),this._dataGrid.on("select",function(C){O._selectedItem=C.data.key,O._updateButtons()}).on("deselect",function(){O._selectedItem=null,O._updateButtons()})}}]),F}();function dr(F,O){F.rmClass(Q("ok")).rmClass(Q("danger")).rmClass(Q("warn")).addClass(Q(O))}function fr(F,O){if(O===0)return"";var I=0,_=0;switch(F){case"cookie":I=30,_=60;break;case"script":I=5,_=10;break;case"stylesheet":I=4,_=8;break;case"image":I=50,_=100}return O>=_?"danger":O>=I?"warn":"ok"}var Ca=function(){function F(O,I){(0,i.Z)(this,F),this._$container=O,this._devtools=I,this._selectedItem=null,this._initTpl(),this._dataGrid=new Kr.Z(this._$dataGrid.get(0),{columns:[{id:"key",title:"Key",weight:30},{id:"value",title:"Value",weight:90}],minHeight:60,maxHeight:223}),this._bindEvent()}return(0,o.Z)(F,[{key:"refresh",value:function(){var O=this._$container,I=this._dataGrid,_=Ge.domain("Network").getCookies().cookies,b=Ne()(_,function(C){return{key:C.name,val:C.value}});I.clear(),L()(b,function(C){var H=C.key,V=C.val;I.append({key:H,value:V},{selectable:!0})}),dr(O,fr("cookie",b.length))}},{key:"_initTpl",value:function(){var O=this._$container;O.html(Q(`<h2 class="title">
      Cookie
      <div class="btn refresh-cookie">
        <span class="icon-refresh"></span>
      </div>
      <div class="btn show-detail btn-disabled">
        <span class="icon icon-eye"></span>
      </div>
      <div class="btn copy-cookie btn-disabled">
        <span class="icon icon-copy"></span>
      </div>
      <div class="btn delete-cookie btn-disabled">
        <span class="icon icon-delete"></span>
      </div>
      <div class="btn clear-cookie">
        <span class="icon-clear"></span>
      </div>
      <div class="btn filter" data-type="cookie">
        <span class="icon-filter"></span>
      </div>
      <div class="btn filter-text"></div>
    </h2>
    <div class="data-grid"></div>`)),this._$dataGrid=O.find(Q(".data-grid")),this._$filterText=O.find(Q(".filter-text"))}},{key:"_updateButtons",value:function(){var O=this._$container,I=O.find(Q(".show-detail")),_=O.find(Q(".delete-cookie")),b=O.find(Q(".copy-cookie")),C=Q("btn-disabled");I.addClass(C),_.addClass(C),b.addClass(C),this._selectedItem&&(I.rmClass(C),_.rmClass(C),b.rmClass(C))}},{key:"_getVal",value:function(O){for(var I=Ge.domain("Network").getCookies().cookies,_=0,b=I.length;_<b;_++)if(I[_].name===O)return I[_].value;return""}},{key:"_bindEvent",value:function(){var O=this,I=this._devtools;function _(b,C){var H=I.get("sources");if(H)return H.set(b,C),I.showTool("sources"),!0}this._$container.on("click",Q(".refresh-cookie"),function(){I.notify("Refreshed"),O.refresh()}).on("click",Q(".clear-cookie"),function(){Ge.domain("Storage").clearDataForOrigin({storageTypes:"cookies"}),O.refresh()}).on("click",Q(".delete-cookie"),function(){var b=O._selectedItem;Ge.domain("Network").deleteCookies({name:b}),O.refresh()}).on("click",Q(".show-detail"),function(){var b=O._selectedItem,C=O._getVal(b);try{_("object",JSON.parse(C))}catch{_("raw",C)}}).on("click",Q(".copy-cookie"),function(){var b=O._selectedItem;We()(O._getVal(b)),I.notify("Copied")}).on("click",Q(".filter"),function(){In.Z.prompt("Filter").then(function(b){En()(b)||(b=An()(b),O._filter=b,O._$filterText.text(b),O._dataGrid.setOption("filter",b))})}),this._dataGrid.on("select",function(b){O._selectedItem=b.data.key,O._updateButtons()}).on("deselect",function(){O._selectedItem=null,O._updateButtons()})}}]),F}();function Ia(F,O){var I=typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(!I){if(Array.isArray(F)||(I=function(ct,St){if(ct){if(typeof ct=="string")return Di(ct,St);var Ut=Object.prototype.toString.call(ct).slice(8,-1);if(Ut==="Object"&&ct.constructor&&(Ut=ct.constructor.name),Ut==="Map"||Ut==="Set")return Array.from(ct);if(Ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ut))return Di(ct,St)}}(F))||O&&F&&typeof F.length=="number"){I&&(F=I);var _=0,b=function(){};return{s:b,n:function(){return _>=F.length?{done:!0}:{done:!1,value:F[_++]}},e:function(ct){throw ct},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C,H=!0,V=!1;return{s:function(){I=I.call(F)},n:function(){var ct=I.next();return H=ct.done,ct},e:function(ct){V=!0,C=ct},f:function(){try{H||I.return==null||I.return()}finally{if(V)throw C}}}}function Di(F,O){(O==null||O>F.length)&&(O=F.length);for(var I=0,_=new Array(O);I<O;I++)_[I]=F[I];return _}function ka(F){var O=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var I,_=(0,l.Z)(F);if(O){var b=(0,l.Z)(this).constructor;I=Reflect.construct(_,arguments,b)}else I=_.apply(this,arguments);return(0,c.Z)(this,I)}}var Ra=function(F){(0,a.Z)(I,F);var O=ka(I);function I(){var _;return(0,i.Z)(this,I),(_=O.call(this))._style=ht(t(2488)),_.name="resources",_._hideErudaSetting=!1,_._observeElement=!0,_}return(0,o.Z)(I,[{key:"init",value:function(_,b){(0,m.Z)((0,l.Z)(I.prototype),"init",this).call(this,_),this._container=b,this._initTpl(),this._localStorage=new Bi(this._$localStorage,b,this,"local"),this._sessionStorage=new Bi(this._$sessionStorage,b,this,"session"),this._cookie=new Ca(this._$cookie,b),this._bindEvent(),this._initObserver(),this._initCfg()}},{key:"refresh",value:function(){return this.refreshLocalStorage().refreshSessionStorage().refreshCookie().refreshScript().refreshStylesheet().refreshIframe().refreshImage()}},{key:"destroy",value:function(){(0,m.Z)((0,l.Z)(I.prototype),"destroy",this).call(this),this._disableObserver(),ht.remove(this._style),this._rmCfg()}},{key:"refreshScript",value:function(){var _=[];x()("script").each(function(){var ct=this.src;ct!==""&&_.push(ct)});var b=fr("script",(_=Ln()(_)).length),C="<li>Empty</li>";Xe()(_)||(C=Ne()(_,function(ct){return ct=Ee()(ct),'<li><a href="'.concat(ct,'" target="_blank" class="').concat(Q("js-link"),'">').concat(ct,"</a></li>")}).join(""));var H='<h2 class="'.concat(Q("title"),`">
      Script
      <div class="`).concat(Q("btn refresh-script"),`">
        <span class="`).concat(Q("icon-refresh"),`"></span>
      </div>
    </h2>
    <ul class="`).concat(Q("link-list"),`">
      `).concat(C,`
    </ul>`),V=this._$script;return dr(V,b),V.html(H),this}},{key:"refreshStylesheet",value:function(){var _=[];x()("link").each(function(){this.rel==="stylesheet"&&_.push(this.href)});var b=fr("stylesheet",(_=Ln()(_)).length),C="<li>Empty</li>";_||(C=Ne()(_,function(ct){return ct=Ee()(ct),' <li><a href="'.concat(ct,'" target="_blank" class="').concat(Q("css-link"),'">').concat(ct,"</a></li>")}).join(""));var H='<h2 class="'.concat(Q("title"),`">
      Stylesheet
      <div class="`).concat(Q("btn refresh-stylesheet"),`">
        <span class="`).concat(Q("icon-refresh"),`"></span>
      </div>
    </h2>
    <ul class="`).concat(Q("link-list"),`">
      `).concat(C,`
    </ul>`),V=this._$stylesheet;return dr(V,b),V.html(H),this}},{key:"refreshIframe",value:function(){var _=[];x()("iframe").each(function(){var H=x()(this).attr("src");H&&_.push(H)}),_=Ln()(_);var b="<li>Empty</li>";Xe()(_)||(b=Ne()(_,function(H){return H=Ee()(H),'<li><a href="'.concat(H,'" target="_blank" class="').concat(Q("iframe-link"),'">').concat(H,"</a></li>")}).join(""));var C='<h2 class="'.concat(Q("title"),`">
      Iframe
      <div class="`).concat(Q("btn refresh-iframe"),`">
        <span class="`).concat(Q("icon-refresh"),`"></span>
      </div>
    </h2>
    <ul class="`).concat(Q("link-list"),`">
      `).concat(b,`
    </ul>`);return this._$iframe.html(C),this}},{key:"refreshLocalStorage",value:function(){return this._localStorage.refresh(),this}},{key:"refreshSessionStorage",value:function(){return this._sessionStorage.refresh(),this}},{key:"refreshCookie",value:function(){return this._cookie.refresh(),this}},{key:"refreshImage",value:function(){var _=[],b=this._performance=window.webkitPerformance||window.performance;b&&b.getEntries?this._performance.getEntries().forEach(function(St){if(St.initiatorType==="img"||Pa(St.name)){if(U()(St.name,"exclude=true"))return;_.push(St.name)}}):x()("img").each(function(){var St=x()(this),Ut=St.attr("src");St.data("exclude")!=="true"&&_.push(Ut)}),(_=Ln()(_)).sort();var C=fr("image",_.length),H="<li>Empty</li>";Xe()(_)||(H=Ne()(_,function(St){return'<li class="'.concat(Q("image"),`">
          <img src="`).concat(Ee()(St),'" data-exclude="true" class="').concat(Q("img-link"),`"/>
        </li>`)}).join(""));var V='<h2 class="'.concat(Q("title"),`">
      Image
      <div class="`).concat(Q("btn refresh-image"),`">
        <span class="`).concat(Q("icon-refresh"),`"></span>
      </div>
    </h2>
    <ul class="`).concat(Q("image-list"),`">
      `).concat(H,`
    </ul>`),ct=this._$image;return dr(ct,C),ct.html(V),this}},{key:"show",value:function(){return(0,m.Z)((0,l.Z)(I.prototype),"show",this).call(this),this._observeElement&&this._enableObserver(),this.refresh()}},{key:"hide",value:function(){return this._disableObserver(),(0,m.Z)((0,l.Z)(I.prototype),"hide",this).call(this)}},{key:"_initTpl",value:function(){var _=this._$el;_.html(Q(`<div class="section local-storage"></div>
      <div class="section session-storage"></div>
      <div class="section cookie"></div>
      <div class="section script"></div>
      <div class="section stylesheet"></div>
      <div class="section iframe"></div>
      <div class="section image"></div>`)),this._$localStorage=_.find(Q(".local-storage")),this._$sessionStorage=_.find(Q(".session-storage")),this._$cookie=_.find(Q(".cookie")),this._$script=_.find(Q(".script")),this._$stylesheet=_.find(Q(".stylesheet")),this._$iframe=_.find(Q(".iframe")),this._$image=_.find(Q(".image"))}},{key:"_bindEvent",value:function(){var _=this,b=this._$el,C=this._container;function H(ct,St){var Ut=C.get("sources");if(Ut)return Ut.set(ct,St),C.showTool("sources"),!0}function V(ct){return function(St){if(C.get("sources")){St.preventDefault();var Ut=x()(this).attr("href");ct!=="iframe"&&hi()(location.href,Ut)?Wt()({url:Ut,success:function(ce){H(ct,ce)},dataType:"raw"}):H("iframe",Ut)}}}b.on("click",".eruda-refresh-script",function(){C.notify("Refreshed"),_.refreshScript()}).on("click",".eruda-refresh-stylesheet",function(){C.notify("Refreshed"),_.refreshStylesheet()}).on("click",".eruda-refresh-iframe",function(){C.notify("Refreshed"),_.refreshIframe()}).on("click",".eruda-refresh-image",function(){C.notify("Refreshed"),_.refreshImage()}).on("click",".eruda-img-link",function(){H("img",x()(this).attr("src"))}).on("click",".eruda-css-link",V("css")).on("click",".eruda-js-link",V("js")).on("click",".eruda-iframe-link",V("iframe"))}},{key:"_rmCfg",value:function(){var _=this.config,b=this._container.get("settings");b&&b.remove(_,"hideErudaSetting").remove(_,"observeElement").remove("Resources")}},{key:"_initCfg",value:function(){var _=this,b=this.config=it.createCfg("resources",{hideErudaSetting:!0,observeElement:!0});b.get("hideErudaSetting")&&(this._hideErudaSetting=!0),b.get("observeElement")||(this._observeElement=!1),b.on("change",function(C,H){switch(C){case"hideErudaSetting":return void(_._hideErudaSetting=H);case"observeElement":return _._observeElement=H,H?_._enableObserver():_._disableObserver()}}),this._container.get("settings").text("Resources").switch(b,"hideErudaSetting","Hide Eruda Setting").switch(b,"observeElement","Auto Refresh Elements").separator()}},{key:"_initObserver",value:function(){var _=this;this._observer=new(we())(function(b){L()(b,function(C){_._handleMutation(C)})})}},{key:"_handleMutation",value:function(_){var b=this;if(!Wn(_.target)){var C=function(St){var Ut=function(ce){return ce.tagName?ce.tagName.toLowerCase():""}(St);switch(Ut){case"script":b.refreshScript();break;case"img":b.refreshImage();break;case"link":b.refreshStylesheet()}};if(_.type==="attributes")C(_.target);else if(_.type==="childList"){C(_.target);var H,V=sr()(_.addedNodes),ct=Ia(V=an()(V,sr()(_.removedNodes)));try{for(ct.s();!(H=ct.n()).done;)C(H.value)}catch(St){ct.e(St)}finally{ct.f()}}}}},{key:"_enableObserver",value:function(){this._observer.observe(document.documentElement,{attributes:!0,childList:!0,subtree:!0})}},{key:"_disableObserver",value:function(){this._observer.disconnect()}}]),I}(y),Ma=/\.(jpeg|jpg|gif|png)$/,Pa=function(F){return Ma.test(F)},Oi=Mn()(),Ba=[{name:"Location",val:function(){return Ee()(location.href)}},{name:"User Agent",val:navigator.userAgent},{name:"Device",val:["<table><tbody>",'<tr><td class="eruda-device-key">screen</td><td>'.concat(screen.width," * ").concat(screen.height,"</td></tr>"),"<tr><td>viewport</td><td>".concat(window.innerWidth," * ").concat(window.innerHeight,"</td></tr>"),"<tr><td>pixel ratio</td><td>".concat(window.devicePixelRatio,"</td></tr>"),"</tbody></table>"].join("")},{name:"System",val:["<table><tbody>",'<tr><td class="eruda-system-key">os</td><td>'.concat(Hn()(),"</td></tr>"),"<tr><td>browser</td><td>".concat(Oi.name+" "+Oi.version,"</td></tr>"),"</tbody></table>"].join("")},{name:"About",val:'<a href="https://eruda.liriliri.io" target="_blank">Eruda v2.11.2</a>'},{name:"Backers",val:function(){return'<a rel="noreferrer noopener" href="https://opencollective.com/eruda" target="_blank"><img data-exclude="true" style="width: 100%;"src="https://opencollective.com/eruda/backers.svg?width='.concat(1.5*window.innerWidth,'&exclude=true"></a>')}}];function Da(F){var O=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var I,_=(0,l.Z)(F);if(O){var b=(0,l.Z)(this).constructor;I=Reflect.construct(_,arguments,b)}else I=_.apply(this,arguments);return(0,c.Z)(this,I)}}var Oa=function(F){(0,a.Z)(I,F);var O=Da(I);function I(){var _;return(0,i.Z)(this,I),(_=O.call(this))._style=ht(t(879)),_.name="info",_._infos=[],_}return(0,o.Z)(I,[{key:"init",value:function(_,b){(0,m.Z)((0,l.Z)(I.prototype),"init",this).call(this,_),this._container=b,this._addDefInfo(),this._bindEvent()}},{key:"destroy",value:function(){(0,m.Z)((0,l.Z)(I.prototype),"destroy",this).call(this),ht.remove(this._style)}},{key:"add",value:function(_,b){var C=this._infos,H=!1;return L()(C,function(V){_===V.name&&(V.val=b,H=!0)}),H||C.push({name:_,val:b}),this._render(),this}},{key:"get",value:function(_){var b,C=this._infos;return Zr()(_)?hn()(C):(L()(C,function(H){_===H.name&&(b=H.val)}),b)}},{key:"remove",value:function(_){for(var b=this._infos,C=b.length-1;C>=0;C--)b[C].name===_&&b.splice(C,1);return this._render(),this}},{key:"clear",value:function(){return this._infos=[],this._render(),this}},{key:"_addDefInfo",value:function(){var _=this;L()(Ba,function(b){return _.add(b.name,b.val)})}},{key:"_render",value:function(){var _=[];L()(this._infos,function(C){var H=C.name,V=C.val;He()(V)&&(V=V()),_.push({name:H,val:V})});var b="<ul>".concat(Ne()(_,function(C){return'<li><h2 class="'.concat(Q("title"),'">').concat(Ee()(C.name),'<span class="').concat(Q("icon-copy copy"),'"></span></h2><div class="').concat(Q("content"),'">').concat(C.val,"</div></li>")}).join(""),"</ul>");this._renderHtml(b)}},{key:"_bindEvent",value:function(){var _=this._container;this._$el.on("click",Q(".copy"),function(){var b=x()(this).parent().parent(),C=b.find(Q(".title")).text(),H=b.find(Q(".content")).text();We()("".concat(C,": ").concat(H)),_.notify("Copied")})}},{key:"_renderHtml",value:function(_){_!==this._lastHtml&&(this._lastHtml=_,this._$el.html(_))}}]),I}(y),Fa=t(8299),Na=t(8368),La=t.n(Na),Fi=t(7049);function Ua(F){var O=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var I,_=(0,l.Z)(F);if(O){var b=(0,l.Z)(this).constructor;I=Reflect.construct(_,arguments,b)}else I=_.apply(this,arguments);return(0,c.Z)(this,I)}}var Ga=function(F){(0,a.Z)(I,F);var O=Ua(I);function I(){var _;return(0,i.Z)(this,I),(_=O.call(this))._style=ht(t(1344)),_.name="sources",_._showLineNum=!0,_}return(0,o.Z)(I,[{key:"init",value:function(_,b){(0,m.Z)((0,l.Z)(I.prototype),"init",this).call(this,_),this._container=b,this._bindEvent(),this._initCfg()}},{key:"destroy",value:function(){(0,m.Z)((0,l.Z)(I.prototype),"destroy",this).call(this),ht.remove(this._style),this._rmCfg()}},{key:"set",value:function(_,b){if(_==="img"){this._isFetchingData=!0;var C=new Image,H=this;return C.onload=function(){H._isFetchingData=!1,H._data={type:"img",val:{width:this.width,height:this.height,src:b}},H._render()},C.onerror=function(){H._isFetchingData=!1},void(C.src=b)}return this._data={type:_,val:b},this._render(),this}},{key:"show",value:function(){return(0,m.Z)((0,l.Z)(I.prototype),"show",this).call(this),this._data||this._isFetchingData||this._renderDef(),this}},{key:"_renderDef",value:function(){var _=this;if(this._html)return this._data={type:"html",val:this._html},this._render();this._isGettingHtml||(this._isGettingHtml=!0,Wt()({url:location.href,success:function(b){return _._html=b},error:function(){return _._html="Sorry, unable to fetch source code:("},complete:function(){_._isGettingHtml=!1,_._renderDef()},dataType:"raw"}))}},{key:"_bindEvent",value:function(){var _=this;this._container.on("showTool",function(b,C){b!==_.name&&C.name===_.name&&delete _._data})}},{key:"_rmCfg",value:function(){var _=this.config,b=this._container.get("settings");b&&b.remove(_,"showLineNum").remove("Sources")}},{key:"_initCfg",value:function(){var _=this,b=this.config=it.createCfg("sources",{showLineNum:!0});b.get("showLineNum")||(this._showLineNum=!1),b.on("change",function(C,H){C!=="showLineNum"||(_._showLineNum=H)}),this._container.get("settings").text("Sources").switch(b,"showLineNum","Show Line Numbers").separator()}},{key:"_render",value:function(){switch(this._isInit=!0,this._data.type){case"html":case"js":case"css":return this._renderCode();case"img":return this._renderImg();case"object":return this._renderObj();case"raw":return this._renderRaw();case"iframe":return this._renderIframe()}}},{key:"_renderImg",value:function(){var _=this._data.val,b=_.width,C=_.height,H=_.src;this._renderHtml('<div class="'.concat(Q("image"),`">
      <div class="`).concat(Q("breadcrumb"),'">').concat(Ee()(H),`</div>
      <div class="`).concat(Q("img-container"),`" data-exclude="true">
        <img src="`).concat(Ee()(H),`">
      </div>
      <div class="`).concat(Q("img-info"),'">').concat(Ee()(b)," × ").concat(Ee()(C),`</div>
    </div>`))}},{key:"_renderCode",value:function(){var _=this._data;this._renderHtml('<div class="'.concat(Q("code"),'" data-type="').concat(_.type,'"></div>'),!1);var b=_.val,C=_.val.length;C>pr&&(b=ur()(b,pr)),C<ja?(b=Yn()(b,_.type,{comment:"",string:"",number:"",keyword:"",operator:""}),L()(["comment","string","number","keyword","operator"],function(V){b=La()(b,'class="'.concat(V,'"'),'class="'.concat(Q(V),'"'))})):b=Ee()(b);var H=this._$el.find(Q(".code")).get(0);new Fi.Z(H,{text:b,escape:!1,wrapLongLines:!0,showLineNumbers:_.val.length<Ni&&this._showLineNum})}},{key:"_renderObj",value:function(){this._renderHtml('<ul class="'.concat(Q("json"),'"></ul>'),!1);var _=this._data.val;try{T()(_)&&(_=JSON.parse(_))}catch{}new Fa.Z(this._$el.find(".eruda-json").get(0),{unenumerable:!0,accessGetter:!0}).set(_)}},{key:"_renderRaw",value:function(){var _=this._data;this._renderHtml('<div class="'.concat(Q("raw-wrapper"),`">
      <div class="`).concat(Q("raw"),`"></div>
    </div>`));var b=_.val,C=this._$el.find(Q(".raw")).get(0);b.length>pr&&(b=ur()(b,pr)),new Fi.Z(C,{text:b,wrapLongLines:!0,showLineNumbers:b.length<Ni&&this._showLineNum})}},{key:"_renderIframe",value:function(){this._renderHtml('<iframe src="'.concat(Ee()(this._data.val),'"></iframe>'))}},{key:"_renderHtml",value:function(_){var b=this,C=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];C&&_===this._lastHtml||(this._lastHtml=_,this._$el.html(_),setTimeout(function(){return b._$el.get(0).scrollTop=0},0))}}]),I}(y),ja=3e4,Ni=8e4,pr=1e5,za={init:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=F.container,I=F.tool,_=F.autoScale,b=_===void 0||_,C=F.useShadowDom,H=C===void 0||C,V=F.defaults,ct=V===void 0?{}:V;this._isInit||(this._isInit=!0,this._scale=1,this._initContainer(O,H),this._initStyle(),this._initDevTools(ct),this._initEntryBtn(),this._initSettings(),this._initTools(I),this._registerListener(),b&&this._autoScale())},_isInit:!1,version:"2.11.2",util:r,chobitsu:Ge,Tool:y,Console:Qs,Elements:ba,Network:ca,Sources:Ga,Resources:Ra,Info:Oa,Snippets:Sa,Settings:it,get:function(F){if(this._checkInit()){if(F==="entryBtn")return this._entryBtn;var O=this._devTools;return F?O.get(F):O}},add:function(F){if(this._checkInit())return He()(F)&&(F=F(this)),this._devTools.add(F),this},remove:function(F){return this._devTools.remove(F),this},show:function(F){if(this._checkInit()){var O=this._devTools;return F?O.showTool(F):O.show(),this}},hide:function(){if(this._checkInit())return this._devTools.hide(),this},destroy:function(){this._devTools.destroy(),delete this._devTools,this._entryBtn.destroy(),delete this._entryBtn,this._unregisterListener(),x()(this._container).remove(),ht.clear(),this._isInit=!1,this._container=null,this._shadowRoot=null},scale:function(F){return vn()(F)?(this._scale=F,f.emit(f.SCALE,F),this):this._scale},position:function(F){var O=this._entryBtn;return Nn()(F)?(O.setPos(F),this):O.getPos()},_autoScale:function(){bn()()&&this.scale(1/pi()())},_registerListener:function(){var F=this;this._addListener=function(){return F.add.apply(F,arguments)},this._showListener=function(){return F.show.apply(F,arguments)},f.on(f.ADD,this._addListener),f.on(f.SHOW,this._showListener),f.on(f.SCALE,ht.setScale)},_unregisterListener:function(){f.off(f.ADD,this._addListener),f.off(f.SHOW,this._showListener),f.off(f.SCALE,ht.setScale)},_checkInit:function(){return this._isInit||Gn.error('Please call "eruda.init()" first'),this._isInit},_initContainer:function(F,O){var I,_;F||(F=document.createElement("div"),document.documentElement.appendChild(F)),F.id="eruda",F.style.all="initial",this._container=F,O&&(F.attachShadow?I=F.attachShadow({mode:"open"}):F.createShadowRoot&&(I=F.createShadowRoot()),I&&(ht.container=document.head,ht(t(5357)+t(9327)+t(4821)+t(8903)+t(5777)),_=document.createElement("div"),I.appendChild(_),this._shadowRoot=I)),this._shadowRoot||(_=document.createElement("div"),F.appendChild(_)),At()(_,{className:"eruda-container __chobitsu-hide__",contentEditable:!1}),Mn()().name==="ios"&&_.setAttribute("ontouchstart",""),this._$el=x()(_)},_initDevTools:function(F){this._devTools=new Ys(this._$el,{defaults:F})},_initStyle:function(){var F="eruda-style-container",O=this._$el;this._shadowRoot?(ht.container=this._shadowRoot,ht(":host { all: initial }")):(O.append('<div class="'.concat(F,'"></div>')),ht.container=O.find(".".concat(F)).get(0)),ht(t(8020)+t(4821)+t(9327)+t(7591)+t(4987)+t(8903)+t(5512)+t(2156)+t(5777)+t(9819)+t(8516)+t(5357))},_initEntryBtn:function(){var F=this;this._entryBtn=new Ns(this._$el),this._entryBtn.on("click",function(){return F._devTools.toggle()})},_initSettings:function(){var F=this._devTools,O=new it;F.add(O),this._entryBtn.initCfg(O),F.initCfg(O)},_initTools:function(){var F=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["console","elements","network","resources","sources","info","snippets"];O=sr()(O);var I=this._devTools;O.forEach(function(_){var b=F[Xn()(_)];try{b&&I.add(new b)}catch(C){at()(function(){Gn.error("Something wrong when initializing tool ".concat(_,":"),C.message)})}}),I.showTool(O[0]||"settings")}}},2027:function(n,e,t){var r=t(6672).Z;n.exports=r,n.exports.default=r},6610:function(n,e,t){t.r(e),e.default={}},9143:function(n,e,t){var r=this&&this.__awaiter||function(p,f,m,g){return new(m||(m=Promise))(function(v,y){function A(E){try{S(g.next(E))}catch(w){y(w)}}function x(E){try{S(g.throw(E))}catch(w){y(w)}}function S(E){var w;E.done?v(E.value):(w=E.value,w instanceof m?w:new m(function(k){k(w)})).then(A,x)}S((g=g.apply(p,f||[])).next())})},i=this&&this.__generator||function(p,f){var m,g,v,y,A={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return y={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function x(S){return function(E){return function(w){if(m)throw new TypeError("Generator is already executing.");for(;A;)try{if(m=1,g&&(v=2&w[0]?g.return:w[0]?g.throw||((v=g.return)&&v.call(g),0):g.next)&&!(v=v.call(g,w[1])).done)return v;switch(g=0,v&&(w=[2&w[0],v.value]),w[0]){case 0:case 1:v=w;break;case 4:return A.label++,{value:w[1],done:!1};case 5:A.label++,g=w[1],w=[0];continue;case 7:w=A.ops.pop(),A.trys.pop();continue;default:if(v=A.trys,!((v=v.length>0&&v[v.length-1])||w[0]!==6&&w[0]!==2)){A=0;continue}if(w[0]===3&&(!v||w[1]>v[0]&&w[1]<v[3])){A.label=w[1];break}if(w[0]===6&&A.label<v[1]){A.label=v[1],v=w;break}if(v&&A.label<v[2]){A.label=v[2],A.ops.push(w);break}v[2]&&A.ops.pop(),A.trys.pop();continue}w=f.call(p,A)}catch(k){w=[6,k],g=0}finally{m=v=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([S,E])}}},o=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(3276)),a=o(t(1214)),c=o(t(5936)),l=o(t(3783)),u=o(t(1443)),h=t(316),d=function(){function p(){var f=this;this.resolves=new Map,this.domains=new Map,this.onMessage=a.default,s.default.on("message",function(m){var g=JSON.parse(m),v=f.resolves.get(g.id);if(v&&v(g.result),!g.id){var y=g.method.split("."),A=y[0],x=y[1],S=f.domains.get(A);S&&S.emit(x,g.params)}f.onMessage(m)})}return p.prototype.domain=function(f){return this.domains.get(f)},p.prototype.setOnMessage=function(f){this.onMessage=f},p.prototype.sendMessage=function(f,m){var g=this;m===void 0&&(m={});var v=c.default();return this.sendRawMessage(JSON.stringify({id:v,method:f,params:m})),new Promise(function(y){g.resolves.set(v,y)})},p.prototype.sendRawMessage=function(f){return r(this,void 0,void 0,function(){var m,g,v,y,A,x,S;return i(this,function(E){switch(E.label){case 0:m=JSON.parse(f),g=m.method,v=m.params,y=m.id,A={id:y},E.label=1;case 1:return E.trys.push([1,3,,4]),x=A,[4,this.callMethod(g,v)];case 2:return x.result=E.sent(),[3,4];case 3:return(S=E.sent())instanceof h.ErrorWithCode?A.error={message:S.message,code:S.code}:S instanceof Error&&(A.error={message:S.message}),[3,4];case 4:return s.default.emit("message",JSON.stringify(A)),[2]}})})},p.prototype.register=function(f,m){var g=this.domains,v=g.get(f);v||(v={},u.default.mixin(v)),l.default(m,function(y,A){v[A]=y}),g.set(f,v)},p.prototype.callMethod=function(f,m){return r(this,void 0,void 0,function(){var g,v,y,A;return i(this,function(x){if(g=f.split("."),v=g[0],y=g[1],(A=this.domain(v))&&A[y])return[2,A[y](m)||{}];throw Error(f+" unimplemented")})})},p}();e.default=d},7935:function(n,e,t){var r=this&&this.__createBinding||(Object.create?function(T,P,U,N){N===void 0&&(N=U),Object.defineProperty(T,N,{enumerable:!0,get:function(){return P[U]}})}:function(T,P,U,N){N===void 0&&(N=U),T[N]=P[U]}),i=this&&this.__setModuleDefault||(Object.create?function(T,P){Object.defineProperty(T,"default",{enumerable:!0,value:P})}:function(T,P){T.default=P}),o=this&&this.__importStar||function(T){if(T&&T.__esModule)return T;var P={};if(T!=null)for(var U in T)U!=="default"&&Object.hasOwnProperty.call(T,U)&&r(P,T,U);return i(P,T),P},s=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(e,"__esModule",{value:!0}),e.getDOMNode=e.getDOMNodeId=e.setOuterHTML=e.setNodeValue=e.setInspectedNode=e.setAttributeValue=e.setAttributesAsText=e.resolveNode=e.requestNode=e.requestChildNodes=e.removeNode=e.pushNodesByBackendIdsToFrontend=e.discardSearchResults=e.pushNodesToFrontend=e.getSearchResults=e.performSearch=e.moveTo=e.getOuterHTML=e.getDocument=e.enable=e.copyTo=e.collectClassNamesFromSubtree=void 0;var a=s(t(3276)),c=o(t(2049)),l=t(2049),u=o(t(7923)),h=s(t(6126)),d=s(t(1512)),p=s(t(6156)),f=s(t(8887)),m=s(t(7483)),g=s(t(2461)),v=s(t(42)),y=s(t(6341)),A=s(t(3063)),x=s(t(3783)),S=s(t(1352)),E=s(t(8933)),w=s(t(8099)),k=t(1628),Z=t(316);e.collectClassNamesFromSubtree=function(T){var P=l.getNode(T.nodeId),U=[];return M(P,function(N){if(N.nodeType===1){var $=N.getAttribute("class");if($)for(var D=0,z=$.split(/\s+/);D<z.length;D++){var Y=z[D];U.push(Y)}}}),{classNames:v.default(U)}},e.copyTo=function(T){var P=T.nodeId,U=T.targetNodeId,N=l.getNode(P),$=l.getNode(U),D=N.cloneNode(!0);$.appendChild(D)},e.enable=function(){h.default.observe(),c.clear()},e.getDocument=function(){return{root:c.wrap(document,{depth:2})}},e.getOuterHTML=function(T){return{outerHTML:l.getNode(T.nodeId).outerHTML}},e.moveTo=function(T){var P=T.nodeId,U=T.targetNodeId,N=l.getNode(P);l.getNode(U).appendChild(N)};var L=new Map;function G(T){for(var P=[T],U=T.parentNode;U&&(P.push(U),!($=l.getNodeId(U)));)U=U.parentNode;for(;P.length;){var N=P.pop(),$=l.getNodeId(N);a.default.trigger("DOM.setChildNodes",{parentId:$,nodes:c.getChildNodes(N,1)})}return l.getNodeId(T)}e.performSearch=function(T){var P=A.default(T.query),U=[];try{U=w.default(U,S.default(document.querySelectorAll(P)))}catch{}try{U=w.default(U,E.default(P))}catch{}M(document,function($){var D=$.nodeType;if(D===1){var z=$.localName;if(y.default("<"+z+" ",P)||y.default("</"+z+">",P))return void U.push($);var Y=[];x.default($.attributes,function(st){var tt=st.name,nt=st.value;return Y.push(tt,nt)});for(var rt=0,ot=Y.length;rt<ot;rt++)if(y.default(A.default(Y[rt]),P)){U.push($);break}}else D===3&&y.default(A.default($.nodeValue),P)&&U.push($)});var N=Z.createId();return L.set(N,U),{searchId:N,resultCount:U.length}},e.getSearchResults=function(T){var P=T.searchId,U=T.fromIndex,N=T.toIndex,$=L.get(P).slice(U,N);return{nodeIds:g.default($,function(D){var z=l.getNodeId(D);return z||G(D)})}},e.pushNodesToFrontend=G,e.discardSearchResults=function(T){L.delete(T.searchId)},e.pushNodesByBackendIdsToFrontend=function(T){return{nodeIds:T.backendNodeIds}},e.removeNode=function(T){var P=l.getNode(T.nodeId);d.default(P).remove()},e.requestChildNodes=function(T){var P=T.nodeId,U=T.depth,N=U===void 0?1:U,$=l.getNode(P);a.default.trigger("DOM.setChildNodes",{parentId:P,nodes:c.getChildNodes($,N)})},e.requestNode=function(T){var P=u.getObj(T.objectId);return{nodeId:l.getNodeId(P)}},e.resolveNode=function(T){var P=l.getNode(T.nodeId);return{object:u.wrap(P)}},e.setAttributesAsText=function(T){var P,U=T.name,N=T.text,$=T.nodeId,D=l.getNode($);U&&D.removeAttribute(U),d.default(D).attr((P="<div "+(P=N)+"></div>",m.default.parse(P)[0].attrs))},e.setAttributeValue=function(T){var P=T.nodeId,U=T.name,N=T.value;l.getNode(P).setAttribute(U,N)};var j=[];function M(T,P){for(var U=c.filterNodes(T.childNodes),N=0,$=U.length;N<$;N++){var D=U[N];P(D),M(D,P)}}e.setInspectedNode=function(T){var P=l.getNode(T.nodeId);j.unshift(P),j.length>5&&j.pop();for(var U=0;U<5;U++)k.setGlobal("$"+U,j[U])},e.setNodeValue=function(T){var P=T.nodeId,U=T.value;l.getNode(P).nodeValue=U},e.setOuterHTML=function(T){var P=T.nodeId,U=T.outerHTML;l.getNode(P).outerHTML=U},e.getDOMNodeId=function(T){var P=T.node;return{nodeId:c.getOrCreateNodeId(P)}},e.getDOMNode=function(T){var P=T.nodeId;return{node:l.getNode(P)}},h.default.on("attributes",function(T,P){var U=l.getNodeId(T);if(U){var N=T.getAttribute(P);p.default(N)?a.default.trigger("DOM.attributeRemoved",{nodeId:U,name:P}):a.default.trigger("DOM.attributeModified",{nodeId:U,name:P,value:N})}}),h.default.on("childList",function(T,P,U){var N=l.getNodeId(T);if(N){if(P=c.filterNodes(P),U=c.filterNodes(U),!f.default(P)){st();for(var $=0,D=P.length;$<D;$++){var z=P[$],Y=c.getPreviousNode(z),rt=Y?l.getNodeId(Y):0,ot={node:c.wrap(z,{depth:0}),parentNodeId:N,previousNodeId:rt};a.default.trigger("DOM.childNodeInserted",ot)}}if(!f.default(U))for($=0,D=U.length;$<D;$++){if(z=U[$],!l.getNodeId(z)){st();break}a.default.trigger("DOM.childNodeRemoved",{nodeId:l.getNodeId(z),parentNodeId:N})}}function st(){a.default.trigger("DOM.childNodeCountUpdated",{childNodeCount:c.wrap(T,{depth:0}).childNodeCount,nodeId:N})}}),h.default.on("characterData",function(T){var P=l.getNodeId(T);P&&a.default.trigger("DOM.characterDataModified",{characterData:T.nodeValue,nodeId:P})})},2139:function(n,e,t){var r=this&&this.__spreadArrays||function(){for(var g=0,v=0,y=arguments.length;v<y;v++)g+=arguments[v].length;var A=Array(g),x=0;for(v=0;v<y;v++)for(var S=arguments[v],E=0,w=S.length;E<w;E++,x++)A[x]=S[E];return A},i=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0}),e.getResponseBody=e.enable=e.getCookies=e.deleteCookies=void 0;var o=i(t(4331)),s=i(t(3783)),a=i(t(1420)),c=i(t(5031)),l=i(t(8763)),u=i(t(8740)),h=i(t(6341)),d=t(2636),p=i(t(3276));e.deleteCookies=function(g){c.default(g.name)},e.getCookies=function(){var g=[],v=document.cookie;return o.default(v)!==""&&s.default(v.split(";"),function(y){y=y.split("=");var A=o.default(y.shift());y=a.default(y.join("=")),g.push({name:A,value:y})}),{cookies:g}};var f=new Map;function m(g){return!h.default(g,"__chobitsu-hide__=true")}e.enable=l.default(function(){var g=window.XMLHttpRequest.prototype,v=g.send,y=g.open,A=g.setRequestHeader;g.open=function(E,w){if(!m(w))return y.apply(this,arguments);var k=this,Z=k.chobitsuRequest=new d.XhrRequest(k,E,w);Z.on("send",function(L,G){var j={method:G.method,url:G.url,headers:G.reqHeaders};G.data&&(j.postData=G.data),p.default.trigger("Network.requestWillBeSent",{requestId:L,type:"XHR",request:j,timestamp:G.time/1e3})}),Z.on("headersReceived",function(L,G){p.default.trigger("Network.responseReceivedExtraInfo",{requestId:L,blockedCookies:[],headers:G.resHeaders})}),Z.on("done",function(L,G){p.default.trigger("Network.responseReceived",{requestId:L,type:"XHR",response:{status:G.status},timestamp:G.time/1e3}),f.set(L,G.resTxt),p.default.trigger("Network.loadingFinished",{requestId:L,encodedDataLength:G.size,timestamp:G.time/1e3})}),k.addEventListener("readystatechange",function(){switch(k.readyState){case 2:return Z.handleHeadersReceived();case 4:return Z.handleDone()}}),y.apply(this,arguments)},g.send=function(E){var w=this.chobitsuRequest;w&&w.handleSend(E),v.apply(this,arguments)},g.setRequestHeader=function(E,w){var k=this.chobitsuRequest;k&&k.handleReqHeadersSet(E,w),A.apply(this,arguments)};var x=!1;if(window.fetch&&(x=u.default(window.fetch)),!x&&navigator.serviceWorker&&(x=!0),x){var S=window.fetch;window.fetch=function(){for(var E=[],w=0;w<arguments.length;w++)E[w]=arguments[w];var k=new(d.FetchRequest.bind.apply(d.FetchRequest,r([void 0],E)));k.on("send",function(L,G){var j={method:G.method,url:G.url,headers:G.reqHeaders};G.data&&(j.postData=G.data),p.default.trigger("Network.requestWillBeSent",{requestId:L,type:"Fetch",request:j,timestamp:G.time/1e3})}),k.on("done",function(L,G){p.default.trigger("Network.responseReceived",{requestId:L,type:"Fetch",response:{status:G.status,headers:G.resHeaders},timestamp:G.time/1e3}),f.set(L,G.resTxt),p.default.trigger("Network.loadingFinished",{requestId:L,encodedDataLength:G.size,timestamp:G.time/1e3})});var Z=S.apply(void 0,E);return k.send(Z),Z}}}),e.getResponseBody=function(g){return{base64Encoded:!1,body:f.get(g.requestId)}}},8689:function(n,e,t){var r=this&&this.__createBinding||(Object.create?function(tt,nt,Tt,At){At===void 0&&(At=Tt),Object.defineProperty(tt,At,{enumerable:!0,get:function(){return nt[Tt]}})}:function(tt,nt,Tt,At){At===void 0&&(At=Tt),tt[At]=nt[Tt]}),i=this&&this.__setModuleDefault||(Object.create?function(tt,nt){Object.defineProperty(tt,"default",{enumerable:!0,value:nt})}:function(tt,nt){tt.default=nt}),o=this&&this.__importStar||function(tt){if(tt&&tt.__esModule)return tt;var nt={};if(tt!=null)for(var Tt in tt)Tt!=="default"&&Object.hasOwnProperty.call(tt,Tt)&&r(nt,tt,Tt);return i(nt,tt),nt},s=this&&this.__importDefault||function(tt){return tt&&tt.__esModule?tt:{default:tt}};Object.defineProperty(e,"__esModule",{value:!0}),e.setInspectMode=e.setShowViewportSizeOnResize=e.hideHighlight=e.highlightNode=e.disable=e.enable=void 0;var a,c,l=t(2049),u=t(7935),h=s(t(1512)),d=s(t(8613)),p=s(t(642)),f=s(t(4193)),m=s(t(6329)),g=s(t(3276)),v=s(t(5610)),y=s(t(3474)),A=s(t(4210)),x=s(t(7715)),S=o(t(7923)),E=!1,w=!1,k=A.default("clip-path","polygon(50% 0px, 0px 100%, 100% 100%)"),Z="ontouchstart"in v.default,L=t(2777).replace("/*# sourceMappingURL=luna-dom-highlighter.css.map*/","");function G(tt){var nt,Tt=tt.nodeId,At=tt.highlightConfig,Gt=tt.objectId;Tt&&(nt=l.getNode(Tt)),Gt&&(nt=S.getObj(Gt)),nt.nodeType!==1&&nt.nodeType!==3||(f.default(At,{contentColor:"transparent",paddingColor:"transparent",borderColor:"transparent",marginColor:"transparent"}),k||m.default(At,{showInfo:!1}),a.highlight(nt,At))}function j(){a.hide()}e.enable=function(){if(!w){var tt=d.default("div",{class:"__chobitsu-hide__",style:{all:"initial"}});c=h.default(tt),document.documentElement.appendChild(tt);var nt=null,Tt=null;if(tt.attachShadow?Tt=tt.attachShadow({mode:"open"}):tt.createShadowRoot&&(Tt=tt.createShadowRoot()),Tt){var At=document.createElement("style");At.textContent=L,At.type="text/css",Tt.appendChild(At),nt=document.createElement("div"),Tt.appendChild(nt)}else nt=document.createElement("div"),tt.appendChild(nt),E||(p.default(L),E=!0);a=new x.default(nt,{monitorResize:y.default(v.default.ResizeObserver),showInfo:k}),window.addEventListener("resize",rt),w=!0}},e.disable=function(){a.destroy(),c.remove(),window.removeEventListener("resize",rt),w=!1},e.highlightNode=G,e.hideHighlight=j;var M=!1;e.setShowViewportSizeOnResize=function(tt){M=tt.show};var T={},P="none";function U(tt){if(Z){var nt=tt.touches[0]||tt.changedTouches[0];return document.elementFromPoint(nt.clientX,nt.clientY)}return document.elementFromPoint(tt.clientX,tt.clientY)}e.setInspectMode=function(tt){T=tt.highlightConfig,P=tt.mode};var N=-1;function $(tt){if(P!=="none"){var nt=U(tt);if(nt&&l.isValidNode(nt)){var Tt=l.getNodeId(nt);Tt||(Tt=u.pushNodesToFrontend(nt)),G({nodeId:Tt,highlightConfig:T}),Tt!==N&&(g.default.trigger("Overlay.nodeHighlightRequested",{nodeId:Tt}),N=Tt)}}}function D(tt){if(P!=="none"){tt.preventDefault(),tt.stopImmediatePropagation();var nt=U(tt);g.default.trigger("Overlay.inspectNodeRequested",{backendNodeId:l.getNodeId(nt)}),N=-1,j()}}function z(tt,nt){document.documentElement.addEventListener(tt,nt,!0)}Z?(z("touchstart",$),z("touchmove",$),z("touchend",D)):(z("mousemove",$),z("mouseout",function(){P!=="none"&&j()}),z("click",D));var Y=d.default("div",{class:"__chobitsu-hide__",style:{position:"fixed",right:0,top:0,background:"#fff",fontSize:13,opacity:.5,padding:"4px 6px"}});function rt(){M&&(st.text(window.innerWidth+"px × "+window.innerHeight+"px"),ot?clearTimeout(ot):document.documentElement.appendChild(Y),ot=setTimeout(function(){st.remove(),ot=null},1e3))}var ot,st=h.default(Y)},9119:function(n,e,t){var r=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.getTrustTokens=e.clearDataForOrigin=e.getUsageAndQuota=void 0;var i=r(t(3783)),o=r(t(5031)),s=r(t(615)),a=t(2139),c=s.default("local"),l=s.default("session");e.getUsageAndQuota=function(){return{quota:0,usage:0,usageBreakdown:[]}},e.clearDataForOrigin=function(u){var h=u.storageTypes.split(",");i.default(h,function(d){if(d==="cookies"){var p=a.getCookies().cookies;i.default(p,function(f){var m=f.name;return o.default(m)})}else d==="local_storage"&&(c.clear(),l.clear())})},e.getTrustTokens=function(){return{tokens:[]}}},3276:function(n,e,t){var r,i=this&&this.__extends||(r=function(a,c){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var h in u)u.hasOwnProperty(h)&&(l[h]=u[h])},r(a,c)},function(a,c){function l(){this.constructor=a}r(a,c),a.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}),o=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var s=function(a){function c(){return a!==null&&a.apply(this,arguments)||this}return i(c,a),c.prototype.trigger=function(l,u){this.emit("message",JSON.stringify({method:l,params:u}))},c}(o(t(1443)).default);e.default=new s},1628:function(n,e,t){var r=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.setGlobal=void 0;var i=r(t(6768)),o=r(t(2327)),s=r(t(1352)),a=r(t(2533)),c=r(t(8933)),l=r(t(3783)),u={copy:function(h){i.default(h)||(h=JSON.stringify(h,null,2)),o.default(h)},$:function(h){return document.querySelector(h)},$$:function(h){return s.default(document.querySelectorAll(h))},$x:function(h){return c.default(h)},keys:a.default};e.setGlobal=function(h,d){u[h]=d},e.default=function(h){var d;l.default(u,function(p,f){window[f]||(window[f]=p)});try{d=eval.call(window,"("+h+")")}catch{d=eval.call(window,h)}return l.default(u,function(p,f){window[f]&&window[f]===p&&delete window[f]}),d}},6126:function(n,e,t){var r,i=this&&this.__extends||(r=function(l,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var p in d)d.hasOwnProperty(p)&&(h[p]=d[p])},r(l,u)},function(l,u){function h(){this.constructor=l}r(l,u),l.prototype=u===null?Object.create(u):(h.prototype=u.prototype,new h)}),o=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(1443)),a=o(t(3783)),c=function(l){function u(){var h=l.call(this)||this;return h.observer=new MutationObserver(function(d){a.default(d,function(p){return h.handleMutation(p)})}),h}return i(u,l),u.prototype.observe=function(){var h=this.observer;h.disconnect(),h.observe(document.documentElement,{attributes:!0,childList:!0,characterData:!0,subtree:!0})},u.prototype.handleMutation=function(h){h.type==="attributes"?this.emit("attributes",h.target,h.attributeName):h.type==="childList"?this.emit("childList",h.target,h.addedNodes,h.removedNodes):h.type==="characterData"&&this.emit("characterData",h.target)},u}(s.default);e.default=new c},2049:function(n,e,t){var r=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(e,"__esModule",{value:!0}),e.getNode=e.isValidNode=e.filterNodes=e.getPreviousNode=e.getChildNodes=e.wrap=e.getNodeId=e.clear=e.getOrCreateNodeId=void 0;var i=r(t(2461)),o=r(t(5972)),s=r(t(3783)),a=r(t(4331)),c=r(t(6341)),l=r(t(6329)),u=t(316),h=new Map,d=new Map,p=1;function f(A){var x=d.get(A);return x||(x=p++,d.set(A,x),h.set(x,A),x)}function m(A,x){var S=(x===void 0?{}:x).depth,E=S===void 0?1:S,w=f(A),k={nodeName:A.nodeName,nodeType:A.nodeType,localName:A.localName||"",nodeValue:A.nodeValue||"",nodeId:w,backendNodeId:w};if(A.parentNode&&(k.parentId=f(A.parentNode)),A.nodeType===10)return l.default(k,{publicId:"",systemId:""});if(A.attributes){var Z=[];s.default(A.attributes,function(j){var M=j.name,T=j.value;return Z.push(M,T)}),k.attributes=Z}var L=v(A.childNodes);k.childNodeCount=L.length;var G=k.childNodeCount===1&&L[0].nodeType===3;return(E>0||G)&&(k.children=g(A,E)),k}function g(A,x){var S=v(A.childNodes);return i.default(S,function(E){return m(E,{depth:x-1})})}function v(A){return o.default(A,function(x){return y(x)})}function y(A){if(A.nodeType===1){var x=A.getAttribute("class")||"";if(c.default(x,"__chobitsu-hide__")||c.default(x,"html2canvas-container"))return!1}var S=!(A.nodeType===3&&a.default(A.nodeValue||"")==="");return S&&A.parentNode?y(A.parentNode):S}e.getOrCreateNodeId=f,e.clear=function(){h.clear(),d.clear()},e.getNodeId=function(A){return d.get(A)},e.wrap=m,e.getChildNodes=g,e.getPreviousNode=function(A){var x=A.previousSibling;if(x){for(;!y(x)&&x.previousSibling;)x=x.previousSibling;return x&&y(x)?x:void 0}},e.filterNodes=v,e.isValidNode=y,e.getNode=function(A){var x=h.get(A);if(!x||x.nodeType===10)throw u.createErr(-32e3,"Could not find node with given id");return x}},7923:function(n,e,t){var r=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(e,"__esModule",{value:!0}),e.getProperties=e.releaseObj=e.getObj=e.wrap=e.clear=void 0;var i=r(t(3367)),o=r(t(6156)),s=r(t(6472)),a=r(t(4777)),c=r(t(9833)),l=r(t(2749)),u=r(t(3708)),h=r(t(7470)),d=r(t(1754)),p=r(t(3085)),f=r(t(2533)),m=r(t(300)),g=r(t(1116)),v=r(t(8740)),y=r(t(415)),A=r(t(9804)),x=r(t(6257)),S=new Map,E=new Map,w=new Map,k=new Map,Z=1;function L(D,z){var Y=E.get(D);return Y||(Y=JSON.stringify({injectedScriptId:0,id:Z++}),E.set(D,Y),S.set(Y,D),w.set(Y,z),Y)}function G(D,z){var Y=z===void 0?{}:z,rt=Y.generatePreview,ot=rt!==void 0&&rt,st=Y.self,tt=st===void 0?D:st,nt=U(D),Tt=nt.type,At=nt.subtype;return Tt==="undefined"?nt:Tt==="string"||Tt==="boolean"||At==="null"?(nt.value=D,nt):(nt.description=P(D,tt),Tt==="number"?(nt.value=D,nt):Tt==="symbol"?(nt.objectId=L(D,tt),nt):(nt.className=Tt==="function"?"Function":At==="array"?"Array":At==="map"?"Map":At==="set"?"Set":At==="regexp"?"RegExp":At==="error"?D.name:p.default(D,!1),ot&&(nt.preview=M(D,tt)),nt.objectId=L(D,tt),nt))}function j(D){return S.get(D)}e.clear=function(){S.clear(),E.clear(),w.clear()},e.wrap=G,e.getObj=j,e.releaseObj=function(D){var z=j(D);E.delete(z),w.delete(D),S.delete(D)},e.getProperties=function(D){for(var z=D.accessorPropertiesOnly,Y=D.objectId,rt=D.ownProperties,ot=D.generatePreview,st=[],tt={prototype:!rt,unenumerable:!0,symbol:!z},nt=S.get(Y),Tt=w.get(Y),At=g.default(nt,tt),Gt=y.default(nt),Nt=0,jt=At.length;Nt<jt;Nt++){var kt=At[Nt],Dt=void 0;try{Dt=Tt[kt]}catch{}var Ct={name:i.default(kt),isOwn:x.default(Tt,kt)},q=Object.getOwnPropertyDescriptor(nt,kt);if(!q&&Gt&&(q=Object.getOwnPropertyDescriptor(Gt,kt)),q){if(z&&!q.get&&!q.set)continue;Ct.configurable=q.configurable,Ct.enumerable=q.enumerable,Ct.writable=q.writable,q.get&&(Ct.get=G(q.get)),q.set&&(Ct.set=G(q.set))}Gt&&x.default(Gt,kt)&&Ct.enumerable&&(Ct.isOwn=!0);var ft=!0;!Ct.isOwn&&Ct.get&&(ft=!1),ft&&(A.default(kt)?(Ct.symbol=G(kt),Ct.value={type:"undefined"}):Ct.value=G(Dt,{generatePreview:ot})),z&&a.default(Dt)&&v.default(Dt)||st.push(Ct)}if(!Gt||rt||$(nt)||st.push({name:"__proto__",configurable:!0,enumerable:!1,isOwn:x.default(nt,"__proto__"),value:G(Gt,{self:Tt}),writable:!1}),z)return{result:st};var yt=[];if(Gt&&!$(nt)&&yt.push({name:"[[Prototype]]",value:G(Gt,{self:Tt})}),u.default(nt)||h.default(nt)){var Lt=function(K){for(var mt=k.get(K),W=mt?j(mt):[],vt=K.entries(),ut=vt.next().value;ut;)u.default(K)?W.push(new N(ut[1],ut[0])):W.push(new N(ut[1])),ut=vt.next().value;return W}(nt);yt.push({name:"[[Entries]]",value:G(Lt)})}return{internalProperties:yt,result:st}};function M(D,z){z===void 0&&(z=D);var Y=U(D);Y.description=P(D,z);var rt=!1,ot=[],st=f.default(D),tt=st.length;tt>5&&(tt=5,rt=!0);for(var nt=0;nt<tt;nt++){var Tt=st[nt];ot.push(T(Tt,z[Tt]))}if(Y.properties=ot,u.default(D)){for(var At=[],Gt=(nt=0,D.keys()),Nt=Gt.next().value;Nt;){if(nt>5){rt=!0;break}At.push({key:M(Nt),value:M(D.get(Nt))}),nt++,Nt=Gt.next().value}Y.entries=At}else if(h.default(D)){var jt=[],kt=(nt=0,D.keys());for(Nt=kt.next().value;Nt;){if(nt>5){rt=!0;break}jt.push({value:M(Nt)}),nt++,Nt=kt.next().value}Y.entries=jt}return Y.overflow=rt,Y}function T(D,z){var Y=U(z);Y.name=D;var rt,ot=Y.subtype;return rt=Y.type==="object"?ot==="null"?"null":ot==="array"?"Array("+z.length+")":ot==="map"?"Map("+z.size+")":ot==="set"?"Set("+z.size+")":p.default(z,!1):i.default(z),Y.value=rt,Y}function P(D,z){z===void 0&&(z=D);var Y=U(D),rt=Y.type,ot=Y.subtype;return rt==="string"?D:rt==="number"||rt==="symbol"?i.default(D):rt==="function"?m.default(D):ot==="array"?"Array("+D.length+")":ot==="map"?"Map("+z.size+")":ot==="set"?"Set("+z.size+")":ot==="regexp"?i.default(D):ot==="error"?D.stack:ot==="internal#entry"?D.name?'{"'+i.default(D.name)+'" => "'+i.default(D.value)+'"}':'"'+i.default(D.value)+'"':p.default(D,!1)}function U(D){var z=typeof D,Y="object";if(D instanceof N)Y="internal#entry";else if(o.default(D))Y="null";else if(s.default(D))Y="array";else if(d.default(D))Y="regexp";else if(l.default(D))Y="error";else if(u.default(D))Y="map";else if(h.default(D))Y="set";else try{c.default(D)&&(Y="node")}catch{}return{type:z,subtype:Y}}var N=function(D,z){z&&(this.name=z),this.value=D};function $(D){return D instanceof N||!!(D[0]&&D[0]instanceof N)}},2636:function(n,e,t){var r,i=this&&this.__extends||(r=function(M,T){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,U){P.__proto__=U}||function(P,U){for(var N in U)U.hasOwnProperty(N)&&(P[N]=U[N])},r(M,T)},function(M,T){function P(){this.constructor=M}r(M,T),M.prototype=T===null?Object.create(T):(P.prototype=T.prototype,new P)}),o=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(e,"__esModule",{value:!0}),e.fullUrl=e.FetchRequest=e.XhrRequest=void 0;var s=o(t(1443)),a=o(t(6768)),c=o(t(9702)),l=o(t(6334)),u=o(t(8887)),h=o(t(4331)),d=o(t(8847)),p=o(t(3783)),f=o(t(6930)),m=o(t(3875)),g=t(316),v=function(M){function T(P,U,N){var $=M.call(this)||this;return $.xhr=P,$.reqHeaders={},$.method=U,$.url=k(N),$.id=g.createId(),$}return i(T,M),T.prototype.toJSON=function(){return{method:this.method,url:this.url,id:this.id}},T.prototype.handleSend=function(P){a.default(P)||(P=""),P={name:Z(this.url),url:this.url,data:P,time:d.default(),reqHeaders:this.reqHeaders,method:this.method},u.default(this.reqHeaders)||(P.reqHeaders=this.reqHeaders),this.emit("send",this.id,P)},T.prototype.handleReqHeadersSet=function(P,U){P&&U&&(this.reqHeaders[P]=U)},T.prototype.handleHeadersReceived=function(){var P=this.xhr,U=L(P.getResponseHeader("Content-Type")||"");this.emit("headersReceived",this.id,{type:U.type,subType:U.subType,size:E(P,!0,this.url),time:d.default(),resHeaders:S(P)})},T.prototype.handleDone=function(){var P,U,N,$=this,D=this.xhr,z=D.responseType,Y="",rt=function(){$.emit("done",$.id,{status:D.status,size:E(D,!1,$.url),time:d.default(),resTxt:Y})},ot=L(D.getResponseHeader("Content-Type")||"");z!=="blob"||ot.type!=="text"&&ot.subType!=="javascript"&&ot.subType!=="json"?(z!==""&&z!=="text"||(Y=D.responseText),z==="json"&&(Y=JSON.stringify(D.response)),rt()):(P=D.response,U=function(st,tt){tt&&(Y=tt),rt()},(N=new FileReader).onload=function(){U(null,N.result)},N.onerror=function(st){U(st)},N.readAsText(P))},T}(s.default);e.XhrRequest=v;var y=function(M){function T(P,U){U===void 0&&(U={});var N=M.call(this)||this;return P instanceof window.Request&&(P=P.url),N.url=k(P),N.id=g.createId(),N.options=U,N.reqHeaders=U.headers||{},N.method=U.method||"GET",N}return i(T,M),T.prototype.send=function(P){var U=this,N=this.options,$=a.default(N.body)?N.body:"";this.emit("send",this.id,{name:Z(this.url),url:this.url,data:$,reqHeaders:this.reqHeaders,time:d.default(),method:this.method}),P.then(function(D){var z=L((D=D.clone()).headers.get("Content-Type"));return D.text().then(function(Y){var rt={type:z.type,subType:z.subType,time:d.default(),size:A(D,Y),resTxt:Y,resHeaders:x(D),status:D.status};u.default(U.reqHeaders)||(rt.reqHeaders=U.reqHeaders),U.emit("done",U.id,rt)}),D})},T}(s.default);function A(M,T){var P=M.headers.get("Content-length");return P?m.default(P):j(T)}function x(M){var T={};return M.headers.forEach(function(P,U){return T[U]=P}),T}function S(M){var T=M.getAllResponseHeaders().split(`
`),P={};return p.default(T,function(U){if((U=h.default(U))!==""){var N=U.split(":",2),$=N[0],D=N[1];P[$]=h.default(D)}}),P}function E(M,T,P){var U=0;function N(){if(!T){var $=M.responseType,D="";$!==""&&$!=="text"||(D=M.responseText),D&&(U=j(D))}}if(function($){return!f.default($,G)}(P))N();else try{U=m.default(M.getResponseHeader("Content-Length"))}catch{N()}return U===0&&N(),U}e.FetchRequest=y;var w=document.createElement("a");function k(M){return w.href=M,w.protocol+"//"+w.host+w.pathname+w.search+w.hash}function Z(M){var T=c.default(M.split("/"));return T.indexOf("?")>-1&&(T=h.default(T.split("?")[0])),T===""&&(T=new l.default(M).hostname),T}function L(M){if(!M)return{type:"unknown",subType:"unknown"};var T=M.split(";")[0].split("/");return{type:T[0],subType:c.default(T)}}e.fullUrl=k;var G=window.location.origin;function j(M){var T=encodeURIComponent(M).match(/%[89ABab]/g);return M.length+(T?T.length:0)}},316:function(n,e,t){var r,i=this&&this.__extends||(r=function(y,A){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,S){x.__proto__=S}||function(x,S){for(var E in S)S.hasOwnProperty(E)&&(x[E]=S[E])},r(y,A)},function(y,A){function x(){this.constructor=y}r(y,A),y.prototype=A===null?Object.create(A):(x.prototype=A.prototype,new x)}),o=this&&this.__awaiter||function(y,A,x,S){return new(x||(x=Promise))(function(E,w){function k(G){try{L(S.next(G))}catch(j){w(j)}}function Z(G){try{L(S.throw(G))}catch(j){w(j)}}function L(G){var j;G.done?E(G.value):(j=G.value,j instanceof x?j:new x(function(M){M(j)})).then(k,Z)}L((S=S.apply(y,A||[])).next())})},s=this&&this.__generator||function(y,A){var x,S,E,w,k={label:0,sent:function(){if(1&E[0])throw E[1];return E[1]},trys:[],ops:[]};return w={next:Z(0),throw:Z(1),return:Z(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function Z(L){return function(G){return function(j){if(x)throw new TypeError("Generator is already executing.");for(;k;)try{if(x=1,S&&(E=2&j[0]?S.return:j[0]?S.throw||((E=S.return)&&E.call(S),0):S.next)&&!(E=E.call(S,j[1])).done)return E;switch(S=0,E&&(j=[2&j[0],E.value]),j[0]){case 0:case 1:E=j;break;case 4:return k.label++,{value:j[1],done:!1};case 5:k.label++,S=j[1],j=[0];continue;case 7:j=k.ops.pop(),k.trys.pop();continue;default:if(E=k.trys,!((E=E.length>0&&E[E.length-1])||j[0]!==6&&j[0]!==2)){k=0;continue}if(j[0]===3&&(!E||j[1]>E[0]&&j[1]<E[3])){k.label=j[1];break}if(j[0]===6&&k.label<E[1]){k.label=E[1],E=j;break}if(E&&k.label<E[2]){k.label=E[2],k.ops.push(j);break}E[2]&&k.ops.pop(),k.trys.pop();continue}j=A.call(y,k)}catch(M){j=[6,M],S=0}finally{x=E=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}([L,G])}}},a=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.getBase64Content=e.getTextContent=e.getOrigin=e.getUrl=e.createErr=e.ErrorWithCode=e.getAbsoluteUrl=e.createId=void 0;var c=a(t(5229)),l=a(t(1216)),u=a(t(6930)),h=a(t(6334)),d=a(t(1792)),p=a(t(6610)),f=l.default(1e3,9999)+".";e.createId=function(){return c.default(f)},e.getAbsoluteUrl=function(y){var A=document.createElement("a");return A.href=y,A.href};var m=function(y){function A(x,S){var E=this.constructor,w=y.call(this,S)||this;return w.code=x,Object.setPrototypeOf(w,E.prototype),w}return i(A,y),A}(Error);function g(y,A,x){return x===void 0&&(x=""),o(this,void 0,void 0,function(){var S;return s(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,8]),(S=new h.default(y)).setQuery("__chobitsu-hide__","true"),[4,p.default.get(S.toString(),{responseType:A})];case 1:return[2,E.sent().data];case 2:if(E.sent(),!x)return[3,7];E.label=3;case 3:return E.trys.push([3,6,,7]),[4,p.default.get(v(x,y),{responseType:A})];case 4:return[4,E.sent().data];case 5:return[2,E.sent()];case 6:return E.sent(),[3,7];case 7:return[3,8];case 8:return[2,A==="arraybuffer"?new ArrayBuffer(0):""]}})})}function v(y,A){var x=new h.default(y);return x.setQuery("url",A),x.setQuery("__chobitsu-hide__","true"),x.toString()}e.ErrorWithCode=m,e.createErr=function(y,A){return new m(y,A)},e.getUrl=function(){var y=location.href;return u.default(y,"about:")?parent.location.href:y},e.getOrigin=function(){var y=location.origin;return y==="null"?parent.location.origin:y},e.getTextContent=function(y,A){return A===void 0&&(A=""),o(this,void 0,void 0,function(){return s(this,function(x){switch(x.label){case 0:return[4,g(y,"text",A)];case 1:return[2,x.sent()]}})})},e.getBase64Content=function(y,A){return A===void 0&&(A=""),o(this,void 0,void 0,function(){var x;return s(this,function(S){switch(S.label){case 0:return x=d.default,[4,g(y,"arraybuffer",A)];case 1:return[2,x.apply(void 0,[S.sent(),"base64"])]}})})}},7633:function(n,e,t){t(9170),t(6992),t(1539),t(8674),t(7922),t(4668),t(7727),t(8783);var r=t(857);n.exports=r.Promise},9662:function(n,e,t){var r=t(614),i=t(6330),o=TypeError;n.exports=function(s){if(r(s))return s;throw o(i(s)+" is not a function")}},9483:function(n,e,t){var r=t(4411),i=t(6330),o=TypeError;n.exports=function(s){if(r(s))return s;throw o(i(s)+" is not a constructor")}},6077:function(n,e,t){var r=t(614),i=String,o=TypeError;n.exports=function(s){if(typeof s=="object"||r(s))return s;throw o("Can't set "+i(s)+" as a prototype")}},1223:function(n,e,t){var r=t(5112),i=t(30),o=t(3070).f,s=r("unscopables"),a=Array.prototype;a[s]==null&&o(a,s,{configurable:!0,value:i(null)}),n.exports=function(c){a[s][c]=!0}},5787:function(n,e,t){var r=t(7976),i=TypeError;n.exports=function(o,s){if(r(s,o))return o;throw i("Incorrect invocation")}},9670:function(n,e,t){var r=t(111),i=String,o=TypeError;n.exports=function(s){if(r(s))return s;throw o(i(s)+" is not an object")}},7556:function(n,e,t){var r=t(7293);n.exports=r(function(){if(typeof ArrayBuffer=="function"){var i=new ArrayBuffer(8);Object.isExtensible(i)&&Object.defineProperty(i,"a",{value:8})}})},1318:function(n,e,t){var r=t(5656),i=t(1400),o=t(6244),s=function(a){return function(c,l,u){var h,d=r(c),p=o(d),f=i(u,p);if(a&&l!=l){for(;p>f;)if((h=d[f++])!=h)return!0}else for(;p>f;f++)if((a||f in d)&&d[f]===l)return a||f||0;return!a&&-1}};n.exports={includes:s(!0),indexOf:s(!1)}},1589:function(n,e,t){var r=t(1400),i=t(6244),o=t(6135),s=Array,a=Math.max;n.exports=function(c,l,u){for(var h=i(c),d=r(l,h),p=r(u===void 0?h:u,h),f=s(a(p-d,0)),m=0;d<p;d++,m++)o(f,m,c[d]);return f.length=m,f}},206:function(n,e,t){var r=t(1702);n.exports=r([].slice)},7072:function(n,e,t){var r=t(5112)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,function(){throw 2})}catch{}n.exports=function(a,c){if(!c&&!i)return!1;var l=!1;try{var u={};u[r]=function(){return{next:function(){return{done:l=!0}}}},a(u)}catch{}return l}},4326:function(n,e,t){var r=t(1702),i=r({}.toString),o=r("".slice);n.exports=function(s){return o(i(s),8,-1)}},648:function(n,e,t){var r=t(1694),i=t(614),o=t(4326),s=t(5112)("toStringTag"),a=Object,c=o(function(){return arguments}())=="Arguments";n.exports=r?o:function(l){var u,h,d;return l===void 0?"Undefined":l===null?"Null":typeof(h=function(p,f){try{return p[f]}catch{}}(u=a(l),s))=="string"?h:c?o(u):(d=o(u))=="Object"&&i(u.callee)?"Arguments":d}},5631:function(n,e,t){var r=t(3070).f,i=t(30),o=t(9190),s=t(9974),a=t(5787),c=t(8554),l=t(408),u=t(1656),h=t(6178),d=t(6340),p=t(9781),f=t(2423).fastKey,m=t(9909),g=m.set,v=m.getterFor;n.exports={getConstructor:function(y,A,x,S){var E=y(function(G,j){a(G,w),g(G,{type:A,index:i(null),first:void 0,last:void 0,size:0}),p||(G.size=0),c(j)||l(j,G[S],{that:G,AS_ENTRIES:x})}),w=E.prototype,k=v(A),Z=function(G,j,M){var T,P,U=k(G),N=L(G,j);return N?N.value=M:(U.last=N={index:P=f(j,!0),key:j,value:M,previous:T=U.last,next:void 0,removed:!1},U.first||(U.first=N),T&&(T.next=N),p?U.size++:G.size++,P!=="F"&&(U.index[P]=N)),G},L=function(G,j){var M,T=k(G),P=f(j);if(P!=="F")return T.index[P];for(M=T.first;M;M=M.next)if(M.key==j)return M};return o(w,{clear:function(){for(var G=k(this),j=G.index,M=G.first;M;)M.removed=!0,M.previous&&(M.previous=M.previous.next=void 0),delete j[M.index],M=M.next;G.first=G.last=void 0,p?G.size=0:this.size=0},delete:function(G){var j=this,M=k(j),T=L(j,G);if(T){var P=T.next,U=T.previous;delete M.index[T.index],T.removed=!0,U&&(U.next=P),P&&(P.previous=U),M.first==T&&(M.first=P),M.last==T&&(M.last=U),p?M.size--:j.size--}return!!T},forEach:function(G){for(var j,M=k(this),T=s(G,arguments.length>1?arguments[1]:void 0);j=j?j.next:M.first;)for(T(j.value,j.key,this);j&&j.removed;)j=j.previous},has:function(G){return!!L(this,G)}}),o(w,x?{get:function(G){var j=L(this,G);return j&&j.value},set:function(G,j){return Z(this,G===0?0:G,j)}}:{add:function(G){return Z(this,G=G===0?0:G,G)}}),p&&r(w,"size",{get:function(){return k(this).size}}),E},setStrong:function(y,A,x){var S=A+" Iterator",E=v(A),w=v(S);u(y,A,function(k,Z){g(this,{type:S,target:k,state:E(k),kind:Z,last:void 0})},function(){for(var k=w(this),Z=k.kind,L=k.last;L&&L.removed;)L=L.previous;return k.target&&(k.last=L=L?L.next:k.state.first)?h(Z=="keys"?L.key:Z=="values"?L.value:[L.key,L.value],!1):(k.target=void 0,h(void 0,!0))},x?"entries":"values",!x,!0),d(A)}}},7710:function(n,e,t){var r=t(2109),i=t(7854),o=t(1702),s=t(4705),a=t(8052),c=t(2423),l=t(408),u=t(5787),h=t(614),d=t(8554),p=t(111),f=t(7293),m=t(7072),g=t(8003),v=t(9587);n.exports=function(y,A,x){var S=y.indexOf("Map")!==-1,E=y.indexOf("Weak")!==-1,w=S?"set":"add",k=i[y],Z=k&&k.prototype,L=k,G={},j=function($){var D=o(Z[$]);a(Z,$,$=="add"?function(z){return D(this,z===0?0:z),this}:$=="delete"?function(z){return!(E&&!p(z))&&D(this,z===0?0:z)}:$=="get"?function(z){return E&&!p(z)?void 0:D(this,z===0?0:z)}:$=="has"?function(z){return!(E&&!p(z))&&D(this,z===0?0:z)}:function(z,Y){return D(this,z===0?0:z,Y),this})};if(s(y,!h(k)||!(E||Z.forEach&&!f(function(){new k().entries().next()}))))L=x.getConstructor(A,y,S,w),c.enable();else if(s(y,!0)){var M=new L,T=M[w](E?{}:-0,1)!=M,P=f(function(){M.has(1)}),U=m(function($){new k($)}),N=!E&&f(function(){for(var $=new k,D=5;D--;)$[w](D,D);return!$.has(-0)});U||((L=A(function($,D){u($,Z);var z=v(new k,$,L);return d(D)||l(D,z[w],{that:z,AS_ENTRIES:S}),z})).prototype=Z,Z.constructor=L),(P||N)&&(j("delete"),j("has"),S&&j("get")),(N||T)&&j(w),E&&Z.clear&&delete Z.clear}return G[y]=L,r({global:!0,constructor:!0,forced:L!=k},G),g(L,y),E||x.setStrong(L,y,S),L}},9920:function(n,e,t){var r=t(2597),i=t(3887),o=t(1236),s=t(3070);n.exports=function(a,c,l){for(var u=i(c),h=s.f,d=o.f,p=0;p<u.length;p++){var f=u[p];r(a,f)||l&&r(l,f)||h(a,f,d(c,f))}}},8544:function(n,e,t){var r=t(7293);n.exports=!r(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},6178:function(n){n.exports=function(e,t){return{value:e,done:t}}},8880:function(n,e,t){var r=t(9781),i=t(3070),o=t(9114);n.exports=r?function(s,a,c){return i.f(s,a,o(1,c))}:function(s,a,c){return s[a]=c,s}},9114:function(n){n.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:function(n,e,t){var r=t(4948),i=t(3070),o=t(9114);n.exports=function(s,a,c){var l=r(a);l in s?i.f(s,l,o(0,c)):s[l]=c}},8052:function(n,e,t){var r=t(614),i=t(3070),o=t(6339),s=t(3072);n.exports=function(a,c,l,u){u||(u={});var h=u.enumerable,d=u.name!==void 0?u.name:c;if(r(l)&&o(l,d,u),u.global)h?a[c]=l:s(c,l);else{try{u.unsafe?a[c]&&(h=!0):delete a[c]}catch{}h?a[c]=l:i.f(a,c,{value:l,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return a}},9190:function(n,e,t){var r=t(8052);n.exports=function(i,o,s){for(var a in o)r(i,a,o[a],s);return i}},3072:function(n,e,t){var r=t(7854),i=Object.defineProperty;n.exports=function(o,s){try{i(r,o,{value:s,configurable:!0,writable:!0})}catch{r[o]=s}return s}},9781:function(n,e,t){var r=t(7293);n.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},4154:function(n){var e=typeof document=="object"&&document.all,t=e===void 0&&e!==void 0;n.exports={all:e,IS_HTMLDDA:t}},317:function(n,e,t){var r=t(7854),i=t(111),o=r.document,s=i(o)&&i(o.createElement);n.exports=function(a){return s?o.createElement(a):{}}},8324:function(n){n.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(n,e,t){var r=t(317)("span").classList,i=r&&r.constructor&&r.constructor.prototype;n.exports=i===Object.prototype?void 0:i},7871:function(n,e,t){var r=t(3823),i=t(5268);n.exports=!r&&!i&&typeof window=="object"&&typeof document=="object"},3823:function(n){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},1528:function(n,e,t){var r=t(8113);n.exports=/ipad|iphone|ipod/i.test(r)&&typeof Pebble<"u"},6833:function(n,e,t){var r=t(8113);n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:function(n,e,t){var r=t(4326);n.exports=typeof process<"u"&&r(process)=="process"},1036:function(n,e,t){var r=t(8113);n.exports=/web0s(?!.*chrome)/i.test(r)},8113:function(n){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},7392:function(n,e,t){var r,i,o=t(7854),s=t(8113),a=o.process,c=o.Deno,l=a&&a.versions||c&&c.version,u=l&&l.v8;u&&(i=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=+r[1]),n.exports=i},748:function(n){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:function(n,e,t){var r=t(1702),i=Error,o=r("".replace),s=String(i("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(s);n.exports=function(l,u){if(c&&typeof l=="string"&&!i.prepareStackTrace)for(;u--;)l=o(l,a,"");return l}},5392:function(n,e,t){var r=t(8880),i=t(1060),o=t(2914),s=Error.captureStackTrace;n.exports=function(a,c,l,u){o&&(s?s(a,c):r(a,"stack",i(l,u)))}},2914:function(n,e,t){var r=t(7293),i=t(9114);n.exports=!r(function(){var o=Error("a");return!("stack"in o)||(Object.defineProperty(o,"stack",i(1,7)),o.stack!==7)})},2109:function(n,e,t){var r=t(7854),i=t(1236).f,o=t(8880),s=t(8052),a=t(3072),c=t(9920),l=t(4705);n.exports=function(u,h){var d,p,f,m,g,v=u.target,y=u.global,A=u.stat;if(d=y?r:A?r[v]||a(v,{}):(r[v]||{}).prototype)for(p in h){if(m=h[p],f=u.dontCallGetSet?(g=i(d,p))&&g.value:d[p],!l(y?p:v+(A?".":"#")+p,u.forced)&&f!==void 0){if(typeof m==typeof f)continue;c(m,f)}(u.sham||f&&f.sham)&&o(m,"sham",!0),s(d,p,m,u)}}},7293:function(n){n.exports=function(e){try{return!!e()}catch{return!0}}},6677:function(n,e,t){var r=t(7293);n.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},2104:function(n,e,t){var r=t(4374),i=Function.prototype,o=i.apply,s=i.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},9974:function(n,e,t){var r=t(1470),i=t(9662),o=t(4374),s=r(r.bind);n.exports=function(a,c){return i(a),c===void 0?a:o?s(a,c):function(){return a.apply(c,arguments)}}},4374:function(n,e,t){var r=t(7293);n.exports=!r(function(){var i=function(){}.bind();return typeof i!="function"||i.hasOwnProperty("prototype")})},6916:function(n,e,t){var r=t(4374),i=Function.prototype.call;n.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(n,e,t){var r=t(9781),i=t(2597),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&function(){}.name==="something",l=a&&(!r||r&&s(o,"name").configurable);n.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},1470:function(n,e,t){var r=t(4326),i=t(1702);n.exports=function(o){if(r(o)==="Function")return i(o)}},1702:function(n,e,t){var r=t(4374),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);n.exports=r?s:function(a){return function(){return o.apply(a,arguments)}}},5005:function(n,e,t){var r=t(7854),i=t(614),o=function(s){return i(s)?s:void 0};n.exports=function(s,a){return arguments.length<2?o(r[s]):r[s]&&r[s][a]}},1246:function(n,e,t){var r=t(648),i=t(8173),o=t(8554),s=t(7497),a=t(5112)("iterator");n.exports=function(c){if(!o(c))return i(c,a)||i(c,"@@iterator")||s[r(c)]}},4121:function(n,e,t){var r=t(6916),i=t(9662),o=t(9670),s=t(6330),a=t(1246),c=TypeError;n.exports=function(l,u){var h=arguments.length<2?a(l):u;if(i(h))return o(r(h,l));throw c(s(l)+" is not iterable")}},8173:function(n,e,t){var r=t(9662),i=t(8554);n.exports=function(o,s){var a=o[s];return i(a)?void 0:r(a)}},7854:function(n,e,t){var r=function(i){return i&&i.Math==Math&&i};n.exports=r(typeof globalThis=="object"&&globalThis)||r(typeof window=="object"&&window)||r(typeof self=="object"&&self)||r(typeof t.g=="object"&&t.g)||function(){return this}()||Function("return this")()},2597:function(n,e,t){var r=t(1702),i=t(7908),o=r({}.hasOwnProperty);n.exports=Object.hasOwn||function(s,a){return o(i(s),a)}},3501:function(n){n.exports={}},842:function(n){n.exports=function(e,t){try{arguments.length==1?console.error(e):console.error(e,t)}catch{}}},490:function(n,e,t){var r=t(5005);n.exports=r("document","documentElement")},4664:function(n,e,t){var r=t(9781),i=t(7293),o=t(317);n.exports=!r&&!i(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!=7})},8361:function(n,e,t){var r=t(1702),i=t(7293),o=t(4326),s=Object,a=r("".split);n.exports=i(function(){return!s("z").propertyIsEnumerable(0)})?function(c){return o(c)=="String"?a(c,""):s(c)}:s},9587:function(n,e,t){var r=t(614),i=t(111),o=t(7674);n.exports=function(s,a,c){var l,u;return o&&r(l=a.constructor)&&l!==c&&i(u=l.prototype)&&u!==c.prototype&&o(s,u),s}},2788:function(n,e,t){var r=t(1702),i=t(614),o=t(5465),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(a){return s(a)}),n.exports=o.inspectSource},8340:function(n,e,t){var r=t(111),i=t(8880);n.exports=function(o,s){r(s)&&"cause"in s&&i(o,"cause",s.cause)}},2423:function(n,e,t){var r=t(2109),i=t(1702),o=t(3501),s=t(111),a=t(2597),c=t(3070).f,l=t(8006),u=t(1156),h=t(2050),d=t(9711),p=t(6677),f=!1,m=d("meta"),g=0,v=function(A){c(A,m,{value:{objectID:"O"+g++,weakData:{}}})},y=n.exports={enable:function(){y.enable=function(){},f=!0;var A=l.f,x=i([].splice),S={};S[m]=1,A(S).length&&(l.f=function(E){for(var w=A(E),k=0,Z=w.length;k<Z;k++)if(w[k]===m){x(w,k,1);break}return w},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(A,x){if(!s(A))return typeof A=="symbol"?A:(typeof A=="string"?"S":"P")+A;if(!a(A,m)){if(!h(A))return"F";if(!x)return"E";v(A)}return A[m].objectID},getWeakData:function(A,x){if(!a(A,m)){if(!h(A))return!0;if(!x)return!1;v(A)}return A[m].weakData},onFreeze:function(A){return p&&f&&h(A)&&!a(A,m)&&v(A),A}};o[m]=!0},9909:function(n,e,t){var r,i,o,s=t(4811),a=t(7854),c=t(111),l=t(8880),u=t(2597),h=t(5465),d=t(6200),p=t(3501),f="Object already initialized",m=a.TypeError,g=a.WeakMap;if(s||h.state){var v=h.state||(h.state=new g);v.get=v.get,v.has=v.has,v.set=v.set,r=function(A,x){if(v.has(A))throw m(f);return x.facade=A,v.set(A,x),x},i=function(A){return v.get(A)||{}},o=function(A){return v.has(A)}}else{var y=d("state");p[y]=!0,r=function(A,x){if(u(A,y))throw m(f);return x.facade=A,l(A,y,x),x},i=function(A){return u(A,y)?A[y]:{}},o=function(A){return u(A,y)}}n.exports={set:r,get:i,has:o,enforce:function(A){return o(A)?i(A):r(A,{})},getterFor:function(A){return function(x){var S;if(!c(x)||(S=i(x)).type!==A)throw m("Incompatible receiver, "+A+" required");return S}}}},7659:function(n,e,t){var r=t(5112),i=t(7497),o=r("iterator"),s=Array.prototype;n.exports=function(a){return a!==void 0&&(i.Array===a||s[o]===a)}},614:function(n,e,t){var r=t(4154),i=r.all;n.exports=r.IS_HTMLDDA?function(o){return typeof o=="function"||o===i}:function(o){return typeof o=="function"}},4411:function(n,e,t){var r=t(1702),i=t(7293),o=t(614),s=t(648),a=t(5005),c=t(2788),l=function(){},u=[],h=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=r(d.exec),f=!d.exec(l),m=function(v){if(!o(v))return!1;try{return h(l,u,v),!0}catch{return!1}},g=function(v){if(!o(v))return!1;switch(s(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(d,c(v))}catch{return!0}};g.sham=!0,n.exports=!h||i(function(){var v;return m(m.call)||!m(Object)||!m(function(){v=!0})||v})?g:m},4705:function(n,e,t){var r=t(7293),i=t(614),o=/#|\.prototype\./,s=function(h,d){var p=c[a(h)];return p==u||p!=l&&(i(d)?r(d):!!d)},a=s.normalize=function(h){return String(h).replace(o,".").toLowerCase()},c=s.data={},l=s.NATIVE="N",u=s.POLYFILL="P";n.exports=s},8554:function(n){n.exports=function(e){return e==null}},111:function(n,e,t){var r=t(614),i=t(4154),o=i.all;n.exports=i.IS_HTMLDDA?function(s){return typeof s=="object"?s!==null:r(s)||s===o}:function(s){return typeof s=="object"?s!==null:r(s)}},1913:function(n){n.exports=!1},2190:function(n,e,t){var r=t(5005),i=t(614),o=t(7976),s=t(3307),a=Object;n.exports=s?function(c){return typeof c=="symbol"}:function(c){var l=r("Symbol");return i(l)&&o(l.prototype,a(c))}},408:function(n,e,t){var r=t(9974),i=t(6916),o=t(9670),s=t(6330),a=t(7659),c=t(6244),l=t(7976),u=t(4121),h=t(1246),d=t(9212),p=TypeError,f=function(g,v){this.stopped=g,this.result=v},m=f.prototype;n.exports=function(g,v,y){var A,x,S,E,w,k,Z,L=y&&y.that,G=!(!y||!y.AS_ENTRIES),j=!(!y||!y.IS_RECORD),M=!(!y||!y.IS_ITERATOR),T=!(!y||!y.INTERRUPTED),P=r(v,L),U=function($){return A&&d(A,"normal",$),new f(!0,$)},N=function($){return G?(o($),T?P($[0],$[1],U):P($[0],$[1])):T?P($,U):P($)};if(j)A=g.iterator;else if(M)A=g;else{if(!(x=h(g)))throw p(s(g)+" is not iterable");if(a(x)){for(S=0,E=c(g);E>S;S++)if((w=N(g[S]))&&l(m,w))return w;return new f(!1)}A=u(g,x)}for(k=j?g.next:A.next;!(Z=i(k,A)).done;){try{w=N(Z.value)}catch($){d(A,"throw",$)}if(typeof w=="object"&&w&&l(m,w))return w}return new f(!1)}},9212:function(n,e,t){var r=t(6916),i=t(9670),o=t(8173);n.exports=function(s,a,c){var l,u;i(s);try{if(!(l=o(s,"return"))){if(a==="throw")throw c;return c}l=r(l,s)}catch(h){u=!0,l=h}if(a==="throw")throw c;if(u)throw l;return i(l),c}},3061:function(n,e,t){var r=t(3383).IteratorPrototype,i=t(30),o=t(9114),s=t(8003),a=t(7497),c=function(){return this};n.exports=function(l,u,h,d){var p=u+" Iterator";return l.prototype=i(r,{next:o(+!d,h)}),s(l,p,!1,!0),a[p]=c,l}},1656:function(n,e,t){var r=t(2109),i=t(6916),o=t(1913),s=t(6530),a=t(614),c=t(3061),l=t(9518),u=t(7674),h=t(8003),d=t(8880),p=t(8052),f=t(5112),m=t(7497),g=t(3383),v=s.PROPER,y=s.CONFIGURABLE,A=g.IteratorPrototype,x=g.BUGGY_SAFARI_ITERATORS,S=f("iterator"),E="keys",w="values",k="entries",Z=function(){return this};n.exports=function(L,G,j,M,T,P,U){c(j,G,M);var N,$,D,z=function(Tt){if(Tt===T&&tt)return tt;if(!x&&Tt in ot)return ot[Tt];switch(Tt){case E:case w:case k:return function(){return new j(this,Tt)}}return function(){return new j(this)}},Y=G+" Iterator",rt=!1,ot=L.prototype,st=ot[S]||ot["@@iterator"]||T&&ot[T],tt=!x&&st||z(T),nt=G=="Array"&&ot.entries||st;if(nt&&(N=l(nt.call(new L)))!==Object.prototype&&N.next&&(o||l(N)===A||(u?u(N,A):a(N[S])||p(N,S,Z)),h(N,Y,!0,!0),o&&(m[Y]=Z)),v&&T==w&&st&&st.name!==w&&(!o&&y?d(ot,"name",w):(rt=!0,tt=function(){return i(st,this)})),T)if($={values:z(w),keys:P?tt:z(E),entries:z(k)},U)for(D in $)(x||rt||!(D in ot))&&p(ot,D,$[D]);else r({target:G,proto:!0,forced:x||rt},$);return o&&!U||ot[S]===tt||p(ot,S,tt,{name:T}),m[G]=tt,$}},3383:function(n,e,t){var r,i,o,s=t(7293),a=t(614),c=t(111),l=t(30),u=t(9518),h=t(8052),d=t(5112),p=t(1913),f=d("iterator"),m=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):m=!0),!c(r)||s(function(){var g={};return r[f].call(g)!==g})?r={}:p&&(r=l(r)),a(r[f])||h(r,f,function(){return this}),n.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},7497:function(n){n.exports={}},6244:function(n,e,t){var r=t(7466);n.exports=function(i){return r(i.length)}},6339:function(n,e,t){var r=t(1702),i=t(7293),o=t(614),s=t(2597),a=t(9781),c=t(6530).CONFIGURABLE,l=t(2788),u=t(9909),h=u.enforce,d=u.get,p=String,f=Object.defineProperty,m=r("".slice),g=r("".replace),v=r([].join),y=a&&!i(function(){return f(function(){},"length",{value:8}).length!==8}),A=String(String).split("String"),x=n.exports=function(S,E,w){m(p(E),0,7)==="Symbol("&&(E="["+g(p(E),/^Symbol\(([^)]*)\)/,"$1")+"]"),w&&w.getter&&(E="get "+E),w&&w.setter&&(E="set "+E),(!s(S,"name")||c&&S.name!==E)&&(a?f(S,"name",{value:E,configurable:!0}):S.name=E),y&&w&&s(w,"arity")&&S.length!==w.arity&&f(S,"length",{value:w.arity});try{w&&s(w,"constructor")&&w.constructor?a&&f(S,"prototype",{writable:!1}):S.prototype&&(S.prototype=void 0)}catch{}var k=h(S);return s(k,"source")||(k.source=v(A,typeof E=="string"?E:"")),S};Function.prototype.toString=x(function(){return o(this)&&d(this).source||l(this)},"toString")},4758:function(n){var e=Math.ceil,t=Math.floor;n.exports=Math.trunc||function(r){var i=+r;return(i>0?t:e)(i)}},5948:function(n,e,t){var r,i,o,s,a,c=t(7854),l=t(9974),u=t(1236).f,h=t(261).set,d=t(8572),p=t(6833),f=t(1528),m=t(1036),g=t(5268),v=c.MutationObserver||c.WebKitMutationObserver,y=c.document,A=c.process,x=c.Promise,S=u(c,"queueMicrotask"),E=S&&S.value;if(!E){var w=new d,k=function(){var Z,L;for(g&&(Z=A.domain)&&Z.exit();L=w.get();)try{L()}catch(G){throw w.head&&r(),G}Z&&Z.enter()};p||g||m||!v||!y?!f&&x&&x.resolve?((s=x.resolve(void 0)).constructor=x,a=l(s.then,s),r=function(){a(k)}):g?r=function(){A.nextTick(k)}:(h=l(h,c),r=function(){h(k)}):(i=!0,o=y.createTextNode(""),new v(k).observe(o,{characterData:!0}),r=function(){o.data=i=!i}),E=function(Z){w.head||r(),w.add(Z)}}n.exports=E},8523:function(n,e,t){var r=t(9662),i=TypeError,o=function(s){var a,c;this.promise=new s(function(l,u){if(a!==void 0||c!==void 0)throw i("Bad Promise constructor");a=l,c=u}),this.resolve=r(a),this.reject=r(c)};n.exports.f=function(s){return new o(s)}},6277:function(n,e,t){var r=t(1340);n.exports=function(i,o){return i===void 0?arguments.length<2?"":o:r(i)}},30:function(n,e,t){var r,i=t(9670),o=t(6048),s=t(748),a=t(3501),c=t(490),l=t(317),u=t(6200),h="prototype",d="script",p=u("IE_PROTO"),f=function(){},m=function(y){return"<"+d+">"+y+"</"+d+">"},g=function(y){y.write(m("")),y.close();var A=y.parentWindow.Object;return y=null,A},v=function(){try{r=new ActiveXObject("htmlfile")}catch{}var y,A,x;v=typeof document<"u"?document.domain&&r?g(r):(A=l("iframe"),x="java"+d+":",A.style.display="none",c.appendChild(A),A.src=String(x),(y=A.contentWindow.document).open(),y.write(m("document.F=Object")),y.close(),y.F):g(r);for(var S=s.length;S--;)delete v[h][s[S]];return v()};a[p]=!0,n.exports=Object.create||function(y,A){var x;return y!==null?(f[h]=i(y),x=new f,f[h]=null,x[p]=y):x=v(),A===void 0?x:o.f(x,A)}},6048:function(n,e,t){var r=t(9781),i=t(3353),o=t(3070),s=t(9670),a=t(5656),c=t(1956);e.f=r&&!i?Object.defineProperties:function(l,u){s(l);for(var h,d=a(u),p=c(u),f=p.length,m=0;f>m;)o.f(l,h=p[m++],d[h]);return l}},3070:function(n,e,t){var r=t(9781),i=t(4664),o=t(3353),s=t(9670),a=t(4948),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",p="writable";e.f=r?o?function(f,m,g){if(s(f),m=a(m),s(g),typeof f=="function"&&m==="prototype"&&"value"in g&&p in g&&!g[p]){var v=u(f,m);v&&v[p]&&(f[m]=g.value,g={configurable:d in g?g[d]:v[d],enumerable:h in g?g[h]:v[h],writable:!1})}return l(f,m,g)}:l:function(f,m,g){if(s(f),m=a(m),s(g),i)try{return l(f,m,g)}catch{}if("get"in g||"set"in g)throw c("Accessors not supported");return"value"in g&&(f[m]=g.value),f}},1236:function(n,e,t){var r=t(9781),i=t(6916),o=t(5296),s=t(9114),a=t(5656),c=t(4948),l=t(2597),u=t(4664),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(d,p){if(d=a(d),p=c(p),u)try{return h(d,p)}catch{}if(l(d,p))return s(!i(o.f,d,p),d[p])}},1156:function(n,e,t){var r=t(4326),i=t(5656),o=t(8006).f,s=t(1589),a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(c){return a&&r(c)=="Window"?function(l){try{return o(l)}catch{return s(a)}}(c):o(i(c))}},8006:function(n,e,t){var r=t(6324),i=t(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(o){return r(o,i)}},5181:function(n,e){e.f=Object.getOwnPropertySymbols},9518:function(n,e,t){var r=t(2597),i=t(614),o=t(7908),s=t(6200),a=t(8544),c=s("IE_PROTO"),l=Object,u=l.prototype;n.exports=a?l.getPrototypeOf:function(h){var d=o(h);if(r(d,c))return d[c];var p=d.constructor;return i(p)&&d instanceof p?p.prototype:d instanceof l?u:null}},2050:function(n,e,t){var r=t(7293),i=t(111),o=t(4326),s=t(7556),a=Object.isExtensible,c=r(function(){});n.exports=c||s?function(l){return!!i(l)&&(!s||o(l)!="ArrayBuffer")&&(!a||a(l))}:a},7976:function(n,e,t){var r=t(1702);n.exports=r({}.isPrototypeOf)},6324:function(n,e,t){var r=t(1702),i=t(2597),o=t(5656),s=t(1318).indexOf,a=t(3501),c=r([].push);n.exports=function(l,u){var h,d=o(l),p=0,f=[];for(h in d)!i(a,h)&&i(d,h)&&c(f,h);for(;u.length>p;)i(d,h=u[p++])&&(~s(f,h)||c(f,h));return f}},1956:function(n,e,t){var r=t(6324),i=t(748);n.exports=Object.keys||function(o){return r(o,i)}},5296:function(n,e){var t={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!t.call({1:2},1);e.f=i?function(o){var s=r(this,o);return!!s&&s.enumerable}:t},7674:function(n,e,t){var r=t(1702),i=t(9670),o=t(6077);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,a=!1,c={};try{(s=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(c,[]),a=c instanceof Array}catch{}return function(l,u){return i(l),o(u),a?s(l,u):l.__proto__=u,l}}():void 0)},288:function(n,e,t){var r=t(1694),i=t(648);n.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},2140:function(n,e,t){var r=t(6916),i=t(614),o=t(111),s=TypeError;n.exports=function(a,c){var l,u;if(c==="string"&&i(l=a.toString)&&!o(u=r(l,a))||i(l=a.valueOf)&&!o(u=r(l,a))||c!=="string"&&i(l=a.toString)&&!o(u=r(l,a)))return u;throw s("Can't convert object to primitive value")}},3887:function(n,e,t){var r=t(5005),i=t(1702),o=t(8006),s=t(5181),a=t(9670),c=i([].concat);n.exports=r("Reflect","ownKeys")||function(l){var u=o.f(a(l)),h=s.f;return h?c(u,h(l)):u}},857:function(n,e,t){var r=t(7854);n.exports=r},2534:function(n){n.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},3702:function(n,e,t){var r=t(7854),i=t(2492),o=t(614),s=t(4705),a=t(2788),c=t(5112),l=t(7871),u=t(3823),h=t(1913),d=t(7392),p=i&&i.prototype,f=c("species"),m=!1,g=o(r.PromiseRejectionEvent),v=s("Promise",function(){var y=a(i),A=y!==String(i);if(!A&&d===66||h&&(!p.catch||!p.finally))return!0;if(!d||d<51||!/native code/.test(y)){var x=new i(function(E){E(1)}),S=function(E){E(function(){},function(){})};if((x.constructor={})[f]=S,!(m=x.then(function(){})instanceof S))return!0}return!A&&(l||u)&&!g});n.exports={CONSTRUCTOR:v,REJECTION_EVENT:g,SUBCLASSING:m}},2492:function(n,e,t){var r=t(7854);n.exports=r.Promise},9478:function(n,e,t){var r=t(9670),i=t(111),o=t(8523);n.exports=function(s,a){if(r(s),i(a)&&a.constructor===s)return a;var c=o.f(s);return(0,c.resolve)(a),c.promise}},612:function(n,e,t){var r=t(2492),i=t(7072),o=t(3702).CONSTRUCTOR;n.exports=o||!i(function(s){r.all(s).then(void 0,function(){})})},8572:function(n){var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var r={item:t,next:null},i=this.tail;i?i.next=r:this.head=r,this.tail=r},get:function(){var t=this.head;if(t)return(this.head=t.next)===null&&(this.tail=null),t.item}},n.exports=e},4488:function(n,e,t){var r=t(8554),i=TypeError;n.exports=function(o){if(r(o))throw i("Can't call method on "+o);return o}},6340:function(n,e,t){var r=t(5005),i=t(3070),o=t(5112),s=t(9781),a=o("species");n.exports=function(c){var l=r(c),u=i.f;s&&l&&!l[a]&&u(l,a,{configurable:!0,get:function(){return this}})}},8003:function(n,e,t){var r=t(3070).f,i=t(2597),o=t(5112)("toStringTag");n.exports=function(s,a,c){s&&!c&&(s=s.prototype),s&&!i(s,o)&&r(s,o,{configurable:!0,value:a})}},6200:function(n,e,t){var r=t(2309),i=t(9711),o=r("keys");n.exports=function(s){return o[s]||(o[s]=i(s))}},5465:function(n,e,t){var r=t(7854),i=t(3072),o="__core-js_shared__",s=r[o]||i(o,{});n.exports=s},2309:function(n,e,t){var r=t(1913),i=t(5465);(n.exports=function(o,s){return i[o]||(i[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.27.2",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:function(n,e,t){var r=t(9670),i=t(9483),o=t(8554),s=t(5112)("species");n.exports=function(a,c){var l,u=r(a).constructor;return u===void 0||o(l=r(u)[s])?c:i(l)}},8710:function(n,e,t){var r=t(1702),i=t(9303),o=t(1340),s=t(4488),a=r("".charAt),c=r("".charCodeAt),l=r("".slice),u=function(h){return function(d,p){var f,m,g=o(s(d)),v=i(p),y=g.length;return v<0||v>=y?h?"":void 0:(f=c(g,v))<55296||f>56319||v+1===y||(m=c(g,v+1))<56320||m>57343?h?a(g,v):f:h?l(g,v,v+2):m-56320+(f-55296<<10)+65536}};n.exports={codeAt:u(!1),charAt:u(!0)}},6293:function(n,e,t){var r=t(7392),i=t(7293);n.exports=!!Object.getOwnPropertySymbols&&!i(function(){var o=Symbol();return!String(o)||!(Object(o)instanceof Symbol)||!Symbol.sham&&r&&r<41})},261:function(n,e,t){var r,i,o,s,a=t(7854),c=t(2104),l=t(9974),u=t(614),h=t(2597),d=t(7293),p=t(490),f=t(206),m=t(317),g=t(8053),v=t(6833),y=t(5268),A=a.setImmediate,x=a.clearImmediate,S=a.process,E=a.Dispatch,w=a.Function,k=a.MessageChannel,Z=a.String,L=0,G={},j="onreadystatechange";d(function(){r=a.location});var M=function(N){if(h(G,N)){var $=G[N];delete G[N],$()}},T=function(N){return function(){M(N)}},P=function(N){M(N.data)},U=function(N){a.postMessage(Z(N),r.protocol+"//"+r.host)};A&&x||(A=function(N){g(arguments.length,1);var $=u(N)?N:w(N),D=f(arguments,1);return G[++L]=function(){c($,void 0,D)},i(L),L},x=function(N){delete G[N]},y?i=function(N){S.nextTick(T(N))}:E&&E.now?i=function(N){E.now(T(N))}:k&&!v?(s=(o=new k).port2,o.port1.onmessage=P,i=l(s.postMessage,s)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&r&&r.protocol!=="file:"&&!d(U)?(i=U,a.addEventListener("message",P,!1)):i=j in m("script")?function(N){p.appendChild(m("script"))[j]=function(){p.removeChild(this),M(N)}}:function(N){setTimeout(T(N),0)}),n.exports={set:A,clear:x}},1400:function(n,e,t){var r=t(9303),i=Math.max,o=Math.min;n.exports=function(s,a){var c=r(s);return c<0?i(c+a,0):o(c,a)}},5656:function(n,e,t){var r=t(8361),i=t(4488);n.exports=function(o){return r(i(o))}},9303:function(n,e,t){var r=t(4758);n.exports=function(i){var o=+i;return o!=o||o===0?0:r(o)}},7466:function(n,e,t){var r=t(9303),i=Math.min;n.exports=function(o){return o>0?i(r(o),9007199254740991):0}},7908:function(n,e,t){var r=t(4488),i=Object;n.exports=function(o){return i(r(o))}},7593:function(n,e,t){var r=t(6916),i=t(111),o=t(2190),s=t(8173),a=t(2140),c=t(5112),l=TypeError,u=c("toPrimitive");n.exports=function(h,d){if(!i(h)||o(h))return h;var p,f=s(h,u);if(f){if(d===void 0&&(d="default"),p=r(f,h,d),!i(p)||o(p))return p;throw l("Can't convert object to primitive value")}return d===void 0&&(d="number"),a(h,d)}},4948:function(n,e,t){var r=t(7593),i=t(2190);n.exports=function(o){var s=r(o,"string");return i(s)?s:s+""}},1694:function(n,e,t){var r={};r[t(5112)("toStringTag")]="z",n.exports=String(r)==="[object z]"},1340:function(n,e,t){var r=t(648),i=String;n.exports=function(o){if(r(o)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return i(o)}},6330:function(n){var e=String;n.exports=function(t){try{return e(t)}catch{return"Object"}}},9711:function(n,e,t){var r=t(1702),i=0,o=Math.random(),s=r(1 .toString);n.exports=function(a){return"Symbol("+(a===void 0?"":a)+")_"+s(++i+o,36)}},3307:function(n,e,t){var r=t(6293);n.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},3353:function(n,e,t){var r=t(9781),i=t(7293);n.exports=r&&i(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},8053:function(n){var e=TypeError;n.exports=function(t,r){if(t<r)throw e("Not enough arguments");return t}},4811:function(n,e,t){var r=t(7854),i=t(614),o=r.WeakMap;n.exports=i(o)&&/native code/.test(String(o))},5112:function(n,e,t){var r=t(7854),i=t(2309),o=t(2597),s=t(9711),a=t(6293),c=t(3307),l=r.Symbol,u=i("wks"),h=c?l.for||l:l&&l.withoutSetter||s;n.exports=function(d){return o(u,d)||(u[d]=a&&o(l,d)?l[d]:h("Symbol."+d)),u[d]}},6967:function(n,e,t){var r=t(2109),i=t(7976),o=t(9518),s=t(7674),a=t(9920),c=t(30),l=t(8880),u=t(9114),h=t(8340),d=t(5392),p=t(408),f=t(6277),m=t(5112)("toStringTag"),g=Error,v=[].push,y=function(x,S){var E,w=i(A,this);s?E=s(g(),w?o(this):A):(E=w?this:c(A),l(E,m,"Error")),S!==void 0&&l(E,"message",f(S)),d(E,y,E.stack,1),arguments.length>2&&h(E,arguments[2]);var k=[];return p(x,v,{that:k}),l(E,"errors",k),E};s?s(y,g):a(y,g,{name:!0});var A=y.prototype=c(g.prototype,{constructor:u(1,y),message:u(1,""),name:u(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:y})},9170:function(n,e,t){t(6967)},6992:function(n,e,t){var r=t(5656),i=t(1223),o=t(7497),s=t(9909),a=t(3070).f,c=t(1656),l=t(6178),u=t(1913),h=t(9781),d="Array Iterator",p=s.set,f=s.getterFor(d);n.exports=c(Array,"Array",function(g,v){p(this,{type:d,target:r(g),index:0,kind:v})},function(){var g=f(this),v=g.target,y=g.kind,A=g.index++;return!v||A>=v.length?(g.target=void 0,l(void 0,!0)):l(y=="keys"?A:y=="values"?v[A]:[A,v[A]],!1)},"values");var m=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&h&&m.name!=="values")try{a(m,"name",{value:"values"})}catch{}},9098:function(n,e,t){t(7710)("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},t(5631))},1532:function(n,e,t){t(9098)},1539:function(n,e,t){var r=t(1694),i=t(8052),o=t(288);r||i(Object.prototype,"toString",o,{unsafe:!0})},7922:function(n,e,t){var r=t(2109),i=t(6916),o=t(9662),s=t(8523),a=t(2534),c=t(408);r({target:"Promise",stat:!0,forced:t(612)},{allSettled:function(l){var u=this,h=s.f(u),d=h.resolve,p=h.reject,f=a(function(){var m=o(u.resolve),g=[],v=0,y=1;c(l,function(A){var x=v++,S=!1;y++,i(m,u,A).then(function(E){S||(S=!0,g[x]={status:"fulfilled",value:E},--y||d(g))},function(E){S||(S=!0,g[x]={status:"rejected",reason:E},--y||d(g))})}),--y||d(g)});return f.error&&p(f.value),h.promise}})},821:function(n,e,t){var r=t(2109),i=t(6916),o=t(9662),s=t(8523),a=t(2534),c=t(408);r({target:"Promise",stat:!0,forced:t(612)},{all:function(l){var u=this,h=s.f(u),d=h.resolve,p=h.reject,f=a(function(){var m=o(u.resolve),g=[],v=0,y=1;c(l,function(A){var x=v++,S=!1;y++,i(m,u,A).then(function(E){S||(S=!0,g[x]=E,--y||d(g))},p)}),--y||d(g)});return f.error&&p(f.value),h.promise}})},4668:function(n,e,t){var r=t(2109),i=t(6916),o=t(9662),s=t(5005),a=t(8523),c=t(2534),l=t(408),u=t(612),h="No one promise resolved";r({target:"Promise",stat:!0,forced:u},{any:function(d){var p=this,f=s("AggregateError"),m=a.f(p),g=m.resolve,v=m.reject,y=c(function(){var A=o(p.resolve),x=[],S=0,E=1,w=!1;l(d,function(k){var Z=S++,L=!1;E++,i(A,p,k).then(function(G){L||w||(w=!0,g(G))},function(G){L||w||(L=!0,x[Z]=G,--E||v(new f(x,h)))})}),--E||v(new f(x,h))});return y.error&&v(y.value),m.promise}})},4164:function(n,e,t){var r=t(2109),i=t(1913),o=t(3702).CONSTRUCTOR,s=t(2492),a=t(5005),c=t(614),l=t(8052),u=s&&s.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(d){return this.then(void 0,d)}}),!i&&c(s)){var h=a("Promise").prototype.catch;u.catch!==h&&l(u,"catch",h,{unsafe:!0})}},3401:function(n,e,t){var r,i,o,s=t(2109),a=t(1913),c=t(5268),l=t(7854),u=t(6916),h=t(8052),d=t(7674),p=t(8003),f=t(6340),m=t(9662),g=t(614),v=t(111),y=t(5787),A=t(6707),x=t(261).set,S=t(5948),E=t(842),w=t(2534),k=t(8572),Z=t(9909),L=t(2492),G=t(3702),j=t(8523),M="Promise",T=G.CONSTRUCTOR,P=G.REJECTION_EVENT,U=G.SUBCLASSING,N=Z.getterFor(M),$=Z.set,D=L&&L.prototype,z=L,Y=D,rt=l.TypeError,ot=l.document,st=l.process,tt=j.f,nt=tt,Tt=!!(ot&&ot.createEvent&&l.dispatchEvent),At="unhandledrejection",Gt=function(K){var mt;return!(!v(K)||!g(mt=K.then))&&mt},Nt=function(K,mt){var W,vt,ut,ht=mt.value,Yt=mt.state==1,gt=Yt?K.ok:K.fail,it=K.resolve,wt=K.reject,at=K.domain;try{gt?(Yt||(mt.rejection===2&&q(mt),mt.rejection=1),gt===!0?W=ht:(at&&at.enter(),W=gt(ht),at&&(at.exit(),ut=!0)),W===K.promise?wt(rt("Promise-chain cycle")):(vt=Gt(W))?u(vt,W,it,wt):it(W)):wt(ht)}catch(dt){at&&!ut&&at.exit(),wt(dt)}},jt=function(K,mt){K.notified||(K.notified=!0,S(function(){for(var W,vt=K.reactions;W=vt.get();)Nt(W,K);K.notified=!1,mt&&!K.rejection&&Dt(K)}))},kt=function(K,mt,W){var vt,ut;Tt?((vt=ot.createEvent("Event")).promise=mt,vt.reason=W,vt.initEvent(K,!1,!0),l.dispatchEvent(vt)):vt={promise:mt,reason:W},!P&&(ut=l["on"+K])?ut(vt):K===At&&E("Unhandled promise rejection",W)},Dt=function(K){u(x,l,function(){var mt,W=K.facade,vt=K.value;if(Ct(K)&&(mt=w(function(){c?st.emit("unhandledRejection",vt,W):kt(At,W,vt)}),K.rejection=c||Ct(K)?2:1,mt.error))throw mt.value})},Ct=function(K){return K.rejection!==1&&!K.parent},q=function(K){u(x,l,function(){var mt=K.facade;c?st.emit("rejectionHandled",mt):kt("rejectionhandled",mt,K.value)})},ft=function(K,mt,W){return function(vt){K(mt,vt,W)}},yt=function(K,mt,W){K.done||(K.done=!0,W&&(K=W),K.value=mt,K.state=2,jt(K,!0))},Lt=function(K,mt,W){if(!K.done){K.done=!0,W&&(K=W);try{if(K.facade===mt)throw rt("Promise can't be resolved itself");var vt=Gt(mt);vt?S(function(){var ut={done:!1};try{u(vt,mt,ft(Lt,ut,K),ft(yt,ut,K))}catch(ht){yt(ut,ht,K)}}):(K.value=mt,K.state=1,jt(K,!1))}catch(ut){yt({done:!1},ut,K)}}};if(T&&(Y=(z=function(K){y(this,Y),m(K),u(r,this);var mt=N(this);try{K(ft(Lt,mt),ft(yt,mt))}catch(W){yt(mt,W)}}).prototype,(r=function(K){$(this,{type:M,done:!1,notified:!1,parent:!1,reactions:new k,rejection:!1,state:0,value:void 0})}).prototype=h(Y,"then",function(K,mt){var W=N(this),vt=tt(A(this,z));return W.parent=!0,vt.ok=!g(K)||K,vt.fail=g(mt)&&mt,vt.domain=c?st.domain:void 0,W.state==0?W.reactions.add(vt):S(function(){Nt(vt,W)}),vt.promise}),i=function(){var K=new r,mt=N(K);this.promise=K,this.resolve=ft(Lt,mt),this.reject=ft(yt,mt)},j.f=tt=function(K){return K===z||K===void 0?new i(K):nt(K)},!a&&g(L)&&D!==Object.prototype)){o=D.then,U||h(D,"then",function(K,mt){var W=this;return new z(function(vt,ut){u(o,W,vt,ut)}).then(K,mt)},{unsafe:!0});try{delete D.constructor}catch{}d&&d(D,Y)}s({global:!0,constructor:!0,wrap:!0,forced:T},{Promise:z}),p(z,M,!1,!0),f(M)},7727:function(n,e,t){var r=t(2109),i=t(1913),o=t(2492),s=t(7293),a=t(5005),c=t(614),l=t(6707),u=t(9478),h=t(8052),d=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&s(function(){d.finally.call({then:function(){}},function(){})})},{finally:function(f){var m=l(this,a("Promise")),g=c(f);return this.then(g?function(v){return u(m,f()).then(function(){return v})}:f,g?function(v){return u(m,f()).then(function(){throw v})}:f)}}),!i&&c(o)){var p=a("Promise").prototype.finally;d.finally!==p&&h(d,"finally",p,{unsafe:!0})}},8674:function(n,e,t){t(3401),t(821),t(4164),t(6027),t(683),t(6294)},6027:function(n,e,t){var r=t(2109),i=t(6916),o=t(9662),s=t(8523),a=t(2534),c=t(408);r({target:"Promise",stat:!0,forced:t(612)},{race:function(l){var u=this,h=s.f(u),d=h.reject,p=a(function(){var f=o(u.resolve);c(l,function(m){i(f,u,m).then(h.resolve,d)})});return p.error&&d(p.value),h.promise}})},683:function(n,e,t){var r=t(2109),i=t(6916),o=t(8523);r({target:"Promise",stat:!0,forced:t(3702).CONSTRUCTOR},{reject:function(s){var a=o.f(this);return i(a.reject,void 0,s),a.promise}})},6294:function(n,e,t){var r=t(2109),i=t(5005),o=t(1913),s=t(2492),a=t(3702).CONSTRUCTOR,c=t(9478),l=i("Promise"),u=o&&!a;r({target:"Promise",stat:!0,forced:o||a},{resolve:function(h){return c(u&&this===l?s:this,h)}})},8783:function(n,e,t){var r=t(8710).charAt,i=t(1340),o=t(9909),s=t(1656),a=t(6178),c="String Iterator",l=o.set,u=o.getterFor(c);s(String,"String",function(h){l(this,{type:c,string:i(h),index:0})},function(){var h,d=u(this),p=d.string,f=d.index;return f>=p.length?a(void 0,!0):(h=r(p,f),d.index+=h.length,a(h,!1))})},3948:function(n,e,t){var r=t(7854),i=t(8324),o=t(8509),s=t(6992),a=t(8880),c=t(5112),l=c("iterator"),u=c("toStringTag"),h=s.values,d=function(f,m){if(f){if(f[l]!==h)try{a(f,l,h)}catch{f[l]=h}if(f[u]||a(f,u,m),i[m]){for(var g in s)if(f[g]!==s[g])try{a(f,g,s[g])}catch{f[g]=s[g]}}}};for(var p in i)d(r[p]&&r[p].prototype,p);d(o,"DOMTokenList")},1150:function(n,e,t){var r=t(7633);t(3948),n.exports=r},3191:function(n,e,t){(e=t(3645)(!1)).push([n.id,"#_console{padding-top:40px;padding-bottom:24px;width:100%;height:100%}#_console._js-input-hidden{padding-bottom:0}#_console ._control{position:absolute;width:100%;height:40px;left:0;top:0;cursor:default;font-size:0;background:var(--darker-background);color:var(--primary);line-height:20px;border-bottom:1px solid var(--border);padding:10px 10px 10px 35px}#_console ._control [class*=' _icon-'],#_console ._control [class^='_icon-']{display:inline-block;padding:10px;font-size:16px;position:absolute;top:0;cursor:pointer;transition:color .3s}#_console ._control [class*=' _icon-']._active,#_console ._control [class*=' _icon-']:active,#_console ._control [class^='_icon-']._active,#_console ._control [class^='_icon-']:active{color:var(--accent)}#_console ._control ._icon-clear{padding-right:0;left:0}#_console ._control ._icon-copy{right:0}#_console ._control ._icon-filter{right:23px}#_console ._control ._level{cursor:pointer;font-size:12px;height:20px;display:inline-block;margin:0 2px;padding:0 4px;line-height:20px;transition:background-color .3s,color .3s}#_console ._control ._level._active{background:var(--highlight);color:var(--select-foreground)}#_console ._control ._filter-text{white-space:nowrap;position:absolute;line-height:20px;max-width:80px;overflow:hidden;right:55px;font-size:14px;text-overflow:ellipsis}#_console ._js-input{pointer-events:none;position:absolute;z-index:100;left:0;bottom:0;width:100%;border-top:1px solid var(--border);height:24px}#_console ._js-input ._icon-arrow-right{line-height:23px;color:var(--accent);position:absolute;left:10px;top:0;z-index:10}#_console ._js-input._active{height:100%;padding-top:40px;padding-bottom:40px;border-top:none}#_console ._js-input._active ._icon-arrow-right{display:none}#_console ._js-input._active textarea{overflow:auto;padding-left:10px}#_console ._js-input ._buttons{display:none;position:absolute;left:0;bottom:0;width:100%;height:40px;color:var(--primary);background:var(--darker-background);font-size:12px;border-top:1px solid var(--border)}#_console ._js-input ._buttons ._button{pointer-events:all;cursor:pointer;flex:1;text-align:center;border-right:1px solid var(--border);height:40px;line-height:40px;transition:background-color .3s,color .3s}#_console ._js-input ._buttons ._button:last-child{border-right:none}#_console ._js-input ._buttons ._button:active{color:var(--select-foreground);background:var(--highlight)}#_console ._js-input textarea{overflow:hidden;pointer-events:all;padding:3px 10px;padding-left:25px;outline:0;border:none;font-size:14px;width:100%;height:100%;-webkit-user-select:text;user-select:text;resize:none;color:var(--primary);background:var(--background)}._safe-area #_console{padding-bottom:calc(24px + env(safe-area-inset-bottom))}._safe-area #_console._js-input-hidden{padding-bottom:0}._safe-area #_console ._js-input{height:calc(24px + env(safe-area-inset-bottom))}._safe-area #_console ._js-input._active{height:100%;padding-bottom:calc(40px + env(safe-area-inset-bottom))}._safe-area #_console ._js-input ._buttons{height:calc(40px + env(safe-area-inset-bottom))}._safe-area #_console ._js-input ._buttons ._button{height:calc(40px + env(safe-area-inset-bottom))}",""]),n.exports=e},13:function(n,e,t){(e=t(3645)(!1)).push([n.id,"._dev-tools{position:absolute;width:100%;height:100%;left:0;bottom:0;background:var(--background);z-index:500;display:none;padding-top:40px!important;opacity:0;transition:opacity .3s;border-top:1px solid var(--border)}._dev-tools ._resizer{position:absolute;width:100%;left:0;top:-8px;cursor:row-resize;z-index:120}._dev-tools ._tools{overflow:auto;-webkit-overflow-scrolling:touch;height:100%;width:100%;position:relative}._dev-tools ._tools ._tool{position:absolute;width:100%;height:100%;left:0;top:0;overflow:hidden;display:none}",""]),n.exports=e},5896:function(n,e,t){(e=t(3645)(!1)).push([n.id,"#_elements ._elements{position:absolute;width:100%;height:100%;left:0;top:0;padding-top:40px;padding-bottom:24px;font-size:14px}#_elements ._control{position:absolute;width:100%;height:40px;left:0;top:0;cursor:default;font-size:0;background:var(--darker-background);color:var(--primary);line-height:20px;border-bottom:1px solid var(--border);padding:10px 0}#_elements ._control [class*=' _icon-'],#_elements ._control [class^='_icon-']{display:inline-block;padding:10px;font-size:16px;position:absolute;top:0;cursor:pointer;transition:color .3s}#_elements ._control [class*=' _icon-']._active,#_elements ._control [class*=' _icon-']:active,#_elements ._control [class^='_icon-']._active,#_elements ._control [class^='_icon-']:active{color:var(--accent)}#_elements ._control ._icon-eye{right:0}#_elements ._control ._icon-copy{right:23px}#_elements ._control ._icon-delete{right:46px}#_elements ._dom-viewer-container{overflow-y:auto;-webkit-overflow-scrolling:touch;height:100%;padding:5px 0}#_elements ._crumbs{position:absolute;width:100%;height:24px;left:0;top:0;top:initial;line-height:24px;bottom:0;border-top:1px solid var(--border);background:var(--darker-background);color:var(--primary);font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#_elements ._crumbs li{cursor:pointer;padding:0 7px;display:inline-block}#_elements ._crumbs li:hover,#_elements ._crumbs li:last-child{background:var(--highlight)}#_elements ._crumbs ._icon-arrow-right{font-size:12px;position:relative;top:1px}#_elements ._detail{position:absolute;width:100%;height:100%;left:0;top:0;z-index:10;padding-top:40px;display:none;background:var(--background)}#_elements ._detail ._control{padding:10px 35px}#_elements ._detail ._control ._element-name{font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;display:inline-block}#_elements ._detail ._control ._icon-arrow-left{left:0}#_elements ._detail ._control ._icon-refresh{right:0}#_elements ._detail ._element{overflow-y:auto;-webkit-overflow-scrolling:touch;height:100%}#_elements ._section{border-bottom:1px solid var(--border);color:var(--foreground);margin:10px 0}#_elements ._section h2{color:var(--primary);background:var(--darker-background);border-top:1px solid var(--border);padding:10px;line-height:18px;font-size:14px;transition:background-color .3s}#_elements ._section h2 ._btn{margin-left:5px;float:right;color:var(--primary);width:18px;height:18px;font-size:16px;cursor:pointer;transition:color .3s}#_elements ._section h2 ._btn._filter-text{width:auto;max-width:80px;font-size:14px;overflow:hidden;font-weight:400;text-overflow:ellipsis;display:inline-block}#_elements ._section h2 ._btn:active{color:var(--accent)}#_elements ._section h2 ._btn._btn-disabled{color:inherit!important;cursor:default!important;pointer-events:none;opacity:.5}#_elements ._section h2 ._btn._btn-disabled *{pointer-events:none}#_elements ._section h2._active-effect{cursor:pointer}#_elements ._section h2._active-effect:active{background:var(--highlight);color:var(--select-foreground)}#_elements ._attributes{font-size:12px}#_elements ._attributes a{color:var(--link-color)}#_elements ._attributes ._table-wrapper{overflow-x:auto;-webkit-overflow-scrolling:touch}#_elements ._attributes table td{padding:5px 10px}#_elements ._text-content{background:#fff}#_elements ._text-content ._content{overflow-x:auto;-webkit-overflow-scrolling:touch;padding:10px}#_elements ._style-color{position:relative;top:1px;width:10px;height:10px;border-radius:50%;margin-right:2px;border:1px solid var(--border);display:inline-block}#_elements ._box-model{overflow-x:auto;-webkit-overflow-scrolling:touch;color:#222;font-size:12px;padding:10px;text-align:center;white-space:nowrap;border-bottom:1px solid var(--color)}#_elements ._box-model ._label{position:absolute;margin-left:3px;padding:0 2px}#_elements ._box-model ._bottom,#_elements ._box-model ._left,#_elements ._box-model ._right,#_elements ._box-model ._top{display:inline-block}#_elements ._box-model ._left,#_elements ._box-model ._right{vertical-align:middle}#_elements ._box-model ._border,#_elements ._box-model ._content,#_elements ._box-model ._margin,#_elements ._box-model ._padding,#_elements ._box-model ._position{position:relative;background:#fff;display:inline-block;text-align:center;vertical-align:middle;padding:3px;margin:3px}#_elements ._box-model ._position{border:1px grey dotted}#_elements ._box-model ._margin{border:1px dashed;background:rgba(246,178,107,.66)}#_elements ._box-model ._border{border:1px #000 solid;background:rgba(255,229,153,.66)}#_elements ._box-model ._padding{border:1px grey dashed;background:rgba(147,196,125,.55)}#_elements ._box-model ._content{border:1px grey solid;min-width:100px;background:rgba(111,168,220,.66)}#_elements ._computed-style{font-size:12px}#_elements ._computed-style a{color:var(--link-color)}#_elements ._computed-style ._table-wrapper{overflow-y:auto;-webkit-overflow-scrolling:touch;max-height:200px;border-top:1px solid var(--border)}#_elements ._computed-style table td{padding:5px 10px}#_elements ._computed-style table td._key{white-space:nowrap;color:var(--var-color)}#_elements ._styles{font-size:12px}#_elements ._styles ._style-wrapper{padding:10px}#_elements ._styles ._style-wrapper ._style-rules{border:1px solid var(--border);padding:10px;margin-bottom:10px}#_elements ._styles ._style-wrapper ._style-rules ._rule{padding-left:2em;word-break:break-all}#_elements ._styles ._style-wrapper ._style-rules ._rule a{color:var(--link-color)}#_elements ._styles ._style-wrapper ._style-rules ._rule span{color:var(--var-color)}#_elements ._styles ._style-wrapper ._style-rules:last-child{margin-bottom:0}#_elements ._listeners{font-size:12px}#_elements ._listeners ._listener-wrapper{padding:10px}#_elements ._listeners ._listener-wrapper ._listener{margin-bottom:10px;overflow:hidden;border:1px solid var(--border)}#_elements ._listeners ._listener-wrapper ._listener ._listener-type{padding:10px;background:var(--darker-background);color:var(--primary)}#_elements ._listeners ._listener-wrapper ._listener ._listener-content li{overflow-x:auto;-webkit-overflow-scrolling:touch;padding:10px;border-top:none}._safe-area #_elements ._elements{padding-bottom:calc(24px + env(safe-area-inset-bottom))}._safe-area #_elements ._crumbs{height:calc(24px + env(safe-area-inset-bottom))}._safe-area #_elements ._element{padding-bottom:calc(0px + env(safe-area-inset-bottom))}@media screen and (min-width:680px){#_elements ._elements{width:50%}#_elements ._elements ._control ._icon-eye{display:none}#_elements ._elements ._control ._icon-copy{right:0}#_elements ._elements ._control ._icon-delete{right:23px}#_elements ._detail{width:50%;left:initial;right:0;border-left:1px solid var(--border)}#_elements ._detail ._control{padding-left:10px}#_elements ._detail ._control ._icon-arrow-left{display:none}}",""]),n.exports=e},9195:function(n,e,t){(e=t(3645)(!1)).push([n.id,"._container ._entry-btn{touch-action:none;width:40px;height:40px;display:flex;background:#000;opacity:.3;border-radius:10px;position:relative;z-index:1000;transition:opacity .3s;color:#fff;font-size:25px;align-items:center;justify-content:center}._container ._entry-btn._active,._container ._entry-btn:active{opacity:.8}",""]),n.exports=e},879:function(n,e,t){(e=t(3645)(!1)).push([n.id,"#_info{overflow-y:auto;-webkit-overflow-scrolling:touch}#_info li{margin:10px;border:1px solid var(--border)}#_info li ._content,#_info li ._title{padding:10px}#_info li ._title{position:relative;padding-bottom:0;color:var(--accent)}#_info li ._title ._icon-copy{position:absolute;right:10px;top:14px;color:var(--primary);cursor:pointer;transition:color .3s}#_info li ._title ._icon-copy:active{color:var(--accent)}#_info li ._content{margin:0;-webkit-user-select:text;user-select:text;color:var(--foreground);font-size:12px;word-break:break-all}#_info li ._content table{width:100%;border-collapse:collapse}#_info li ._content table td,#_info li ._content table th{border:1px solid var(--border);padding:10px}#_info li ._content *{-webkit-user-select:text;user-select:text}#_info li ._content a{color:var(--link-color)}#_info li ._device-key,#_info li ._system-key{width:100px}._safe-area #_info{padding-bottom:calc(10px + env(safe-area-inset-bottom))}",""]),n.exports=e},3180:function(n,e,t){(e=t(3645)(!1)).push([n.id,"#_network ._network{position:absolute;width:100%;height:100%;left:0;top:0;padding-top:39px}#_network ._control{position:absolute;width:100%;height:40px;left:0;top:0;cursor:default;font-size:0;background:var(--darker-background);color:var(--primary);line-height:20px;border-bottom:1px solid var(--border);padding:10px;border-bottom:none}#_network ._control [class*=' _icon-'],#_network ._control [class^='_icon-']{display:inline-block;padding:10px;font-size:16px;position:absolute;top:0;cursor:pointer;transition:color .3s}#_network ._control [class*=' _icon-']._active,#_network ._control [class*=' _icon-']:active,#_network ._control [class^='_icon-']._active,#_network ._control [class^='_icon-']:active{color:var(--accent)}#_network ._control ._title{font-size:14px}#_network ._control ._icon-clear{left:23px}#_network ._control ._icon-eye{right:0}#_network ._control ._icon-copy{right:23px}#_network ._control ._icon-filter{right:46px}#_network ._control ._filter-text{white-space:nowrap;position:absolute;line-height:20px;max-width:80px;overflow:hidden;right:88px;font-size:14px;text-overflow:ellipsis}#_network ._control ._icon-record{left:0}#_network ._control ._icon-record._recording{color:var(--console-error-foreground);text-shadow:0 0 4px var(--console-error-foreground)}#_network ._request-error{color:var(--console-error-foreground)}#_network .luna-data-grid:focus .luna-data-grid-data-container ._request-error.luna-data-grid-selected{background:var(--console-error-background)}#_network .luna-data-grid{border-left:none;border-right:none}#_network ._detail{position:absolute;width:100%;height:100%;left:0;top:0;z-index:10;display:none;padding-top:40px;background:var(--background)}#_network ._detail ._control{padding:10px 35px;border-bottom:1px solid var(--border)}#_network ._detail ._control ._url{font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;display:inline-block}#_network ._detail ._control ._icon-arrow-left{left:0}#_network ._detail ._control ._icon-delete{left:0;display:none}#_network ._detail ._control ._icon-copy{right:0}#_network ._detail ._http{overflow-y:auto;-webkit-overflow-scrolling:touch;height:100%}#_network ._detail ._http ._section{border-top:1px solid var(--border);border-bottom:1px solid var(--border);margin-top:10px;margin-bottom:10px}#_network ._detail ._http ._section h2{background:var(--darker-background);color:var(--primary);padding:10px;line-height:18px;font-size:14px}#_network ._detail ._http ._section table{color:var(--foreground)}#_network ._detail ._http ._section table *{-webkit-user-select:text;user-select:text}#_network ._detail ._http ._section table td{font-size:12px;padding:5px 10px;word-break:break-all}#_network ._detail ._http ._section table ._key{white-space:nowrap;font-weight:700;color:var(--accent)}#_network ._detail ._http ._data,#_network ._detail ._http ._response{-webkit-user-select:text;user-select:text;overflow-x:auto;-webkit-overflow-scrolling:touch;padding:10px;font-size:12px;margin:10px 0;white-space:pre-wrap;border-top:1px solid var(--border);color:var(--foreground);border-bottom:1px solid var(--border)}._safe-area #_network ._http{padding-bottom:calc(0px + env(safe-area-inset-bottom))}@media screen and (min-width:680px){#_network ._network ._control ._icon-eye{display:none}#_network ._network ._control ._icon-copy{right:0}#_network ._network ._control ._icon-filter{right:23px}#_network ._network ._control ._filter-text{right:55px}#_network ._detail{width:50%;left:initial;right:0;border-left:1px solid var(--border)}#_network ._detail ._control ._icon-arrow-left{display:none}#_network ._detail ._control ._icon-delete{display:block}}",""]),n.exports=e},2488:function(n,e,t){(e=t(3645)(!1)).push([n.id,"#_resources{overflow-y:auto;-webkit-overflow-scrolling:touch;padding:10px;font-size:14px}#_resources ._section{margin-bottom:10px;overflow:hidden;border:1px solid var(--border)}#_resources ._section._warn{border:1px solid var(--console-warn-border)}#_resources ._section._warn ._title{background:var(--console-warn-background);color:var(--console-warn-foreground)}#_resources ._section._danger{border:1px solid var(--console-error-border)}#_resources ._section._danger ._title{background:var(--console-error-background);color:var(--console-error-foreground)}#_resources ._section._cookie,#_resources ._section._local-storage,#_resources ._section._session-storage{border:none}#_resources ._section._cookie ._title,#_resources ._section._local-storage ._title,#_resources ._section._session-storage ._title{border:1px solid var(--border);border-bottom:none}#_resources ._title{padding:10px;line-height:18px;color:var(--primary);background:var(--darker-background)}#_resources ._title ._btn{margin-left:5px;float:right;color:var(--primary);width:18px;height:18px;font-size:16px;cursor:pointer;transition:color .3s}#_resources ._title ._btn._filter-text{width:auto;max-width:80px;font-size:14px;overflow:hidden;font-weight:400;text-overflow:ellipsis;display:inline-block}#_resources ._title ._btn:active{color:var(--accent)}#_resources ._title ._btn._btn-disabled{color:inherit!important;cursor:default!important;pointer-events:none;opacity:.5}#_resources ._title ._btn._btn-disabled *{pointer-events:none}#_resources ._link-list{font-size:12px;color:var(--foreground)}#_resources ._link-list li{padding:10px;word-break:break-all}#_resources ._link-list li a{color:var(--link-color)!important}#_resources ._image-list{color:var(--foreground);font-size:12px;display:flex;flex-wrap:wrap;padding:10px!important}#_resources ._image-list:after{content:'';display:block;clear:both}#_resources ._image-list li{flex-grow:1;cursor:pointer;overflow-y:hidden}#_resources ._image-list li._image{height:100px;font-size:0}#_resources ._image-list li img{height:100px;min-width:100%;-o-object-fit:cover;object-fit:cover}._safe-area #_resources{padding-bottom:calc(10px + env(safe-area-inset-bottom))}",""]),n.exports=e},8011:function(n,e,t){(e=t(3645)(!1)).push([n.id,"#_settings{overflow-y:auto;-webkit-overflow-scrolling:touch}._safe-area #_settings{padding-bottom:calc(0px + env(safe-area-inset-bottom))}",""]),n.exports=e},5571:function(n,e,t){(e=t(3645)(!1)).push([n.id,"#_snippets{overflow-y:auto;-webkit-overflow-scrolling:touch;padding:10px}#_snippets ._section{margin-bottom:10px;border:1px solid var(--border);overflow:hidden;cursor:pointer}#_snippets ._section:active ._name{background:var(--highlight);color:var(--select-foreground)}#_snippets ._section ._name{padding:10px;line-height:18px;color:var(--primary);background:var(--darker-background);transition:background-color .3s}#_snippets ._section ._name ._btn{margin-left:10px;float:right;text-align:center;width:18px;height:18px;font-size:12px}#_snippets ._section ._description{font-size:12px;color:var(--foreground);padding:10px;transition:background-color .3s}._safe-area #_snippets{padding-bottom:calc(10px + env(safe-area-inset-bottom))}",""]),n.exports=e},7346:function(n,e,t){(e=t(3645)(!1)).push([n.id,"._search-highlight-block{display:inline}._search-highlight-block ._keyword{background:var(--console-warn-background);color:var(--console-warn-foreground)}",""]),n.exports=e},1344:function(n,e,t){(e=t(3645)(!1)).push([n.id,"#_sources{font-size:0;overflow-y:auto;-webkit-overflow-scrolling:touch;color:var(--foreground)}#_sources ._code-wrapper,#_sources ._raw-wrapper{overflow-x:auto;-webkit-overflow-scrolling:touch;width:100%;min-height:100%}#_sources ._code,#_sources ._raw{height:100%}#_sources ._code ._keyword,#_sources ._raw ._keyword{color:var(--keyword-color)}#_sources ._code ._comment,#_sources ._raw ._comment{color:var(--comment-color)}#_sources ._code ._number,#_sources ._raw ._number{color:var(--number-color)}#_sources ._code ._string,#_sources ._raw ._string{color:var(--string-color)}#_sources ._code ._operator,#_sources ._raw ._operator{color:var(--operator-color)}#_sources ._code[data-type=html] ._keyword,#_sources ._raw[data-type=html] ._keyword{color:var(--tag-name-color)}#_sources ._image{font-size:12px}#_sources ._image ._breadcrumb{background:var(--darker-background);color:var(--primary);-webkit-user-select:text;user-select:text;margin-bottom:10px;word-break:break-all;padding:10px;font-size:16px;min-height:40px;border-bottom:1px solid var(--border)}#_sources ._image ._img-container{text-align:center}#_sources ._image ._img-container img{max-width:100%}#_sources ._image ._img-info{text-align:center;margin:20px 0;color:var(--foreground)}#_sources ._json{padding:0 10px}#_sources ._json *{-webkit-user-select:text;user-select:text}#_sources iframe{width:100%;height:100%}",""]),n.exports=e},8020:function(n,e,t){(e=t(3645)(!1)).push([n.id,"._container a,._container abbr,._container acronym,._container address,._container applet,._container article,._container aside,._container audio,._container b,._container big,._container blockquote,._container canvas,._container caption,._container center,._container cite,._container code,._container dd,._container del,._container details,._container dfn,._container dl,._container dt,._container em,._container embed,._container fieldset,._container figcaption,._container figure,._container footer,._container form,._container h1,._container h2,._container h3,._container h4,._container h5,._container h6,._container header,._container hgroup,._container i,._container iframe,._container img,._container ins,._container kbd,._container label,._container legend,._container li,._container mark,._container menu,._container nav,._container object,._container ol,._container output,._container p,._container pre,._container q,._container ruby,._container s,._container samp,._container section,._container small,._container span,._container strike,._container strong,._container sub,._container summary,._container sup,._container table,._container tbody,._container td,._container tfoot,._container th,._container thead,._container time,._container tr,._container tt,._container u,._container ul,._container var,._container video{margin:0;padding:0;border:0;font-size:100%}._container article,._container aside,._container details,._container figcaption,._container figure,._container footer,._container header,._container hgroup,._container menu,._container nav,._container section{display:block}._container body{line-height:1}._container ol,._container ul{list-style:none}._container blockquote,._container q{quotes:none}._container blockquote:after,._container blockquote:before,._container q:after,._container q:before{content:'';content:none}._container table{border-collapse:collapse;border-spacing:0}",""]),n.exports=e},8516:function(n,e,t){(e=t(3645)(!1)).push([n.id,`.luna-console{background:var(--background)}.luna-console-header{color:var(--link-color);border-bottom-color:var(--border)}.luna-console-nesting-level{border-right-color:var(--border)}.luna-console-nesting-level::before{border-bottom-color:var(--border)}.luna-console-log-container.luna-console-selected .luna-console-log-item{background:var(--contrast)}.luna-console-log-container.luna-console-selected .luna-console-log-item:not(.luna-console-error):not(.luna-console-warn){border-color:var(--border)}.luna-console-log-item{border-bottom-color:var(--border);color:var(--foreground)}.luna-console-log-item a{color:var(--link-color)!important}.luna-console-log-item .luna-console-icon-container .luna-console-icon{color:var(--foreground)}.luna-console-log-item .luna-console-icon-container .luna-console-icon-error{color:#ef3842}.luna-console-log-item .luna-console-icon-container .luna-console-icon-warn{color:#e8a400}.luna-console-log-item .luna-console-count{color:var(--select-foreground);background:var(--highlight)}.luna-console-log-item.luna-console-warn{color:var(--console-warn-foreground);background:var(--console-warn-background);border-color:var(--console-warn-border)}.luna-console-log-item.luna-console-error{background:var(--console-error-background);color:var(--console-error-foreground);border-color:var(--console-error-border)}.luna-console-log-item.luna-console-error .luna-console-count{background:var(--console-error-foreground)}.luna-console-log-item .luna-console-code .luna-console-key{color:var(--var-color)}.luna-console-log-item .luna-console-code .luna-console-number{color:var(--number-color)}.luna-console-log-item .luna-console-code .luna-console-null{color:var(--operator-color)}.luna-console-log-item .luna-console-code .luna-console-string{color:var(--string-color)}.luna-console-log-item .luna-console-code .luna-console-boolean{color:var(--keyword-color)}.luna-console-log-item .luna-console-code .luna-console-special{color:var(--operator-color)}.luna-console-log-item .luna-console-code .luna-console-keyword{color:var(--keyword-color)}.luna-console-log-item .luna-console-code .luna-console-operator{color:var(--operator-color)}.luna-console-log-item .luna-console-code .luna-console-comment{color:var(--comment-color)}.luna-console-log-item .luna-console-log-content .luna-console-null,.luna-console-log-item .luna-console-log-content .luna-console-undefined{color:var(--operator-color)}.luna-console-log-item .luna-console-log-content .luna-console-number{color:var(--number-color)}.luna-console-log-item .luna-console-log-content .luna-console-boolean{color:var(--keyword-color)}.luna-console-log-item .luna-console-log-content .luna-console-regexp,.luna-console-log-item .luna-console-log-content .luna-console-symbol{color:var(--var-color)}.luna-console-preview .luna-console-key{color:var(--var-color)}.luna-console-preview .luna-console-number{color:var(--number-color)}.luna-console-preview .luna-console-null{color:var(--operator-color)}.luna-console-preview .luna-console-string{color:var(--string-color)}.luna-console-preview .luna-console-boolean{color:var(--keyword-color)}.luna-console-preview .luna-console-special{color:var(--operator-color)}.luna-console-preview .luna-console-keyword{color:var(--keyword-color)}.luna-console-preview .luna-console-operator{color:var(--operator-color)}.luna-console-preview .luna-console-comment{color:var(--comment-color)}.luna-object-viewer{color:var(--primary);font-size:12px!important}.luna-object-viewer-null{color:var(--operator-color)}.luna-object-viewer-regexp,.luna-object-viewer-string{color:var(--string-color)}.luna-object-viewer-number{color:var(--number-color)}.luna-object-viewer-boolean{color:var(--keyword-color)}.luna-object-viewer-special{color:var(--operator-color)}.luna-object-viewer-key,.luna-object-viewer-key-lighter{color:var(--var-color)}.luna-object-viewer-expanded:before{border-color:transparent;border-top-color:var(--foreground)}.luna-object-viewer-collapsed:before{border-top-color:transparent;border-left-color:var(--foreground)}.luna-notification{pointer-events:none!important;padding:10px;z-index:1000}.luna-notification-item{z-index:500;color:var(--foreground);background:var(--background);box-shadow:none;padding:5px 10px;border:1px solid var(--border)}.luna-notification-upper{margin-bottom:10px}.luna-notification-lower{margin-top:10px}.luna-data-grid{color:var(--foreground);background:var(--background);border-color:var(--border)}.luna-data-grid:focus .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selected{background:var(--accent)}.luna-data-grid td,.luna-data-grid th{border-color:var(--border)}.luna-data-grid th{background:var(--darker-background)}.luna-data-grid th.luna-data-grid-sortable:active,.luna-data-grid th.luna-data-grid-sortable:hover{color:var(--select-foreground);background:var(--highlight)}.luna-data-grid .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selected{background:var(--highlight)}.luna-data-grid .luna-data-grid-data-container tr:nth-child(even){background:var(--contrast)}.luna-dom-viewer{color:var(--foreground)}.luna-dom-viewer .luna-dom-viewer-html-tag,.luna-dom-viewer .luna-dom-viewer-tag-name{color:var(--tag-name-color)}.luna-dom-viewer .luna-dom-viewer-attribute-name{color:var(--attribute-name-color)}.luna-dom-viewer .luna-dom-viewer-attribute-value{color:var(--string-color)}.luna-dom-viewer .luna-dom-viewer-html-comment{color:var(--comment-color)}.luna-dom-viewer .luna-dom-viewer-tree-item:hover .luna-dom-viewer-selection{background:var(--contrast)}.luna-dom-viewer .luna-dom-viewer-tree-item.luna-dom-viewer-selected .luna-dom-viewer-selection{background:var(--highlight)}.luna-dom-viewer .luna-dom-viewer-tree-item.luna-dom-viewer-selected:focus .luna-dom-viewer-selection{background:var(--accent);opacity:.2}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-key{color:var(--var-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-number{color:var(--number-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-null{color:var(--operator-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-string{color:var(--string-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-boolean{color:var(--keyword-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-special{color:var(--operator-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-keyword{color:var(--keyword-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-operator{color:var(--operator-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-comment{color:var(--comment-color)}.luna-dom-viewer-children{margin:0;padding-left:15px!important}.luna-modal{z-index:9999999}.luna-modal-body,.luna-modal-input{color:var(--foreground);background:var(--background)}.luna-modal-input{-webkit-user-select:text!important;user-select:text!important;border-color:var(--border)}.luna-modal-button-group .luna-modal-secondary{border-color:var(--border);color:var(--foreground);background:var(--background)}.luna-modal-button-group .luna-modal-primary{background:var(--accent)}.luna-modal-button-group .luna-modal-button:active::before{background:var(--accent)}.luna-tab{position:absolute;left:0;top:0;color:var(--foreground);background:var(--darker-background)}.luna-tab-tabs-container{border-color:var(--border)}.luna-tab-item.luna-tab-selected,.luna-tab-item:hover{background:var(--highlight);color:var(--select-foreground)}.luna-tab-slider{background:var(--accent)}.luna-text-viewer{color:var(--foreground);border:none;border-bottom:1px solid var(--border);background:var(--background);font-size:12px}.luna-text-viewer .luna-text-viewer-line-text{-webkit-user-select:text;user-select:text}.luna-text-viewer .luna-text-viewer-line-text *{-webkit-user-select:text;user-select:text}.luna-text-viewer .luna-text-viewer-copy,.luna-text-viewer .luna-text-viewer-line-number{border-color:var(--border)}.luna-text-viewer .luna-text-viewer-copy .luna-text-viewer-icon-check{color:var(--accent)}.luna-text-viewer .luna-text-viewer-copy{background-color:var(--background)}.luna-setting{color:var(--foreground);background:var(--background)}.luna-setting-item:hover{background:var(--darker-background)}.luna-setting-item-title{font-size:14px}.luna-setting-item-separator{border-color:var(--border)}.luna-setting-item-checkbox input{border-color:var(--border)}.luna-setting-item-checkbox input:checked{background-color:var(--accent);border-color:var(--accent)}.luna-setting-item-select .luna-setting-select select{color:var(--foreground);border-color:var(--border);background:var(--background)}.luna-setting-item-select .luna-setting-select:after{border-top-color:var(--foreground)}.luna-setting-item-button button{color:var(--accent);background:var(--background);border-color:var(--border)}.luna-setting-item-button button:active,.luna-setting-item-button button:hover{background:var(--darker-background)}.luna-setting-item-button button:active{border:1px solid var(--accent)}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar{background:var(--border)}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar .luna-setting-range-track-progress{background:var(--accent)}.luna-setting-item-number .luna-setting-range-container input::-webkit-slider-thumb{border-color:var(--border);background:radial-gradient(circle at center,var(--dark) 0,var(--dark) 15%,var(--light) 22%,var(--light) 100%)}._container{min-width:320px;pointer-events:none;position:fixed;left:0;top:0;width:100%;height:100%;z-index:9999999;color:var(--foreground);font-family:".SFNSDisplay-Regular","Helvetica Neue","Lucida Grande","Segoe UI",Tahoma,sans-serif;font-size:14px;direction:ltr}._container._dark{color-scheme:dark}._container *{box-sizing:border-box;pointer-events:all;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-text-size-adjust:none}._container ul{list-style:none;padding:0;margin:0}._container h1,._container h2,._container h3,._container h4{margin:0}._container h2{font-size:14px}._container h2 [class*=' _icon-'],._container h2 [class^='_icon-']{font-weight:400}._hidden{display:none}._icon-disabled{opacity:.5;pointer-events:none;cursor:default!important}._icon-disabled:active{color:inherit!important}._tag-name-color{color:var(--tag-name-color)}._function-color{color:var(--function-color)}._attribute-name-color{color:var(--attribute-name-color)}._operator-color{color:var(--operator-color)}._string-color{color:var(--string-color)}`,""]),n.exports=e},9327:function(n,e,t){(e=t(3645)(!1)).push([n.id,"@font-face{font-family:luna-console-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAasAAsAAAAACnAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAI4AAADcIsYnIk9TLzIAAAGYAAAAPgAAAFZWmlGRY21hcAAAAdgAAAD2AAACyDioZ9NnbHlmAAAC0AAAAZgAAAH8Lq6nDGhlYWQAAARoAAAAMQAAADZ25cSzaGhlYQAABJwAAAAdAAAAJAgCBBRobXR4AAAEvAAAABkAAABYGAH//GxvY2EAAATYAAAAGAAAAC4J8glUbWF4cAAABPAAAAAfAAAAIAEjAFBuYW1lAAAFEAAAASkAAAIWm5e+CnBvc3QAAAY8AAAAcAAAAJ7qA/7MeJxNjTsOwjAQRJ8TJzE2hPBrKBBHQByAAiGqFBRcIBVCiqhyBA7O2AgRr9Y7M2+lxQCeAyeyy7W9U/fd8GKL5fsiH2vTPx8d7ufEbJpO/aagYc+RM7fEjBKnmiRuySmZUTNNf0wybYSRj9VoO4iU7NQh+Up8qelZs5EupP75Shfm2oz3Kmkvt/gARcgJKwAAeJxjYGQUZ5zAwMrAwNTJdIaBgaEfQjO+ZjBi5ACKMrAyM2AFAWmuKQwHGHQ/srGAuDEsTGBhRhABALQ1CMwAAHiczdJNbsIwEIbh1+QHQsJviNRFF1XX7aEQRZQNRQjEHXqgrnopn4B+E8+qqip117GeRB4nk4lloAAyeZIcwicBiw9lQ5/PGPf5nHfNV8yVyXlmzZY9R05cuMbydtOqZTfsOCh7Vjb02e8RVMXGHfc8aDxqwFKVF7QMtdLpmzUVDSOmTJjpnUH/3YJSBcofqv4Wyz8+b6FuWvXSjW1SV30r1sl/icYuofFZh+1+Yn+7dnPZuIW8uFa2big7t5JXZzX3znbh4Gp5c5UcnfVyciM5u6lc3ESuTnsZQ2JnLQ4S7J4ldjZjntj5jEVi5zaWCeUXWN4q9AAAeJxdUMFOU0EUnTMzb2o1FB5O5wENg31k5mExVEo7jSGBEuO6CStDmtbIBuiKBYg/gRu/ABO3/ocscOEXsHBpogtWvFfnvQgxJnduztx7zknuIXQyIYSDE9IgLwmBmIZI1pDYbTSxBqeW4KvrVKSmaaRKFZREE7YJIyONSLW6W37bLiRxscXNTH1zbnFqlnJ5Eu+G9MnT8JBy9l69ELx69Ohd9JCryrwcU07TbCU5H4y+jQbnyco/EF+8x1/eaX03bCzR8IgGwVn0WC/I8YOzaLGS+4+p4K8O/lcXkPhj/CP0ig1JQIhJyugCxz3o7LqH4YUH0L3swlMK3q+CV/HMbhkJAqlarm1jgd+97DpnfsKPeH15eT2+l9L5OJ/kcjZJfY6MU++wQPzI+PRECUJjo97aAtqupaqhFLHtRLHNf1Kwn9lAOid9L7tV9nzVldNL3dC+NmrGOGM+sme2VrO335Mda3foXlXravY57zemY23HkLs72RsW5JegDjZK99FnPPtwl8FX1i92IfAax6yfvkWf/AHb1F1JeJxjYGRgYABi3/mPYuP5bb4ycLOABKI4H+9rgNH//zIwsDCzMAElOBhAJAMAQ2IK+QAAAHicY2BkYGBhAAEWhv9///9lYWZgZEAFYgBbLQQgAAAAeJxjYGBgYGH4/58FTIPZf2FsSgAAM58EEwAAAHicY2AAgjyGJoYlDI8YPjD8ww8BeTMTR3icY2BkYGAQY3BhYGYAASYg5gJCBob/YD4DABGFAXQAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxtxksOgjAUQNF3kaIW/x9cBYtqgEAnLXlp0+1rwtQzuVcq2Vj5r6NiR42hYc+BI5aWE2cuXLlx58GTF286PmIm1ajGhzWnJub0S12cBjs4nVI/xhLabdXPS2JCiXgCK5lEwTHQMzKziHwBqnYYpg==') format('woff')}[class*=' luna-console-icon-'],[class^=luna-console-icon-]{display:inline-block;font-family:luna-console-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-console-icon-error:before{content:'\\f101'}.luna-console-icon-input:before{content:'\\f102'}.luna-console-icon-output:before{content:'\\f103'}.luna-console-icon-warn:before{content:'\\f104'}.luna-console-icon-caret-down:before{content:'\\f105'}.luna-console-icon-caret-right:before{content:'\\f106'}.luna-console{background:#fff;overflow-y:auto;-webkit-overflow-scrolling:touch;height:100%;position:relative;will-change:scroll-position;cursor:default;font-size:12px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace}.luna-console.luna-console-theme-dark{background-color:#242424}.luna-console-hidden{display:none}.luna-console-fake-logs{position:absolute;left:0;top:0;pointer-events:none;visibility:hidden;width:100%}.luna-console-logs{padding-top:1px;position:absolute;width:100%}.luna-console-log-container{box-sizing:content-box}.luna-console-log-container.luna-console-selected .luna-console-log-item{background:#ecf1f8}.luna-console-log-container.luna-console-selected .luna-console-log-item:not(.luna-console-error):not(.luna-console-warn){border-color:#ccdef5}.luna-console-header{white-space:nowrap;display:flex;font-size:11px;color:#545454;border-top:1px solid transparent;border-bottom:1px solid #ccc}.luna-console-header .luna-console-time-from-container{overflow-x:auto;-webkit-overflow-scrolling:touch;padding:3px 10px}.luna-console-nesting-level{width:14px;flex-shrink:0;margin-top:-1px;margin-bottom:-1px;position:relative;border-right:1px solid #ccc}.luna-console-nesting-level.luna-console-group-closed::before{content:''}.luna-console-nesting-level::before{border-bottom:1px solid #ccc;position:absolute;top:0;left:0;margin-left:100%;width:5px;height:100%;box-sizing:border-box}.luna-console-log-item{position:relative;display:flex;border-top:1px solid transparent;border-bottom:1px solid #ccc;margin-top:-1px;color:#333}.luna-console-log-item:after{content:'';display:block;clear:both}.luna-console-log-item .luna-console-code{display:inline;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace}.luna-console-log-item .luna-console-code .luna-console-keyword{color:#881280}.luna-console-log-item .luna-console-code .luna-console-number{color:#1c00cf}.luna-console-log-item .luna-console-code .luna-console-operator{color:grey}.luna-console-log-item .luna-console-code .luna-console-comment{color:#236e25}.luna-console-log-item .luna-console-code .luna-console-string{color:#1a1aa6}.luna-console-log-item a{color:#15c!important}.luna-console-log-item .luna-console-icon-container{margin:0 -6px 0 10px}.luna-console-log-item .luna-console-icon-container .luna-console-icon{line-height:20px;font-size:12px;color:#333;position:relative}.luna-console-log-item .luna-console-icon-container .luna-console-icon-caret-down,.luna-console-log-item .luna-console-icon-container .luna-console-icon-caret-right{top:0;left:-2px}.luna-console-log-item .luna-console-icon-container .luna-console-icon-error{top:0;color:#ef3842}.luna-console-log-item .luna-console-icon-container .luna-console-icon-warn{top:0;color:#e8a400}.luna-console-log-item .luna-console-count{background:#8097bd;color:#fff;padding:2px 4px;border-radius:10px;font-size:12px;float:left;margin:1px -6px 0 10px}.luna-console-log-item .luna-console-log-content-wrapper{flex:1;overflow:hidden}.luna-console-log-item .luna-console-log-content{padding:3px 0;margin:0 10px;overflow-x:auto;-webkit-overflow-scrolling:touch;white-space:pre-wrap;-webkit-user-select:text;user-select:text}.luna-console-log-item .luna-console-log-content *{-webkit-user-select:text;user-select:text}.luna-console-log-item .luna-console-log-content>*{vertical-align:top}.luna-console-log-item .luna-console-log-content .luna-console-null,.luna-console-log-item .luna-console-log-content .luna-console-undefined{color:#5e5e5e}.luna-console-log-item .luna-console-log-content .luna-console-number{color:#1c00cf}.luna-console-log-item .luna-console-log-content .luna-console-boolean{color:#0d22aa}.luna-console-log-item .luna-console-log-content .luna-console-regexp,.luna-console-log-item .luna-console-log-content .luna-console-symbol{color:#881391}.luna-console-log-item .luna-console-data-grid,.luna-console-log-item .luna-console-dom-viewer{white-space:initial}.luna-console-log-item.luna-console-error{z-index:50;background:#fff0f0;color:red;border-top:1px solid #ffd6d6;border-bottom:1px solid #ffd6d6}.luna-console-log-item.luna-console-error .luna-console-stack{padding-left:1.2em;white-space:nowrap}.luna-console-log-item.luna-console-error .luna-console-count{background:red}.luna-console-log-item.luna-console-debug{z-index:20}.luna-console-log-item.luna-console-input{border-bottom-color:transparent}.luna-console-log-item.luna-console-warn{z-index:40;color:#5c5c00;background:#fffbe5;border-top:1px solid #fff5c2;border-bottom:1px solid #fff5c2}.luna-console-log-item.luna-console-warn .luna-console-count{background:#e8a400}.luna-console-log-item.luna-console-info{z-index:30}.luna-console-log-item.luna-console-group,.luna-console-log-item.luna-console-groupCollapsed{font-weight:700}.luna-console-preview{display:inline-block}.luna-console-preview .luna-console-preview-container{display:flex;align-items:center}.luna-console-preview .luna-console-json{overflow-x:auto;-webkit-overflow-scrolling:touch;padding-left:12px}.luna-console-preview .luna-console-preview-icon-container{display:block}.luna-console-preview .luna-console-preview-icon-container .luna-console-icon{position:relative;font-size:12px}.luna-console-preview .luna-console-preview-icon-container .luna-console-icon-caret-down{top:2px}.luna-console-preview .luna-console-preview-icon-container .luna-console-icon-caret-right{top:1px}.luna-console-preview .luna-console-preview-content-container{word-break:break-all}.luna-console-preview .luna-console-descriptor,.luna-console-preview .luna-console-object-preview{font-style:italic}.luna-console-preview .luna-console-key{color:#881391}.luna-console-preview .luna-console-number{color:#1c00cf}.luna-console-preview .luna-console-null{color:#5e5e5e}.luna-console-preview .luna-console-string{color:#c41a16}.luna-console-preview .luna-console-boolean{color:#0d22aa}.luna-console-preview .luna-console-special{color:#5e5e5e}.luna-console-theme-dark{color-scheme:dark}.luna-console-theme-dark .luna-console-log-container.luna-console-selected .luna-console-log-item{background:#29323d}.luna-console-theme-dark .luna-console-log-container.luna-console-selected .luna-console-log-item:not(.luna-console-error):not(.luna-console-warn){border-color:#4173b4}.luna-console-theme-dark .luna-console-log-item{color:#a5a5a5;border-bottom-color:#3d3d3d}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-keyword{color:#e36eec}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-number{color:#9980ff}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-operator{color:#7f7f7f}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-comment{color:#747474}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-string{color:#f29766}.luna-console-theme-dark .luna-console-log-item.luna-console-error{background:#290000;color:#ff8080;border-top-color:#5c0000;border-bottom-color:#5c0000}.luna-console-theme-dark .luna-console-log-item.luna-console-error .luna-console-count{background:#ff8080}.luna-console-theme-dark .luna-console-log-item.luna-console-warn{color:#ffcb6b;background:#332a00;border-top-color:#650;border-bottom-color:#650}.luna-console-theme-dark .luna-console-log-item .luna-console-count{background:#42597f;color:#949494}.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-null,.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-undefined{color:#7f7f7f}.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-boolean,.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-number{color:#9980ff}.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-regexp,.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-symbol{color:#e36eec}.luna-console-theme-dark .luna-console-icon-container .luna-console-icon-caret-down,.luna-console-theme-dark .luna-console-icon-container .luna-console-icon-caret-right{color:#9aa0a6}.luna-console-theme-dark .luna-console-header{border-bottom-color:#3d3d3d}.luna-console-theme-dark .luna-console-nesting-level{border-right-color:#3d3d3d}.luna-console-theme-dark .luna-console-nesting-level::before{border-bottom-color:#3d3d3d}.luna-console-theme-dark .luna-console-preview .luna-console-key{color:#e36eec}.luna-console-theme-dark .luna-console-preview .luna-console-number{color:#9980ff}.luna-console-theme-dark .luna-console-preview .luna-console-null{color:#7f7f7f}.luna-console-theme-dark .luna-console-preview .luna-console-string{color:#f29766}.luna-console-theme-dark .luna-console-preview .luna-console-boolean{color:#9980ff}.luna-console-theme-dark .luna-console-preview .luna-console-special{color:#7f7f7f}",""]),n.exports=e},4987:function(n,e,t){(e=t(3645)(!1)).push([n.id,".luna-data-grid{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;user-select:none;font-size:14px;position:relative;font-size:12px;border:1px solid #ccc;overflow:hidden;outline:0}.luna-data-grid.luna-data-grid-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-data-grid.luna-data-grid-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-data-grid .luna-data-grid-hidden,.luna-data-grid.luna-data-grid-hidden{display:none}.luna-data-grid .luna-data-grid-invisible,.luna-data-grid.luna-data-grid-invisible{visibility:hidden}.luna-data-grid *{box-sizing:border-box}.luna-data-grid.luna-data-grid-theme-dark{color:#a5a5a5;background:#242424;border-color:#3d3d3d}.luna-data-grid table{width:100%;height:100%;border-collapse:separate;border-spacing:0;table-layout:fixed}.luna-data-grid td,.luna-data-grid th{padding:1px 4px;border-left:1px solid #ccc;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.luna-data-grid td:first-child,.luna-data-grid th:first-child{border-left:none}.luna-data-grid th{font-weight:400;border-bottom:1px solid #ccc;text-align:left;background:#f3f3f3}.luna-data-grid th.luna-data-grid-sortable:active,.luna-data-grid th.luna-data-grid-sortable:hover{background:#e6e6e6}.luna-data-grid td{height:20px;cursor:default;-webkit-user-select:text;user-select:text}.luna-data-grid:focus .luna-data-grid-node.luna-data-grid-selected{color:#fff;background:#1a73e8}.luna-data-grid:focus.luna-data-grid-theme-dark .luna-data-grid-node.luna-data-grid-selected{background:#0e639c}.luna-data-grid-data-container,.luna-data-grid-header-container{overflow:hidden}.luna-data-grid-header-container{height:21px}.luna-data-grid-data-container{overflow-y:auto}.luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selected{background:#ddd}.luna-data-grid-data-container tr:nth-child(even){background:#f2f7fd}.luna-data-grid-filler-row td{height:auto}.luna-data-grid-resizer{position:absolute;top:0;bottom:0;width:5px;z-index:500;cursor:col-resize}.luna-data-grid-resizing{cursor:col-resize!important}.luna-data-grid-resizing .luna-data-grid *{cursor:col-resize!important}.luna-data-grid-theme-dark{color-scheme:dark}.luna-data-grid-theme-dark td,.luna-data-grid-theme-dark th{border-color:#3d3d3d}.luna-data-grid-theme-dark th{background:#292a2d}.luna-data-grid-theme-dark th.luna-data-grid-sortable:hover{background:#303030}.luna-data-grid-theme-dark .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selected{background:#393939}.luna-data-grid-theme-dark .luna-data-grid-data-container tr:nth-child(even){background:#0b2544}",""]),n.exports=e},8903:function(n,e,t){(e=t(3645)(!1)).push([n.id,"@font-face{font-family:luna-dom-viewer-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAASgAAsAAAAAB4QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAFwAAACMIRYl8k9TLzIAAAFkAAAAPQAAAFZLxUkaY21hcAAAAaQAAADHAAACWBcU1KRnbHlmAAACbAAAAC4AAAAwabU7V2hlYWQAAAKcAAAALwAAADZzjr4faGhlYQAAAswAAAAYAAAAJAFyANdobXR4AAAC5AAAABAAAAA4AZAAAGxvY2EAAAL0AAAAEAAAAB4AnACQbWF4cAAAAwQAAAAfAAAAIAEZAA9uYW1lAAADJAAAASkAAAIWm5e+CnBvc3QAAARQAAAATgAAAG5m1cqleJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiC2AdNMDGwMckCSGyzHCuSxA2kuIJ+HgReoggtJnANMcwJFGRmYAXZLBkt4nGNgZJBlnMDAysDAUMfQAyRloHQCAyeDMQMDEwMrMwNWEJDmmsJwgEH3IxPDCSBXCEwyMDCCCABbzwhtAAAAeJy1kksKwjAQhr/0oX0JLlyIZ9BDCQXtRkEEwQO56uV6Av0nmZWI4MIJX2H+JvNIBiiBXGxFAWEkYPaQGqKe00S94C5/xVJKwY49PQNnLly5Tdnzqb9JPXByNUT13YKipLVm4wvmilvR0ilfrboKFsy0N9OB2Yco32z+437SLVTQdo05dUksgF8z/8+6+B3dU2m67YR1u3fsLXtH7egtEq04OhZpcKzbk1OLs2NzcXE0F3rNhOW9ObqbKSRsVqYsQfYC6fYeiQB4nGNgZACBlQzTGZgYGMyVxVc2O073AIpAxHsYloHFRc2dPZY2OTIwAACmEQesAAB4nGNgZGBgAOLeSTNM4/ltvjJwM5wACkRxPt7XgKCBYCXDMiDJwcAE4gAAQEgKxAB4nGNgZGBgOMHAACdXMjAyoAI+ADixAkp4nGNgAIITUEwCAABMyAGReJxjYAACHgYJ7BAADsoBLXicY2BkYGDgY2BmANEMDExAzAWEDAz/wXwGAAomASkAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxdxk0KgCAUAOE3/adlJ/FQgqBuFETw+i2kTd9mRiYZvv4ZJmYWVjZ2Dk4UmosbwyPK1Vq69aVnPbamEBuOSqFj8WQSgUgTeQGPtA2iAAA=') format('woff')}[class*=' luna-dom-viewer-icon-'],[class^=luna-dom-viewer-icon-]{display:inline-block;font-family:luna-dom-viewer-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-dom-viewer-icon-arrow-down:before{content:'\\f101'}.luna-dom-viewer-icon-arrow-right:before{content:'\\f102'}.luna-dom-viewer{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;user-select:none;font-size:14px;overflow-y:auto;-webkit-overflow-scrolling:touch;background:0 0;overflow-x:hidden;word-wrap:break-word;padding:0 0 0 12px;font-size:12px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;cursor:default;list-style:none}.luna-dom-viewer.luna-dom-viewer-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-dom-viewer.luna-dom-viewer-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-dom-viewer .luna-dom-viewer-hidden,.luna-dom-viewer.luna-dom-viewer-hidden{display:none}.luna-dom-viewer .luna-dom-viewer-invisible,.luna-dom-viewer.luna-dom-viewer-invisible{visibility:hidden}.luna-dom-viewer *{box-sizing:border-box}.luna-dom-viewer ul{list-style:none}.luna-dom-viewer.luna-dom-viewer-theme-dark{color:#e8eaed}.luna-dom-viewer-toggle{min-width:12px;margin-left:-12px}.luna-dom-viewer-icon-arrow-down,.luna-dom-viewer-icon-arrow-right{position:absolute!important;font-size:12px!important}.luna-dom-viewer-tree-item{line-height:16px;min-height:16px;position:relative;z-index:10;outline:0}.luna-dom-viewer-tree-item.luna-dom-viewer-selected .luna-dom-viewer-selection,.luna-dom-viewer-tree-item:hover .luna-dom-viewer-selection{display:block}.luna-dom-viewer-tree-item:hover .luna-dom-viewer-selection{background:#f2f7fd}.luna-dom-viewer-tree-item.luna-dom-viewer-selected .luna-dom-viewer-selection{background:#e0e0e0}.luna-dom-viewer-tree-item.luna-dom-viewer-selected:focus .luna-dom-viewer-selection{background:#cfe8fc}.luna-dom-viewer-tree-item .luna-dom-viewer-icon-arrow-down{display:none}.luna-dom-viewer-tree-item.luna-dom-viewer-expanded .luna-dom-viewer-icon-arrow-down{display:inline-block}.luna-dom-viewer-tree-item.luna-dom-viewer-expanded .luna-dom-viewer-icon-arrow-right{display:none}.luna-dom-viewer-html-tag{color:#881280}.luna-dom-viewer-tag-name{color:#881280}.luna-dom-viewer-attribute-name{color:#994500}.luna-dom-viewer-attribute-value{color:#1a1aa6}.luna-dom-viewer-attribute-value.luna-dom-viewer-attribute-underline{text-decoration:underline}.luna-dom-viewer-html-comment{color:#236e25}.luna-dom-viewer-selection{position:absolute;display:none;left:-10000px;right:-10000px;top:0;bottom:0;z-index:-1}.luna-dom-viewer-children{margin:0;overflow-x:visible;overflow-y:visible;padding-left:15px}.luna-dom-viewer-text-node .luna-dom-viewer-keyword{color:#881280}.luna-dom-viewer-text-node .luna-dom-viewer-number{color:#1c00cf}.luna-dom-viewer-text-node .luna-dom-viewer-operator{color:grey}.luna-dom-viewer-text-node .luna-dom-viewer-comment{color:#236e25}.luna-dom-viewer-text-node .luna-dom-viewer-string{color:#1a1aa6}.luna-dom-viewer-theme-dark .luna-dom-viewer-icon-arrow-down,.luna-dom-viewer-theme-dark .luna-dom-viewer-icon-arrow-right{color:#9aa0a6}.luna-dom-viewer-theme-dark .luna-dom-viewer-html-tag,.luna-dom-viewer-theme-dark .luna-dom-viewer-tag-name{color:#5db0d7}.luna-dom-viewer-theme-dark .luna-dom-viewer-attribute-name{color:#9bbbdc}.luna-dom-viewer-theme-dark .luna-dom-viewer-attribute-value{color:#f29766}.luna-dom-viewer-theme-dark .luna-dom-viewer-html-comment{color:#898989}.luna-dom-viewer-theme-dark .luna-dom-viewer-tree-item:hover .luna-dom-viewer-selection{background:#083c69}.luna-dom-viewer-theme-dark .luna-dom-viewer-tree-item.luna-dom-viewer-selected .luna-dom-viewer-selection{background:#454545}.luna-dom-viewer-theme-dark .luna-dom-viewer-tree-item.luna-dom-viewer-selected:focus .luna-dom-viewer-selection{background:#073d69}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-keyword{color:#e36eec}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-number{color:#9980ff}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-operator{color:#7f7f7f}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-comment{color:#747474}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-string{color:#f29766}",""]),n.exports=e},5512:function(n,e,t){(e=t(3645)(!1)).push([n.id,"@font-face{font-family:luna-modal-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAQwAAsAAAAABpQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAEkAAABoILgliE9TLzIAAAFUAAAAPQAAAFZL+0kZY21hcAAAAZQAAACBAAAB3sqmCy5nbHlmAAACGAAAAC0AAAA0Ftcaz2hlYWQAAAJIAAAALgAAADZzhL4YaGhlYQAAAngAAAAYAAAAJAFoANBobXR4AAACkAAAAA8AAAAcAMgAAGxvY2EAAAKgAAAADgAAABAATgBObWF4cAAAArAAAAAfAAAAIAESABhuYW1lAAAC0AAAASkAAAIWm5e+CnBvc3QAAAP8AAAAMQAAAEOplauDeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiCWgNIsQMzKwAykWRnYgGxGBiYAk+wFgwAAAHicY2BkkGWcwMDKwMBQx9ADJGWgdAIDJ4MxAwMTAyszA1YQkOaawnCAIfkjI8MJIFcITDIwMIIIAGAqCKIAAAB4nM2RQQqDQAxFXxyVUsST9DhduBd3ggsv0JX39QT6kwYED1D6hzeQD0nmM0ADFPESNdiG4frItfALz/Br3qp7HlS0jEzMLKy7HYf8e33J1HMdortoWuPzreUX8p2hEikj9f+oi3vIyl86JpWYEvfnxH9sSTzPmijXbl+wE7urE5sAAAB4nGNgZACB+UDIzcBgrs6uzi7OLm4ubq4+j1tfn1tPD0xOhjGAJAMDAKekBtMAAAB4nGNgZGBgAGLPuE0l8fw2Xxm4GU4ABaI4H+9rQNBAMB8IGRg4GJhAHAA5KgqUAAB4nGNgZGBgOMHAACfnMzAyoAJ2ADfsAjl4nGNgAIITDFgBABIUAMkAeJxjYAACKQQEAAO4AJ0AAHicY2BkYGBgZ+BhANEMDExAzAWEDAz/wXwGAApKASsAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxjYGKAABiNDtgZmRiZGVkYWRnZGNkZORhYk3Pyi1MZkxlzGPMZixlTGRgANIEEbAAAAA==') format('woff')}[class*=' luna-modal-icon-'],[class^=luna-modal-icon-]{display:inline-block;font-family:luna-modal-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-modal-icon-close:before{content:'\\f101'}.luna-modal{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;user-select:none;font-size:14px;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center}.luna-modal.luna-modal-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-modal.luna-modal-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-modal .luna-modal-hidden,.luna-modal.luna-modal-hidden{display:none}.luna-modal .luna-modal-invisible,.luna-modal.luna-modal-invisible{visibility:hidden}.luna-modal *{box-sizing:border-box}.luna-modal-icon-close{position:absolute;right:16px;top:18px;cursor:pointer;font-size:20px}.luna-modal-body{position:relative;background:#fff;max-height:100%;display:flex;flex-direction:column;border-radius:4px}.luna-modal-body.luna-modal-no-title{position:static}.luna-modal-body.luna-modal-no-title .luna-modal-title{display:none}.luna-modal-body.luna-modal-no-title .luna-modal-icon-close{color:#fff}.luna-modal-body.luna-modal-no-footer .luna-modal-footer{display:none}.luna-modal-hidden{display:none}.luna-modal-title{padding:16px;padding-right:36px;padding-bottom:0;font-size:18px;height:46px;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.luna-modal-content{padding:16px;overflow-y:auto}.luna-modal-footer{padding:12px}.luna-modal-button-group{display:flex;justify-content:flex-end}.luna-modal-button{padding:0 12px;background:#e9ecef;cursor:default;position:relative;-webkit-user-select:none;user-select:none;margin:0 4px;font-size:12px;border-radius:4px;overflow:hidden;height:28px;line-height:28px}.luna-modal-button:active::before{background:#1a73e8;content:'';opacity:.4;position:absolute;top:0;left:0;width:100%;height:100%;z-index:2}.luna-modal-button.luna-modal-secondary{color:#1a73e8;border:1px solid #ccc;background:#fff}.luna-modal-button.luna-modal-primary{color:#fff;background:#1a73e8}.luna-modal-input{box-sizing:border-box;outline:0;width:100%;font-size:16px;padding:6px 12px;border:1px solid #ccc;-webkit-appearance:none;-moz-appearance:none}.luna-modal-theme-dark{color:#a5a5a5}.luna-modal-theme-dark .luna-modal-body{background:#242424}",""]),n.exports=e},7591:function(n,e,t){(e=t(3645)(!1)).push([n.id,".luna-notification{position:fixed;top:0;left:0;width:100%;height:100%;padding:20px;box-sizing:border-box;pointer-events:none;display:flex;flex-direction:column;font-size:14px;font-family:Arial,Helvetica,sans-serif}.luna-notification-item{display:flex;box-shadow:0 2px 2px 0 rgba(0,0,0,.07),0 1px 5px 0 rgba(0,0,0,.1);padding:10px 16px;color:#333;background:#fff}.luna-notification-lower{margin-top:16px}.luna-notification-upper{margin-bottom:16px}.luna-notification-theme-dark .luna-notification-item{box-shadow:0 2px 2px 0 rgba(255,255,255,.07),0 1px 5px 0 rgba(255,255,255,.1);color:#a5a5a5;background:#242424}",""]),n.exports=e},4821:function(n,e,t){(e=t(3645)(!1)).push([n.id,"@font-face{font-family:luna-object-viewer-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAS8AAsAAAAAB7QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAGEAAACMISgl+k9TLzIAAAFsAAAAPQAAAFZLxUkWY21hcAAAAawAAADWAAACdBU42qdnbHlmAAAChAAAAC4AAAAwabU7V2hlYWQAAAK0AAAALwAAADZzjr4faGhlYQAAAuQAAAAYAAAAJAFyANlobXR4AAAC/AAAABAAAABAAZAAAGxvY2EAAAMMAAAAEAAAACIAtACobWF4cAAAAxwAAAAfAAAAIAEbAA9uYW1lAAADPAAAASkAAAIWm5e+CnBvc3QAAARoAAAAUwAAAHZW8MNZeJxNjTsOQFAQRc/z/+sV1mABohKV0gZeJRJR2X9cT4RJZu7nFIMBMjoGvHGaF6rdngcNAc/c/O/Nvq2W5E1igdNE2zv1iGh1c5FQPlYXUlJRyxt9+/pUKadQa/AveGEGZQAAAHicY2BkkGScwMDKwMBQx9ADJGWgdAIDJ4MxAwMTAyszA1YQkOaawnCAQfcjE8MJIFcITDIwMIIIAFqDCGkAAAB4nM2STQ4BQRCFv54ZP8MwFhYW4gQcShBsSERi50BWDuFCcwJedddKRGKnOt8k9aanqudVAy0gF3NRQLgTsLhJDVHP6UW94Kp8zEhKwYIlG/YcOXHm0mTPp96aumLLwdUQ1fcIqmJrwpSZL+iqak5JmyE1Ayr1bdGhr/2ZPmp/qPQtuj/uJzqQl+pfDyypesQD6AT/ElV8PjyrMccT9rdLR3PUFBI227VTio1jbm6dodg5VnPvmAsHxzofHfmi+Sbs/pwdWcXFkWdNSNg9arIE2QufuSCyAAB4nGNgZACBlQzTGZgYGMyVxVc2O073AIpAxHsYloHFRc2dPZY2OTIwAACmEQesAAB4nGNgZGBgAOINe2b6x/PbfGXgZjgBFIjifLyvAUEDwUqGZUCSg4EJxAEAUn4LLAB4nGNgZGBgOMHAACdXMjAyoAIBADizAkx4nGNgAIITUEwGAABZUAGReJxjYAACHgYJ3BAAE94BXXicY2BkYGAQYGBmANEMDExAzAWEDAz/wXwGAApcASsAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxdxjkOgCAUANE/uOOGB+FQBIjaaEJIuL6FsfE1M6Lk9fXPoKioaWjp6BnQjEzMLKwYNtHepZhtuMs1vpvO/ch4HIlIxhK4KVyc7BwiD8nvDlkA') format('woff')}[class*=' luna-object-viewer-icon-'],[class^=luna-object-viewer-icon-]{display:inline-block;font-family:luna-object-viewer-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-object-viewer-icon-caret-down:before{content:'\\f101'}.luna-object-viewer-icon-caret-right:before{content:'\\f102'}.luna-object-viewer{overflow-x:auto;-webkit-overflow-scrolling:touch;overflow-y:hidden;cursor:default;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:12px;line-height:1.2;min-height:100%;color:#333;list-style:none!important}.luna-object-viewer ul{list-style:none!important;padding:0!important;padding-left:12px!important;margin:0!important}.luna-object-viewer li{position:relative;white-space:nowrap;line-height:16px;min-height:16px}.luna-object-viewer>li>.luna-object-viewer-key{display:none}.luna-object-viewer span{position:static!important}.luna-object-viewer li .luna-object-viewer-collapsed~.luna-object-viewer-close:before{color:#999}.luna-object-viewer-array .luna-object-viewer-object .luna-object-viewer-key{display:inline}.luna-object-viewer-null{color:#5e5e5e}.luna-object-viewer-regexp,.luna-object-viewer-string{color:#c41a16}.luna-object-viewer-number{color:#1c00cf}.luna-object-viewer-boolean{color:#0d22aa}.luna-object-viewer-special{color:#5e5e5e}.luna-object-viewer-key,.luna-object-viewer-key-lighter{color:#881391}.luna-object-viewer-key-lighter{opacity:.6}.luna-object-viewer-key-special{color:#5e5e5e}.luna-object-viewer-collapsed .luna-object-viewer-icon,.luna-object-viewer-expanded .luna-object-viewer-icon{position:absolute!important;left:-12px;color:#727272;font-size:12px}.luna-object-viewer-icon-caret-right{top:0}.luna-object-viewer-icon-caret-down{top:1px}.luna-object-viewer-expanded>.luna-object-viewer-icon-caret-down{display:inline}.luna-object-viewer-expanded>.luna-object-viewer-icon-caret-right{display:none}.luna-object-viewer-collapsed>.luna-object-viewer-icon-caret-down{display:none}.luna-object-viewer-collapsed>.luna-object-viewer-icon-caret-right{display:inline}.luna-object-viewer-hidden~ul{display:none}.luna-object-viewer-theme-dark{color:#fff}.luna-object-viewer-theme-dark .luna-object-viewer-null,.luna-object-viewer-theme-dark .luna-object-viewer-special{color:#a1a1a1}.luna-object-viewer-theme-dark .luna-object-viewer-regexp,.luna-object-viewer-theme-dark .luna-object-viewer-string{color:#f28b54}.luna-object-viewer-theme-dark .luna-object-viewer-boolean,.luna-object-viewer-theme-dark .luna-object-viewer-number{color:#9980ff}.luna-object-viewer-theme-dark .luna-object-viewer-key,.luna-object-viewer-theme-dark .luna-object-viewer-key-lighter{color:#5db0d7}",""]),n.exports=e},9819:function(n,e,t){(e=t(3645)(!1)).push([n.id,`.luna-setting{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;user-select:none;font-size:14px;min-width:320px}.luna-setting.luna-setting-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-setting.luna-setting-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-setting .luna-setting-hidden,.luna-setting.luna-setting-hidden{display:none}.luna-setting .luna-setting-invisible,.luna-setting.luna-setting-invisible{visibility:hidden}.luna-setting *{box-sizing:border-box}.luna-setting-item:hover{background:#f3f3f3}.luna-setting-item .luna-setting-title{line-height:1.4em;font-weight:600}.luna-setting-item .luna-setting-description{line-height:1.4em}.luna-setting-item .luna-setting-control,.luna-setting-item .luna-setting-description{font-size:12px}.luna-setting-item .luna-setting-description{margin-bottom:8px}.luna-setting-item .luna-setting-control{display:flex;align-items:center}.luna-setting-item-button,.luna-setting-item-checkbox,.luna-setting-item-input,.luna-setting-item-number,.luna-setting-item-select,.luna-setting-item-title{padding:10px}.luna-setting-item-title{font-size:18px;font-weight:600}.luna-setting-item-input input{-webkit-tap-highlight-color:transparent;color:#333;-webkit-appearance:none;appearance:none;border:1px solid #ccc;outline:0;padding:2px 8px;border-radius:0;font-size:14px;background:#fff;width:100%}.luna-setting-item-number input[type=number]{-webkit-tap-highlight-color:transparent;color:#333;-webkit-appearance:none;appearance:none;border:1px solid #ccc;outline:0;padding:2px 8px;border-radius:0;font-size:14px;background:#fff;width:200px;padding:2px}.luna-setting-item-number .luna-setting-range-container{flex:2;position:relative;top:1px}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track{height:4px;width:100%;padding:0 10px;position:absolute;left:0;top:4px}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar{background:#ccc;border-radius:2px;overflow:hidden;width:100%;height:4px}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar .luna-setting-range-track-progress{height:100%;background:#1a73e8;width:50%}.luna-setting-item-number .luna-setting-range-container input{-webkit-appearance:none;background:0 0;height:4px;width:100%;position:relative;top:-3px;margin:0 auto;outline:0;border-radius:2px}.luna-setting-item-number .luna-setting-range-container input::-webkit-slider-thumb{-webkit-appearance:none;position:relative;top:0;z-index:1;width:16px;border:none;height:16px;border-radius:10px;border:1px solid #ccc;background:radial-gradient(circle at center,#eee 0,#eee 15%,#fff 22%,#fff 100%)}.luna-setting-item-checkbox input{-webkit-appearance:none;appearance:none;width:14px;height:14px;border:1px solid #ccc;border-radius:0;position:relative;outline:0;margin-left:0;margin-right:8px;transition:background-color .1s}.luna-setting-item-checkbox input:checked{background-color:#1a73e8;border-color:#1a73e8}.luna-setting-item-checkbox input:checked:after{content:"";width:100%;height:100%;position:absolute;left:0;top:0;background-image:url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwMHB4JyB3aWR0aD0nMzAwcHgnICBmaWxsPSIjZmZmZmZmIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgdmVyc2lvbj0iMS4xIiB4PSIwcHgiIHk9IjBweCI+PHRpdGxlPmljb25fYnlfUG9zaGx5YWtvdjEwPC90aXRsZT48ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz48ZyBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyBmaWxsPSIjZmZmZmZmIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi4wMDAwMDAsIDI2LjAwMDAwMCkiPjxwYXRoIGQ9Ik0xNy45OTk5ODc4LDMyLjQgTDEwLjk5OTk4NzgsMjUuNCBDMTAuMjI2Nzg5MSwyNC42MjY4MDE0IDguOTczMTg2NDQsMjQuNjI2ODAxNCA4LjE5OTk4Nzc5LDI1LjQgTDguMTk5OTg3NzksMjUuNCBDNy40MjY3ODkxNCwyNi4xNzMxOTg2IDcuNDI2Nzg5MTQsMjcuNDI2ODAxNCA4LjE5OTk4Nzc5LDI4LjIgTDE2LjU4NTc3NDIsMzYuNTg1Nzg2NCBDMTcuMzY2ODIyOCwzNy4zNjY4MzUgMTguNjMzMTUyOCwzNy4zNjY4MzUgMTkuNDE0MjAxNCwzNi41ODU3ODY0IEw0MC41OTk5ODc4LDE1LjQgQzQxLjM3MzE4NjQsMTQuNjI2ODAxNCA0MS4zNzMxODY0LDEzLjM3MzE5ODYgNDAuNTk5OTg3OCwxMi42IEw0MC41OTk5ODc4LDEyLjYgQzM5LjgyNjc4OTEsMTEuODI2ODAxNCAzOC41NzMxODY0LDExLjgyNjgwMTQgMzcuNzk5OTg3OCwxMi42IEwxNy45OTk5ODc4LDMyLjQgWiI+PC9wYXRoPjwvZz48L2c+PC9nPjwvc3ZnPg==);background-size:30px;background-repeat:no-repeat;background-position:center}.luna-setting-item-checkbox label{-webkit-tap-highlight-color:transparent}.luna-setting-item-select .luna-setting-select{position:relative}.luna-setting-item-select .luna-setting-select select{margin:0;font-size:14px;background:#fff;-webkit-appearance:none;appearance:none;border:1px solid #ccc;padding:2px 8px;padding-right:18px;outline:0;color:#333;border-radius:0;-webkit-tap-highlight-color:transparent}.luna-setting-item-select .luna-setting-select:after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #333;position:absolute;top:0;bottom:0;right:6px;margin:auto;pointer-events:none}.luna-setting-item-select .luna-setting-select select{width:300px}.luna-setting-item-button button{-webkit-tap-highlight-color:transparent;background:#fff;border:1px solid #ccc;padding:2px 8px;color:#1a73e8;font-size:14px;border-radius:2px}.luna-setting-item-button button:active,.luna-setting-item-button button:hover{background:#f3f3f3}.luna-setting-item-button button:active{border:1px solid #1a73e8}.luna-setting-item-separator{border-bottom:1px solid #ccc}.luna-setting-theme-dark{color-scheme:dark;color:#a5a5a5;background:#242424}.luna-setting-theme-dark .luna-setting-item:hover{background:#292a2d}.luna-setting-theme-dark .luna-setting-item-separator{border-color:#3d3d3d}.luna-setting-theme-dark .luna-setting-item-input input{background:#3d3d3d;border-color:#3d3d3d;color:#a5a5a5}.luna-setting-theme-dark .luna-setting-item-checkbox input{border-color:#3d3d3d}.luna-setting-theme-dark .luna-setting-item-select .luna-setting-select select{color:#a5a5a5;border-color:#3d3d3d;background:#3d3d3d}.luna-setting-theme-dark .luna-setting-item-select .luna-setting-select:after{border-top-color:#a5a5a5}.luna-setting-theme-dark .luna-setting-item-button button{background:#242424;border-color:#3d3d3d}.luna-setting-theme-dark .luna-setting-item-button button:active,.luna-setting-theme-dark .luna-setting-item-button button:hover{background:#292a2d}.luna-setting-theme-dark .luna-setting-item-button button:active{border:1px solid #1a73e8}.luna-setting-theme-dark .luna-setting-item-number input[type=number]{background:#3d3d3d;border-color:#3d3d3d;color:#a5a5a5}.luna-setting-theme-dark .luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar{background:#3d3d3d}.luna-setting-theme-dark .luna-setting-item-number .luna-setting-range-container input::-webkit-slider-thumb{border-color:#3d3d3d;background:radial-gradient(circle at center,#aaa 0,#aaa 15%,#ccc 22%,#ccc 100%)}`,""]),n.exports=e},2156:function(n,e,t){(e=t(3645)(!1)).push([n.id,".luna-tab{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;user-select:none;font-size:14px;position:relative;overflow:hidden;width:100%}.luna-tab.luna-tab-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-tab.luna-tab-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-tab .luna-tab-hidden,.luna-tab.luna-tab-hidden{display:none}.luna-tab .luna-tab-invisible,.luna-tab.luna-tab-invisible{visibility:hidden}.luna-tab *{box-sizing:border-box}.luna-tab-tabs-container{border-bottom:1px solid #ccc}.luna-tab-tabs{overflow-x:auto;-webkit-overflow-scrolling:touch;overflow-y:hidden;width:100%;height:100%;font-size:0;white-space:nowrap}.luna-tab-tabs::-webkit-scrollbar{display:none;width:0;height:0}.luna-tab-item{cursor:pointer;display:inline-block;padding:0 10px;font-size:12px;text-align:center;text-transform:capitalize}.luna-tab-item:hover{background:#f3f3f3}.luna-tab-slider{transition:left .3s,width .3s;height:1px;background:#1a73e8;position:absolute;bottom:0;left:0}",""]),n.exports=e},5777:function(n,e,t){(e=t(3645)(!1)).push([n.id,"@font-face{font-family:luna-text-viewer-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAS0AAsAAAAAB2QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAFQAAAB0INElr09TLzIAAAFcAAAAPQAAAFZL+0klY21hcAAAAZwAAACfAAACEAEewxRnbHlmAAACPAAAAIYAAACkNSDggmhlYWQAAALEAAAALgAAADZzrb4oaGhlYQAAAvQAAAAWAAAAJAGRANNobXR4AAADDAAAABAAAAAoAZAAAGxvY2EAAAMcAAAAEAAAABYBWgFIbWF4cAAAAywAAAAdAAAAIAEXADtuYW1lAAADTAAAASkAAAIWm5e+CnBvc3QAAAR4AAAAOwAAAFJIWdOleJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBWAdNMDGwMQkAWK1CGlYEZyGMCstiBMpxAUUYGZgDbGgXDeJxjYGTQYJzAwMrAwFDH0AMkZaB0AgMngzEDAxMDKzMDVhCQ5prCcIAh+SMTwwkgVwhMMjAwgggAY84IrgAAAHicvZFLCsMwDERHzsdJ6aL0HD1VQiDQRbIN9Axd9aI+QTpjq5Bdd5F4Bo1lybIBNAAq8iA1YB8YZG+qlvUKl6zXGBjf6MofMWHGEyu2FPb9oCxULCtHs3yy+J2urg1rtojo0HM/MKnFGabOGlbdYvdT+1N6/7drXl8e6Vajo3efHP3b7HAUvntBMy1OJKujMTeHNZMV9McpFBC+tLgY4QB4nGNgZACBEwzrGdgZGOwZxdnVDdXNPfKEGlhchO0KhZtZ3IQYmMFq1jCsZpBi0GLQY2AwNzGzZjQSk2UUYdNmVFID8UyVRUXYlNRMlVGlTM1FjU3tmZkTmVhYmFRBhHwoCyuzKgtTIjMzWJg3ZClIGMRlZQmVB7GhMixM0aGhQIsB52sTqgAAeJxjYGRgYADi2JNxkvH8Nl8ZuBlOAAWiOB/va0DQQHCCYT2Q5GBgAnEANJ0KnQAAeJxjYGRgYDjBwIBEMjKgAi4AOvoCZQAAeJxjYACCE1CMBwAAM7gBkXicY2AAAiGGIFQIABXIAqN4nGNgZGBg4GLQZ2BmAAEmMI8LSP4H8xkADjQBUwAAAHicZZA9bsJAFITHYEgCUoIUKSmzVQoimZ+SA0BPQZfCmLUxsr3WekGiywlyhBwhp4hyghwoY/NoYC0/fzNv3u7KAAb4hYd6ebhtar1auKE6cZv0IOyTn4U76ONFuEt/KNzDG6bCfTzinTt4/h2dAUrhFu7xIdym/ynsk7+EO3jCt3CX/o9wDyv8Cffx6g3TyBSxKdxSJ/sstGd5/q60rVJTqEkwPlsLXWgbOr1R66OqDsnUuVjF1uRqzq7OMqNKa3Y6csHWuXI2GsXiB5HJkSKCQYG4qQ5LaCTYI0MIe9W91CumLSr6tVaYIMD4KrVgqmiSIZXGhsk1jqwVDjxtStcxrfhazuSkucxq3iQjK/7vurejE9EPsG2mSsww4hNf5IPmDvk/PRFeqAAAAHicXcU7CsAgFEXBe4x/l/kQBAtt3X0KSZNpRk7X91/F8eAJRBKZQqUp2Og2va19MAadyWJzpBd4kgcWAA==') format('woff')}[class*=' luna-text-viewer-icon-'],[class^=luna-text-viewer-icon-]{display:inline-block;font-family:luna-text-viewer-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-text-viewer-icon-check:before{content:'\\f101'}.luna-text-viewer-icon-copy:before{content:'\\f102'}.luna-text-viewer{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;user-select:none;font-size:14px;padding:0;unicode-bidi:embed;position:relative;overflow:auto;border:1px solid #ccc}.luna-text-viewer.luna-text-viewer-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-text-viewer.luna-text-viewer-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-text-viewer .luna-text-viewer-hidden,.luna-text-viewer.luna-text-viewer-hidden{display:none}.luna-text-viewer .luna-text-viewer-invisible,.luna-text-viewer.luna-text-viewer-invisible{visibility:hidden}.luna-text-viewer *{box-sizing:border-box}.luna-text-viewer.luna-text-viewer-theme-dark{color:#d9d9d9;border-color:#3d3d3d;background:#242424}.luna-text-viewer:hover .luna-text-viewer-copy{opacity:1}.luna-text-viewer-table{display:table}.luna-text-viewer-table .luna-text-viewer-line-number,.luna-text-viewer-table .luna-text-viewer-line-text{padding:0}.luna-text-viewer-table-row{display:table-row}.luna-text-viewer-line-number{display:table-cell;padding:0 3px 0 8px!important;text-align:right;vertical-align:top;-webkit-user-select:none;user-select:none;border-right:1px solid #ccc}.luna-text-viewer-line-text{display:table-cell;padding-left:4px!important;-webkit-user-select:text;user-select:text}.luna-text-viewer-copy{background:#fff;opacity:0;position:absolute;right:5px;top:5px;border:1px solid #ccc;border-radius:4px;width:25px;height:25px;text-align:center;line-height:25px;cursor:pointer;transition:opacity .3s,top .3s}.luna-text-viewer-copy .luna-text-viewer-icon-check{color:#188037}.luna-text-viewer-text{padding:4px;font-size:12px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;box-sizing:border-box;white-space:pre;display:block}.luna-text-viewer-text.luna-text-viewer-line-numbers{padding:0}.luna-text-viewer-text.luna-text-viewer-wrap-long-lines{white-space:pre-wrap}.luna-text-viewer-text.luna-text-viewer-wrap-long-lines .luna-text-viewer-line-text{word-break:break-all}.luna-text-viewer-theme-dark{color-scheme:dark}.luna-text-viewer-theme-dark .luna-text-viewer-copy,.luna-text-viewer-theme-dark .luna-text-viewer-line-number{border-color:#3d3d3d}.luna-text-viewer-theme-dark .luna-text-viewer-copy .luna-text-viewer-icon-check{color:#81c995}.luna-text-viewer-theme-dark .luna-text-viewer-copy{background-color:#242424}",""]),n.exports=e},5357:function(n,e,t){(e=t(3645)(!1)).push([n.id,"@font-face{font-family:eruda-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAA6UAAsAAAAAGvAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAARoAAAHeLjoycE9TLzIAAAIkAAAAPwAAAFZWm1KoY21hcAAAAmQAAAFdAAADwhPu1O9nbHlmAAADxAAAB+wAAA9I7RPQpGhlYWQAAAuwAAAAMQAAADZ26MSyaGhlYQAAC+QAAAAdAAAAJAgEBC9obXR4AAAMBAAAAB0AAACwXAv//GxvY2EAAAwkAAAAOwAAAFpuVmoybWF4cAAADGAAAAAfAAAAIAE9AQ1uYW1lAAAMgAAAASkAAAIWm5e+CnBvc3QAAA2sAAAA5QAAAU4VMmUJeJxNkD1Ow0AQhb9NHGISCH9RiB0cErCNHRrqFFSIyqKiQHSpEFJERUnBCTgPZ+AEHIe34wDe1f69efPezOKAHldc07q5re4ZrFevL8QE1MPHm3e3fn5aEf6+FAvsDHHuTUoxd7zzwSdffLulq9wjLbaYau8TacZMONE554xzZsrtNfBEzFOhbSmOyTmga0ikvRR/37RSsSMyDukYPjWdgGOtsSK55Y/k0Bf/ksK0MrbFr70idsVZKNPnDcSay3umd2TISCvWTJSxI78lFQ/C+qbv/Zo9tNXDP55ZL7k0Q90u5F5XX0qrYx16btccCtXg/ULrKzGFuqY9rUTMhf3fkCNj+MxUnsM/frr5Qx+ZbH4vVQ0F5Q/ZQBvxAAB4nGNgZJJgnMDAysDA1Mt0hoGBoR9CM75mMGLkAIoysDIzYAUBaa4pDAcYdD+KsIC4MSxMDIxAGoQZALgnCOUAeJy1011SGlEQhuF3BFHxD5UUyr8gIJIsiiKJsSqJlrHKsJssKFeuxF6Bfj3dF96aqhzqoZnDzJyG8w2wCVTko1SheKLAx1/NFuV8hXo5X+WPjht6+fmfWHLDHQ+srfnykjMrvnPPoxXlzNtRlFc26HLBZblal1N9ntBnwIgx5/SYMaWt78+YM6TDgitduaEVq+q0xhbb7KifPQ441N2OOOaEJh9oaYka7xvdd57vQz1P+oPR+Bx6s2lbrc6H0Flc/cO9/sfY87fiOY8u8X0J/muX6VRW6UI+p4l8SX35mgZynUbyLY3lJukf0e6HnvxIM/mZpnKb2nKXvM/7dCa/0lwe0lAeU0d+p4Wsk3bBiuDptY2A10rw9Fo1eOJtM/iTYLWA162A1+2A152A13rwJ8R2g++AJaUU2w/KK3YQlFzsMCjDWCMozdhRUK6x46CEYydBWceagdYraihRngAAAHic7RdbbBxX9Z57Z2d2d2ZndryzM7ve9ax3NztjO/bann0lTuW16zoBJSWJ7Zg83NiUJCQ1Ik2ikKQJNC9FFQqVEG0RVLQoSpEKH2klqgpEIyWAUMRTNBJC/PUDhETgiwhQd8y5s1s7oqr624/srO6ce89zzjn3nHsJEPwxyn5GVEJKBTcCdc80pAiYhkjfNWL+NnhLdTKqfxVOqJlxFX6E84wb86/6X4+5GRLw0/vsOgkREoFGBFx62P/uFviBP78FWrC02d/r79vcpmMl+k2uBwwJxIILTrVeyXsmK8krRLb5YGqUaCb9ksYnMuBqMtnRcY6V1nidml6texaY9CxSRm3TtKNIjcxrUjhEWKD3OnuNJEgPKSG/I6nUpo06fxwXH8lmEoyDFQIVyrROs7254z990rj0u2PLez47WqG1yu69V7ZdfDxU9He4C6P+v+HN+vlnD9Uou0Zp+NnfvveT/XL0kbGFxT/u37tx7CTdeuGlKfiibcMr/gt9qfyu05e4+YEdb7A3iEVG0ArdEAvDIPHBqTbB7bgCDA0sdH0x3/nEHDT4YFJi9siz74iaOBkK3ZyRTRXwE+FGG15BeA0Pf14hqinP3AyFJnHhnVm5xzThmNSBNFjDdvwzw75GFJIlvWhZ1UHlYlI3zIputa3CSduiRF7P09e9on+jODpanPOKsJMDOPV2wU7/BqsVPcQ2ix41X/8ARKpbfhPVtHNgik1hXAhIlmQ1rIbbcCVIzN/7+65794KRTc13IBwJXVkhRACBkAEyhVyiBqJbRn81YRjKUDfRN9xHpoVBt0xJRZ+iS4ehZFg2utJrjCO2GrAUAizcj+c3pXpiXVQwThZmdNrbrx+hAjtjbhSF5FPyKSsqmGraWKYCbfl97vMLi79fXHje7XsAhBsoo0P35fyMPpCj+lM0FDptJexuYzl82upRufxlKgrTh/+fOwBXc+Jt9jZJBTnxUbH/yGT5j4jRT2pB9O1oO/oi3FyD2/ggU14LY/j5RuHTJIZf5LR/WVmbaB2CT6xdQa4KwJZIHPfyMFoWRNSmQZDLlJVpdRw8GwwVWEGlScOGijdOq2VKyfHDB7/d1/+d37zXeT/dXG42l7/Kh2a20pd0JpxsxTVNt8KWyuu/94Ujr+7uvFpvQXP5PCfEAU4l+6pZZ9Ix3eqGqmsGrvok28V+zi6TKEYyi/Udt0MNavkkJC1e+vQA1tGqil6EV93j/UBbY0AXm/2Vku+z53x/8MDT5879U9Nb4Cqq/yf/WEjReiECfS9+C2f/6umFS/77q3t7kp0nGu8DTrFTQrwG1KtsoHVXlnXL0qMKHTRpGbaJlt7aoVsSbO3aQFb5L7MTJElIwrBMvnWxQteCEl2QREn8Ci/Ef9i7u1IT6tX5Pb/ePV+rUXKEL3DMkUPzc6OeNzo3/6C8K2QdrzVlKAYyHhBcxGgUyoCRqXimJZXYwYO1y1tWxQWKLkyfunpqevrU5vJs4SQ02JUDw94qMlC6maORJpc9AR/Sm7C4cK7S4MoL/FNqFYy+Nw5VbpIoWaWXP0atf+fj1Lb36w12h6SxShIouuNQw+TCVDNsWvHqDStpNUoFnobUs6mhUvpmn+r2VxaeuXjmCc974vSjm44OxfytrXeH5iaKxYm5fXMThcLEHLwcGzq66dHTnObMxWcWKv2u2tfa1ipMzu7rEM5OFshqLfsFu4R9thszrVjAUoHFgH98DxRreb3CK74rMTh/bWmJTq9Pd0nCZOvsbfrYrVsTty9cOPc5Or2U6spq8rXbrbNAL9yeuHWLYuEnEiErK0JIAPIN8kNyl9wn/yUt7mioN6GGTi1jDQrypNPRxQ+8zREatnUsVtgbcDHAaZA0rc6TxOIWLPFVXLDbvYRT45CDSnBOqFhee4aTcWw8gapGnS+Z+EYrOuqh825jrY5WSVwPDSewh/OWqYueCJQFEjhELTdgcdEODjUCo5yge7lcAlJxRSgceyZyu5LFfqnaeldKlsyunnK6N6LEaUSqTSndgpZK7jC7NZaR7LGcGhXwgMNC+WFt0MxEomZcECQ9EY4JkgAQDilSNKnGuxXJ0u2hdG9YUZkiZcfWpaOWkUv0G6IaCseVVH81o0dEEClKGokassX0hKSk44PxBGOS4E8cmNk+OMSY5+2cXfz8zI4hrG4jI9tnFpW/hqKx7PCnH1O7wpFkqeANT4IUVhopPTUwnNJxzSlUzLASV+4YfUIkpoQFTYvoMUFkJgtJ/Z6VEIyymx4usdCW5CuDc9s+dZDm6GeiejTl1jN6VFKUdMHMlUIWzaQEOdyrKHIsL0VZJB0TE1rUlLvCo71yPKya3dW+ONBQRBajUdPuKoXFsBAOiYoUdx7JtSXlU3ZJNAW1O+4ktBCFqBjLJhMW97JgyonISE5kVIJQJJ6tO6nueCJj1TV/D6uMzu06tH/H44NlRr3RnbNPLu7cXh75sWOklURzi5ZI9dgqG6tuEAf0bkWX0/0j6S6+RjfaYiQsbkKHhuNdms6kUExWZNGSlJgzkjIGjPK61KjLxOvGc/1/27r9KOQe7omHe+LhnvjQnmArLTyHMYHiPbGbFLEL4Q1BxOsiHrfy2HIBz67BXQbPsVbB4TNDZP/wF4x63cAxUl/PRtbXI61f2QM2/iuZUqleKr3ABp1Mxnn/rjvpOJN0b9K2k/73+Xi/VHOcGl4qyf8AzjWNo3icY2BkYGAA4uhnXafj+W2+MnCzgASiOB/va4DR///+/8/CysIElOBgAJEMAHS2DWQAAAB4nGNgZGBgYQABFtb/f///ZWFlYGRABToAW+YEPQAAAHicY2BgYGAhiP//J6wGCbNCMcP/vwxUBgDl4QRhAAAAeJxjYAACBQYThiCGAoYtjAyMZowBjPuYuJjCmBYxvWNWYXZhzmFewfyIRYUliPUOexr7EmIhAF3rF0sAeJxjYGRgYNBhZGRgZwABJiDmAkIGhv9gPgMADcIBTAB4nGWQPW7CQBSEx2BIAlKCFCkps1UKIpmfkgNAT0GXwpi1MbK91npBossJcoQcIaeIcoIcKGPzaGAtP38zb97uygAG+IWHenm4bWq9WrihOnGb9CDsk5+FO+jjRbhLfyjcwxumwn084p07eP4dnQFK4Rbu8SHcpv8p7JO/hDt4wrdwl/6PcA8r/An38eoN08gUsSncUif7LLRnef6utK1SU6hJMD5bC11oGzq9Ueujqg7J1LlYxdbkas6uzjKjSmt2OnLB1rlyNhrF4geRyZEigkGBuKkOS2gk2CNDCHvVvdQrpi0q+rVWmCDA+Cq1YKpokiGVxobJNY6sFQ48bUrXMa34Ws7kpLnMat4kIyv+77q3oxPRD7BtpkrMMOITX+SD5g75Pz0RXqgAAAB4nG2MyW6DQBiD+RKYpKT7vqf7Gg55pNHwEyJNGDSMRHj70nKtD7Zly45G0YA0+h8LRoyJSVBMmLJDyoxd9tjngEOOOOaEU84454JLrrjmhlvuuGfOA4888cwLr7zxzgeffPHNgixKtfeuzawUYTZYv16VITXaS8hy11azwf7FibGi/dS4Te2laWLj6k7lYiVIIv3aK9nWusqng2TLsXR900m2VMXaBvFxbXWnvBjn84mXor8pk54kqKa/NmUvVkyIg3NW/VK2jFvtKzQeR0uGRSgIrFlRYsip2FDT0LGNoh/MCkh9AAAA') format('woff')}[class*=' _icon-'],[class^='_icon-']{display:inline-block;font-family:eruda-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}._icon-arrow-left:before{content:'\\f101'}._icon-arrow-right:before{content:'\\f102'}._icon-caret-down:before{content:'\\f103'}._icon-caret-right:before{content:'\\f104'}._icon-clear:before{content:'\\f105'}._icon-compress:before{content:'\\f106'}._icon-copy:before{content:'\\f107'}._icon-delete:before{content:'\\f108'}._icon-error:before{content:'\\f109'}._icon-expand:before{content:'\\f10a'}._icon-eye:before{content:'\\f10b'}._icon-filter:before{content:'\\f10c'}._icon-play:before{content:'\\f10d'}._icon-record:before{content:'\\f10e'}._icon-refresh:before{content:'\\f10f'}._icon-reset:before{content:'\\f110'}._icon-search:before{content:'\\f111'}._icon-select:before{content:'\\f112'}._icon-tool:before{content:'\\f113'}._icon-warn:before{content:'\\f114'}",""]),n.exports=e},3645:function(n){n.exports=function(e){var t=[];return t.toString=function(){return this.map(function(r){var i=function(o,s){var a=o[1]||"",c=o[3];if(!c)return a;if(s&&typeof btoa=="function"){var l=(h=c,d=btoa(unescape(encodeURIComponent(JSON.stringify(h)))),p="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(d),"/*# ".concat(p," */")),u=c.sources.map(function(f){return"/*# sourceURL=".concat(c.sourceRoot||"").concat(f," */")});return[a].concat(u).concat([l]).join(`
`)}var h,d,p;return[a].join(`
`)}(r,e);return r[2]?"@media ".concat(r[2]," {").concat(i,"}"):i}).join("")},t.i=function(r,i,o){typeof r=="string"&&(r=[[null,r,""]]);var s={};if(o)for(var a=0;a<this.length;a++){var c=this[a][0];c!=null&&(s[c]=!0)}for(var l=0;l<r.length;l++){var u=[].concat(r[l]);o&&s[u[0]]||(i&&(u[2]?u[2]="".concat(i," and ").concat(u[2]):u[2]=i),t.push(u))}},t}},1512:function(n,e,t){var r=t(3244),i=t(6906),o=t(7665),s=t(975),a=t(4991),c=t(4209),l=t(9702),u=t(6757),h=t(8381),d=t(5543),p=t(7781),f=t(8908),m=t(1286),g=t(6768);e=function(y){return new r(y)},r.methods({offset:function(){return i(this)},hide:function(){return this.css("display","none")},show:function(){return o(this),this},first:function(){return e(this[0])},last:function(){return e(l(this))},get:function(y){return this[y]},eq:function(y){return e(this[y])},on:function(y,A,x){return d.on(this,y,A,x),this},off:function(y,A,x){return d.off(this,y,A,x),this},html:function(y){var A=c.html(this,y);return m(y)?A:this},text:function(y){var A=c.text(this,y);return m(y)?A:this},val:function(y){var A=c.val(this,y);return m(y)?A:this},css:function(y,A){var x=s(this,y,A);return v(y,A)?x:this},attr:function(y,A){var x=a(this,y,A);return v(y,A)?x:this},data:function(y,A){var x=h(this,y,A);return v(y,A)?x:this},rmAttr:function(y){return a.remove(this,y),this},remove:function(){return u(this),this},addClass:function(y){return p.add(this,y),this},rmClass:function(y){return p.remove(this,y),this},toggleClass:function(y){return p.toggle(this,y),this},hasClass:function(y){return p.has(this,y)},parent:function(){return e(this[0].parentNode)},append:function(y){return f.append(this,y),this},prepend:function(y){return f.prepend(this,y),this},before:function(y){return f.before(this,y),this},after:function(y){return f.after(this,y),this}});var v=function(y,A){return m(A)&&g(y)};n.exports=e},4991:function(n,e,t){var r=t(1352),i=t(5166),o=t(6768),s=t(3783),a=t(1286),c=t(2341);(e=function(l,u,h){if(l=c(l),a(h)&&o(u))return function(p,f){return p.getAttribute(f)}(l[0],u);var d=u;i(d)||((d={})[u]=h),function(p,f){s(p,function(m){s(f,function(g,v){m.setAttribute(v,g)})})}(l,d)}).remove=function(l,u){l=c(l),u=r(u),s(l,function(h){s(u,function(d){h.removeAttribute(d)})})},n.exports=e},7781:function(n,e,t){var r=t(1352),i=t(6053),o=t(2341),s=t(6768),a=t(3783);function c(l){return s(l)?l.split(/\s+/):r(l)}e={add:function(l,u){l=o(l);var h=c(u);a(l,function(d){var p=[];a(h,function(f){e.has(d,f)||p.push(f)}),p.length!==0&&(d.className+=(d.className?" ":"")+p.join(" "))})},has:function(l,u){l=o(l);var h=new RegExp("(^|\\s)"+u+"(\\s|$)");return i(l,function(d){return h.test(d.className)})},toggle:function(l,u){l=o(l),a(l,function(h){if(!e.has(h,u))return e.add(h,u);e.remove(h,u)})},remove:function(l,u){l=o(l);var h=c(u);a(l,function(d){a(h,function(p){d.classList.remove(p)})})}},n.exports=e},975:function(n,e,t){var r=t(6768),i=t(5166),o=t(7622),s=t(1286),a=t(6341),c=t(3990),l=t(2341),u=t(747),h=t(3783);e=function(p,f,m){if(p=l(p),s(m)&&r(f))return function(v,y){return v.style[u(y)]||getComputedStyle(v,"").getPropertyValue(y)}(p[0],f);var g=f;i(g)||((g={})[f]=m),function(v,y){h(v,function(A){var x=";";h(y,function(S,E){E=u.dash(E),x+=E+":"+function(w,k){var Z=c(k)&&!a(d,o(w));return Z?k+"px":k}(E,S)+";"}),A.style.cssText+=x})}(p,g)};var d=["column-count","columns","font-weight","line-weight","opacity","z-index","zoom"];n.exports=e},8381:function(n,e,t){var r=t(4991),i=t(6768),o=t(5166),s=t(3783);t(2341),e=function(a,c,l){var u=c;return i(c)&&(u="data-"+c),o(c)&&(u={},s(c,function(h,d){u["data-"+d]=h})),r(a,u,l)},n.exports=e},5543:function(n,e,t){var r=t(2443),i=t(1286),o=t(2341),s=t(3783);function a(c){return function(l,u,h,d){l=o(l),i(d)&&(d=h,h=void 0),s(l,function(p){r[c](p,u,h,d)})}}e={on:a("add"),off:a("remove")},n.exports=e},8908:function(n,e,t){var r=t(3783),i=t(2341),o=t(6768);function s(a){return function(c,l){c=i(c),r(c,function(u){if(o(l))u.insertAdjacentHTML(a,l);else{var h=u.parentNode;switch(a){case"beforebegin":h&&h.insertBefore(l,u);break;case"afterend":h&&h.insertBefore(l,u.nextSibling);break;case"beforeend":u.appendChild(l);break;case"afterbegin":u.prepend(l)}}})}}e={before:s("beforebegin"),after:s("afterend"),append:s("beforeend"),prepend:s("afterbegin")},n.exports=e},6906:function(n,e,t){var r=t(2341);e=function(i){var o=(i=r(i))[0].getBoundingClientRect();return{left:o.left+window.pageXOffset,top:o.top+window.pageYOffset,width:Math.round(o.width),height:Math.round(o.height)}},n.exports=e},4209:function(n,e,t){var r=t(1286),i=t(3783),o=t(2341);function s(a){return function(c,l){var u=(c=o(c))[0];if(r(l))return u?u[a]:"";u&&i(c,function(h){h[a]=l})}}e={html:s("innerHTML"),text:s("textContent"),val:s("value")},n.exports=e},6757:function(n,e,t){var r=t(3783),i=t(2341);e=function(o){o=i(o),r(o,function(s){var a=s.parentNode;a&&a.removeChild(s)})},n.exports=e},2341:function(n,e,t){var r=t(6768),i=t(1352),o=t(3244);e=function(s){return i(r(s)?new o(s):s)},n.exports=e},7665:function(n,e,t){var r=t(3783),i=t(2341);e=function(s){s=i(s),r(s,function(a){(function(c){return getComputedStyle(c,"").getPropertyValue("display")=="none"})(a)&&(a.style.display=function(c){var l,u;return o[c]||(l=document.createElement(c),document.documentElement.appendChild(l),u=getComputedStyle(l,"").getPropertyValue("display"),l.parentNode.removeChild(l),u=="none"&&(u="block"),o[c]=u),o[c]}(a.nodeName))})};var o={};n.exports=e},7496:function(n,e,t){var r=t(6329),i=t(1352),o=t(5022),s=t(7653),a=t(9537),c=(e=function(l,u){return c.extend(l,u)}).Base=function l(u,h,d){d=d||{};var p=h.className||s(h,"initialize.name")||"";delete h.className;var f=function(){var m=i(arguments);return this.initialize&&this.initialize.apply(this,m)||this};if(!a)try{f=new Function("toArr","return function "+p+"(){var args = toArr(arguments);return this.initialize ? this.initialize.apply(this, args) || this : this;};")(i)}catch{}return o(f,u),f.prototype.constructor=f,f.extend=function(m,g){return l(f,m,g)},f.inherits=function(m){o(f,m)},f.methods=function(m){return r(f.prototype,m),f},f.statics=function(m){return r(f,m),f},f.methods(h).statics(d),f}(Object,{className:"Base",callSuper:function(l,u,h){return l.prototype[u].apply(this,h)},toString:function(){return this.constructor.name}});n.exports=e},3009:function(n,e,t){var r=t(7496),i=t(6768),o=t(9882),s=t(3279),a=t(5925),c=t(5044);e=r({initialize:function(f){i(f)&&(f=e.parse(f)),this.model=f.model,this.val=f.val},toRgb:function(){var f=this.val;this.model==="hsl"&&(f=a(f));var m="rgba";return f[3]===1&&(m="rgb",f=f.slice(0,3)),m+"("+f.join(", ")+")"},toHex:function(){var f=this.val;this.model==="hsl"&&(f=a(f));var m=c.encode(f.slice(0,3));return m[0]===m[1]&&m[2]===m[3]&&m[4]===m[5]&&(m=m[0]+m[2]+m[5]),"#"+m},toHsl:function(){var f=this.val;this.model==="rgb"&&(f=s(f));var m="hsla";return f[3]===1&&(m="hsl",f=f.slice(0,3)),f[1]=f[1]+"%",f[2]=f[2]+"%",m+"("+f.join(", ")+")"}},{parse:function(f){var m,g,v=[0,0,0,1],y="rgb";if(g=f.match(l))for(g=g[1],m=0;m<3;m++)v[m]=parseInt(g[m]+g[m],16);else if(g=f.match(u))for(g=g[1],m=0;m<3;m++){var A=2*m;v[m]=parseInt(g.slice(A,A+2),16)}else if(g=f.match(h)){for(m=0;m<3;m++)v[m]=parseInt(g[m+1],0);g[4]&&(v[3]=parseFloat(g[4]))}else if(g=f.match(d)){for(m=0;m<3;m++)v[m]=Math.round(2.55*parseFloat(g[m+1]));g[4]&&(v[3]=parseFloat(g[4]))}else(g=f.match(p))&&(y="hsl",v=[(parseFloat(g[1])%360+360)%360,o(parseFloat(g[2]),0,100),o(parseFloat(g[3]),0,100),o(parseFloat(g[4]),0,1)]);return{val:v,model:y}}});var l=/^#([a-fA-F0-9]{3})$/,u=/^#([a-fA-F0-9]{6})$/,h=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/,d=/^rgba?\(\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/,p=/^hsla?\(\s*([+-]?\d*[.]?\d+)(?:deg)?\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/;n.exports=e},1443:function(n,e,t){var r=t(7496),i=t(6257),o=t(3783),s=t(9677),a=t(8763),c=t(4675);e=r({initialize:function(){this._events=this._events||{}},on:function(l,u){return this._events[l]=this._events[l]||[],this._events[l].push(u),this},off:function(l,u){var h=this._events;if(i(h,l)){var d=h[l].indexOf(u);return d>-1&&h[l].splice(d,1),this}},once:function(l,u){return this.on(l,a(u)),this},emit:function(l){var u=this;if(i(this._events,l)){var h=s(arguments,1),d=c(this._events[l]);return o(d,function(p){return p.apply(u,h)},this),this}},removeAllListeners:function(l){return l?delete this._events[l]:this._events={},this}},{mixin:function(l){o(["on","off","once","emit","removeAllListeners"],function(u){l[u]=e.prototype[u]}),l._events=l._events||{}}}),n.exports=e},9640:function(n,e,t){var r=t(7496),i=t(4454),o=t(6472),s=t(3783),a=t(2533);e=r({initialize:function(c){o(c)?(this.size=c.length,s(c,function(l,u){this[l]=u},this)):(this.size=a(c).length,s(c,function(l,u){this[u]=l},this)),i(this)}}),n.exports=e},125:function(n,e,t){var r=t(5128),i=t(615),o=t(8887),s=t(4400),a=t(4193),c=t(5166),l=i("local");e=r.extend({initialize:function(u,h){this._name=u,h=h||{};var d=l.getItem(u);try{d=JSON.parse(d)}catch{d={}}c(d)||(d={}),h=a(d,h),this.callSuper(r,"initialize",[h])},save:function(u){if(o(u))return l.removeItem(this._name);l.setItem(this._name,s(u))}}),n.exports=e},4989:function(n,e,t){var r=t(1443),i=t(9640),o=t(1352),s=t(1286),a=t(4675),c=t(6768),l=t(3990);e=r.extend({initialize:function(u,h){this.name=u,this.setLevel(s(h)?e.level.DEBUG:h),this.callSuper(r,"initialize",arguments)},setLevel:function(u){return c(u)?((u=e.level[u.toUpperCase()])&&(this._level=u),this):(l(u)&&(this._level=u),this)},getLevel:function(){return this._level},formatter:function(u,h){return h},trace:function(){return this._log("trace",arguments)},debug:function(){return this._log("debug",arguments)},info:function(){return this._log("info",arguments)},warn:function(){return this._log("warn",arguments)},error:function(){return this._log("error",arguments)},_log:function(u,h){return(h=o(h)).length===0?this:(this.emit("all",u,a(h)),e.level[u.toUpperCase()]<this._level||(this.emit(u,a(h)),(u==="debug"?console.log:console[u]).apply(console,this.formatter(u,h))),this)}},{level:new i({TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5})}),n.exports=e},2765:function(n,e,t){var r=t(1443);e=r.extend({className:"MediaQuery",initialize:function(i){var o=this;this.callSuper(r,"initialize"),this._mql=window.matchMedia(i),this._mql.addListener(function(){o.emit(o.isMatch()?"match":"unmatch")})},isMatch:function(){return this._mql.matches}}),n.exports=e},2289:function(n,e,t){var r=t(7496);(e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)||(e=r({initialize:function(){},observe:function(){},disconnect:function(){},takeRecords:function(){}})),n.exports=e},242:function(n,e,t){var r=t(8985),i=t(8613),o=t(5543),s=t(975),a=t(6341),c=t(6329),l=t(5610);e=l.ResizeObserver?r.extend({initialize:function(u){var h=this;if(u._resizeSensor)return u._resizeSensor;this.callSuper(r,"initialize");var d=new l.ResizeObserver(function(){return h.emit()});d.observe(u),u._resizeSensor=this,this._resizeObserver=d,this._el=u},destroy:function(){var u=this._el;u._resizeSensor&&(this.rmAllListeners(),delete u._resizeSensor,this._resizeObserver.unobserve(u))}}):r.extend({initialize:function(u){if(u._resizeSensor)return u._resizeSensor;this.callSuper(r,"initialize"),this._el=u,u._resizeSensor=this,a(["absolute","relative","fixed","sticky"],s(u,"position"))||s(u,"position","relative"),this._appendResizeSensor(),this._bindEvent()},destroy:function(){var u=this._el;u._resizeSensor&&(this.rmAllListeners(),delete u._resizeSensor,u.removeChild(this._resizeSensorEl))},_appendResizeSensor:function(){var u=this._el,h={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},d={position:"absolute",left:"0px",top:"0px",transition:"0s"},p=i("div",{style:d}),f=i("div.resize-sensor-expand",{style:h},p),m=i("div.resize-sensor-shrink",{style:h},i("div",{style:c({width:"200%",height:"200%"},d)})),g=i("div.resize-sensor",{dir:"ltr",style:h},f,m);this._expandEl=f,this._expandChildEl=p,this._shrinkEl=m,this._resizeSensorEl=g,u.appendChild(g),this._resetExpandShrink()},_bindEvent:function(){var u=this;o.on(this._expandEl,"scroll",function(){return u._onScroll()}),o.on(this._shrinkEl,"scroll",function(){return u._onScroll()})},_onScroll:function(){this.emit(),this._resetExpandShrink()},_resetExpandShrink:function(){var u=this._el,h=u.offsetWidth,d=u.offsetHeight;s(this._expandChildEl,{width:h+10,height:d+10}),c(this._expandEl,{scrollLeft:h+10,scrollTop:d+10}),c(this._shrinkEl,{scrollLeft:h+10,scrollTop:d+10})}}),n.exports=e},3244:function(n,e,t){var r=t(7496),i=t(6768),o=t(3783),s=t(9971),a=new(e=r({className:"Select",initialize:function(c){return this.length=0,c?i(c)?a.find(c):void(c.nodeType&&(this[0]=c,this.length=1)):this},find:function(c){var l=new e;return this.each(function(){s(l,this.querySelectorAll(c))}),l},each:function(c){return o(this,function(l,u){c.call(l,u,l)}),this}}))(document);n.exports=e},8985:function(n,e,t){var r=t(7496),i=t(4675),o=t(3783),s=t(1352);e=r({initialize:function(){this._listeners=[]},addListener:function(a){this._listeners.push(a)},rmListener:function(a){var c=this._listeners.indexOf(a);c>-1&&this._listeners.splice(c,1)},rmAllListeners:function(){this._listeners=[]},emit:function(){var a=this,c=s(arguments),l=i(this._listeners);o(l,function(u){return u.apply(a,c)},this)}},{mixin:function(a){o(["addListener","rmListener","emit","rmAllListeners"],function(c){a[c]=e.prototype[c]}),a._listeners=a._listeners||[]}}),n.exports=e},9001:function(n,e,t){var r=t(7496),i=t(1527);e=r({initialize:function(){this.clear()},clear:function(){this._items=[],this.size=0},push:function(o){return this._items.push(o),++this.size},pop:function(){if(this.size)return this.size--,this._items.pop()},peek:function(){return this._items[this.size-1]},forEach:function(o,s){s=arguments.length>1?s:this;for(var a=this._items,c=this.size-1,l=0;c>=0;c--,l++)o.call(s,a[c],l,this)},toArr:function(){return i(this._items)}}),n.exports=e},5128:function(n,e,t){var r=t(1443),i=t(6768),o=t(5166),s=t(3783),a=t(1352);e=r.extend({initialize:function(c){this.callSuper(r,"initialize",arguments),this._data=c||{},this.save(this._data)},set:function(c,l){var u;i(c)?(u={})[c]=l:o(c)&&(u=c);var h=this;s(u,function(d,p){var f=h._data[p];h._data[p]=d,h.emit("change",p,d,f)}),this.save(this._data)},get:function(c){var l=this._data;if(i(c))return l[c];var u={};return s(c,function(h){u[h]=l[h]}),u},remove:function(c){c=a(c);var l=this._data;s(c,function(u){delete l[u]}),this.save(l)},clear:function(){this._data={},this.save(this._data)},each:function(c){s(this._data,c)},save:function(c){this._data=c}}),n.exports=e},6334:function(n,e,t){var r=t(7496),i=t(6329),o=t(4331),s=t(1745),a=t(8887),c=t(3783),l=t(6472),u=t(1352),h=t(2727),d=t(5166),p=t(3367);e=r({className:"Url",initialize:function(v){!v&&h&&(v=window.location.href),i(this,e.parse(v||""))},setQuery:function(v,y){var A=this.query;return d(v)?c(v,function(x,S){A[S]=p(x)}):A[v]=p(y),this},rmQuery:function(v){var y=this.query;return l(v)||(v=u(v)),c(v,function(A){delete y[A]}),this},toString:function(){return e.stringify(this)}},{parse:function(v){var y={protocol:"",auth:"",hostname:"",hash:"",query:{},port:"",pathname:"",slashes:!1},A=o(v),x=!1,S=A.match(f);if(S&&(S=S[0],y.protocol=S.toLowerCase(),A=A.substr(S.length)),S&&(x=A.substr(0,2)==="//")&&(A=A.slice(2),y.slashes=!0),x){for(var E=A,w=-1,k=0,Z=g.length;k<Z;k++){var L=A.indexOf(g[k]);L!==-1&&(w===-1||L<w)&&(w=L)}w>-1&&(E=A.slice(0,w),A=A.slice(w));var G=E.lastIndexOf("@");G!==-1&&(y.auth=decodeURIComponent(E.slice(0,G)),E=E.slice(G+1)),y.hostname=E;var j=E.match(m);j&&((j=j[0])!==":"&&(y.port=j.substr(1)),y.hostname=E.substr(0,E.length-j.length))}var M=A.indexOf("#");M!==-1&&(y.hash=A.substr(M),A=A.slice(0,M));var T=A.indexOf("?");return T!==-1&&(y.query=s.parse(A.substr(T+1)),A=A.slice(0,T)),y.pathname=A||"/",y},stringify:function(v){var y=v.protocol+(v.slashes?"//":"")+(v.auth?encodeURIComponent(v.auth)+"@":"")+v.hostname+(v.port?":"+v.port:"")+v.pathname;return a(v.query)||(y+="?"+s.stringify(v.query)),v.hash&&(y+=v.hash),y}});var f=/^([a-z0-9.+-]+:)/i,m=/:[0-9]*$/,g=["/","?","#"];n.exports=e},8991:function(n,e,t){var r=t(4777),i=t(1214),o=t(4193),s=t(5166),a=t(1745);function c(l,u,h,d){return r(u)&&(d=h,h=u,u={}),{url:l,data:u,success:h,dataType:d}}(e=function(l){o(l,e.setting);var u,h=l.type,d=l.url,p=l.data,f=l.dataType,m=l.success,g=l.error,v=l.timeout,y=l.complete,A=l.xhr();return A.onreadystatechange=function(){if(A.readyState===4){var x;clearTimeout(u);var S=A.status;if(S>=200&&S<300||S===304){x=A.responseText,f==="xml"&&(x=A.responseXML);try{f==="json"&&(x=JSON.parse(x))}catch{}m(x,A)}else g(A);y(A)}},h==="GET"?(p=a.stringify(p))&&(d+=d.indexOf("?")>-1?"&"+p:"?"+p):l.contentType==="application/x-www-form-urlencoded"?s(p)&&(p=a.stringify(p)):l.contentType==="application/json"&&s(p)&&(p=JSON.stringify(p)),A.open(h,d,!0),A.setRequestHeader("Content-Type",l.contentType),v>0&&(u=setTimeout(function(){A.onreadystatechange=i,A.abort(),g(A,"timeout"),y(A)},v)),A.send(h==="GET"?null:p),A}).setting={type:"GET",success:i,error:i,complete:i,dataType:"json",contentType:"application/x-www-form-urlencoded",data:{},xhr:function(){return new XMLHttpRequest},timeout:0},e.get=function(){return e(c.apply(null,arguments))},e.post=function(){var l=c.apply(null,arguments);return l.type="POST",e(l)},n.exports=e},1116:function(n,e,t){var r=t(2533),i=t(415),o=t(42),s=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols;e=function(c){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=l.prototype,h=u===void 0||u,d=l.unenumerable,p=d!==void 0&&d,f=l.symbol,m=f!==void 0&&f,g=[];if((p||m)&&s){var v=r;p&&s&&(v=s);do g=g.concat(v(c)),m&&a&&(g=g.concat(a(c)));while(h&&(c=i(c))&&c!==Object.prototype);g=o(g)}else if(h)for(var y in c)g.push(y);else g=r(c);return g},n.exports=e},7913:function(n,e,t){var r=t(3783),i=t(1286),o=t(4777);e=function(s,a){i(a)&&(a=!0);var c=o(a),l={};return r(s,function(u){l[u]=c?a(u):a}),l},n.exports=e},3901:function(n,e){e={encode:function(s){var a,c,l=[],u=s.length,h=u%3;u-=h;for(var d=0;d<u;d+=3)l.push((a=(s[d]<<16)+(s[d+1]<<8)+s[d+2],r[a>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]));return u=s.length,h===1?(c=s[u-1],l.push(r[c>>2]),l.push(r[c<<4&63]),l.push("==")):h===2&&(c=(s[u-2]<<8)+s[u-1],l.push(r[c>>10]),l.push(r[c>>4&63]),l.push(r[c<<2&63]),l.push("=")),l.join("")},decode:function(s){var a=s.length,c=0;s[a-2]==="="?c=2:s[a-1]==="="&&(c=1);var l,u,h,d,p,f,m,g=new Array(3*a/4-c);for(a=c>0?a-4:a,l=0,u=0;l<a;l+=4){var v=(h=s[l],d=s[l+1],p=s[l+2],f=s[l+3],t[h.charCodeAt(0)]<<18|t[d.charCodeAt(0)]<<12|t[p.charCodeAt(0)]<<6|t[f.charCodeAt(0)]);g[u++]=v>>16&255,g[u++]=v>>8&255,g[u++]=255&v}return c===2?(m=t[s.charCodeAt(l)]<<2|t[s.charCodeAt(l+1)]>>4,g[u++]=255&m):c===1&&(m=t[s.charCodeAt(l)]<<10|t[s.charCodeAt(l+1)]<<4|t[s.charCodeAt(l+2)]>>2,g[u++]=m>>8&255,g[u++]=255&m),g}};for(var t=[],r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;i++)t[r.charCodeAt(i)]=i;n.exports=e},5637:function(n,e){e=function(t,r){var i;return function(){return--t>0&&(i=r.apply(this,arguments)),t<=1&&(r=null),i}},n.exports=e},7494:function(n,e,t){var r=t(8935);function i(o,s){this[s]=o.replace(/\w/,function(a){return a.toUpperCase()})}e=function(o){var s=r(o),a=s[0];return s.shift(),s.forEach(i,s),a+=s.join("")},n.exports=e},2848:function(n,e,t){var r=t(6257),i=t(6472);e=function(a,c){if(i(a))return a;if(c&&r(c,a))return[a];var l=[];return a.replace(o,function(u,h,d,p){l.push(d?p.replace(s,"$1"):h||u)}),l};var o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g;n.exports=e},996:function(n,e){e=function(t,r){var i=[];r=r||1;for(var o=0,s=Math.ceil(t.length/r);o<s;o++){var a=o*r,c=a+r;i.push(t.slice(a,c))}return i},n.exports=e},9882:function(n,e,t){var r=t(1286);e=function(i,o,s){return r(s)&&(s=o,o=void 0),!r(o)&&i<o?o:i>s?s:i},n.exports=e},4675:function(n,e,t){var r=t(5166),i=t(6472),o=t(6329);e=function(s){return r(s)?i(s)?s.slice():o({},s):s},n.exports=e},550:function(n,e,t){var r=t(5166),i=t(4777),o=t(6472),s=t(8820);e=function(a){return o(a)?a.map(function(c){return e(c)}):r(a)&&!i(a)?s(a,function(c){return e(c)}):a},n.exports=e},8099:function(n,e,t){var r=t(1352);e=function(){for(var i=r(arguments),o=[],s=0,a=i.length;s<a;s++)o=o.concat(r(i[s]));return o},n.exports=e},6341:function(n,e,t){var r=t(496),i=t(6768),o=t(1369),s=t(2578);e=function(a,c){return i(a)?a.indexOf(c)>-1:(o(a)||(a=s(a)),r(a,c)>=0)},n.exports=e},1792:function(n,e,t){var r=t(6768),i=t(3901),o=t(385),s=t(6472),a=t(2349),c=t(3085),l=t(3063);(e=function(u,h){var d;if(h=l(h),r(u))d=new Uint8Array(i.decode(u));else if(o(u))u=u.slice(0),d=new Uint8Array(u);else if(s(u))d=new Uint8Array(u);else if(c(u)==="uint8array")d=u.slice(0);else if(a(u)){d=new Uint8Array(u.length);for(var p=0;p<u.length;p++)d[p]=u[p]}if(d)switch(h){case"base64":d=i.encode(d);break;case"arraybuffer":d=d.buffer;break;case"array":d=[].slice.call(d);break;case"buffer":d=Buffer.from(d);break;case"blob":d=new Blob([d.buffer])}return d}).blobToArrBuffer=function(u){return new Promise(function(h,d){var p=new FileReader;p.onload=function(f){h(f.target.result)},p.onerror=function(f){d(f)},p.readAsArrayBuffer(u)})},n.exports=e},6299:function(n,e,t){var r=t(4193),i=t(3990),o=t(1286),s=t(1420),a={path:"/"};function c(l,u,h){if(!o(u)){if(h=r(h=h||{},a),i(h.expires)){var d=new Date;d.setMilliseconds(d.getMilliseconds()+864e5*h.expires),h.expires=d}return u=encodeURIComponent(u),l=encodeURIComponent(l),document.cookie=[l,"=",u,h.expires&&"; expires="+h.expires.toUTCString(),h.path&&"; path="+h.path,h.domain&&"; domain="+h.domain,h.secure?"; secure":""].join(""),e}for(var p=document.cookie?document.cookie.split("; "):[],f=l?void 0:{},m=0,g=p.length;m<g;m++){var v=p[m],y=v.split("="),A=s(y.shift());if(v=y.join("="),v=s(v),l===A){f=v;break}l||(f[A]=v)}return f}e={get:c,set:c,remove:function(l,u){return(u=u||{}).expires=-1,c(l,"",u)}},n.exports=e},2327:function(n,e,t){var r=t(6329),i=t(1214);e=function(o,s){s=s||i;var a=document.createElement("textarea"),c=document.body;r(a.style,{fontSize:"12pt",border:"0",padding:"0",margin:"0",position:"absolute",left:"-9999px"}),a.value=o,c.appendChild(a),a.setAttribute("readonly",""),a.select(),a.setSelectionRange(0,o.length);try{document.execCommand("copy"),s()}catch(l){s(l)}finally{c.removeChild(a)}},n.exports=e},1662:function(n,e,t){var r=t(5166);e=function(o){if(!r(o))return{};if(i)return i(o);function s(){}return s.prototype=o,new s};var i=Object.create;n.exports=e},4427:function(n,e,t){var r=t(1286),i=t(3783);e=function(o,s){return function(a){return i(arguments,function(c,l){if(l!==0){var u=o(c);i(u,function(h){s&&!r(a[h])||(a[h]=c[h])})}}),a}},n.exports=e},4210:function(n,e,t){var r=t(1475),i=t(1286),o=t(7494);e=r(function(a,c){return i(c)?(a=o(a),!i(s[a])):(s.cssText="",s.cssText=a+":"+c,!!s.length)},function(a,c){return a+" "+c});var s=document.createElement("p").style;n.exports=e},4407:function(n,e,t){var r=t(6768),i=t(2106),o=t(3367),s=t(5351);e=function(d,p,f,m){arguments.length===1&&r(d)&&!u.test(d)&&(p=d,d=void 0),d=d||new Date,i(d)||(d=new Date(d));var g=(p=o(e.masks[p]||p||e.masks.default)).slice(0,4);g!=="UTC:"&&g!=="GMT:"||(p=p.slice(4),f=!0,g==="GMT:"&&(m=!0));var v=f?"getUTC":"get",y=d[v+"Date"](),A=d[v+"Day"](),x=d[v+"Month"](),S=d[v+"FullYear"](),E=d[v+"Hours"](),w=d[v+"Minutes"](),k=d[v+"Seconds"](),Z=d[v+"Milliseconds"](),L=f?0:d.getTimezoneOffset(),G={d:y,dd:a(y),ddd:e.i18n.dayNames[A],dddd:e.i18n.dayNames[A+7],m:x+1,mm:a(x+1),mmm:e.i18n.monthNames[x],mmmm:e.i18n.monthNames[x+12],yy:o(S).slice(2),yyyy:S,h:E%12||12,hh:a(E%12||12),H:E,HH:a(E),M:w,MM:a(w),s:k,ss:a(k),l:a(Z,3),L:a(Math.round(Z/10)),t:E<12?"a":"p",tt:E<12?"am":"pm",T:E<12?"A":"P",TT:E<12?"AM":"PM",Z:m?"GMT":f?"UTC":(o(d).match(l)||[""]).pop().replace(h,""),o:(L>0?"-":"+")+a(100*Math.floor(Math.abs(L)/60)+Math.abs(L)%60,4),S:["th","st","nd","rd"][y%10>3?0:(y%100-y%10!=10)*y%10]};return p.replace(c,function(j){return j in G?G[j]:j.slice(1,j.length-1)})};var a=function(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return s(o(d),p,"0")},c=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,l=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,u=/\d/,h=/[^-+\dA-Z]/g;e.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},e.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},n.exports=e},6049:function(n,e){e=function(t,r,i){var o;return function(){var s=this,a=arguments,c=function(){o=null,t.apply(s,a)};i||clearTimeout(o),i&&o||(o=setTimeout(c,r))}},n.exports=e},1420:function(n,e,t){var r=t(3783),i=t(8166),o=t(2461),s=t(5742);function a(l){return+("0x"+l)}e=function(l){try{return decodeURIComponent(l)}catch{var u=l.match(c);return u&&r(u,function(d){l=l.replace(d,function(p){p=p.split("%").slice(1);var f=o(p,a);return p=i.encode(f),p=s.decode(p,!0),p}(d))}),l}};var c=/(%[a-f0-9]{2})+/gi;n.exports=e},4193:function(n,e,t){e=t(4427)(t(1116),!0),n.exports=e},9803:function(n,e,t){var r=t(2848),i=t(6768),o=t(5166),s=t(3783);function a(c,l,u){for(var h=r(l,c),d=h.pop();l=h.shift();)c[l]||(c[l]={}),c=c[l];Object.defineProperty(c,d,u)}e=function(c,l,u){return i(l)?a(c,l,u):o(l)&&s(l,function(h,d){a(c,d,h)}),c},n.exports=e},2443:function(n,e,t){var r=t(7496),i=t(6341);function o(){return!0}function s(){return!1}function a(l){var u,h=this.events[l.type],d=c.call(this,l,h);l=new e.Event(l);for(var p,f,m=0;(f=d[m++])&&!l.isPropagationStopped();)for(l.curTarget=f.el,p=0;(u=f.handlers[p++])&&!l.isImmediatePropagationStopped();)u.handler.apply(f.el,[l])===!1&&(l.preventDefault(),l.stopPropagation())}function c(l,u){var h,d,p,f,m=l.target,g=[],v=u.delegateCount;if(m.nodeType)for(;m!==this;m=m.parentNode||this){for(d=[],f=0;f<v;f++)d[h=(p=u[f]).selector+" "]===void 0&&(d[h]=i(this.querySelectorAll(h),m)),d[h]&&d.push(p);d.length&&g.push({el:m,handlers:d})}return v<u.length&&g.push({el:this,handlers:u.slice(v)}),g}e={add:function(l,u,h,d){var p,f={selector:h,handler:d};l.events||(l.events={}),(p=l.events[u])||((p=l.events[u]=[]).delegateCount=0,l.addEventListener(u,function(){a.apply(l,arguments)},!1)),h?p.splice(p.delegateCount++,0,f):p.push(f)},remove:function(l,u,h,d){var p=l.events;if(p&&p[u])for(var f,m=p[u],g=m.length;g--;)f=m[g],h&&f.selector!=h||f.handler!=d||(m.splice(g,1),f.selector&&m.delegateCount--)},Event:r({className:"Event",initialize:function(l){this.origEvent=l},isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s,preventDefault:function(){var l=this.origEvent;this.isDefaultPrevented=o,l&&l.preventDefault&&l.preventDefault()},stopPropagation:function(){var l=this.origEvent;this.isPropagationStopped=o,l&&l.stopPropagation&&l.stopPropagation()},stopImmediatePropagation:function(){var l=this.origEvent;this.isImmediatePropagationStopped=o,l&&l.stopImmediatePropagation&&l.stopImmediatePropagation(),this.stopPropagation()}})},n.exports=e},4541:function(n,e,t){var r=t(2727),i=t(9296),o=t(2533);e=function(u){var h=l(u=(u=u||(r?navigator.userAgent:"")).toLowerCase(),"msie ");if(h)return{version:h,name:"ie"};if(a.test(u))return{version:11,name:"ie"};for(var d=0,p=c.length;d<p;d++){var f=c[d],m=u.match(s[f]);if(m!=null){var g=i(m[1].split(".")[0]);return f==="opera"&&(g=l(u,"version/")||g),{name:f,version:g}}}return{name:"unknown",version:-1}};var s={edge:/edge\/([0-9._]+)/,firefox:/firefox\/([0-9.]+)(?:\s|$)/,opera:/opera\/([0-9.]+)(?:\s|$)/,android:/android\s([0-9.]+)/,ios:/version\/([0-9._]+).*mobile.*safari.*/,safari:/version\/([0-9._]+).*safari/,chrome:/(?!chrom.*opr)chrom(?:e|ium)\/([0-9.]+)(:?\s|$)/},a=/trident\/7\./,c=o(s);function l(u,h){var d=u.indexOf(h);if(d>-1)return i(u.substring(d+h.length,u.indexOf(".",d)))}n.exports=e},6954:function(n,e,t){var r=t(2727);e=function(i){if(i=(i=i||(r?navigator.userAgent:"")).toLowerCase(),o("windows phone"))return"windows phone";if(o("win"))return"windows";if(o("android"))return"android";if(o("ipad")||o("iphone")||o("ipod"))return"ios";if(o("mac"))return"os x";if(o("linux"))return"linux";function o(s){return i.indexOf(s)>-1}return"unknown"},n.exports=e},801:function(n,e,t){var r=t(1137),i=t(1225),o=t(5972),s=t(6341);e=r(function(a,c){return c=i(c),o(a,function(l){return!s(c,l)})}),n.exports=e},3783:function(n,e,t){var r=t(1369),i=t(2533),o=t(3955);e=function(s,a,c){var l,u;if(a=o(a,c),r(s))for(l=0,u=s.length;l<u;l++)a(s[l],l,s);else{var h=i(s);for(l=0,u=h.length;l<u;l++)a(s[h[l]],h[l],s)}return s},n.exports=e},4858:function(n,e){e=function(t,r){var i=t.length-r.length;return i>=0&&t.indexOf(r,i)===i},n.exports=e},8901:function(n,e,t){var r=t(2533),i=(e=function(l){return s.test(l)?l.replace(a,c):l}).map={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o="(?:"+r(i).join("|")+")",s=new RegExp(o),a=new RegExp(o,"g"),c=function(l){return i[l]};n.exports=e},4187:function(n,e,t){var r=t(3367);e=function(o){return r(o).replace(i,function(s){switch(s){case'"':case"'":case"\\":return"\\"+s;case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}})};var i=/["'\\\n\r\u2028\u2029]/g;n.exports=e},2337:function(n,e){e=function(t){return t.replace(/\W/g,"\\$&")},n.exports=e},642:function(n,e){e=function(t){var r=document.createElement("style");return r.textContent=t,r.type="text/css",document.head.appendChild(r),r},n.exports=e},1672:function(n,e,t){var r=t(2838),i=t(1369),o=t(2533);e=function(s,a,c){a=r(a,c);for(var l=!i(s)&&o(s),u=(l||s).length,h=0;h<u;h++){var d=l?l[h]:h;if(!a(s[d],d,s))return!1}return!0},n.exports=e},6329:function(n,e,t){e=t(4427)(t(1116)),n.exports=e},3021:function(n,e,t){var r=t(2533);e=t(4427)(r),n.exports=e},2581:function(n,e,t){var r=t(42),i=t(4331),o=t(2461),s=t(1352);e=function(c){var l=s(c.match(a));return r(o(l,function(u){return i(u)}))};var a=/((https?)|(ftp)):\/\/[\w.]+[^ \f\n\r\t\v"\\<>[\]\u2100-\uFFFF(),]*/gi;n.exports=e},5972:function(n,e,t){var r=t(2838),i=t(3783);e=function(o,s,a){var c=[];return s=r(s,a),i(o,function(l,u,h){s(l,u,h)&&c.push(l)}),c},n.exports=e},2244:function(n,e,t){var r=t(2267),i=t(4072),o=t(1369),s=t(1286);e=function(a,c,l){var u=(o(a)?i:r)(a,c,l);if(!s(u)&&u!==-1)return a[u]},n.exports=e},4072:function(n,e,t){var r=t(2838);e=function(i,o,s,a){a=a||1,o=r(o,s);for(var c=i.length,l=a>0?0:c-1;l>=0&&l<c;){if(o(i[l],l,i))return l;l+=a}return-1},n.exports=e},2267:function(n,e,t){var r=t(2838),i=t(2533);e=function(o,s,a){s=r(s,a);for(var c,l=i(o),u=0,h=l.length;u<h;u++)if(s(o[c=l[u]],c,o))return c},n.exports=e},1225:function(n,e,t){var r=t(6472);function i(o,s){for(var a,c=o.length,l=-1;c--;)a=o[++l],r(a)?i(a,s):s.push(a);return s}e=function(o){return i(o,[])},n.exports=e},4454:function(n,e,t){var r=t(2533);e=function(i){return Object.freeze?Object.freeze(i):(r(i).forEach(function(o){Object.getOwnPropertyDescriptor(i,o).configurable&&Object.defineProperty(i,o,{writable:!1,configurable:!1})}),i)},n.exports=e},415:function(n,e,t){var r=t(5166),i=t(4777),o=Object.getPrototypeOf,s={}.constructor;e=function(a){if(r(a)){if(o)return o(a);var c=a.__proto__;return c||c===null?c:i(a.constructor)?a.constructor.prototype:a instanceof s?s.prototype:void 0}},n.exports=e},8613:function(n,e,t){var r=t(9833),i=t(6768),o=t(6930),s=t(7781),a=t(975),c=t(3783),l=t(4777);function u(h){for(var d="div",p="",f=[],m=[],g="",v=0,y=h.length;v<y;v++){var A=h[v];A==="#"||A==="."?(m.push(g),g=A):g+=A}m.push(g);for(var x=0,S=m.length;x<S;x++)(g=m[x])&&(o(g,"#")?p=g.slice(1):o(g,".")?f.push(g.slice(1)):d=g);return{tagName:d,id:p,classes:f}}e=function(h,d){for(var p=arguments.length,f=new Array(p>2?p-2:0),m=2;m<p;m++)f[m-2]=arguments[m];(r(d)||i(d))&&(f.unshift(d),d=null),d||(d={});var g=u(h),v=g.tagName,y=g.id,A=g.classes,x=document.createElement(v);return y&&x.setAttribute("id",y),s.add(x,A),c(f,function(S){i(S)?x.appendChild(document.createTextNode(S)):r(S)&&x.appendChild(S)}),c(d,function(S,E){i(S)?x.setAttribute(E,S):l(S)&&o(E,"on")?x.addEventListener(E.slice(2),S,!1):E==="style"&&a(x,S)}),x},n.exports=e},6257:function(n,e){var t=Object.prototype.hasOwnProperty;e=function(r,i){return t.call(r,i)},n.exports=e},5044:function(n,e,t){var r=t(7348);e={encode:function(i){for(var o=[],s=0,a=i.length;s<a;s++){var c=i[s];o.push((c>>>4).toString(16)),o.push((15&c).toString(16))}return o.join("")},decode:function(i){var o=[],s=i.length;r(s)&&s--;for(var a=0;a<s;a+=2)o.push(parseInt(i.substr(a,2),16));return o}},n.exports=e},3651:function(n,e,t){var r=t(3783),i=t(4193);e=function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"js",l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};i(l,o),a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;"),c=s[c];var u=0,h=[];r(c,function(p){p.language&&(a=a.replace(p.re,function(f,m){return m?(h[u++]=e(m,p.language,l),f.replace(m,"___subtmpl"+(u-1)+"___")):f}))}),r(c,function(p,f){s[p.language]||(a=a.replace(p.re,"___"+f+"___$1___end"+f+"___"))});var d=[];return a=a.replace(/___(?!subtmpl)\w+?___/g,function(p){var f=p.substr(3,3)==="end",m=(f?p.substr(6):p.substr(3)).replace(/_/g,""),g=d.length>0?d[d.length-1]:null;return!f&&(g==null||m==g||g!=null&&c[g]&&c[g].embed!=null&&c[g].embed.indexOf(m)>-1)?(d.push(m),p):f&&m==g?(d.pop(),p):""}),r(c,function(p,f){var m=l[p.style]?' style="'.concat(l[p.style],'"'):"";a=a.replace(new RegExp("___end"+f+"___","g"),"</span>").replace(new RegExp("___"+f+"___","g"),'<span class="'.concat(p.style,'"').concat(m,">"))}),r(c,function(p){p.language&&(a=a.replace(/___subtmpl\d+___/g,function(f){var m=parseInt(f.replace(/___subtmpl(\d+)___/,"$1"),10);return h[m]}))}),a};var o={comment:"color:#63a35c;",string:"color:#183691;",number:"color:#0086b3;",keyword:"color:#a71d5d;",operator:"color:#994500;"},s={js:{comment:{re:/(\/\/.*|\/\*([\s\S]*?)\*\/)/g,style:"comment"},string:{re:/(('.*?')|(".*?"))/g,style:"string"},numbers:{re:/(-?(\d+|\d+\.\d+|\.\d+))/g,style:"number"},keywords:{re:/(?:\b)(function|for|foreach|while|if|else|elseif|switch|break|as|return|this|class|self|default|var|const|let|false|true|null|undefined)(?:\b)/gi,style:"keyword"},operator:{re:/(\+|-|\/|\*|%|=|&lt;|&gt;|\||\?|\.)/g,style:"operator"}}};s.html={comment:{re:/(&lt;!--([\s\S]*?)--&gt;)/g,style:"comment"},tag:{re:/(&lt;\/?\w(.|\n)*?\/?&gt;)/g,style:"keyword",embed:["string"]},string:s.js.string,css:{re:/(?:&lt;style.*?&gt;)([\s\S]*)?(?:&lt;\/style&gt;)/gi,language:"css"},script:{re:/(?:&lt;script.*?&gt;)([\s\S]*?)(?:&lt;\/script&gt;)/gi,language:"js"}},s.css={comment:s.js.comment,string:s.js.string,numbers:{re:/((-?(\d+|\d+\.\d+|\.\d+)(%|px|em|pt|in)?)|#[0-9a-fA-F]{3}[0-9a-fA-F]{3})/g,style:"number"},keywords:{re:/(@\w+|:?:\w+|[a-z-]+:)/g,style:"keyword"}},n.exports=e},5925:function(n,e){e=function(r){var i,o,s,a=r[0]/360,c=r[1]/100,l=r[2]/100,u=[];if(r[3]&&(u[3]=r[3]),c===0)return s=t(255*l),u[0]=u[1]=u[2]=s,u;for(var h=2*l-(i=l<.5?l*(1+c):l+c-l*c),d=0;d<3;d++)(o=a+.3333333333333333*-(d-1))<0&&o++,o>1&&o--,s=6*o<1?h+6*(i-h)*o:2*o<1?i:3*o<2?h+(i-h)*(.6666666666666666-o)*6:h,u[d]=t(255*s);return u};var t=Math.round;n.exports=e},7483:function(n,e,t){var r=t(8702),i=t(9001),o=t(6472),s=t(3783),a=t(6768),c=t(8820),l=function(h){return h.replace(/&quot;/g,'"')},u=function(h){return h.replace(/"/g,"&quot;")};e={parse:function(h){var d=[],p=new i;return r(h,{start:function(f,m){m=c(m,function(g){return l(g)}),p.push({tag:f,attrs:m})},end:function(){var f=p.pop();if(p.size){var m=p.peek();o(m.content)||(m.content=[]),m.content.push(f)}else d.push(f)},comment:function(f){var m="<!--".concat(f,"-->"),g=p.peek();g?(g.content||(g.content=[]),g.content.push(m)):d.push(m)},text:function(f){var m=p.peek();m?(m.content||(m.content=[]),m.content.push(f)):d.push(f)}}),d},stringify:function h(d){var p="";return o(d)?s(d,function(f){return p+=h(f)}):a(d)?p=d:(p+="<".concat(d.tag),s(d.attrs,function(f,m){return p+=" ".concat(m,'="').concat(u(f),'"')}),p+=">",d.content&&(p+=h(d.content)),p+="</".concat(d.tag,">")),p}},n.exports=e},6362:function(n,e){e=function(t){return t},n.exports=e},496:function(n,e){e=function(t,r,i){return Array.prototype.indexOf.call(t,r,i)},n.exports=e},5022:function(n,e,t){var r=t(1662);e=function(i,o){i.prototype=r(o.prototype)},n.exports=e},7190:function(n,e,t){var r=t(3783);e=function(i){var o={};return r(i,function(s,a){o[s]=a}),o},n.exports=e},7403:function(n,e,t){var r=t(106);e=function(i){return r(i)==="[object Arguments]"},n.exports=e},6472:function(n,e,t){var r=t(106);e=Array.isArray?Array.isArray:function(i){return r(i)==="[object Array]"},n.exports=e},385:function(n,e,t){var r=t(106);e=function(i){return r(i)==="[object ArrayBuffer]"},n.exports=e},1369:function(n,e,t){var r=t(3990),i=t(4777),o=Math.pow(2,53)-1;e=function(s){if(!s)return!1;var a=s.length;return r(a)&&a>=0&&a<=o&&!i(s)},n.exports=e},4696:function(n,e){e=function(t){return t===!0||t===!1},n.exports=e},2727:function(n,e){e=typeof window=="object"&&typeof document=="object"&&document.nodeType===9,n.exports=e},2349:function(n,e,t){var r=t(4777);e=function(i){return i!=null&&(!!i._isBuffer||i.constructor&&r(i.constructor.isBuffer)&&i.constructor.isBuffer(i))},n.exports=e},2520:function(n,e,t){var r=new(t(2765))("(prefers-color-scheme: dark)");e=function(){return r.isMatch()},n.exports=e},2106:function(n,e,t){var r=t(106);e=function(i){return r(i)==="[object Date]"},n.exports=e},9833:function(n,e){e=function(t){return!(!t||t.nodeType!==1)},n.exports=e},8887:function(n,e,t){var r=t(1369),i=t(6472),o=t(6768),s=t(7403),a=t(2533);e=function(c){return c==null||(r(c)&&(i(c)||o(c)||s(c))?c.length===0:a(c).length===0)},n.exports=e},2749:function(n,e,t){var r=t(106);e=function(i){return r(i)==="[object Error]"},n.exports=e},4777:function(n,e,t){var r=t(106);e=function(i){var o=r(i);return o==="[object Function]"||o==="[object GeneratorFunction]"||o==="[object AsyncFunction]"},n.exports=e},9585:function(n,e,t){var r=t(5610),i=r.getComputedStyle,o=r.document;function s(a,c){return a.right<c.left||a.left>c.right||a.bottom<c.top||a.top>c.bottom}e=function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=c.display,u=l===void 0||l,h=c.visibility,d=h!==void 0&&h,p=c.opacity,f=p!==void 0&&p,m=c.size,g=m!==void 0&&m,v=c.viewport,y=v!==void 0&&v,A=c.overflow,x=A!==void 0&&A;if(u)return a.offsetParent===null;var S=i(a);if(d&&S.visibility==="hidden")return!0;if(f){if(S.opacity==="0")return!0;for(var E=a;E=E.parentElement;){var w=i(E);if(w.opacity==="0")return!0}}var k=a.getBoundingClientRect();if(g&&(k.width===0||k.height===0))return!0;if(y){var Z={top:0,left:0,right:o.documentElement.clientWidth,bottom:o.documentElement.clientHeight};return s(k,Z)}if(x)for(var L=a;L=L.parentElement;){var G=i(L),j=G.overflow;if(j==="scroll"||j==="hidden"){var M=L.getBoundingClientRect();if(s(k,M))return!0}}return!1},n.exports=e},2246:function(n,e,t){var r=t(3990);e=function(i){return r(i)&&i%1==0},n.exports=e},4219:function(n,e){e=function(t){try{return JSON.parse(t),!0}catch{return!1}},n.exports=e},3708:function(n,e,t){var r=t(106);e=function(i){return r(i)==="[object Map]"},n.exports=e},7949:function(n,e,t){var r=t(2533);e=function(i,o){var s=r(o),a=s.length;if(i==null)return!a;i=Object(i);for(var c=0;c<a;c++){var l=s[c];if(o[l]!==i[l]||!(l in i))return!1}return!0},n.exports=e},9537:function(n,e,t){var r=t(4777);e=typeof wx<"u"&&r(wx.openLocation),n.exports=e},9956:function(n,e,t){var r=t(2727),i=t(1475),o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,s=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i;e=i(function(a){return a=a||(r?navigator.userAgent:""),o.test(a)||s.test(a.substr(0,4))}),n.exports=e},9433:function(n,e,t){var r=t(3990);e=function(i){return r(i)&&i!==+i},n.exports=e},8740:function(n,e,t){var r=t(5166),i=t(4777),o=t(300);e=function(l){return!!r(l)&&(i(l)?a.test(o(l)):c.test(o(l)))};var s=Object.prototype.hasOwnProperty,a=new RegExp("^"+o(s).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),c=/^\[object .+?Constructor\]$/;n.exports=e},2763:function(n,e){e=function(t){return t==null},n.exports=e},1965:function(n,e,t){var r=t(106);e=typeof process<"u"&&r(process)==="[object process]",n.exports=e},6156:function(n,e){e=function(t){return t===null},n.exports=e},3990:function(n,e,t){var r=t(106);e=function(i){return r(i)==="[object Number]"},n.exports=e},5166:function(n,e){e=function(t){var r=typeof t;return!!t&&(r==="function"||r==="object")},n.exports=e},7348:function(n,e,t){var r=t(2246);e=function(i){return!!r(i)&&i%2!=0},n.exports=e},6997:function(n,e){e=function(t){var r=typeof t;return t==null||r!=="function"&&r!=="object"},n.exports=e},4321:function(n,e,t){var r=t(5166),i=t(4777);e=function(o){return r(o)&&i(o.then)&&i(o.catch)},n.exports=e},1754:function(n,e,t){var r=t(106);e=function(i){return r(i)==="[object RegExp]"},n.exports=e},7470:function(n,e,t){var r=t(106);e=function(i){return r(i)==="[object Set]"},n.exports=e},3843:function(n,e){e=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.defComparator,i=0,o=t.length;i<o-1;i++)if(r(t[i],t[i+1])>0)return!1;return!0},e.defComparator=function(t,r){return t<r?-1:t>r?1:0},n.exports=e},6768:function(n,e,t){var r=t(106);e=function(i){return r(i)==="[object String]"},n.exports=e},9804:function(n,e){e=function(t){return typeof t=="symbol"},n.exports=e},1286:function(n,e){e=function(t){return t===void 0},n.exports=e},7622:function(n,e,t){var r=t(8935);e=function(i){return r(i).join("-")},n.exports=e},2533:function(n,e,t){var r=t(6257);e=Object.keys?Object.keys:function(i){var o=[];for(var s in i)r(i,s)&&o.push(s);return o},n.exports=e},9702:function(n,e){e=function(t){var r=t?t.length:0;if(r)return t[r-1]},n.exports=e},3988:function(n,e,t){var r=t(2581),i=t(3783),o=t(2337);function s(a){return'<a href="'+a+'">'+a+"</a>"}e=function(a,c){c=c||s;var l=r(a);return i(l,function(u){a=a.replace(new RegExp(o(u),"g"),c)}),a},n.exports=e},9622:function(n,e){e=function(t,r){var i=document.createElement("script");i.src=t,i.onload=function(){var o=i.readyState&&i.readyState!="complete"&&i.readyState!="loaded";r&&r(!o)},i.onerror=function(){r(!1)},document.body.appendChild(i)},n.exports=e},3063:function(n,e,t){var r=t(3367);e=function(i){return r(i).toLocaleLowerCase()},n.exports=e},5351:function(n,e,t){var r=t(4552),i=t(3367);e=function(o,s,a){var c=(o=i(o)).length;return a=a||" ",c<s&&(o=(r(a,s-c)+o).slice(-s)),o},n.exports=e},7767:function(n,e){var t=/^\s+/;e=function(r,i){if(i==null)return r.trimLeft?r.trimLeft():r.replace(t,"");for(var o,s,a=0,c=r.length,l=i.length,u=!0;u&&a<c;)for(u=!1,o=-1,s=r.charAt(a);++o<l;)if(s===i[o]){u=!0,a++;break}return a>=c?"":r.substr(a,c)},n.exports=e},2461:function(n,e,t){var r=t(2838),i=t(2533),o=t(1369);e=function(s,a,c){a=r(a,c);for(var l=!o(s)&&i(s),u=(l||s).length,h=Array(u),d=0;d<u;d++){var p=l?l[d]:d;h[d]=a(s[p],p,s)}return h},n.exports=e},8820:function(n,e,t){var r=t(2838),i=t(2533);e=function(o,s,a){s=r(s,a);for(var c=i(o),l=c.length,u={},h=0;h<l;h++){var d=c[h];u[d]=s(o[d],d,o)}return u},n.exports=e},4491:function(n,e,t){var r=t(3021),i=t(7949);e=function(o){return o=r({},o),function(s){return i(s,o)}},n.exports=e},9853:function(n,e){e=function(){for(var t=arguments,r=t[0],i=1,o=t.length;i<o;i++)t[i]>r&&(r=t[i]);return r},n.exports=e},5026:function(n,e,t){var r=t(2533);e={getItem:function(l){return(o[l]?i[l]:this[l])||null},setItem:function(l,u){o[l]?i[l]=u:this[l]=u},removeItem:function(l){o[l]?delete i[l]:delete this[l]},key:function(l){var u=s();return l>=0&&l<u.length?u[l]:null},clear:function(){for(var l,u=a(),h=0;l=u[h];h++)delete this[l];u=c();for(var d,p=0;d=u[p];p++)delete i[d]}},Object.defineProperty(e,"length",{enumerable:!1,configurable:!0,get:function(){return s().length}});var i={},o={getItem:1,setItem:1,removeItem:1,key:1,clear:1,length:1};function s(){return a().concat(c())}function a(){return r(e).filter(function(l){return!o[l]})}function c(){return r(i)}n.exports=e},1475:function(n,e,t){var r=t(6257);e=function(i,o){var s=function(a){var c=s.cache,l=""+(o?o.apply(this,arguments):a);return r(c,l)||(c[l]=i.apply(this,arguments)),c[l]};return s.cache={},s},n.exports=e},9971:function(n,e,t){e=t(1137)(function(r,i){for(var o=r.length,s=0,a=i.length;s<a;s++)for(var c=i[s],l=0,u=c.length;l<u;l++)r[o++]=c[l];return r.length=o,r}),n.exports=e},8573:function(n,e,t){var r=t(3783),i=t(6768),o=t(1286),s=t(6341),a=t(6472),c=t(5166),l=t(1352);(e=function(p,f){if(o(p))return m={},h(function(v,y){m[v]=y}),m;var m;if(i(p)&&o(f)||a(p))return function(v){if(!i(v)){var y={};return h(function(x,S){s(v,x)&&(y[x]=S)}),y}var A=d(v);if(A)return A.getAttribute("content")}(p);var g=p;c(g)||((g={})[p]=f),function(v){r(v,function(y,A){var x=d(A);if(x)return x.setAttribute("content",y);(x=u.createElement("meta")).setAttribute("name",A),x.setAttribute("content",y),u.head.appendChild(x)})}(g)}).remove=function(p){p=l(p),r(p,function(f){var m=d(f);m&&u.head.removeChild(m)})};var u=document;function h(p){var f=u.querySelectorAll("meta");r(f,function(m){var g=m.getAttribute("name"),v=m.getAttribute("content");g&&v&&p(g,v)})}function d(p){return u.querySelector('meta[name="'+p+'"]')}n.exports=e},6435:function(n,e){e=function(){for(var t=arguments,r=t[0],i=1,o=t.length;i<o;i++)t[i]<r&&(r=t[i]);return r},n.exports=e},4677:function(n,e,t){var r=t(3875),i=t(6768);e=function(c){if(i(c)){var l=c.match(a);return l?r(l[1])*o[l[2]||"ms"]:0}for(var u=c,h="ms",d=0,p=s.length;d<p;d++)if(u>=o[s[d]]){h=s[d];break}return+(u/o[h]).toFixed(2)+h};var o={ms:1,s:1e3};o.m=60*o.s,o.h=60*o.m,o.d=24*o.h,o.y=365.25*o.d;var s=["y","d","h","m","s"],a=/^((?:\d+)?\.?\d+) *(s|m|h|d|y)?$/;n.exports=e},7658:function(n,e,t){var r=t(6930),i=t(5610),o=t(3367);function s(a,c){if(a=o(a),c=o(c),r(a,"_")&&!r(c,"_"))return 1;if(r(c,"_")&&!r(a,"_"))return-1;for(var l,u,h,d,p=/^\d+|^\D+/;;){if(!a)return c?-1:0;if(!c)return 1;if(l=a.match(p)[0],u=c.match(p)[0],h=!i.isNaN(l),d=!i.isNaN(u),h&&!d)return-1;if(d&&!h)return 1;if(h&&d){var f=l-u;if(f)return f;if(l.length!==u.length)return+l||+u?u.length-l.length:l.length-u.length}else if(l!==u)return l<u?-1:1;a=a.substring(l.length),c=c.substring(u.length)}}e=function(a){return a.sort(s)},n.exports=e},6837:function(n,e){function t(r){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}e=typeof process=="object"&&process.nextTick?process.nextTick:typeof setImmediate=="function"?function(r){setImmediate(t(r))}:function(r){setTimeout(t(r),0)},n.exports=e},1214:function(n,e){e=function(){},n.exports=e},8847:function(n,e){e=Date.now?Date.now:function(){return new Date().getTime()},n.exports=e},106:function(n,e){var t=Object.prototype.toString;e=function(r){return t.call(r)},n.exports=e},8763:function(n,e,t){e=t(4198)(t(5637),2),n.exports=e},3955:function(n,e,t){var r=t(1286);e=function(i,o,s){if(r(o))return i;switch(s??3){case 1:return function(a){return i.call(o,a)};case 3:return function(a,c,l){return i.call(o,a,c,l)};case 4:return function(a,c,l,u){return i.call(o,a,c,l,u)}}return function(){return i.apply(o,arguments)}},n.exports=e},442:function(n,e,t){var r=t(1443),i=t(7653),o=window.screen;e={get:function(){if(o){var s=i(o,"orientation.type");if(s)return s.split("-").shift()}return window.innerWidth>window.innerHeight?"landscape":"portrait"}},r.mixin(e),window.addEventListener("orientationchange",function(){setTimeout(function(){e.emit("change",e.get())},200)},!1),n.exports=e},8702:function(n,e,t){var r=t(9702),i=t(7913),o=t(6930),s=t(3063);e=function(d,p){for(var f,m=[],g=d;d;){if(f=!0,r(m)&&h[r(m)]){var v=new RegExp("</".concat(r(m),"[^>]*>")).exec(d);if(v){var y=d.substring(0,v.index);d=d.substring(v.index+v[0].length),y&&p.text&&p.text(y)}L("",r(m))}else{if(o(d,"<!--")){var A=d.indexOf("-->");A>=0&&(p.comment&&p.comment(d.substring(4,A)),d=d.substring(A+3),f=!1)}else if(o(d,"<!")){var x=d.match(a);x&&(p.text&&p.text(d.substring(0,x[0].length)),d=d.substring(x[0].length),f=!1)}else if(o(d,"</")){var S=d.match(c);S&&(d=d.substring(S[0].length),S[0].replace(c,L),f=!1)}else if(o(d,"<")){var E=d.match(l);E&&(d=d.substring(E[0].length),E[0].replace(l,Z),f=!1)}if(f){var w=d.indexOf("<"),k=w<0?d:d.substring(0,w);d=w<0?"":d.substring(w),p.text&&p.text(k)}}if(g===d)throw Error("Parse Error: "+d);g=d}function Z(G,j,M,T){if(j=s(j),(T=!!T)||m.push(j),p.start){var P={};M.replace(u,function(U,N,$,D,z){P[N]=$||D||z||""}),p.start(j,P,T)}}function L(G,j){var M;if(j=s(j))for(M=m.length-1;M>=0&&m[M]!==j;M--);else M=0;if(M>=0){for(var T=m.length-1;T>=M;T--)p.end&&p.end(m[T]);m.length=M}}L()};var a=/^<!\s*doctype((?:\s+[\w:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/i,c=/^<\/([-A-Za-z0-9_]+)[^>]*>/,l=/^<([-A-Za-z0-9_]+)((?:\s+[-A-Za-z0-9_:@.]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/i,u=/([-A-Za-z0-9_:@.]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,h=i("script,style".split(","));n.exports=e},4198:function(n,e,t){var r=t(1137),i=t(1352);e=r(function(o,s){return function(){var a=[];return a=(a=a.concat(s)).concat(i(arguments)),o.apply(this,a)}}),n.exports=e},1194:function(n,e,t){var r,i=t(8847),o=t(5610),s=o.performance,a=o.process;if(s&&s.now)e=function(){return s.now()};else if(a&&a.hrtime){var c=function(){var l=a.hrtime();return 1e9*l[0]+l[1]};r=c()-1e9*a.uptime(),e=function(){return(c()-r)/1e6}}else r=i(),e=function(){return i()-r};n.exports=e},3487:function(n,e,t){var r=t(6768),i=t(6472),o=t(6341),s=t(3783);e=function(a,c,l){if(r(c)&&(c=[c]),i(c)){var u=c;c=function(p,f){return o(u,f)}}var h={},d=function(p,f){c(p,f)&&(h[f]=p)};return l&&(d=function(p,f){c(p,f)||(h[f]=p)}),s(a,d),h},n.exports=e},747:function(n,e,t){var r=t(1475),i=t(7494),o=t(3023),s=t(6257),a=t(7622);(e=r(function(h){if(h=h.replace(l,""),h=i(h),s(u,h))return h;for(var d=c.length;d--;){var p=c[d]+o(h);if(s(u,p))return p}return h})).dash=r(function(h){var d=e(h);return(l.test(d)?"-":"")+a(d)});var c=["O","ms","Moz","Webkit"],l=/^(O)|(ms)|(Moz)|(Webkit)|(-o-)|(-ms-)|(-moz-)|(-webkit-)/g,u=document.createElement("p").style;n.exports=e},2994:function(n,e,t){var r=t(6472),i=t(7653);e=function(o){return r(o)?function(a){return i(a,o)}:(s=o,function(a){return a==null?void 0:a[s]});var s},n.exports=e},1745:function(n,e,t){var r=t(4331),i=t(3783),o=t(1286),s=t(6472),a=t(2461),c=t(8887),l=t(5972),u=t(5166);e={parse:function(d){var p={};return d=r(d).replace(h,""),i(d.split("&"),function(f){var m=f.split("="),g=m.shift(),v=m.length>0?m.join("="):null;g=decodeURIComponent(g),v=decodeURIComponent(v),o(p[g])?p[g]=v:s(p[g])?p[g].push(v):p[g]=[p[g],v]}),p},stringify:function(d,p){return l(a(d,function(f,m){return u(f)&&c(f)?"":s(f)?e.stringify(f,m):encodeURIComponent(p||m)+"="+encodeURIComponent(f)}),function(f){return f.length>0}).join("&")}};var h=/^(\?|#|&)/g;n.exports=e},1571:function(n,e,t){var r,i,o=t(8847),s=t(2727),a=0;if(s){r=window.requestAnimationFrame,i=window.cancelAnimationFrame;for(var c=["ms","moz","webkit","o"],l=0,u=c.length;l<u&&!r;l++)r=window[c[l]+"RequestAnimationFrame"],i=window[c[l]+"CancelAnimationFrame"]||window[c[l]+"CancelRequestAnimationFrame"];r&&(r=r.bind(window),i=i.bind(window))}i=i||function(h){clearTimeout(h)},(r=r||function(h){var d=o(),p=Math.max(0,16-(d-a)),f=setTimeout(function(){h(d+p)},p);return a=d+p,f}).cancel=i,e=r,n.exports=e},1216:function(n,e){e=function(t,r,i){r==null&&(r=t,t=0);var o=Math.random();return i||t%1||r%1?Math.min(t+o*(r-t+parseFloat("1e-"+((o+"").length-1))),r):t+Math.floor(o*(r-t+1))},n.exports=e},3366:function(module,exports,__webpack_require__){var random=__webpack_require__(1216),isBrowser=__webpack_require__(2727),isNode=__webpack_require__(1965),crypto;exports=function(n){for(var e=new Uint8Array(n),t=0;t<n;t++)e[t]=random(0,255);return e},isBrowser?(crypto=window.crypto||window.msCrypto,crypto&&(exports=function(n){var e=new Uint8Array(n);return crypto.getRandomValues(e),e})):isNode&&(crypto=eval("require")("crypto"),exports=function(n){return crypto.randomBytes(n)}),module.exports=exports},4270:function(n,e){var t,r=[],i=document,o=i.documentElement.doScroll,s="DOMContentLoaded",a=(o?/^loaded|^c/:/^loaded|^i|^c/).test(i.readyState);a||i.addEventListener(s,t=function(){for(i.removeEventListener(s,t),a=1;t=r.shift();)t()}),e=function(c){a?setTimeout(c,0):r.push(c)},n.exports=e},5852:function(n,e,t){var r=t(2838);e=function(i,o,s){var a=[];o=r(o,s);for(var c=-1,l=i.length;++c<l;){var u=i[c];o(u,c,i)&&(a.push(u),i.splice(c,1))}return a},n.exports=e},4552:function(n,e){e=function(t,r){var i="";if(r<1)return"";for(;r>0;)1&r&&(i+=t),r>>=1,t+=t;return i},n.exports=e},8368:function(n,e,t){var r=t(2337);e=function(i,o,s){return i.replace(new RegExp(r(o),"g"),s)},n.exports=e},1137:function(n,e){e=function(t,r){return r=r==null?t.length-1:+r,function(){var i,o=Math.max(arguments.length-r,0),s=new Array(o);for(i=0;i<o;i++)s[i]=arguments[i+r];switch(r){case 0:return t.call(this,s);case 1:return t.call(this,arguments[0],s);case 2:return t.call(this,arguments[0],arguments[1],s)}var a=new Array(r+1);for(i=0;i<r;i++)a[i]=arguments[i];return a[r]=s,t.apply(this,a)}},n.exports=e},1527:function(n,e){e=function(t){var r=t.length,i=Array(r);r--;for(var o=0;o<=r;o++)i[r-o]=t[o];return i},n.exports=e},3279:function(n,e){e=function(o){var s,a,c=o[0]/255,l=o[1]/255,u=o[2]/255,h=t(c,l,u),d=r(c,l,u),p=d-h;(s=t(60*(s=d===h?0:c===d?(l-u)/p:l===d?2+(u-c)/p:4+(c-l)/p),360))<0&&(s+=360);var f=(h+d)/2;a=d===h?0:f<=.5?p/(d+h):p/(2-d-h);var m=[i(s),i(100*a),i(100*f)];return o[3]&&(m[3]=o[3]),m};var t=Math.min,r=Math.max,i=Math.round;n.exports=e},5031:function(n,e,t){var r=t(6299);e=function(i){var o,s=window.location,a=s.hostname,c=s.pathname,l=a.split("."),u=c.split("/"),h="",d=u.length;if(!v())for(var p=l.length-1;p>=0;p--){var f=l[p];if(f!==""){if(v({domain:h=h===""?f:f+"."+h,path:o="/"})||v({domain:h}))return;for(var m=0;m<d;m++){var g=u[m];if(g!==""&&(v({domain:h,path:o+=g})||v({path:o})||v({domain:h,path:o+="/"})||v({path:o})))return}}}function v(y){return y=y||{},r.remove(i,y),!r.get(i)}},n.exports=e},5610:function(n,e,t){e=t(2727)?window:t.g,n.exports=e},3597:function(n,e){e=function(t,r){if(r==null){if(t.trimRight)return t.trimRight();r=` \r
	\f\v`}for(var i,o,s=t.length-1,a=r.length,c=!0;c&&s>=0;)for(c=!1,i=-1,o=t.charAt(s);++i<a;)if(o===r[i]){c=!0,s--;break}return s>=0?t.substring(0,s+1):""},n.exports=e},2838:function(n,e,t){var r=t(4777),i=t(5166),o=t(6472),s=t(3955),a=t(4491),c=t(6362),l=t(2994);e=function(u,h,d){return u==null?c:r(u)?s(u,h,d):i(u)&&!o(u)?a(u):l(u)},n.exports=e},7653:function(n,e,t){var r=t(1286),i=t(2848);e=function(o,s){var a;for(a=(s=i(s,o)).shift();!r(a);){if((o=o[a])==null)return;a=s.shift()}return o},n.exports=e},8079:function(n,e,t){var r=t(2848),i=t(1286),o=t(3367),s=t(9804),a=t(6768);e=function(c,l,u){var h,d=(l=r(l,c)).pop();for(h=l.shift();!i(h);){if(a(h)||s(h)||(h=o(h)),h==="__proto__"||h==="constructor"||h==="prototype")return;c[h]||(c[h]={}),c=c[h],h=l.shift()}c[d]=u},n.exports=e},615:function(n,e,t){var r=t(5026);e=function(i){var o;switch(i=i||"local"){case"local":o=window.localStorage;break;case"session":o=window.sessionStorage}try{var s="test-localStorage-"+Date.now();o.setItem(s,s);var a=o.getItem(s);if(o.removeItem(s),a!==s)throw new Error}catch{return r}return o},n.exports=e},4224:function(n,e,t){var r=t(6334);e=function(i,o){return i=new r(i),o=new r(o),i.port=0|i.port||(i.protocol==="https"?443:80),o.port=0|o.port||(o.protocol==="https"?443:80),i.protocol===o.protocol&&i.hostname===o.hostname&&i.port===o.port},n.exports=e},9677:function(n,e){e=function(t,r,i){var o=t.length;r=r==null?0:r<0?Math.max(o+r,0):Math.min(r,o),i=i==null?o:i<0?Math.max(o+i,0):Math.min(i,o);for(var s=[];r<i;)s.push(t[r++]);return s},n.exports=e},6053:function(n,e,t){var r=t(2838),i=t(1369),o=t(2533);e=function(s,a,c){a=r(a,c);for(var l=!i(s)&&o(s),u=(l||s).length,h=0;h<u;h++){var d=l?l[h]:h;if(a(s[d],d,s))return!0}return!1},n.exports=e},3629:function(n,e,t){var r=t(3843),i=t(4193),o=t(2533),s=t(6472),a=t(5166);e=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(u,c);var h=u.deep,d=u.comparator,p=[],f=[];function m(g){var v,y=p.indexOf(g);if(y>-1)return f[y];if(s(g)){v=[],p.push(g),f.push(v);for(var A=0,x=g.length;A<x;A++){var S=g[A];h&&a(S)?v[A]=m(S):v[A]=S}}else{v={},p.push(g),f.push(v);for(var E=o(g).sort(d),w=0,k=E.length;w<k;w++){var Z=E[w],L=g[Z];h&&a(L)?v[Z]=m(L):v[Z]=L}}return v}return m(l)};var c={deep:!1,comparator:r.defComparator};n.exports=e},8935:function(n,e){var t=/([A-Z])/g,r=/[_.\- ]+/g,i=/(^-)|(-$)/g;e=function(o){return(o=o.replace(t,"-$1").toLowerCase().replace(r,"-").replace(i,"")).split("-")},n.exports=e},6930:function(n,e){e=function(t,r){return t.indexOf(r)===0},n.exports=e},4400:function(n,e,t){var r=t(3085),i=t(3023),o=t(3367),s=t(1286),a=t(4777),c=t(1754);e=function(l,u){return JSON.stringify(l,(h=[],d=[],function(p,f){if(h.length>0){var m=h.indexOf(this);m>-1?(h.splice(m+1),d.splice(m,1/0,p)):(h.push(this),d.push(p));var g=h.indexOf(f);g>-1&&(f=h[0]===f?"[Circular ~]":"[Circular ~."+d.slice(0,g).join(".")+"]")}else h.push(f);return c(f)||a(f)?f="["+i(r(f))+" "+o(f)+"]":s(f)&&(f=null),f}),u);var h,d},n.exports=e},9963:function(n,e,t){var r=t(4187),i=t(3085),o=t(3367),s=t(4858),a=t(300),c=t(2533),l=t(3783),u=t(7496),h=t(415),d=t(801),p=t(6329),f=t(4321),m=t(5972),g=t(8847),v=t(1116),y=t(6341),A=t(5166),x=t(9537),S=t(1662),E=t(6930),w=t(8079),k=t(9803),Z=t(3487),L=t(1369);function G($,D,z,Y){var rt=[];return l(D,function(ot){var st,tt=Object.getOwnPropertyDescriptor(z,ot),nt=tt&&tt.get,Tt=tt&&tt.set;if(!Y.accessGetter&&nt)st="(...)";else try{if(st=z[ot],y(Y.ignore,st))return;f(st)&&st.catch(function(){})}catch(At){st=At.message}rt.push("".concat(j(ot),":").concat(e(st,Y))),nt&&rt.push("".concat(j("get "+o(ot)),":").concat(e(tt.get,Y))),Tt&&rt.push("".concat(j("set "+o(ot)),":").concat(e(tt.set,Y)))}),'"'.concat($,'":{')+rt.join(",")+"}"}function j($){return'"'.concat(T($),'"')}function M($){return'"'.concat(T(o($)),'"')}function T($){return r($).replace(/\\'/g,"'").replace(/\t/g,"\\t")}e=function($){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=D.self,Y=D.startTime,rt=Y===void 0?g():Y,ot=D.timeout,st=ot===void 0?0:ot,tt=D.depth,nt=tt===void 0?0:tt,Tt=D.curDepth,At=Tt===void 0?1:Tt,Gt=D.visitor,Nt=Gt===void 0?new P:Gt,jt=D.unenumerable,kt=jt!==void 0&&jt,Dt=D.symbol,Ct=Dt!==void 0&&Dt,q=D.accessGetter,ft=q!==void 0&&q,yt=D.ignore,Lt=yt===void 0?[]:yt,K="",mt={visitor:Nt,unenumerable:kt,symbol:Ct,accessGetter:ft,depth:nt,curDepth:At+1,timeout:st,startTime:rt,ignore:Lt},W=i($,!1);if(W==="String")K=M($);else if(W==="Number")K=o($),s(K,"Infinity")&&(K='{"value":"'.concat(K,'","type":"Number"}'));else if(W==="NaN")K='{"value":"NaN","type":"Number"}';else if(W==="Boolean")K=$?"true":"false";else if(W==="Null")K="null";else if(W==="Undefined")K='{"type":"Undefined"}';else if(W==="Symbol"){var vt="Symbol";try{vt=o($)}catch{}K='{"value":'.concat(M(vt),',"type":"Symbol"}')}else{if(st&&g()-rt>st)return M("Timeout");if(nt&&At>nt)return M("{...}");K="{";var ut,ht=[],Yt=Nt.get($);if(Yt?(ut=Yt.id,ht.push('"reference":'.concat(ut))):(ut=Nt.set($),ht.push('"id":'.concat(ut))),ht.push('"type":"'.concat(W,'"')),s(W,"Function")?ht.push('"value":'.concat(M(a($)))):W==="RegExp"&&ht.push('"value":'.concat(M($))),!Yt){var gt=c($);if(gt.length&&ht.push(G("enumerable",gt,z||$,mt)),kt){var it=d(v($,{prototype:!1,unenumerable:!0}),gt);it.length&&ht.push(G("unenumerable",it,z||$,mt))}if(Ct){var wt=m(v($,{prototype:!1,symbol:!0}),function(It){return typeof It=="symbol"});wt.length&&ht.push(G("symbol",wt,z||$,mt))}var at=h($);if(at&&!y(Lt,at)){var dt='"proto":'.concat(e(at,p(mt,{self:z||$})));ht.push(dt)}}K+=ht.join(",")+"}"}return K};var P=u({initialize:function(){this.id=1,this.visited=[]},set:function($){var D=this.visited,z=this.id,Y={id:z,val:$};return D.push(Y),this.id++,z},get:function($){for(var D=this.visited,z=0,Y=D.length;z<Y;z++){var rt=D[z];if($===rt.val)return rt}return!1}});function U($,D){var z=D.map;if(!A($))return $;var Y=$.id,rt=$.type,ot=$.value,st=$.proto,tt=$.reference,nt=$.enumerable,Tt=$.unenumerable;if(tt)return $;if(rt==="Number")return ot==="Infinity"?Number.POSITIVE_INFINITY:ot==="-Infinity"?Number.NEGATIVE_INFINITY:NaN;if(rt!=="Undefined"){var At,Gt,Nt;if(rt==="Function")(At=function(){}).toString=function(){return ot},st&&Object.setPrototypeOf(At,U(st,D));else if(rt==="RegExp")Nt=(Gt=ot).lastIndexOf("/"),At=new RegExp(Gt.slice(1,Nt),Gt.slice(Nt+1));else{var jt;rt!=="Object"?(jt=x?function(){}:new Function(rt,""),st&&(jt.prototype=U(st,D)),At=new jt):At=S(st?U(st,D):null)}var kt,Dt={};return nt&&(L(nt)&&(kt=nt.length,delete nt.length),nt=Z(nt,function(q,ft){return!Ct(nt,q,ft)}),l(nt,function(q,ft){(Dt[ft]||{}).get||(At[ft]=U(q,D))}),kt&&(At.length=kt)),Tt&&(Tt=Z(Tt,function(q,ft){return!Ct(Tt,q,ft)}),l(Tt,function(q,ft){var yt=Dt[ft]||{};if(!yt.get)if(q=U(q,D),A(q)&&q.reference){var Lt=q.reference;q=function(){return z[Lt]},yt.get=q}else yt.value=q;yt.enumerable=!1,Dt[ft]=yt})),k(At,Dt),z[Y]=At,At}function Ct(q,ft,yt){yt=o(yt);var Lt=!1;return l(["get","set"],function(K){if(E(yt,K+" ")){var mt=yt.replace(K+" ","");q[mt]&&((ft=U(ft,D))==="Timeout"&&(ft=N),w(Dt,[mt,K],ft),Lt=!0)}}),Lt}}function N(){return"Timeout"}e.parse=function($){var D={},z=U(JSON.parse($),{map:D});return function(Y){l(Y,function(rt){for(var ot=c(rt),st=0,tt=ot.length;st<tt;st++){var nt=ot[st];if(A(rt[nt])){var Tt=rt[nt].reference;Tt&&Y[Tt]&&(rt[nt]=Y[Tt])}}var At=h(rt);At&&At.reference&&Y[At.reference]&&Object.setPrototypeOf(rt,Y[At.reference])})}(D),z},n.exports=e},8648:function(n,e){var t=/<[^>]*>/g;e=function(r){return r.replace(t,"")},n.exports=e},1907:function(n,e,t){var r=t(6768),i=t(1352),o=t(6435),s=t(2461),a=t(4331);e=function(l){r(l)&&(l=i(l));for(var u="",h=arguments.length,d=new Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];for(var f=0,m=l.length;f<m;f++)u+=l[f],d[f]&&(u+=d[f]);for(var g=u.split(`
`),v=[],y=0,A=g.length;y<A;y++){var x=g[y],S=x.match(c);S&&v.push(S[1].length)}var E=v.length>0?o.apply(null,v):0;return a(s(g,function(w){return w[0]===" "?w.slice(E):w}).join(`
`))};var c=/^(\s+)\S+/;n.exports=e},2439:function(n,e,t){var r=t(6049);e=function(i,o){return r(i,o,!0)},n.exports=e},1352:function(n,e,t){var r=t(1369),i=t(2461),o=t(6472),s=t(6768);e=function(a){return a?o(a)?a:r(a)&&!s(a)?i(a):[a]:[]},n.exports=e},3474:function(n,e,t){var r=t(6768);e=function(i){return r(i)?(i=i.toLowerCase())!=="0"&&i!==""&&i!=="false":!!i},n.exports=e},4891:function(n,e){var t=document;if(e=function(i){var o=t.createElement("body");return o.innerHTML=i,o.childNodes[0]},t.createRange&&t.body){var r=t.createRange();r.selectNode(t.body),r.createContextualFragment&&(e=function(i){return r.createContextualFragment(i).childNodes[0]})}n.exports=e},9296:function(n,e,t){var r=t(3875);e=function(i){return i?(i=r(i))-i%1:i===0?i:0},n.exports=e},3875:function(n,e,t){var r=t(3990),i=t(5166),o=t(4777),s=t(6768);e=function(a){if(r(a))return a;if(i(a)){var c=o(a.valueOf)?a.valueOf():a;a=i(c)?c+"":c}return s(a)?+a:a===0?a:+a},n.exports=e},300:function(n,e,t){var r=t(2763);e=function(o){if(r(o))return"";try{return i.call(o)}catch{}try{return o+""}catch{}return""};var i=Function.prototype.toString;n.exports=e},3367:function(n,e){e=function(t){return t==null?"":t.toString()},n.exports=e},4331:function(n,e,t){var r=t(7767),i=t(3597);e=function(o,s){return s==null&&o.trim?o.trim():r(i(o,s),s)},n.exports=e},7756:function(n,e,t){var r=t(4193),i=t(1286);e=function(s,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};r(c,o);var l=c.ellipsis,u=c.separator,h=s.length;if(a>h)return s;var d=a-l.length;if(d<1)return l;var p=s.slice(0,d);if(i(u))return p+l;if(s.indexOf(u,d)!==d){var f=p.lastIndexOf(u);f>-1&&(p=p.slice(0,f))}return p+l};var o={ellipsis:"..."};n.exports=e},3085:function(n,e,t){var r=t(106),i=t(9433),o=t(3063),s=t(2349);e=function(c){var l,u=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return c===null&&(l="Null"),c===void 0&&(l="Undefined"),i(c)&&(l="NaN"),s(c)&&(l="Buffer"),l||(l=r(c).match(a))&&(l=l[1]),l?u?o(l):l:""};var a=/^\[object\s+(.*?)]$/;n.exports=e},9016:function(n,e){e={},n.exports=e},8166:function(n,e,t){var r=t(996),i=t(2461);e={encode:function(o){return o.length<32768?String.fromCodePoint.apply(String,o):i(r(o,32767),function(s){return String.fromCodePoint.apply(String,s)}).join("")},decode:function(o){for(var s=[],a=0,c=o.length;a<c;){var l=o.charCodeAt(a++);if(l>=55296&&l<=56319&&a<c){var u=o.charCodeAt(a++);(64512&u)==56320?s.push(((1023&l)<<10)+(1023&u)+65536):(s.push(l),a--)}else s.push(l)}return s}},n.exports=e},5484:function(n,e,t){var r=t(2727),i=t(8985),o=!1;function s(a){o&&e.emit(a)}e={start:function(){o=!0},stop:function(){o=!1}},i.mixin(e),r?(window.addEventListener("error",function(a){if(a.error)s(a.error);else if(a.message){var c=new Error(a.message);c.stack="Error: ".concat(a.message,` 
 at `).concat(a.filename,":").concat(a.lineno,":").concat(a.colno),s(c)}}),window.addEventListener("unhandledrejection",function(a){s(a.reason)})):(process.on("uncaughtException",s),process.on("unhandledRejection",s)),n.exports=e},7387:function(n,e,t){var r=t(8901),i=t(2533);e=function(u){return a.test(u)?u.replace(c,l):u};var o=t(7190)(r.map),s="(?:"+i(o).join("|")+")",a=new RegExp(s),c=new RegExp(s,"g");function l(u){return o[u]}n.exports=e},5229:function(n,e){var t=0;e=function(r){var i=++t+"";return r?r+i:i},n.exports=e},42:function(n,e,t){var r=t(5972);function i(o,s){return o===s}e=function(o,s){return s=s||i,r(o,function(a,c,l){for(var u=l.length;++c<u;)if(s(a,l[c]))return!1;return!0})},n.exports=e},4502:function(n,e,t){var r=t(3367);e=function(i){return r(i).toLocaleUpperCase()},n.exports=e},3023:function(n,e){e=function(t){return t.length<1?t:t[0].toUpperCase()+t.slice(1)},n.exports=e},5742:function(n,e,t){var r=t(8166);e={encode:function(g){for(var v=r.decode(g),y="",A=0,x=v.length;A<x;A++)y+=p(v[A]);return y},decode:function(g,v){i=r.decode(g),o=0,s=i.length,a=0,c=0,l=0,u=128,h=191;for(var y,A=[];(y=f(v))!==!1;)A.push(y);return r.encode(A)}};var i,o,s,a,c,l,u,h,d=String.fromCharCode;function p(g){if(!(4294967168&g))return d(g);var v,y,A="";for(4294965248&g?4294901760&g?!(4292870144&g)&&(v=3,y=240):(v=2,y=224):(v=1,y=192),A+=d((g>>6*v)+y);v>0;)A+=d(128|63&g>>6*(v-1)),v--;return A}function f(g){for(;;){if(o>=s&&l){if(g)return m();throw new Error("Invalid byte index")}if(o===s)return!1;var v=i[o];if(o++,l){if(v<u||v>h){if(g)return o--,m();throw new Error("Invalid continuation byte")}if(u=128,h=191,a=a<<6|63&v,++c===l){var y=a;return a=0,l=0,c=0,y}}else{if(!(128&v))return v;if((224&v)==192)l=1,a=31&v;else if((240&v)==224)v===224&&(u=160),v===237&&(h=159),l=2,a=15&v;else{if((248&v)!=240){if(g)return m();throw new Error("Invalid UTF-8 detected")}v===240&&(u=144),v===244&&(h=143),l=3,a=7&v}}}}function m(){var g=o-c-1;return o=g+1,a=0,l=0,c=0,u=128,h=191,i[g]}n.exports=e},5936:function(n,e,t){var r=t(3366);e=function(){var s=r(16);return s[6]=15&s[6]|64,s[8]=63&s[8]|128,i[s[0]]+i[s[1]]+i[s[2]]+i[s[3]]+"-"+i[s[4]]+i[s[5]]+"-"+i[s[6]]+i[s[7]]+"-"+i[s[8]]+i[s[9]]+"-"+i[s[10]]+i[s[11]]+i[s[12]]+i[s[13]]+i[s[14]]+i[s[15]]};for(var i=[],o=0;o<256;o++)i[o]=(o+256).toString(16).substr(1);n.exports=e},2578:function(n,e,t){var r=t(3783);e=function(i){var o=[];return r(i,function(s){o.push(s)}),o},n.exports=e},3514:function(n,e,t){var r=t(8573),i=t(9882),o=t(4331),s=t(3783),a=t(2461),c=t(9433);e=function(){var l=r("viewport");if(!l)return 1;l=a(l.split(","),function(f){return o(f)});var u=.25,h=5,d=1;s(l,function(f){var m=(f=f.split("="))[0];f=f[1],m==="initial-scale"&&(d=+f),m==="maximum-scale"&&(h=+f),m==="minimum-scale"&&(u=+f)});var p=i(d,u,h);return c(p)?1:p},n.exports=e},5491:function(n,e,t){var r=t(4198);e=function(i,o){return r(o,i)},n.exports=e},8933:function(n,e){e=function(t){for(var r=[],i=document.evaluate(t,document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),o=0;o<i.snapshotLength;o++)r.push(i.snapshotItem(o));return r},n.exports=e},3577:function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=[["menuitem","command"],["rel","roletype"],["article","article"],["header","banner"],["input","button",[["type","checkbox"]]],["summary","button",[["aria-expanded","false"]]],["summary","button",[["aria-expanded","true"]]],["input","button",[["type","button"]]],["input","button",[["type","image"]]],["input","button",[["type","reset"]]],["input","button",[["type","submit"]]],["button","button"],["td","cell"],["input","checkbox",[["type","checkbox"]]],["th","columnheader"],["input","combobox",[["type","email"]]],["input","combobox",[["type","search"]]],["input","combobox",[["type","tel"]]],["input","combobox",[["type","text"]]],["input","combobox",[["type","url"]]],["input","combobox",[["type","url"]]],["select","combobox"],["select","combobox",[["size",1]]],["aside","complementary"],["footer","contentinfo"],["dd","definition"],["dialog","dialog"],["body","document"],["figure","figure"],["form","form"],["form","form"],["form","form"],["span","generic"],["div","generic"],["table","grid",[["role","grid"]]],["td","gridcell",[["role","gridcell"]]],["details","group"],["fieldset","group"],["optgroup","group"],["h1","heading"],["h2","heading"],["h3","heading"],["h4","heading"],["h5","heading"],["h6","heading"],["img","img"],["img","img"],["a","link"],["area","link"],["link","link"],["menu","list"],["ol","list"],["ul","list"],["select","listbox"],["select","listbox"],["select","listbox"],["datalist","listbox"],["li","listitem"],["main","main"],["math","math"],["menuitem","command"],["nav","navigation"],["option","option"],["progress","progressbar"],["input","radio",[["type","radio"]]],["section","region"],["section","region"],["frame","region"],["tr","row"],["tbody","rowgroup"],["tfoot","rowgroup"],["thead","rowgroup"],["th","rowheader",[["scope","row"]]],["input","searchbox",[["type","search"]]],["hr","separator"],["input","slider",[["type","range"]]],["input","spinbutton",[["type","number"]]],["output","status"],["table","table"],["dfn","term"],["input","textbox"],["input","textbox",[["type","email"]]],["input","textbox",[["type","tel"]]],["input","textbox",[["type","text"]]],["input","textbox",[["type","url"]]],["textarea","textbox"]]},7715:function(n,e,t){var r,i=this&&this.__extends||(r=function(M,T){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,U){P.__proto__=U}||function(P,U){for(var N in U)Object.prototype.hasOwnProperty.call(U,N)&&(P[N]=U[N])},r(M,T)},function(M,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function P(){this.constructor=M}r(M,T),M.prototype=T===null?Object.create(T):(P.prototype=T.prototype,new P)}),o=this&&this.__assign||function(){return o=Object.assign||function(M){for(var T,P=1,U=arguments.length;P<U;P++)for(var N in T=arguments[P])Object.prototype.hasOwnProperty.call(T,N)&&(M[N]=T[N]);return M},o.apply(this,arguments)},s=this&&this.__values||function(M){var T=typeof Symbol=="function"&&Symbol.iterator,P=T&&M[T],U=0;if(P)return P.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&U>=M.length&&(M=void 0),{value:M&&M[U++],done:!M}}};throw new TypeError(T?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(t(1160)),l=t(7669),u=t(2062),h=a(t(242)),d=a(t(2439)),p=a(t(3063)),f=a(t(3783)),m=a(t(3009)),g=a(t(5044)),v=a(t(4502)),y=a(t(6329)),A=a(t(7494)),x=a(t(6341)),S=a(t(3875)),E=a(t(3577)),w=a(t(6768));t(8169);var k=function(M){function T(P,U){U===void 0&&(U={});var N=M.call(this,P,{compName:"dom-highlighter"},U)||this;return N.overlay=new l.HighlightOverlay(window),N.reset=function(){var $=document.documentElement.clientWidth,D=document.documentElement.clientHeight;N.overlay.reset({viewportSize:{width:$,height:D},deviceScaleFactor:1,pageScaleFactor:1,pageZoomFactor:1,emulationScaleFactor:1,scrollX:window.scrollX,scrollY:window.scrollY})},N.initOptions(U,{showRulers:!1,showExtensionLines:!1,showInfo:!0,showStyles:!0,showAccessibilityInfo:!0,colorFormat:"hex",contentColor:"rgba(111, 168, 220, .66)",paddingColor:"rgba(147, 196, 125, .55)",borderColor:"rgba(255, 229, 153, .66)",marginColor:"rgba(246, 178, 107, .66)",monitorResize:!0}),N.overlay.setContainer(P),N.overlay.setPlatform("mac"),N.redraw=(0,d.default)(function(){N.reset(),N.draw()},16),N.redraw(),N.bindEvent(),N}return i(T,M),T.prototype.highlight=function(P,U){U&&(0,y.default)(this.options,U),this.target=P,P instanceof HTMLElement&&this.options.monitorResize&&(this.resizeSensor&&this.resizeSensor.destroy(),this.resizeSensor=new h.default(P),this.resizeSensor.addListener(this.redraw)),this.redraw()},T.prototype.hide=function(){this.target=null,this.redraw()},T.prototype.intercept=function(P){this.interceptor=P},T.prototype.destroy=function(){window.removeEventListener("resize",this.redraw),window.removeEventListener("scroll",this.redraw),this.resizeSensor&&this.resizeSensor.destroy(),M.prototype.destroy.call(this)},T.prototype.draw=function(){var P=this.target;P&&(P instanceof Text?this.drawText(P):this.drawElement(P))},T.prototype.drawText=function(P){var U=this.options,N=document.createRange();N.selectNode(P);var $=N.getBoundingClientRect(),D=$.left,z=$.top,Y=$.width,rt=$.height;N.detach();var ot={paths:[{path:this.rectToPath({left:D,top:z,width:Y,height:rt}),fillColor:G(U.contentColor),name:"content"}],showExtensionLines:U.showExtensionLines,showRulers:U.showRulers};U.showInfo&&(ot.elementInfo={tagName:"#text",nodeWidth:Y,nodeHeight:rt}),this.overlay.drawHighlight(ot)},T.prototype.drawElement=function(P){var U={paths:this.getPaths(P),showExtensionLines:this.options.showExtensionLines,showRulers:this.options.showRulers,colorFormat:this.options.colorFormat};if(this.options.showInfo&&(U.elementInfo=this.getElementInfo(P)),this.interceptor){var N=this.interceptor(U);N&&(U=N)}this.overlay.drawHighlight(U)},T.prototype.getPaths=function(P){var U=this.options,N=window.getComputedStyle(P),$=P.getBoundingClientRect(),D=$.left,z=$.top,Y=$.width,rt=$.height,ot=function(ft){return(0,u.pxToNum)(N.getPropertyValue(ft))},st=ot("margin-left"),tt=ot("margin-right"),nt=ot("margin-top"),Tt=ot("margin-bottom"),At=ot("border-left-width"),Gt=ot("border-right-width"),Nt=ot("border-top-width"),jt=ot("border-bottom-width"),kt=ot("padding-left"),Dt=ot("padding-right"),Ct=ot("padding-top"),q=ot("padding-bottom");return[{path:this.rectToPath({left:D+At+kt,top:z+Nt+Ct,width:Y-At-kt-Gt-Dt,height:rt-Nt-Ct-jt-q}),fillColor:G(U.contentColor),name:"content"},{path:this.rectToPath({left:D+At,top:z+Nt,width:Y-At-Gt,height:rt-Nt-jt}),fillColor:G(U.paddingColor),name:"padding"},{path:this.rectToPath({left:D,top:z,width:Y,height:rt}),fillColor:G(U.borderColor),name:"border"},{path:this.rectToPath({left:D-st,top:z-nt,width:Y+st+tt,height:rt+nt+Tt}),fillColor:G(U.marginColor),name:"margin"}]},T.prototype.getElementInfo=function(P){var U=P.getBoundingClientRect(),N=U.width,$=U.height,D=P.getAttribute("class")||"";D=D.split(/\s+/).map(function(Y){return"."+Y}).join("");var z={tagName:(0,p.default)(P.tagName),className:D,idValue:P.id,nodeWidth:N,nodeHeight:$};return this.options.showStyles&&(z.style=this.getStyles(P)),this.options.showAccessibilityInfo&&(0,y.default)(z,this.getAccessibilityInfo(P)),z},T.prototype.getStyles=function(P){for(var U=window.getComputedStyle(P),N=!1,$=P.childNodes,D=0,z=$.length;D<z;D++)$[D].nodeType===3&&(N=!0);var Y=[];return N&&Y.push("color","font-family","font-size","line-height"),Y.push("padding","margin","background-color"),j(U,Y)},T.prototype.getAccessibilityInfo=function(P){var U=window.getComputedStyle(P);return o({showAccessibilityInfo:!0,contrast:o({contrastAlgorithm:"aa",textOpacity:.1},j(U,["font-size","font-weight","background-color","text-opacity"],!0)),isKeyboardFocusable:this.isFocusable(P)},this.getAccessibleNameAndRole(P))},T.prototype.isFocusable=function(P){var U=(0,p.default)(P.tagName);if((0,x.default)(["a","button","input","textarea","select","details"],U))return!0;var N=P.getAttribute("tabindex");return!!(N&&(0,S.default)(N)>-1)},T.prototype.getAccessibleNameAndRole=function(P){var U=P.getAttribute("labelledby")||P.getAttribute("aria-label"),N=P.getAttribute("role"),$=(0,p.default)(P.tagName);return E.default.forEach(function(D){var z,Y;if(!N){var rt=D[0],ot=D[2];if(rt===$){if(ot)try{for(var st=s(ot),tt=st.next();!tt.done;tt=st.next()){var nt=tt.value;if(P.getAttribute(nt[0])!==nt[1])return}}catch(Tt){z={error:Tt}}finally{try{tt&&!tt.done&&(Y=st.return)&&Y.call(st)}finally{if(z)throw z.error}}N=D[1]}}}),{accessibleName:U||P.getAttribute("title")||"",accessibleRole:N||"generic"}},T.prototype.bindEvent=function(){var P=this;window.addEventListener("resize",this.redraw),window.addEventListener("scroll",this.redraw),this.on("optionChange",function(){return P.redraw()})},T.prototype.rectToPath=function(P){var U=P.left,N=P.top,$=P.width,D=P.height,z=[];return z.push("M",U,N),z.push("L",U+$,N),z.push("L",U+$,N+D),z.push("L",U,N+D),z.push("Z"),z},T}(c.default);e.default=k,n.exports=k,n.exports.default=k;var Z=/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,L=/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*(?:\.\d+)?)\)$/;function G(M){return(0,w.default)(M)?M:M.a?"rgba(".concat(M.r,", ").concat(M.g,", ").concat(M.b,", ").concat(M.a,")"):"rgb(".concat(M.r,", ").concat(M.g,", ").concat(M.b,")")}function j(M,T,P){P===void 0&&(P=!1);var U={};return(0,f.default)(T,function(N){var $,D=M[N==="text-opacity"?"color":N];D&&($=D,(Z.test($)||L.test($))&&(D=function(z){var Y=m.default.parse(z),rt=Y.val[3]||1;return Y.val=Y.val.slice(0,3),Y.val.push(Math.round(255*rt)),"#"+(0,v.default)(g.default.encode(Y.val))}(D),N==="text-opacity"&&(D=D.slice(7),D=g.default.decode(D)[0]/255)),P&&(N=(0,A.default)(N)),U[N]=D)}),U}},9706:function(n,e){var t=this&&this.__read||function(m,g){var v=typeof Symbol=="function"&&m[Symbol.iterator];if(!v)return m;var y,A,x=v.call(m),S=[];try{for(;(g===void 0||g-- >0)&&!(y=x.next()).done;)S.push(y.value)}catch(E){A={error:E}}finally{try{y&&!y.done&&(v=x.return)&&v.call(x)}finally{if(A)throw A.error}}return S},r=this&&this.__values||function(m){var g=typeof Symbol=="function"&&Symbol.iterator,v=g&&m[g],y=0;if(v)return v.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&y>=m.length&&(m=void 0),{value:m&&m[y++],done:!m}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")};function i(m,g){var v=m[3];return[(1-v)*g[0]+v*m[0],(1-v)*g[1]+v*m[1],(1-v)*g[2]+v*m[2],v+g[3]*(1-v)]}function o(m){var g=t(m,3),v=g[0],y=g[1],A=g[2];return .2126*(v<=.03928?v/12.92:Math.pow((v+.055)/1.055,2.4))+.7152*(y<=.03928?y/12.92:Math.pow((y+.055)/1.055,2.4))+.0722*(A<=.03928?A/12.92:Math.pow((A+.055)/1.055,2.4))}Object.defineProperty(e,"__esModule",{value:!0}),e.getContrastThreshold=e.isLargeFont=e.getAPCAThreshold=e.desiredLuminanceAPCA=e.contrastRatioByLuminanceAPCA=e.contrastRatioAPCA=e.luminanceAPCA=e.contrastRatio=e.luminance=e.rgbaToHsla=e.blendColors=void 0,e.blendColors=i,e.rgbaToHsla=function(m){var g=t(m,4),v=g[0],y=g[1],A=g[2],x=g[3],S=Math.max(v,y,A),E=Math.min(v,y,A),w=S-E,k=S+E,Z=.5*k;return[E===S?0:v===S?(.16666666666666666*(y-A)/w+1)%1:y===S?.16666666666666666*(A-v)/w+.3333333333333333:.16666666666666666*(v-y)/w+.6666666666666666,Z===0||Z===1?0:Z<=.5?w/k:w/(2-k),Z,x]},e.luminance=o,e.contrastRatio=function(m,g){var v=o(i(m,g)),y=o(g);return(Math.max(v,y)+.05)/(Math.min(v,y)+.05)};var s=12.82051282051282,a=.06;function c(m){var g=t(m,3),v=g[0],y=g[1],A=g[2];return .2126729*Math.pow(v,2.4)+.7151522*Math.pow(y,2.4)+.072175*Math.pow(A,2.4)}function l(m){return m>.03?m:m+Math.pow(.03-m,1.45)}function u(m,g){if(m=l(m),g=l(g),Math.abs(m-g)<5e-4)return 0;var v=0;return 100*(v=g>=m?(v=1.25*(Math.pow(g,.55)-Math.pow(m,.58)))<.001?0:v<.078?v-v*s*a:v-a:(v=1.25*(Math.pow(g,.62)-Math.pow(m,.57)))>-.001?0:v>-.078?v-v*s*a:v+a)}e.luminanceAPCA=c,e.contrastRatioAPCA=function(m,g){return u(c(m),c(g))},e.contrastRatioByLuminanceAPCA=u,e.desiredLuminanceAPCA=function(m,g,v){function y(){return v?Math.pow(Math.abs(Math.pow(m,.62)-(-g-a)/1.25),1.7543859649122808):Math.pow(Math.abs(Math.pow(m,.55)-(g+a)/1.25),1.7241379310344829)}m=l(m),g/=100;var A=y();return(A<0||A>1)&&(v=!v,A=y()),A};var h=[[12,-1,-1,-1,-1,100,90,80,-1,-1],[14,-1,-1,-1,100,90,80,60,60,-1],[16,-1,-1,100,90,80,60,55,50,50],[18,-1,-1,90,80,60,55,50,40,40],[24,-1,100,80,60,55,50,40,38,35],[30,-1,90,70,55,50,40,38,35,40],[36,-1,80,60,50,40,38,35,30,25],[48,100,70,55,40,38,35,30,25,20],[60,90,60,50,38,35,30,25,20,20],[72,80,55,40,35,30,25,20,20,20],[96,70,50,35,30,25,20,20,20,20],[120,60,40,30,25,20,20,20,20,20]];function d(m,g){var v=72*parseFloat(m.replace("px",""))/96;return["bold","bolder","600","700","800","900"].indexOf(g)!==-1?v>=14:v>=18}h.reverse(),e.getAPCAThreshold=function(m,g){var v,y,A,x,S=parseFloat(m.replace("px","")),E=parseFloat(g);try{for(var w=r(h),k=w.next();!k.done;k=w.next()){var Z=t(k.value),L=Z[0],G=Z.slice(1);if(S>=L)try{for(var j=(A=void 0,r([900,800,700,600,500,400,300,200,100].entries())),M=j.next();!M.done;M=j.next()){var T=t(M.value,2),P=T[0];if(E>=T[1]){var U=G[G.length-1-P];return U===-1?null:U}}}catch(N){A={error:N}}finally{try{M&&!M.done&&(x=j.return)&&x.call(j)}finally{if(A)throw A.error}}}}catch(N){v={error:N}}finally{try{k&&!k.done&&(y=w.return)&&y.call(w)}finally{if(v)throw v.error}}return null},e.isLargeFont=d;var p={aa:3,aaa:4.5},f={aa:4.5,aaa:7};e.getContrastThreshold=function(m,g){return d(m,g)?p:f}},9434:function(n,e){var t=this&&this.__values||function(l){var u=typeof Symbol=="function"&&Symbol.iterator,h=u&&l[u],d=0;if(h)return h.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&d>=l.length&&(l=void 0),{value:l&&l[d++],done:!l}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(l,u){var h=typeof Symbol=="function"&&l[Symbol.iterator];if(!h)return l;var d,p,f=h.call(l),m=[];try{for(;(u===void 0||u-- >0)&&!(d=f.next()).done;)m.push(d.value)}catch(g){p={error:g}}finally{try{d&&!d.done&&(h=f.return)&&h.call(f)}finally{if(p)throw p.error}}return m},i=this&&this.__spreadArray||function(l,u,h){if(h||arguments.length===2)for(var d,p=0,f=u.length;p<f;p++)!d&&p in u||(d||(d=Array.prototype.slice.call(u,0,p)),d[p]=u[p]);return l.concat(d||Array.prototype.slice.call(u))};Object.defineProperty(e,"__esModule",{value:!0}),e.adoptStyleSheet=e.constrainNumber=e.ellipsify=e.createElement=e.createTextChild=e.createChild=e.log=e.Overlay=void 0;var o=function(){function l(u,h){h===void 0&&(h=[]),this.viewportSize={width:800,height:600},this.deviceScaleFactor=1,this.emulationScaleFactor=1,this.pageScaleFactor=1,this.pageZoomFactor=1,this.scrollX=0,this.scrollY=0,this.canvasWidth=0,this.canvasHeight=0,this._installed=!1,this._window=u,this._document=u.document,Array.isArray(h)||(h=[h]),this.style=h}return l.prototype.setCanvas=function(u){this.canvas=u,this._context=u.getContext("2d")},l.prototype.install=function(){var u,h;try{for(var d=t(this.style),p=d.next();!p.done;p=d.next())c(p.value)}catch(f){u={error:f}}finally{try{p&&!p.done&&(h=d.return)&&h.call(d)}finally{if(u)throw u.error}}this._installed=!0},l.prototype.uninstall=function(){var u,h,d=function(m){document.adoptedStyleSheets=document.adoptedStyleSheets.filter(function(g){return g!==m})};try{for(var p=t(this.style),f=p.next();!f.done;f=p.next())d(f.value)}catch(m){u={error:m}}finally{try{f&&!f.done&&(h=p.return)&&h.call(p)}finally{if(u)throw u.error}}this._installed=!1},l.prototype.reset=function(u){u&&(this.viewportSize=u.viewportSize,this.visualViewportSize=u.visualViewportSize,this.deviceScaleFactor=u.deviceScaleFactor,this.pageScaleFactor=u.pageScaleFactor,this.pageZoomFactor=u.pageZoomFactor,this.emulationScaleFactor=u.emulationScaleFactor,this.scrollX=Math.round(u.scrollX),this.scrollY=Math.round(u.scrollY)),this.resetCanvas()},l.prototype.resetCanvas=function(){this.canvas&&this._context&&(this.canvas.width=this.deviceScaleFactor*this.viewportSize.width,this.canvas.height=this.deviceScaleFactor*this.viewportSize.height,this.canvas.style.width=this.viewportSize.width+"px",this.canvas.style.height=this.viewportSize.height+"px",this._context.scale(this.deviceScaleFactor,this.deviceScaleFactor),this.canvasWidth=this.viewportSize.width,this.canvasHeight=this.viewportSize.height)},l.prototype.setPlatform=function(u){this.platform=u,this._installed||this.install()},l.prototype.dispatch=function(u){this[u.shift()].apply(this,u)},l.prototype.eventHasCtrlOrMeta=function(u){return this.platform==="mac"?u.metaKey&&!u.ctrlKey:u.ctrlKey&&!u.metaKey},Object.defineProperty(l.prototype,"context",{get:function(){if(!this._context)throw new Error("Context object is missing");return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"document",{get:function(){if(!this._document)throw new Error("Document object is missing");return this._document},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"window",{get:function(){if(!this._window)throw new Error("Window object is missing");return this._window},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"installed",{get:function(){return this._installed},enumerable:!1,configurable:!0}),l}();function s(l,u,h){var d=a(u,h);return d.addEventListener("click",function(p){p.stopPropagation()},!1),l.appendChild(d),d}function a(l,u){var h=document.createElement(l);if(u){var d=u.split(/\s+/);d=d.map(function(p){return"luna-dom-highlighter-"+p}),h.className=d.join(" ")}return h}function c(l){document.adoptedStyleSheets=i(i([],r(document.adoptedStyleSheets),!1),[l],!1)}e.Overlay=o,e.log=function(l){var u=document.getElementById("log");u||((u=s(document.body,"div")).id="log"),s(u,"div").textContent=l},e.createChild=s,e.createTextChild=function(l,u){var h=document.createTextNode(u);return l.appendChild(h),h},e.createElement=a,e.ellipsify=function(l,u){return l.length<=u?String(l):l.substr(0,u-1)+"…"},e.constrainNumber=function(l,u,h){return l<u?l=u:l>h&&(l=h),l},e.adoptStyleSheet=c},1521:function(n,e,t){var r=this&&this.__values||function(m){var g=typeof Symbol=="function"&&Symbol.iterator,v=g&&m[g],y=0;if(v)return v.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&y>=m.length&&(m=void 0),{value:m&&m[y++],done:!m}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(m,g){var v=typeof Symbol=="function"&&m[Symbol.iterator];if(!v)return m;var y,A,x=v.call(m),S=[];try{for(;(g===void 0||g-- >0)&&!(y=x.next()).done;)S.push(y.value)}catch(E){A={error:E}}finally{try{y&&!y.done&&(v=x.return)&&v.call(x)}finally{if(A)throw A.error}}return S},o=this&&this.__spreadArray||function(m,g,v){if(v||arguments.length===2)for(var y,A=0,x=g.length;A<x;A++)!y&&A in g||(y||(y=Array.prototype.slice.call(g,0,A)),y[A]=g[A]);return m.concat(y||Array.prototype.slice.call(g))},s=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.drawPath=e.formatColor=e.formatRgba=e.parseHexa=e.createPathForQuad=e.hatchFillPath=e.applyMatrixToPoint=e.emptyBounds=e.buildPath=e.fillPathWithBoxStyle=e.drawPathWithLineStyle=void 0;var a=s(t(4858)),c=t(9706);function l(m,g,v){var y=0;function A(E){for(var w=[],k=0;k<E;++k){var Z=Math.round(m[y++]*v);g.maxX=Math.max(g.maxX,Z),g.minX=Math.min(g.minX,Z);var L=Math.round(m[y++]*v);g.maxY=Math.max(g.maxY,L),g.minY=Math.min(g.minY,L),g.leftmostXForY[L]=Math.min(g.leftmostXForY[L]||Number.MAX_VALUE,Z),g.rightmostXForY[L]=Math.max(g.rightmostXForY[L]||Number.MIN_VALUE,Z),g.topmostYForX[Z]=Math.min(g.topmostYForX[Z]||Number.MAX_VALUE,L),g.bottommostYForX[Z]=Math.max(g.bottommostYForX[Z]||Number.MIN_VALUE,L),g.allPoints.push({x:Z,y:L}),w.push(Z,L)}return w}for(var x=m.length,S=new Path2D;y<x;)switch(m[y++]){case"M":S.moveTo.apply(S,A(1));break;case"L":S.lineTo.apply(S,A(1));break;case"C":S.bezierCurveTo.apply(S,A(3));break;case"Q":S.quadraticCurveTo.apply(S,A(2));break;case"Z":S.closePath()}return S}e.drawPathWithLineStyle=function(m,g,v,y){y===void 0&&(y=1),v&&v.color&&(m.save(),m.translate(.5,.5),m.lineWidth=y,v.pattern==="dashed"&&m.setLineDash([3,3]),v.pattern==="dotted"&&m.setLineDash([2,2]),m.strokeStyle=v.color,m.stroke(g),m.restore())},e.fillPathWithBoxStyle=function(m,g,v,y,A){A&&(m.save(),A.fillColor&&(m.fillStyle=A.fillColor,m.fill(g)),A.hatchColor&&d(m,g,v,10,A.hatchColor,y,!1),m.restore())},e.buildPath=l,e.emptyBounds=function(){return{minX:Number.MAX_VALUE,minY:Number.MAX_VALUE,maxX:-Number.MAX_VALUE,maxY:-Number.MAX_VALUE,leftmostXForY:{},rightmostXForY:{},topmostYForX:{},bottommostYForX:{},allPoints:[]}},e.applyMatrixToPoint=function(m,g){var v=new DOMPoint(m.x,m.y);return{x:(v=v.matrixTransform(g)).x,y:v.y}};var u,h="";function d(m,g,v,y,A,x,S){if((m.canvas.width<v.maxX-v.minX||m.canvas.height<v.maxY-v.minY)&&(v={minX:0,maxX:m.canvas.width,minY:0,maxY:m.canvas.height,allPoints:[]}),!u||A!==h){h=A;var E=document.createElement("canvas");E.width=y,E.height=8;var w=E.getContext("2d");w.clearRect(0,0,E.width,E.height),w.rect(0,0,1,5),w.fillStyle=A,w.fill(),u=m.createPattern(E,"repeat")}m.save();var k=new DOMMatrix;u.setTransform(k.scale(S?-1:1,1).rotate(0,0,-45+x)),m.fillStyle=u,m.fill(g),m.restore()}function p(m){return(m.match(/#(\w\w)(\w\w)(\w\w)(\w\w)/)||[]).slice(1).map(function(g){return parseInt(g,16)/255})}function f(m,g){if(g==="rgb"){var v=i(m,4),y=v[0],A=v[1],x=v[2],S=v[3];return"rgb(".concat((255*y).toFixed()," ").concat((255*A).toFixed()," ").concat((255*x).toFixed()).concat(S===1?"":" / "+Math.round(100*S)/100,")")}if(g==="hsl"){var E=i((0,c.rgbaToHsla)(m),4),w=E[0],k=E[1],Z=E[2];return S=E[3],"hsl(".concat(Math.round(360*w),"deg ").concat(Math.round(100*k)," ").concat(Math.round(100*Z)).concat(S===1?"":" / "+Math.round(100*S)/100,")")}throw new Error("NOT_REACHED")}e.hatchFillPath=d,e.createPathForQuad=function(m,g,v,y){var A,x,S=["M",m.p1.x,m.p1.y,"L",m.p2.x,m.p2.y,"L",m.p3.x,m.p3.y,"L",m.p4.x,m.p4.y];try{for(var E=r(g),w=E.next();!w.done;w=E.next()){var k=w.value;S=o(o([],i(S),!1),["L",k.p4.x,k.p4.y,"L",k.p3.x,k.p3.y,"L",k.p2.x,k.p2.y,"L",k.p1.x,k.p1.y,"L",k.p4.x,k.p4.y,"L",m.p4.x,m.p4.y],!1)}}catch(Z){A={error:Z}}finally{try{w&&!w.done&&(x=E.return)&&x.call(E)}finally{if(A)throw A.error}}return S.push("Z"),l(S,v,y)},e.parseHexa=p,e.formatRgba=f,e.formatColor=function(m,g){return g==="rgb"||g==="hsl"?f(p(m),g):(0,a.default)(m,"FF")?m.substr(0,7):m},e.drawPath=function(m,g,v,y,A,x,S){m.save();var E=l(g,x,S);return v&&(m.fillStyle=v,m.fill(E)),y&&(A==="dashed"&&m.setLineDash([3,3]),A==="dotted"&&m.setLineDash([2,2]),m.lineWidth=2,m.strokeStyle=y,m.stroke(E)),m.restore(),E}},7669:function(n,e,t){var r,i=this&&this.__extends||(r=function(m,g){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var A in y)Object.prototype.hasOwnProperty.call(y,A)&&(v[A]=y[A])},r(m,g)},function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function v(){this.constructor=m}r(m,g),m.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}),o=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightOverlay=void 0;var s=o(t(4858)),a=t(9706),c=t(9434),l=t(1521),u=function(m){function g(){var v=m!==null&&m.apply(this,arguments)||this;return v.gridLabelState={gridLayerCounter:0},v}return i(g,m),g.prototype.setContainer=function(v){this._container=v},g.prototype.setPlatform=function(v){this.container&&this.container.classList.add("luna-dom-highlighter-platform-"+v),m.prototype.setPlatform.call(this,v)},Object.defineProperty(g.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),g.prototype.reset=function(v){m.prototype.reset.call(this,v),this.tooltip.innerHTML="",this.gridLabelState.gridLayerCounter=0},g.prototype.install=function(){var v=this.document.createElement("canvas");v.classList.add("luna-dom-highlighter-fill"),this.container.appendChild(v);var y=this.document.createElement("div");this.container.appendChild(y),this.tooltip=y,this.setCanvas(v),m.prototype.install.call(this)},g.prototype.uninstall=function(){this.document.body.classList.remove("fill"),this.document.body.innerHTML="",m.prototype.uninstall.call(this)},g.prototype.drawHighlight=function(v){this.context.save();for(var y=(0,l.emptyBounds)(),A=v.paths.slice();A.length;){var x=A.pop();x&&(this.context.save(),(0,l.drawPath)(this.context,x.path,x.fillColor,x.outlineColor,void 0,y,this.emulationScaleFactor),A.length&&(this.context.globalCompositeOperation="destination-out",(0,l.drawPath)(this.context,A[A.length-1].path,"red",void 0,void 0,y,this.emulationScaleFactor)),this.context.restore())}this.context.restore(),this.context.save();var S=Boolean(v.paths.length&&v.showRulers&&y.minX<20&&y.maxX+20<this.canvasWidth),E=Boolean(v.paths.length&&v.showRulers&&y.minY<20&&y.maxY+20<this.canvasHeight);return v.showRulers&&this.drawAxis(this.context,S,E),v.paths.length&&(v.showExtensionLines&&function(w,k,Z,L,G,j,M,T){w.save();var P=M,U=T;if(w.strokeStyle=G||f,w.lineWidth=1,w.translate(.5,.5),j&&w.setLineDash([3,3]),Z)for(var N in k.rightmostXForY)w.beginPath(),w.moveTo(P,Number(N)),w.lineTo(k.rightmostXForY[N],Number(N)),w.stroke();else for(var N in k.leftmostXForY)w.beginPath(),w.moveTo(0,Number(N)),w.lineTo(k.leftmostXForY[N],Number(N)),w.stroke();if(L)for(var $ in k.bottommostYForX)w.beginPath(),w.moveTo(Number($),U),w.lineTo(Number($),k.topmostYForX[$]),w.stroke();else for(var $ in k.topmostYForX)w.beginPath(),w.moveTo(Number($),0),w.lineTo(Number($),k.topmostYForX[$]),w.stroke();w.restore()}(this.context,y,S,E,void 0,!1,this.canvasWidth,this.canvasHeight),v.elementInfo&&function(w,k,Z,L,G,j){w.innerHTML="";var M=(0,c.createChild)(w,"div"),T=(0,c.createChild)(M,"div","tooltip-content"),P=function(q,ft){var yt=(0,c.createElement)("div","element-info"),Lt=(0,c.createChild)(yt,"div","element-info-header"),K=function(me){return me.layoutObjectName&&(0,s.default)(me.layoutObjectName,"Grid")?"grid":me.layoutObjectName&&me.layoutObjectName==="LayoutNGFlexibleBox"?"flex":null}(q);K&&(0,c.createChild)(Lt,"div","element-layout-type ".concat(K));var mt=(0,c.createChild)(Lt,"div","element-description");(0,c.createChild)(mt,"span","material-tag-name").textContent=q.tagName;var W=(0,c.createChild)(mt,"span","material-node-id"),vt=80;W.textContent=q.idValue?"#"+(0,c.ellipsify)(q.idValue,vt):"",W.classList.toggle("hidden",!q.idValue);var ut=(0,c.createChild)(mt,"span","material-class-name");W.textContent.length<vt&&(ut.textContent=(0,c.ellipsify)(q.className||"",vt-W.textContent.length)),ut.classList.toggle("hidden",!q.className);var ht=(0,c.createChild)(Lt,"div","dimensions");(0,c.createChild)(ht,"span","material-node-width").textContent=String(Math.round(100*q.nodeWidth)/100),(0,c.createTextChild)(ht,"×"),(0,c.createChild)(ht,"span","material-node-height").textContent=String(Math.round(100*q.nodeHeight)/100);var Yt,gt=q.style||{};q.isLockedAncestor&&te("Showing content-visibility ancestor",""),q.isLocked&&te("Descendants are skipped due to content-visibility","");var it=gt.color;it&&it!=="#00000000"&&se("Color",it,ft);var wt=gt["font-family"],at=gt["font-size"];wt&&at!=="0px"&&te("Font","".concat(at," ").concat(wt));var dt=gt["background-color"];dt&&dt!=="#00000000"&&se("Background",dt,ft);var It=gt.margin;It&&It!=="0px"&&te("Margin",It);var pt=gt.padding;pt&&pt!=="0px"&&te("Padding",pt);var Pt=q.contrast?q.contrast.backgroundColor:null,Rt=it&&it!=="#00000000"&&Pt&&Pt!=="#00000000";q.showAccessibilityInfo&&(_t("Accessibility"),Rt&&gt.color&&q.contrast&&ye(gt.color,q.contrast),te("Name",q.accessibleName),te("Role",q.accessibleRole),qt("Keyboard-focusable",q.isKeyboardFocusable?"a11y-icon a11y-icon-ok":"a11y-icon a11y-icon-not-ok"));function et(){Yt||(Yt=(0,c.createChild)(yt,"div","element-info-body"))}function _t(me){et();var he=(0,c.createChild)(Yt,"div","element-info-row element-info-section");(0,c.createChild)(he,"div","section-name").textContent=me,(0,c.createChild)((0,c.createChild)(he,"div","separator-container"),"div","separator")}function Ot(me,he,xe){et();var ke=(0,c.createChild)(Yt,"div","element-info-row");return he&&ke.classList.add(he),(0,c.createChild)(ke,"div","element-info-name").textContent=me,(0,c.createChild)(ke,"div","element-info-gap"),(0,c.createChild)(ke,"div",xe||"")}function qt(me,he){(0,c.createChild)(Ot(me,"","element-info-value-icon"),"div",he)}function te(me,he){(0,c.createTextChild)(Ot(me,"","element-info-value-text"),he)}function se(me,he,xe){var ke=Ot(me,"","element-info-value-color"),be=(0,c.createChild)(ke,"div","color-swatch");(0,c.createChild)(be,"div","color-swatch-inner").style.backgroundColor=he,(0,c.createTextChild)(ke,(0,l.formatColor)(he,xe))}function ye(me,he){var xe=(0,l.parseHexa)(me),ke=(0,l.parseHexa)(he.backgroundColor);xe[3]*=he.textOpacity;var be=Ot("Contrast","","element-info-value-contrast"),je=(0,c.createChild)(be,"div","contrast-text");je.style.color=(0,l.formatRgba)(xe,"rgb"),je.style.backgroundColor=he.backgroundColor,je.textContent="Aa";var Ve=(0,c.createChild)(be,"span");if(he.contrastAlgorithm==="apca"){var Je=(0,a.contrastRatioAPCA)(xe,ke),en=(0,a.getAPCAThreshold)(he.fontSize,he.fontWeight);Ve.textContent=String(Math.floor(100*Je)/100)+"%",(0,c.createChild)(be,"div",en===null||Math.abs(Je)<en?"a11y-icon a11y-icon-warning":"a11y-icon a11y-icon-ok")}else if(he.contrastAlgorithm==="aa"||he.contrastAlgorithm==="aaa"){var le=(0,a.contrastRatio)(xe,ke);en=(0,a.getContrastThreshold)(he.fontSize,he.fontWeight)[he.contrastAlgorithm],Ve.textContent=String(Math.floor(100*le)/100),(0,c.createChild)(be,"div",le<en?"a11y-icon a11y-icon-warning":"a11y-icon a11y-icon-ok")}}return yt}(k,Z);T.appendChild(P);var U,N=T.offsetWidth,$=T.offsetHeight,D=8,z=2,Y=2*D,rt=D+2,ot=z+rt,st=G-z-rt-Y,tt=L.maxX-L.minX<Y+2*rt;if(tt)U=.5*(L.minX+L.maxX)-D;else{var nt=L.minX+rt,Tt=L.maxX-rt-Y;U=nt>ot&&nt<st?nt:(0,c.constrainNumber)(ot,nt,Tt)}var At=U<ot||U>st,Gt=U-rt;Gt=(0,c.constrainNumber)(Gt,z,G-N-z);var Nt=L.minY-D-$,jt=!0;Nt<0?(Nt=Math.min(j-$,L.maxY+D),jt=!1):L.minY>j&&(Nt=j-D-$);var kt=Gt>=L.minX&&Gt+N<=L.maxX&&Nt>=L.minY&&Nt+$<=L.maxY,Dt=Gt<L.maxX&&Gt+N>L.minX&&Nt<L.maxY&&Nt+$>L.minY;if(Dt&&!kt)return void(T.style.display="none");if(T.style.top=Nt+"px",T.style.left=Gt+"px",!At){var Ct=(0,c.createChild)(T,"div","tooltip-arrow");Ct.style.clipPath=jt?"polygon(0 0, 100% 0, 50% 100%)":"polygon(50% 0, 0 100%, 100% 100%)",Ct.style.top=(jt?$-1:-D)+"px",Ct.style.left=U-Gt+"px"}}(this.tooltip,v.elementInfo,v.colorFormat,y,this.canvasWidth,this.canvasHeight)),this.context.restore(),{bounds:y}},g.prototype.drawAxis=function(v,y,A){v.save();var x=this.pageZoomFactor*this.pageScaleFactor*this.emulationScaleFactor,S=this.scrollX*this.pageScaleFactor,E=this.scrollY*this.pageScaleFactor;function w(N){return Math.round(N*x)}function k(N){return Math.round(N/x)}var Z=this.canvasWidth/x,L=this.canvasHeight/x,G=50;v.save(),v.fillStyle=p,A?v.fillRect(0,w(L)-15,w(Z),w(L)):v.fillRect(0,0,w(Z),15),v.globalCompositeOperation="destination-out",v.fillStyle="red",y?v.fillRect(w(Z)-15,0,w(Z),w(L)):v.fillRect(0,0,15,w(L)),v.restore(),v.fillStyle=p,y?v.fillRect(w(Z)-15,0,w(Z),w(L)):v.fillRect(0,0,15,w(L)),v.lineWidth=1,v.strokeStyle=d,v.fillStyle=d,v.save(),v.translate(-S,.5-E);for(var j=L+k(E),M=100;M<j;M+=100)v.save(),v.translate(S,w(M)),v.rotate(-Math.PI/2),v.fillText(String(M),2,y?w(Z)-7:13),v.restore();v.translate(.5,-.5);for(var T=Z+k(S),P=100;P<T;P+=100)v.save(),v.fillText(String(P),w(P)+2,A?E+w(L)-7:E+13),v.restore();for(v.restore(),v.save(),y&&(v.translate(w(Z),0),v.scale(-1,1)),v.translate(-S,.5-E),j=L+k(E),M=G;M<j;M+=G){v.beginPath(),v.moveTo(S,w(M));var U=M%100?5:8;v.lineTo(S+U,w(M)),v.stroke()}for(v.strokeStyle=h,M=5;M<j;M+=5)M%G&&(v.beginPath(),v.moveTo(S,w(M)),v.lineTo(S+5,w(M)),v.stroke());for(v.restore(),v.save(),A&&(v.translate(0,w(L)),v.scale(1,-1)),v.translate(.5-S,-E),T=Z+k(S),P=G;P<T;P+=G)v.beginPath(),v.moveTo(w(P),E),U=P%100?5:8,v.lineTo(w(P),E+U),v.stroke();for(v.strokeStyle=h,P=5;P<T;P+=5)P%G&&(v.beginPath(),v.moveTo(w(P),E),v.lineTo(w(P),E+5),v.stroke());v.restore(),v.restore()},g}(c.Overlay);e.HighlightOverlay=u;var h="rgba(0,0,0,0.2)",d="rgba(0,0,0,0.7)",p="rgba(255, 255, 255, 0.8)",f="rgba(128, 128, 128, 0.3)"},1160:function(n,e,t){var r,i=this&&this.__extends||(r=function(f,m){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(g[y]=v[y])},r(f,m)},function(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function g(){this.constructor=f}r(f,m),f.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}),o=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(1443)),a=o(t(1512)),c=t(2062),l=o(t(3783)),u=o(t(6329)),h=o(t(4193)),d=o(t(5852)),p=function(f){function m(g,v,y){var A=v.compName,x=(y===void 0?{}:y).theme,S=x===void 0?"light":x,E=f.call(this)||this;return E.subComponents=[],E.compName=A,E.c=(0,c.classPrefix)(A),E.options={},E.container=g,E.$container=(0,a.default)(g),E.$container.addClass(["luna-".concat(A),E.c("platform-".concat((0,c.getPlatform)()))]),E.on("optionChange",function(w,k,Z){var L=E.c;w==="theme"&&(E.$container.rmClass(L("theme-".concat(Z))).addClass(L("theme-".concat(k))),(0,l.default)(E.subComponents,function(G){return G.setOption("theme",k)}))}),E.setOption("theme",S),E}return i(m,f),m.prototype.destroy=function(){this.destroySubComponents();var g=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(g("platform-".concat((0,c.getPlatform)()))).rmClass(g("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()},m.prototype.setOption=function(g,v){var y=this,A=this.options,x={};typeof g=="string"?x[g]=v:x=g,(0,l.default)(x,function(S,E){var w=A[E];A[E]=S,y.emit("optionChange",E,S,w)})},m.prototype.getOption=function(g){return this.options[g]},m.prototype.addSubComponent=function(g){g.setOption("theme",this.options.theme),this.subComponents.push(g)},m.prototype.removeSubComponent=function(g){(0,d.default)(this.subComponents,function(v){return v===g})},m.prototype.destroySubComponents=function(){(0,l.default)(this.subComponents,function(g){return g.destroy()}),this.subComponents=[]},m.prototype.initOptions=function(g,v){v===void 0&&(v={}),(0,h.default)(g,v),(0,u.default)(this.options,g)},m.prototype.find=function(g){return this.$container.find(this.c(g))},m}(s.default);e.default=p},2062:function(n,e,t){var r=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.resetCanvasSize=e.getPlatform=e.pxToNum=e.executeAfterTransition=e.hasVerticalScrollbar=e.measuredScrollbarWidth=e.eventPage=e.eventClient=e.drag=e.classPrefix=void 0;var i=r(t(2461)),o=r(t(4331)),s=r(t(5610)),a=r(t(7483)),c=r(t(3990)),l=r(t(6341)),u=r(t(3875)),h=r(t(6954)),d=r(t(9585));function p(y,A){for(var x=0,S=y.length;x<S;x++){var E=y[x];A(E),E.content&&p(E.content,A)}}e.classPrefix=function(y){var A="luna-".concat(y,"-");function x(S){return(0,i.default)((0,o.default)(S).split(/\s+/),function(E){return(0,l.default)(E,A)?E:E.replace(/[\w-]+/,function(w){return"".concat(A).concat(w)})}).join(" ")}return function(S){if(/<[^>]*>/g.test(S))try{var E=a.default.parse(S);return p(E,function(w){w.attrs&&w.attrs.class&&(w.attrs.class=x(w.attrs.class))}),a.default.stringify(E)}catch{return x(S)}return x(S)}};var f,m="ontouchstart"in s.default,g={start:"touchstart",move:"touchmove",end:"touchend"},v={start:"mousedown",move:"mousemove",end:"mouseup"};e.drag=function(y){return m?g[y]:v[y]},e.eventClient=function(y,A){var x=y==="x"?"clientX":"clientY";return A[x]?A[x]:A.changedTouches?A.changedTouches[0][x]:0},e.eventPage=function(y,A){var x=y==="x"?"pageX":"pageY";return A[x]?A[x]:A.changedTouches?A.changedTouches[0][x]:0},e.measuredScrollbarWidth=function(){if((0,c.default)(f))return f;if(!document)return 16;var y=document.createElement("div"),A=document.createElement("div");return y.setAttribute("style","display: block; width: 100px; height: 100px; overflow: scroll;"),A.setAttribute("style","height: 200px"),y.appendChild(A),document.body.appendChild(y),f=y.offsetWidth-y.clientWidth,document.body.removeChild(y),f},e.hasVerticalScrollbar=function(y){return y.scrollHeight>y.offsetHeight},e.executeAfterTransition=function(y,A){if((0,d.default)(y))return A();var x=function(S){S.target===y&&(y.removeEventListener("transitionend",x),A())};y.addEventListener("transitionend",x)},e.pxToNum=function(y){return(0,u.default)(y.replace("px",""))},e.getPlatform=function(){var y=(0,h.default)();return y==="os x"?"mac":y},e.resetCanvasSize=function(y){y.width=Math.round(y.offsetWidth*window.devicePixelRatio),y.height=Math.round(y.offsetHeight*window.devicePixelRatio)}},6093:function(n,e,t){var r,i=this&&this.__extends||(r=function(d,p){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(f[g]=m[g])},r(d,p)},function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function f(){this.constructor=d}r(d,p),d.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}),o=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(1512)),a=o(t(5229)),c=o(t(2244)),l=o(t(8613)),u=function(d){function p(f,m){m===void 0&&(m={});var g=d.call(this,f,{compName:"notification"},m)||this;return g.notifications=[],g.initOptions(m,{position:{x:"right",y:"bottom"},duration:2e3}),g.initTpl(),g}return i(p,d),p.prototype.notify=function(f,m){var g=this;m===void 0&&(m={duration:this.options.duration});var v=new h(this,f);this.notifications.push(v),this.add(v),setTimeout(function(){return g.remove(v.id)},m.duration)},p.prototype.dismissAll=function(){for(var f=this.notifications,m=f[0];m;)this.remove(m.id),m=f[0]},p.prototype.add=function(f){this.container.appendChild(f.container)},p.prototype.remove=function(f){var m=this.notifications,g=(0,c.default)(m,function(y){return y.id===f});if(g){g.destroy();var v=m.indexOf(g);m.splice(v,1)}},p.prototype.initTpl=function(){var f=this.$container,m=this.options.position,g=m.x,v=m.y,y="flex-end",A="flex-end";switch(g){case"center":A="center";break;case"left":A="flex-start"}v==="top"&&(y="flex-start"),f.attr("style","justify-content: ".concat(y,"; align-items: ").concat(A))},p}(o(t(5404)).default);e.default=u;var h=function(){function d(p,f){this.container=(0,l.default)("div"),this.$container=(0,s.default)(this.container),this.notification=p,this.content=f,this.id=(0,a.default)("luna-notification-"),this.$container.attr({id:this.id,class:p.c("item ".concat(p.getOption("position").y==="bottom"?"lower":"upper"))}),this.initTpl()}return d.prototype.destroy=function(){this.$container.remove()},d.prototype.initTpl=function(){this.$container.html(this.notification.c('<div class="content">'.concat(this.content,"</div>")))},d}();n.exports=u,n.exports.default=u},5404:function(n,e,t){var r,i=this&&this.__extends||(r=function(f,m){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(g[y]=v[y])},r(f,m)},function(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function g(){this.constructor=f}r(f,m),f.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}),o=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(1443)),a=o(t(1512)),c=t(164),l=o(t(3783)),u=o(t(6329)),h=o(t(4193)),d=o(t(5852)),p=function(f){function m(g,v,y){var A=v.compName,x=(y===void 0?{}:y).theme,S=x===void 0?"light":x,E=f.call(this)||this;return E.subComponents=[],E.compName=A,E.c=(0,c.classPrefix)(A),E.options={},E.container=g,E.$container=(0,a.default)(g),E.$container.addClass(["luna-".concat(A),E.c("platform-".concat((0,c.getPlatform)()))]),E.on("optionChange",function(w,k,Z){var L=E.c;w==="theme"&&(E.$container.rmClass(L("theme-".concat(Z))).addClass(L("theme-".concat(k))),(0,l.default)(E.subComponents,function(G){return G.setOption("theme",k)}))}),E.setOption("theme",S),E}return i(m,f),m.prototype.destroy=function(){this.destroySubComponents();var g=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(g("platform-".concat((0,c.getPlatform)()))).rmClass(g("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()},m.prototype.setOption=function(g,v){var y=this,A=this.options,x={};typeof g=="string"?x[g]=v:x=g,(0,l.default)(x,function(S,E){var w=A[E];A[E]=S,y.emit("optionChange",E,S,w)})},m.prototype.getOption=function(g){return this.options[g]},m.prototype.addSubComponent=function(g){g.setOption("theme",this.options.theme),this.subComponents.push(g)},m.prototype.removeSubComponent=function(g){(0,d.default)(this.subComponents,function(v){return v===g})},m.prototype.destroySubComponents=function(){(0,l.default)(this.subComponents,function(g){return g.destroy()}),this.subComponents=[]},m.prototype.initOptions=function(g,v){v===void 0&&(v={}),(0,h.default)(g,v),(0,u.default)(this.options,g)},m.prototype.find=function(g){return this.$container.find(this.c(g))},m}(s.default);e.default=p},164:function(n,e,t){var r=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.resetCanvasSize=e.getPlatform=e.pxToNum=e.executeAfterTransition=e.hasVerticalScrollbar=e.measuredScrollbarWidth=e.eventClient=e.drag=e.classPrefix=void 0;var i=r(t(2461)),o=r(t(4331)),s=r(t(5610)),a=r(t(7483)),c=r(t(3990)),l=r(t(6341)),u=r(t(3875)),h=r(t(6954)),d=r(t(9585));function p(y,A){for(var x=0,S=y.length;x<S;x++){var E=y[x];A(E),E.content&&p(E.content,A)}}e.classPrefix=function(y){var A="luna-".concat(y,"-");function x(S){return(0,i.default)((0,o.default)(S).split(/\s+/),function(E){return(0,l.default)(E,A)?E:E.replace(/[\w-]+/,function(w){return"".concat(A).concat(w)})}).join(" ")}return function(S){if(/<[^>]*>/g.test(S))try{var E=a.default.parse(S);return p(E,function(w){w.attrs&&w.attrs.class&&(w.attrs.class=x(w.attrs.class))}),a.default.stringify(E)}catch{return x(S)}return x(S)}};var f,m="ontouchstart"in s.default,g={start:"touchstart",move:"touchmove",end:"touchend"},v={start:"mousedown",move:"mousemove",end:"mouseup"};e.drag=function(y){return m?g[y]:v[y]},e.eventClient=function(y,A){var x=y==="x"?"clientX":"clientY";return A[x]?A[x]:A.changedTouches?A.changedTouches[0][x]:0},e.measuredScrollbarWidth=function(){if((0,c.default)(f))return f;if(!document)return 16;var y=document.createElement("div"),A=document.createElement("div");return y.setAttribute("style","display: block; width: 100px; height: 100px; overflow: scroll;"),A.setAttribute("style","height: 200px"),y.appendChild(A),document.body.appendChild(y),f=y.offsetWidth-y.clientWidth,document.body.removeChild(y),f},e.hasVerticalScrollbar=function(y){return y.scrollHeight>y.offsetHeight},e.executeAfterTransition=function(y,A){if((0,d.default)(y))return A();var x=function(S){S.target===y&&(y.removeEventListener("transitionend",x),A())};y.addEventListener("transitionend",x)},e.pxToNum=function(y){return(0,u.default)(y.replace("px",""))},e.getPlatform=function(){var y=(0,h.default)();return y==="os x"?"mac":y},e.resetCanvasSize=function(y){y.width=Math.round(y.offsetWidth*window.devicePixelRatio),y.height=Math.round(y.offsetHeight*window.devicePixelRatio)}},8169:function(n,e,t){t.r(e),t.d(e,{default:function(){return g}});var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=/([astvzqmhlc])([^astvzqmhlc]*)/gi,o=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,s=function(v){var y=[],A=String(v).trim();return A[0]!=="M"&&A[0]!=="m"||A.replace(i,function(x,S,E){var w=S.toLowerCase(),k=function(L){var G=L.match(o);return G?G.map(Number):[]}(E),Z=S;if(w==="m"&&k.length>2&&(y.push([Z].concat(k.splice(0,2))),w="l",Z=Z==="m"?"l":"L"),k.length<r[w])return"";for(y.push([Z].concat(k.splice(0,r[w])));k.length>=r[w]&&k.length&&r[w];)y.push([Z].concat(k.splice(0,r[w])));return""}),y};function a(v,y){for(var A=0;A<y.length;A++){var x=y[A];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}function c(v){return function(y){if(Array.isArray(y))return l(y)}(v)||function(y){if(typeof Symbol<"u"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}(v)||function(y,A){if(y){if(typeof y=="string")return l(y,A);var x=Object.prototype.toString.call(y).slice(8,-1);if(x==="Object"&&y.constructor&&(x=y.constructor.name),x==="Map"||x==="Set")return Array.from(y);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return l(y,A)}}(v)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function l(v,y){(y==null||y>v.length)&&(y=v.length);for(var A=0,x=new Array(y);A<y;A++)x[A]=v[A];return x}var u=s;function h(v,y){var A=v.x*Math.cos(y)-v.y*Math.sin(y),x=v.y*Math.cos(y)+v.x*Math.sin(y);v.x=A,v.y=x}function d(v,y){v.x*=y,v.y*=y}var p=function(v){if(v!==void 0&&v.CanvasRenderingContext2D&&(!v.Path2D||!function(w){var k=w.document.createElement("canvas").getContext("2d"),Z=new w.Path2D("M0 0 L1 1");return k.strokeStyle="red",k.lineWidth=1,k.stroke(Z),k.getImageData(0,0,1,1).data[0]===255}(v))){var y=function(){function w(L){var G;(function(j,M){if(!(j instanceof M))throw new TypeError("Cannot call a class as a function")})(this,w),this.segments=[],L&&L instanceof w?(G=this.segments).push.apply(G,c(L.segments)):L&&(this.segments=u(L))}var k,Z;return k=w,(Z=[{key:"addPath",value:function(L){var G;L&&L instanceof w&&(G=this.segments).push.apply(G,c(L.segments))}},{key:"moveTo",value:function(L,G){this.segments.push(["M",L,G])}},{key:"lineTo",value:function(L,G){this.segments.push(["L",L,G])}},{key:"arc",value:function(L,G,j,M,T,P){this.segments.push(["AC",L,G,j,M,T,!!P])}},{key:"arcTo",value:function(L,G,j,M,T){this.segments.push(["AT",L,G,j,M,T])}},{key:"ellipse",value:function(L,G,j,M,T,P,U,N){this.segments.push(["E",L,G,j,M,T,P,U,!!N])}},{key:"closePath",value:function(){this.segments.push(["Z"])}},{key:"bezierCurveTo",value:function(L,G,j,M,T,P){this.segments.push(["C",L,G,j,M,T,P])}},{key:"quadraticCurveTo",value:function(L,G,j,M){this.segments.push(["Q",L,G,j,M])}},{key:"rect",value:function(L,G,j,M){this.segments.push(["R",L,G,j,M])}}])&&a(k.prototype,Z),Object.defineProperty(k,"prototype",{writable:!1}),w}(),A=v.CanvasRenderingContext2D.prototype.fill,x=v.CanvasRenderingContext2D.prototype.stroke;v.CanvasRenderingContext2D.prototype.fill=function(){for(var w=arguments.length,k=new Array(w),Z=0;Z<w;Z++)k[Z]=arguments[Z];var L="nonzero";if(k.length===0||k.length===1&&typeof k[0]=="string")A.apply(this,k);else{arguments.length===2&&(L=k[1]);var G=k[0];E(this,G.segments),A.call(this,L)}},v.CanvasRenderingContext2D.prototype.stroke=function(w){w?(E(this,w.segments),x.call(this)):x.call(this)};var S=v.CanvasRenderingContext2D.prototype.isPointInPath;v.CanvasRenderingContext2D.prototype.isPointInPath=function(){for(var w=arguments.length,k=new Array(w),Z=0;Z<w;Z++)k[Z]=arguments[Z];if(k[0].constructor.name==="Path2D"){var L=k[1],G=k[2],j=k[3]||"nonzero",M=k[0];return E(this,M.segments),S.apply(this,[L,G,j])}return S.apply(this,k)},v.Path2D=y}function E(w,k){var Z,L,G,j,M,T,P,U,N,$,D,z,Y,rt,ot,st,tt,nt,Tt,At,Gt,Nt,jt,kt,Dt,Ct,q,ft,yt,Lt={x:0,y:0},K={x:0,y:0};w.beginPath();for(var mt=0;mt<k.length;++mt){var W=k[mt];switch((At=W[0])!=="S"&&At!=="s"&&At!=="C"&&At!=="c"&&(Nt=null,jt=null),At!=="T"&&At!=="t"&&At!=="Q"&&At!=="q"&&(kt=null,Dt=null),At){case"m":case"M":At==="m"?(D+=W[1],Y+=W[2]):(D=W[1],Y=W[2]),At!=="M"&&Lt||(Lt={x:D,y:Y}),w.moveTo(D,Y);break;case"l":D+=W[1],Y+=W[2],w.lineTo(D,Y);break;case"L":D=W[1],Y=W[2],w.lineTo(D,Y);break;case"H":D=W[1],w.lineTo(D,Y);break;case"h":D+=W[1],w.lineTo(D,Y);break;case"V":Y=W[1],w.lineTo(D,Y);break;case"v":Y+=W[1],w.lineTo(D,Y);break;case"a":case"A":At==="a"?(D+=W[6],Y+=W[7]):(D=W[6],Y=W[7]),st=W[1],tt=W[2],P=W[3]*Math.PI/180,G=!!W[4],j=!!W[5],M={x:D,y:Y},h(T={x:(K.x-M.x)/2,y:(K.y-M.y)/2},-P),(U=T.x*T.x/(st*st)+T.y*T.y/(tt*tt))>1&&(st*=U=Math.sqrt(U),tt*=U),N=st*st*tt*tt,$=st*st*T.y*T.y+tt*tt*T.x*T.x,d(Gt={x:st*T.y/tt,y:-tt*T.x/st},j!==G?Math.sqrt((N-$)/$)||0:-Math.sqrt((N-$)/$)||0),L=Math.atan2((T.y-Gt.y)/tt,(T.x-Gt.x)/st),Z=Math.atan2(-(T.y+Gt.y)/tt,-(T.x+Gt.x)/st),h(Gt,P),q=Gt,ft=(M.x+K.x)/2,yt=(M.y+K.y)/2,q.x+=ft,q.y+=yt,w.save(),w.translate(Gt.x,Gt.y),w.rotate(P),w.scale(st,tt),w.arc(0,0,1,L,Z,!j),w.restore();break;case"C":Nt=W[3],jt=W[4],D=W[5],Y=W[6],w.bezierCurveTo(W[1],W[2],Nt,jt,D,Y);break;case"c":w.bezierCurveTo(W[1]+D,W[2]+Y,W[3]+D,W[4]+Y,W[5]+D,W[6]+Y),Nt=W[3]+D,jt=W[4]+Y,D+=W[5],Y+=W[6];break;case"S":Nt!==null&&jt!==null||(Nt=D,jt=Y),w.bezierCurveTo(2*D-Nt,2*Y-jt,W[1],W[2],W[3],W[4]),Nt=W[1],jt=W[2],D=W[3],Y=W[4];break;case"s":Nt!==null&&jt!==null||(Nt=D,jt=Y),w.bezierCurveTo(2*D-Nt,2*Y-jt,W[1]+D,W[2]+Y,W[3]+D,W[4]+Y),Nt=W[1]+D,jt=W[2]+Y,D+=W[3],Y+=W[4];break;case"Q":kt=W[1],Dt=W[2],D=W[3],Y=W[4],w.quadraticCurveTo(kt,Dt,D,Y);break;case"q":kt=W[1]+D,Dt=W[2]+Y,D+=W[3],Y+=W[4],w.quadraticCurveTo(kt,Dt,D,Y);break;case"T":kt!==null&&Dt!==null||(kt=D,Dt=Y),kt=2*D-kt,Dt=2*Y-Dt,D=W[1],Y=W[2],w.quadraticCurveTo(kt,Dt,D,Y);break;case"t":kt!==null&&Dt!==null||(kt=D,Dt=Y),kt=2*D-kt,Dt=2*Y-Dt,D+=W[1],Y+=W[2],w.quadraticCurveTo(kt,Dt,D,Y);break;case"z":case"Z":D=Lt.x,Y=Lt.y,Lt=void 0,w.closePath();break;case"AC":D=W[1],Y=W[2],ot=W[3],L=W[4],Z=W[5],Ct=W[6],w.arc(D,Y,ot,L,Z,Ct);break;case"AT":z=W[1],rt=W[2],D=W[3],Y=W[4],ot=W[5],w.arcTo(z,rt,D,Y,ot);break;case"E":D=W[1],Y=W[2],st=W[3],tt=W[4],P=W[5],L=W[6],Z=W[7],Ct=W[8],w.save(),w.translate(D,Y),w.rotate(P),w.scale(st,tt),w.arc(0,0,1,L,Z,Ct),w.restore();break;case"R":D=W[1],Y=W[2],nt=W[3],Tt=W[4],Lt={x:D,y:Y},w.rect(D,Y,nt,Tt)}K.x=D,K.y=Y}}},f=s,m=p;typeof window<"u"&&m(window);var g={path2dPolyfill:m,parsePath:f}},2777:function(n){n.exports=`.luna-dom-highlighter{position:fixed;left:0;top:0;width:100%;height:100%;z-index:100000;pointer-events:none;font-size:13px}.luna-dom-highlighter-fill{position:absolute;top:0;right:0;bottom:0;left:0}.luna-dom-highlighter-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-dom-highlighter-platform-mac{color:#303942;font-family:'.SFNSDisplay-Regular','Helvetica Neue','Lucida Grande',sans-serif}.luna-dom-highlighter-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-dom-highlighter-px{color:gray}#luna-dom-highlighter-element-title{position:absolute;z-index:10}.luna-dom-highlighter-tooltip-content{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:#fff;padding:5px 8px;border:1px solid #fff;border-radius:3px;box-sizing:border-box;min-width:100px;max-width:min(300px,100% - 4px);z-index:2;background-clip:padding-box;will-change:transform;text-rendering:optimizeLegibility;pointer-events:none;filter:drop-shadow(0 2px 4px rgba(0,0,0,.35))}.luna-dom-highlighter-tooltip-content .luna-dom-highlighter-tooltip-arrow{background:#fff;width:15px;height:8px;position:absolute}.luna-dom-highlighter-element-info-section{margin-top:12px;margin-bottom:6px}.luna-dom-highlighter-section-name{color:#333;font-weight:500;font-size:10px;text-transform:uppercase;letter-spacing:.05em;line-height:12px}.luna-dom-highlighter-element-info{display:flex;flex-direction:column}.luna-dom-highlighter-element-info-header{display:flex;align-items:center}.luna-dom-highlighter-element-info-body{display:flex;flex-direction:column;padding-top:2px;margin-top:2px}.luna-dom-highlighter-element-info-row{display:flex;line-height:19px}.luna-dom-highlighter-separator-container{display:flex;align-items:center;flex:auto;margin-left:7px}.luna-dom-highlighter-separator{border-top:1px solid #ddd;width:100%}.luna-dom-highlighter-element-info-name{flex-shrink:0;color:#666}.luna-dom-highlighter-element-info-gap{flex:auto}.luna-dom-highlighter-element-info-value-color{display:flex;color:#303942;margin-left:10px;align-items:baseline}.luna-dom-highlighter-a11y-icon{width:16px;height:16px;background-repeat:no-repeat;display:inline-block}.luna-dom-highlighter-element-info-value-contrast{display:flex;align-items:center;text-align:right;color:#303942;margin-left:10px}.luna-dom-highlighter-element-info-value-contrast .luna-dom-highlighter-a11y-icon{margin-left:8px}.luna-dom-highlighter-element-info-value-icon{display:flex;align-items:center}.luna-dom-highlighter-element-info-value-text{text-align:right;color:#303942;margin-left:10px;align-items:baseline;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.luna-dom-highlighter-color-swatch{display:flex;margin-right:2px;width:10px;height:10px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==);line-height:10px}.luna-dom-highlighter-color-swatch-inner{flex:auto;border:1px solid #808002}.luna-dom-highlighter-element-layout-type{margin-right:10px;width:16px;height:16px}.luna-dom-highlighter-element-layout-type.luna-dom-highlighter-grid{background-image:url('data:image/svg+xml,<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="2.5" y="2.5" width="4" height="4" stroke="%231A73E8"/><rect x="9.5" y="2.5" width="4" height="4" stroke="%231A73E8"/><rect x="9.5" y="9.5" width="4" height="4" stroke="%231A73E8"/><rect x="2.5" y="9.5" width="4" height="4" stroke="%231A73E8"/></svg>')}.luna-dom-highlighter-element-layout-type.luna-dom-highlighter-flex{background-image:url('data:image/svg+xml,<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 3.5h8v3H1v-3zm-1 0a1 1 0 011-1h8a1 1 0 011 1v3a1 1 0 01-1 1H1a1 1 0 01-1-1v-3zm12 0h3v3h-3v-3zm-1 0a1 1 0 011-1h3a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-3zm-7 6H1v3h3v-3zm-3-1a1 1 0 00-1 1v3a1 1 0 001 1h3a1 1 0 001-1v-3a1 1 0 00-1-1H1zm6 4v-3h8v3H7zm-1-3a1 1 0 011-1h8a1 1 0 011 1v3a1 1 0 01-1 1H7a1 1 0 01-1-1v-3z" fill="%231A73E8"/></svg>')}.luna-dom-highlighter-element-description{flex:1 1;font-weight:700;word-wrap:break-word;word-break:break-all}.luna-dom-highlighter-dimensions{color:#737373;text-align:right;margin-left:10px}.luna-dom-highlighter-material-node-width{margin-right:2px}.luna-dom-highlighter-material-node-height{margin-left:2px}.luna-dom-highlighter-material-tag-name{color:#881280}.luna-dom-highlighter-material-class-name,.luna-dom-highlighter-material-node-id{color:#1a1aa6}.luna-dom-highlighter-contrast-text{width:16px;height:16px;text-align:center;line-height:16px;margin-right:8px;border:1px solid #000;padding:0 1px}.luna-dom-highlighter-a11y-icon-not-ok{background-image:url('data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m9 1.5c-4.14 0-7.5 3.36-7.5 7.5s3.36 7.5 7.5 7.5 7.5-3.36 7.5-7.5-3.36-7.5-7.5-7.5zm0 13.5c-3.315 0-6-2.685-6-6 0-1.3875.4725-2.6625 1.2675-3.675l8.4075 8.4075c-1.0125.795-2.2875 1.2675-3.675 1.2675zm4.7325-2.325-8.4075-8.4075c1.0125-.795 2.2875-1.2675 3.675-1.2675 3.315 0 6 2.685 6 6 0 1.3875-.4725 2.6625-1.2675 3.675z" fill="%239e9e9e"/></svg>')}.luna-dom-highlighter-a11y-icon-warning{background-image:url('data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m8.25 11.25h1.5v1.5h-1.5zm0-6h1.5v4.5h-1.5zm.7425-3.75c-4.14 0-7.4925 3.36-7.4925 7.5s3.3525 7.5 7.4925 7.5c4.1475 0 7.5075-3.36 7.5075-7.5s-3.36-7.5-7.5075-7.5zm.0075 13.5c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6z" fill="%23e37400"/></svg>')}.luna-dom-highlighter-a11y-icon-ok{background-image:url('data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m9 1.5c-4.14 0-7.5 3.36-7.5 7.5s3.36 7.5 7.5 7.5 7.5-3.36 7.5-7.5-3.36-7.5-7.5-7.5zm0 13.5c-3.3075 0-6-2.6925-6-6s2.6925-6 6-6 6 2.6925 6 6-2.6925 6-6 6zm-1.5-4.35-1.95-1.95-1.05 1.05 3 3 6-6-1.05-1.05z" fill="%230ca40c"/></svg>')}@media (forced-colors:active){:root,body{background-color:transparent;forced-color-adjust:none}.luna-dom-highlighter-tooltip-content{border-color:Highlight;background-color:canvas;color:text;forced-color-adjust:none}.luna-dom-highlighter-tooltip-content::after{background-color:Highlight}.luna-dom-highlighter-color-swatch-inner,.luna-dom-highlighter-contrast-text,.luna-dom-highlighter-separator{border-color:Highlight}.luna-dom-highlighter-section-name{color:Highlight}.luna-dom-highlighter-dimensions,.luna-dom-highlighter-element-info-name,.luna-dom-highlighter-element-info-value-color,.luna-dom-highlighter-element-info-value-contrast,.luna-dom-highlighter-element-info-value-icon,.luna-dom-highlighter-element-info-value-text,.luna-dom-highlighter-material-class-name,.luna-dom-highlighter-material-node-id,.luna-dom-highlighter-material-tag-name{color:canvastext}}

/*# sourceMappingURL=luna-dom-highlighter.css.map*/`},907:function(n,e,t){function r(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,a=new Array(o);s<o;s++)a[s]=i[s];return a}t.d(e,{Z:function(){return r}})},7326:function(n,e,t){function r(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}t.d(e,{Z:function(){return r}})},5671:function(n,e,t){function r(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}t.d(e,{Z:function(){return r}})},3144:function(n,e,t){t.d(e,{Z:function(){return o}});var r=t(9142);function i(s,a){for(var c=0;c<a.length;c++){var l=a[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,(0,r.Z)(l.key),l)}}function o(s,a,c){return a&&i(s.prototype,a),c&&i(s,c),Object.defineProperty(s,"prototype",{writable:!1}),s}},4942:function(n,e,t){t.d(e,{Z:function(){return i}});var r=t(9142);function i(o,s,a){return(s=(0,r.Z)(s))in o?Object.defineProperty(o,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[s]=a,o}},1752:function(n,e,t){t.d(e,{Z:function(){return o}});var r=t(1120);function i(s,a){for(;!Object.prototype.hasOwnProperty.call(s,a)&&(s=(0,r.Z)(s))!==null;);return s}function o(){return o=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(s,a,c){var l=i(s,a);if(l){var u=Object.getOwnPropertyDescriptor(l,a);return u.get?u.get.call(arguments.length<3?s:c):u.value}},o.apply(this,arguments)}},1120:function(n,e,t){function r(i){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},r(i)}t.d(e,{Z:function(){return r}})},9340:function(n,e,t){function r(o,s){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,c){return a.__proto__=c,a},r(o,s)}function i(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),s&&r(o,s)}t.d(e,{Z:function(){return i}})},2963:function(n,e,t){t.d(e,{Z:function(){return o}});var r=t(1002),i=t(7326);function o(s,a){if(a&&((0,r.Z)(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(s)}},168:function(n,e,t){function r(i,o){return o||(o=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(o)}}))}t.d(e,{Z:function(){return r}})},9142:function(n,e,t){t.d(e,{Z:function(){return i}});var r=t(1002);function i(o){var s=function(a,c){if((0,r.Z)(a)!=="object"||a===null)return a;var l=a[Symbol.toPrimitive];if(l!==void 0){var u=l.call(a,c||"default");if((0,r.Z)(u)!=="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(a)}(o,"string");return(0,r.Z)(s)==="symbol"?s:String(s)}},1002:function(n,e,t){function r(i){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},r(i)}t.d(e,{Z:function(){return r}})},181:function(n,e,t){t.d(e,{Z:function(){return i}});var r=t(907);function i(o,s){if(o){if(typeof o=="string")return(0,r.Z)(o,s);var a=Object.prototype.toString.call(o).slice(8,-1);return a==="Object"&&o.constructor&&(a=o.constructor.name),a==="Map"||a==="Set"?Array.from(o):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?(0,r.Z)(o,s):void 0}}}},__webpack_module_cache__={};function __webpack_require__(n){var e=__webpack_module_cache__[n];if(e!==void 0)return e.exports;var t=__webpack_module_cache__[n]={id:n,loaded:!1,exports:{}};return __webpack_modules__[n].call(t.exports,t,t.exports,__webpack_require__),t.loaded=!0,t.exports}__webpack_require__.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=function(n,e){for(var t in e)__webpack_require__.o(e,t)&&!__webpack_require__.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.hmd=function(n){return(n=Object.create(n)).children||(n.children=[]),Object.defineProperty(n,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+n.id)}}),n},__webpack_require__.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},__webpack_require__.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(2027);return __webpack_exports__}()})})(eruda$1);const eruda=getDefaultExportFromCjs(erudaExports);var ENV=(n=>(n[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2",n))(ENV||{}),BUFFER_BITS=(n=>(n[n.COLOR=16384]="COLOR",n[n.DEPTH=256]="DEPTH",n[n.STENCIL=1024]="STENCIL",n))(BUFFER_BITS||{}),BLEND_MODES=(n=>(n[n.NORMAL=0]="NORMAL",n[n.ADD=1]="ADD",n[n.MULTIPLY=2]="MULTIPLY",n[n.SCREEN=3]="SCREEN",n[n.OVERLAY=4]="OVERLAY",n[n.DARKEN=5]="DARKEN",n[n.LIGHTEN=6]="LIGHTEN",n[n.COLOR_DODGE=7]="COLOR_DODGE",n[n.COLOR_BURN=8]="COLOR_BURN",n[n.HARD_LIGHT=9]="HARD_LIGHT",n[n.SOFT_LIGHT=10]="SOFT_LIGHT",n[n.DIFFERENCE=11]="DIFFERENCE",n[n.EXCLUSION=12]="EXCLUSION",n[n.HUE=13]="HUE",n[n.SATURATION=14]="SATURATION",n[n.COLOR=15]="COLOR",n[n.LUMINOSITY=16]="LUMINOSITY",n[n.NORMAL_NPM=17]="NORMAL_NPM",n[n.ADD_NPM=18]="ADD_NPM",n[n.SCREEN_NPM=19]="SCREEN_NPM",n[n.NONE=20]="NONE",n[n.SRC_OVER=0]="SRC_OVER",n[n.SRC_IN=21]="SRC_IN",n[n.SRC_OUT=22]="SRC_OUT",n[n.SRC_ATOP=23]="SRC_ATOP",n[n.DST_OVER=24]="DST_OVER",n[n.DST_IN=25]="DST_IN",n[n.DST_OUT=26]="DST_OUT",n[n.DST_ATOP=27]="DST_ATOP",n[n.ERASE=26]="ERASE",n[n.SUBTRACT=28]="SUBTRACT",n[n.XOR=29]="XOR",n))(BLEND_MODES||{}),DRAW_MODES=(n=>(n[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",n))(DRAW_MODES||{}),FORMATS=(n=>(n[n.RGBA=6408]="RGBA",n[n.RGB=6407]="RGB",n[n.RG=33319]="RG",n[n.RED=6403]="RED",n[n.RGBA_INTEGER=36249]="RGBA_INTEGER",n[n.RGB_INTEGER=36248]="RGB_INTEGER",n[n.RG_INTEGER=33320]="RG_INTEGER",n[n.RED_INTEGER=36244]="RED_INTEGER",n[n.ALPHA=6406]="ALPHA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",n))(FORMATS||{}),TARGETS=(n=>(n[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",n))(TARGETS||{}),TYPES=(n=>(n[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",n[n.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",n[n.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",n[n.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",n[n.BYTE=5120]="BYTE",n[n.SHORT=5122]="SHORT",n[n.INT=5124]="INT",n[n.FLOAT=5126]="FLOAT",n[n.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",n[n.HALF_FLOAT=36193]="HALF_FLOAT",n))(TYPES||{}),SAMPLER_TYPES=(n=>(n[n.FLOAT=0]="FLOAT",n[n.INT=1]="INT",n[n.UINT=2]="UINT",n))(SAMPLER_TYPES||{}),SCALE_MODES=(n=>(n[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",n))(SCALE_MODES||{}),WRAP_MODES=(n=>(n[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",n))(WRAP_MODES||{}),MIPMAP_MODES=(n=>(n[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",n))(MIPMAP_MODES||{}),ALPHA_MODES=(n=>(n[n.NPM=0]="NPM",n[n.UNPACK=1]="UNPACK",n[n.PMA=2]="PMA",n[n.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",n[n.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",n[n.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",n))(ALPHA_MODES||{}),CLEAR_MODES=(n=>(n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT",n))(CLEAR_MODES||{}),GC_MODES=(n=>(n[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",n))(GC_MODES||{}),PRECISION=(n=>(n.LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",n))(PRECISION||{}),MASK_TYPES=(n=>(n[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",n[n.COLOR=4]="COLOR",n))(MASK_TYPES||{}),MSAA_QUALITY=(n=>(n[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",n))(MSAA_QUALITY||{}),BUFFER_TYPE=(n=>(n[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",n))(BUFFER_TYPE||{});const BrowserAdapter={createCanvas:(n,e)=>{const t=document.createElement("canvas");return t.width=n,t.height=e,t},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(n,e)=>fetch(n,e),parseXML:n=>new DOMParser().parseFromString(n,"text/xml")},settings={ADAPTER:BrowserAdapter,RESOLUTION:1,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,clearBeforeRender:!0,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,hello:!1},CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var appleIphone=/iPhone/i,appleIpod=/iPod/i,appleTablet=/iPad/i,appleUniversal=/\biOS-universal(?:.+)Mac\b/i,androidPhone=/\bAndroid(?:.+)Mobile\b/i,androidTablet=/Android/i,amazonPhone=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,amazonTablet=/Silk/i,windowsPhone=/Windows Phone/i,windowsTablet=/\bWindows(?:.+)ARM\b/i,otherBlackBerry=/BlackBerry/i,otherBlackBerry10=/BB10/i,otherOpera=/Opera Mini/i,otherChrome=/\b(CriOS|Chrome)(?:.+)Mobile/i,otherFirefox=/Mobile(?:.+)Firefox\b/i,isAppleTabletOnIos13=function(n){return typeof n<"u"&&n.platform==="MacIntel"&&typeof n.maxTouchPoints=="number"&&n.maxTouchPoints>1&&typeof MSStream>"u"};function createMatch(n){return function(e){return e.test(n)}}function isMobile$1(n){var e={userAgent:"",platform:"",maxTouchPoints:0};!n&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof n=="string"?e.userAgent=n:n&&n.userAgent&&(e={userAgent:n.userAgent,platform:n.platform,maxTouchPoints:n.maxTouchPoints||0});var t=e.userAgent,r=t.split("[FBAN");typeof r[1]<"u"&&(t=r[0]),r=t.split("Twitter"),typeof r[1]<"u"&&(t=r[0]);var i=createMatch(t),o={apple:{phone:i(appleIphone)&&!i(windowsPhone),ipod:i(appleIpod),tablet:!i(appleIphone)&&(i(appleTablet)||isAppleTabletOnIos13(e))&&!i(windowsPhone),universal:i(appleUniversal),device:(i(appleIphone)||i(appleIpod)||i(appleTablet)||i(appleUniversal)||isAppleTabletOnIos13(e))&&!i(windowsPhone)},amazon:{phone:i(amazonPhone),tablet:!i(amazonPhone)&&i(amazonTablet),device:i(amazonPhone)||i(amazonTablet)},android:{phone:!i(windowsPhone)&&i(amazonPhone)||!i(windowsPhone)&&i(androidPhone),tablet:!i(windowsPhone)&&!i(amazonPhone)&&!i(androidPhone)&&(i(amazonTablet)||i(androidTablet)),device:!i(windowsPhone)&&(i(amazonPhone)||i(amazonTablet)||i(androidPhone)||i(androidTablet))||i(/\bokhttp\b/i)},windows:{phone:i(windowsPhone),tablet:i(windowsTablet),device:i(windowsPhone)||i(windowsTablet)},other:{blackberry:i(otherBlackBerry),blackberry10:i(otherBlackBerry10),opera:i(otherOpera),firefox:i(otherFirefox),chrome:i(otherChrome),device:i(otherBlackBerry)||i(otherBlackBerry10)||i(otherOpera)||i(otherFirefox)||i(otherChrome)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}const isMobile=isMobile$1(globalThis.navigator);settings.RETINA_PREFIX=/@([0-9\.]+)x/;settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var eventemitter3Exports={},eventemitter3={get exports(){return eventemitter3Exports},set exports(n){eventemitter3Exports=n}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function o(c,l,u,h,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||c,d),f=t?t+l:l;return c._events[f]?c._events[f].fn?c._events[f]=[c._events[f],p]:c._events[f].push(p):(c._events[f]=p,c._eventsCount++),c}function s(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,h;if(this._eventsCount===0)return l;for(h in u=this._events)e.call(u,h)&&l.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=t?t+l:l,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,p=h.length,f=new Array(p);d<p;d++)f[d]=h[d].fn;return f},a.prototype.listenerCount=function(l){var u=t?t+l:l,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(l,u,h,d,p,f){var m=t?t+l:l;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,y,A;if(g.fn){switch(g.once&&this.removeListener(l,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,h),!0;case 4:return g.fn.call(g.context,u,h,d),!0;case 5:return g.fn.call(g.context,u,h,d,p),!0;case 6:return g.fn.call(g.context,u,h,d,p,f),!0}for(A=1,y=new Array(v-1);A<v;A++)y[A-1]=arguments[A];g.fn.apply(g.context,y)}else{var x=g.length,S;for(A=0;A<x;A++)switch(g[A].once&&this.removeListener(l,g[A].fn,void 0,!0),v){case 1:g[A].fn.call(g[A].context);break;case 2:g[A].fn.call(g[A].context,u);break;case 3:g[A].fn.call(g[A].context,u,h);break;case 4:g[A].fn.call(g[A].context,u,h,d);break;default:if(!y)for(S=1,y=new Array(v-1);S<v;S++)y[S-1]=arguments[S];g[A].fn.apply(g[A].context,y)}}return!0},a.prototype.on=function(l,u,h){return o(this,l,u,h,!1)},a.prototype.once=function(l,u,h){return o(this,l,u,h,!0)},a.prototype.removeListener=function(l,u,h,d){var p=t?t+l:l;if(!this._events[p])return this;if(!u)return s(this,p),this;var f=this._events[p];if(f.fn)f.fn===u&&(!d||f.once)&&(!h||f.context===h)&&s(this,p);else{for(var m=0,g=[],v=f.length;m<v;m++)(f[m].fn!==u||d&&!f[m].once||h&&f[m].context!==h)&&g.push(f[m]);g.length?this._events[p]=g.length===1?g[0]:g:s(this,p)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=t?t+l:l,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(eventemitter3);var earcutExports={},earcut$1={get exports(){return earcutExports},set exports(n){earcutExports=n}};earcut$1.exports=earcut;earcutExports.default=earcut;function earcut(n,e,t){t=t||2;var r=e&&e.length,i=r?e[0]*t:n.length,o=linkedList(n,0,i,t,!0),s=[];if(!o||o.next===o.prev)return s;var a,c,l,u,h,d,p;if(r&&(o=eliminateHoles(n,e,o,t)),n.length>80*t){a=l=n[0],c=u=n[1];for(var f=t;f<i;f+=t)h=n[f],d=n[f+1],h<a&&(a=h),d<c&&(c=d),h>l&&(l=h),d>u&&(u=d);p=Math.max(l-a,u-c),p=p!==0?32767/p:0}return earcutLinked(o,s,t,a,c,p,0),s}function linkedList(n,e,t,r,i){var o,s;if(i===signedArea(n,e,t,r)>0)for(o=e;o<t;o+=r)s=insertNode(o,n[o],n[o+1],s);else for(o=t-r;o>=e;o-=r)s=insertNode(o,n[o],n[o+1],s);return s&&equals(s,s.next)&&(removeNode(s),s=s.next),s}function filterPoints(n,e){if(!n)return n;e||(e=n);var t=n,r;do if(r=!1,!t.steiner&&(equals(t,t.next)||area(t.prev,t,t.next)===0)){if(removeNode(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function earcutLinked(n,e,t,r,i,o,s){if(n){!s&&o&&indexCurve(n,r,i,o);for(var a=n,c,l;n.prev!==n.next;){if(c=n.prev,l=n.next,o?isEarHashed(n,r,i,o):isEar(n)){e.push(c.i/t|0),e.push(n.i/t|0),e.push(l.i/t|0),removeNode(n),n=l.next,a=l.next;continue}if(n=l,n===a){s?s===1?(n=cureLocalIntersections(filterPoints(n),e,t),earcutLinked(n,e,t,r,i,o,2)):s===2&&splitEarcut(n,e,t,r,i,o):earcutLinked(filterPoints(n),e,t,r,i,o,1);break}}}}function isEar(n){var e=n.prev,t=n,r=n.next;if(area(e,t,r)>=0)return!1;for(var i=e.x,o=t.x,s=r.x,a=e.y,c=t.y,l=r.y,u=i<o?i<s?i:s:o<s?o:s,h=a<c?a<l?a:l:c<l?c:l,d=i>o?i>s?i:s:o>s?o:s,p=a>c?a>l?a:l:c>l?c:l,f=r.next;f!==e;){if(f.x>=u&&f.x<=d&&f.y>=h&&f.y<=p&&pointInTriangle(i,a,o,c,s,l,f.x,f.y)&&area(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function isEarHashed(n,e,t,r){var i=n.prev,o=n,s=n.next;if(area(i,o,s)>=0)return!1;for(var a=i.x,c=o.x,l=s.x,u=i.y,h=o.y,d=s.y,p=a<c?a<l?a:l:c<l?c:l,f=u<h?u<d?u:d:h<d?h:d,m=a>c?a>l?a:l:c>l?c:l,g=u>h?u>d?u:d:h>d?h:d,v=zOrder(p,f,e,t,r),y=zOrder(m,g,e,t,r),A=n.prevZ,x=n.nextZ;A&&A.z>=v&&x&&x.z<=y;){if(A.x>=p&&A.x<=m&&A.y>=f&&A.y<=g&&A!==i&&A!==s&&pointInTriangle(a,u,c,h,l,d,A.x,A.y)&&area(A.prev,A,A.next)>=0||(A=A.prevZ,x.x>=p&&x.x<=m&&x.y>=f&&x.y<=g&&x!==i&&x!==s&&pointInTriangle(a,u,c,h,l,d,x.x,x.y)&&area(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;A&&A.z>=v;){if(A.x>=p&&A.x<=m&&A.y>=f&&A.y<=g&&A!==i&&A!==s&&pointInTriangle(a,u,c,h,l,d,A.x,A.y)&&area(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;x&&x.z<=y;){if(x.x>=p&&x.x<=m&&x.y>=f&&x.y<=g&&x!==i&&x!==s&&pointInTriangle(a,u,c,h,l,d,x.x,x.y)&&area(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function cureLocalIntersections(n,e,t){var r=n;do{var i=r.prev,o=r.next.next;!equals(i,o)&&intersects(i,r,r.next,o)&&locallyInside(i,o)&&locallyInside(o,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(o.i/t|0),removeNode(r),removeNode(r.next),r=n=o),r=r.next}while(r!==n);return filterPoints(r)}function splitEarcut(n,e,t,r,i,o){var s=n;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&isValidDiagonal(s,a)){var c=splitPolygon(s,a);s=filterPoints(s,s.next),c=filterPoints(c,c.next),earcutLinked(s,e,t,r,i,o,0),earcutLinked(c,e,t,r,i,o,0);return}a=a.next}s=s.next}while(s!==n)}function eliminateHoles(n,e,t,r){var i=[],o,s,a,c,l;for(o=0,s=e.length;o<s;o++)a=e[o]*r,c=o<s-1?e[o+1]*r:n.length,l=linkedList(n,a,c,r,!1),l===l.next&&(l.steiner=!0),i.push(getLeftmost(l));for(i.sort(compareX),o=0;o<i.length;o++)t=eliminateHole(i[o],t);return t}function compareX(n,e){return n.x-e.x}function eliminateHole(n,e){var t=findHoleBridge(n,e);if(!t)return e;var r=splitPolygon(t,n);return filterPoints(r,r.next),filterPoints(t,t.next)}function findHoleBridge(n,e){var t=e,r=n.x,i=n.y,o=-1/0,s;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){var a=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(a<=r&&a>o&&(o=a,s=t.x<t.next.x?t:t.next,a===r))return s}t=t.next}while(t!==e);if(!s)return null;var c=s,l=s.x,u=s.y,h=1/0,d;t=s;do r>=t.x&&t.x>=l&&r!==t.x&&pointInTriangle(i<u?r:o,i,l,u,i<u?o:r,i,t.x,t.y)&&(d=Math.abs(i-t.y)/(r-t.x),locallyInside(t,n)&&(d<h||d===h&&(t.x>s.x||t.x===s.x&&sectorContainsSector(s,t)))&&(s=t,h=d)),t=t.next;while(t!==c);return s}function sectorContainsSector(n,e){return area(n.prev,n,e.prev)<0&&area(e.next,n,n.next)<0}function indexCurve(n,e,t,r){var i=n;do i.z===0&&(i.z=zOrder(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,sortLinked(i)}function sortLinked(n){var e,t,r,i,o,s,a,c,l=1;do{for(t=n,n=null,o=null,s=0;t;){for(s++,r=t,a=0,e=0;e<l&&(a++,r=r.nextZ,!!r);e++);for(c=l;a>0||c>0&&r;)a!==0&&(c===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,c--),o?o.nextZ=i:n=i,i.prevZ=o,o=i;t=r}o.nextZ=null,l*=2}while(s>1);return n}function zOrder(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function getLeftmost(n){var e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function pointInTriangle(n,e,t,r,i,o,s,a){return(i-s)*(e-a)>=(n-s)*(o-a)&&(n-s)*(r-a)>=(t-s)*(e-a)&&(t-s)*(o-a)>=(i-s)*(r-a)}function isValidDiagonal(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!intersectsPolygon(n,e)&&(locallyInside(n,e)&&locallyInside(e,n)&&middleInside(n,e)&&(area(n.prev,n,e.prev)||area(n,e.prev,e))||equals(n,e)&&area(n.prev,n,n.next)>0&&area(e.prev,e,e.next)>0)}function area(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function equals(n,e){return n.x===e.x&&n.y===e.y}function intersects(n,e,t,r){var i=sign$1(area(n,e,t)),o=sign$1(area(n,e,r)),s=sign$1(area(t,r,n)),a=sign$1(area(t,r,e));return!!(i!==o&&s!==a||i===0&&onSegment(n,t,e)||o===0&&onSegment(n,r,e)||s===0&&onSegment(t,n,r)||a===0&&onSegment(t,e,r))}function onSegment(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function sign$1(n){return n>0?1:n<0?-1:0}function intersectsPolygon(n,e){var t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&intersects(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function locallyInside(n,e){return area(n.prev,n,n.next)<0?area(n,e,n.next)>=0&&area(n,n.prev,e)>=0:area(n,e,n.prev)<0||area(n,n.next,e)<0}function middleInside(n,e){var t=n,r=!1,i=(n.x+e.x)/2,o=(n.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&i<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function splitPolygon(n,e){var t=new Node$1(n.i,n.x,n.y),r=new Node$1(e.i,e.x,e.y),i=n.next,o=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,o.next=r,r.prev=o,r}function insertNode(n,e,t,r){var i=new Node$1(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function removeNode(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Node$1(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}earcut.deviation=function(n,e,t,r){var i=e&&e.length,o=i?e[0]*t:n.length,s=Math.abs(signedArea(n,0,o,t));if(i)for(var a=0,c=e.length;a<c;a++){var l=e[a]*t,u=a<c-1?e[a+1]*t:n.length;s-=Math.abs(signedArea(n,l,u,t))}var h=0;for(a=0;a<r.length;a+=3){var d=r[a]*t,p=r[a+1]*t,f=r[a+2]*t;h+=Math.abs((n[d]-n[f])*(n[p+1]-n[d+1])-(n[d]-n[p])*(n[f+1]-n[d+1]))}return s===0&&h===0?0:Math.abs((h-s)/s)};function signedArea(n,e,t,r){for(var i=0,o=e,s=t-r;o<t;o+=r)i+=(n[s]-n[o])*(n[o+1]+n[s+1]),s=o;return i}earcut.flatten=function(n){for(var e=n[0][0].length,t={vertices:[],holes:[],dimensions:e},r=0,i=0;i<n.length;i++){for(var o=0;o<n[i].length;o++)for(var s=0;s<e;s++)t.vertices.push(n[i][o][s]);i>0&&(r+=n[i-1].length,t.holes.push(r))}return t};var punycodeExports={},punycode$1={get exports(){return punycodeExports},set exports(n){punycodeExports=n}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(n,e){(function(t){var r=e&&!e.nodeType&&e,i=n&&!n.nodeType&&n,o=typeof commonjsGlobal=="object"&&commonjsGlobal;(o.global===o||o.window===o||o.self===o)&&(t=o);var s,a=2147483647,c=36,l=1,u=26,h=38,d=700,p=72,f=128,m="-",g=/^xn--/,v=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=c-l,S=Math.floor,E=String.fromCharCode,w;function k(z){throw RangeError(A[z])}function Z(z,Y){for(var rt=z.length,ot=[];rt--;)ot[rt]=Y(z[rt]);return ot}function L(z,Y){var rt=z.split("@"),ot="";rt.length>1&&(ot=rt[0]+"@",z=rt[1]),z=z.replace(y,".");var st=z.split("."),tt=Z(st,Y).join(".");return ot+tt}function G(z){for(var Y=[],rt=0,ot=z.length,st,tt;rt<ot;)st=z.charCodeAt(rt++),st>=55296&&st<=56319&&rt<ot?(tt=z.charCodeAt(rt++),(tt&64512)==56320?Y.push(((st&1023)<<10)+(tt&1023)+65536):(Y.push(st),rt--)):Y.push(st);return Y}function j(z){return Z(z,function(Y){var rt="";return Y>65535&&(Y-=65536,rt+=E(Y>>>10&1023|55296),Y=56320|Y&1023),rt+=E(Y),rt}).join("")}function M(z){return z-48<10?z-22:z-65<26?z-65:z-97<26?z-97:c}function T(z,Y){return z+22+75*(z<26)-((Y!=0)<<5)}function P(z,Y,rt){var ot=0;for(z=rt?S(z/d):z>>1,z+=S(z/Y);z>x*u>>1;ot+=c)z=S(z/x);return S(ot+(x+1)*z/(z+h))}function U(z){var Y=[],rt=z.length,ot,st=0,tt=f,nt=p,Tt,At,Gt,Nt,jt,kt,Dt,Ct,q;for(Tt=z.lastIndexOf(m),Tt<0&&(Tt=0),At=0;At<Tt;++At)z.charCodeAt(At)>=128&&k("not-basic"),Y.push(z.charCodeAt(At));for(Gt=Tt>0?Tt+1:0;Gt<rt;){for(Nt=st,jt=1,kt=c;Gt>=rt&&k("invalid-input"),Dt=M(z.charCodeAt(Gt++)),(Dt>=c||Dt>S((a-st)/jt))&&k("overflow"),st+=Dt*jt,Ct=kt<=nt?l:kt>=nt+u?u:kt-nt,!(Dt<Ct);kt+=c)q=c-Ct,jt>S(a/q)&&k("overflow"),jt*=q;ot=Y.length+1,nt=P(st-Nt,ot,Nt==0),S(st/ot)>a-tt&&k("overflow"),tt+=S(st/ot),st%=ot,Y.splice(st++,0,tt)}return j(Y)}function N(z){var Y,rt,ot,st,tt,nt,Tt,At,Gt,Nt,jt,kt=[],Dt,Ct,q,ft;for(z=G(z),Dt=z.length,Y=f,rt=0,tt=p,nt=0;nt<Dt;++nt)jt=z[nt],jt<128&&kt.push(E(jt));for(ot=st=kt.length,st&&kt.push(m);ot<Dt;){for(Tt=a,nt=0;nt<Dt;++nt)jt=z[nt],jt>=Y&&jt<Tt&&(Tt=jt);for(Ct=ot+1,Tt-Y>S((a-rt)/Ct)&&k("overflow"),rt+=(Tt-Y)*Ct,Y=Tt,nt=0;nt<Dt;++nt)if(jt=z[nt],jt<Y&&++rt>a&&k("overflow"),jt==Y){for(At=rt,Gt=c;Nt=Gt<=tt?l:Gt>=tt+u?u:Gt-tt,!(At<Nt);Gt+=c)ft=At-Nt,q=c-Nt,kt.push(E(T(Nt+ft%q,0))),At=S(ft/q);kt.push(E(T(At,0))),tt=P(rt,Ct,ot==st),rt=0,++ot}++rt,++Y}return kt.join("")}function $(z){return L(z,function(Y){return g.test(Y)?U(Y.slice(4).toLowerCase()):Y})}function D(z){return L(z,function(Y){return v.test(Y)?"xn--"+N(Y):Y})}if(s={version:"1.3.2",ucs2:{decode:G,encode:j},decode:U,encode:N,toASCII:D,toUnicode:$},r&&i)if(n.exports==r)i.exports=s;else for(w in s)s.hasOwnProperty(w)&&(r[w]=s[w]);else t.punycode=s})(commonjsGlobal)})(punycode$1,punycodeExports);var util$1={isString:function(n){return typeof n=="string"},isObject:function(n){return typeof n=="object"&&n!==null},isNull:function(n){return n===null},isNullOrUndefined:function(n){return n==null}},querystring$1={};function hasOwnProperty(n,e){return Object.prototype.hasOwnProperty.call(n,e)}var decode=function(n,e,t,r){e=e||"&",t=t||"=";var i={};if(typeof n!="string"||n.length===0)return i;var o=/\+/g;n=n.split(e);var s=1e3;r&&typeof r.maxKeys=="number"&&(s=r.maxKeys);var a=n.length;s>0&&a>s&&(a=s);for(var c=0;c<a;++c){var l=n[c].replace(o,"%20"),u=l.indexOf(t),h,d,p,f;u>=0?(h=l.substr(0,u),d=l.substr(u+1)):(h=l,d=""),p=decodeURIComponent(h),f=decodeURIComponent(d),hasOwnProperty(i,p)?Array.isArray(i[p])?i[p].push(f):i[p]=[i[p],f]:i[p]=f}return i},stringifyPrimitive=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}},encode=function(n,e,t,r){return e=e||"&",t=t||"=",n===null&&(n=void 0),typeof n=="object"?Object.keys(n).map(function(i){var o=encodeURIComponent(stringifyPrimitive(i))+t;return Array.isArray(n[i])?n[i].map(function(s){return o+encodeURIComponent(stringifyPrimitive(s))}).join(e):o+encodeURIComponent(stringifyPrimitive(n[i]))}).join(e):r?encodeURIComponent(stringifyPrimitive(r))+t+encodeURIComponent(stringifyPrimitive(n)):""};querystring$1.decode=querystring$1.parse=decode;querystring$1.encode=querystring$1.stringify=encode;var punycode=punycodeExports,util=util$1,parse=urlParse,resolve=urlResolve,format=urlFormat;function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=querystring$1;function urlParse(n,e,t){if(n&&util.isObject(n)&&n instanceof Url)return n;var r=new Url;return r.parse(n,e,t),r}Url.prototype.parse=function(n,e,t){if(!util.isString(n))throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var r=n.indexOf("?"),i=r!==-1&&r<n.indexOf("#")?"?":"#",o=n.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),n=o.join(i);var a=n;if(a=a.trim(),!t&&n.split("#").length===1){var c=simplePathPattern.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=querystring.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=protocolPattern.exec(a);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,a=a.substr(l.length)}if(t||l||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var h=a.substr(0,2)==="//";h&&!(l&&hostlessProtocol[l])&&(a=a.substr(2),this.slashes=!0)}if(!hostlessProtocol[l]&&(h||l&&!slashedProtocol[l])){for(var d=-1,p=0;p<hostEndingChars.length;p++){var f=a.indexOf(hostEndingChars[p]);f!==-1&&(d===-1||f<d)&&(d=f)}var m,g;d===-1?g=a.lastIndexOf("@"):g=a.lastIndexOf("@",d),g!==-1&&(m=a.slice(0,g),a=a.slice(g+1),this.auth=decodeURIComponent(m)),d=-1;for(var p=0;p<nonHostChars.length;p++){var f=a.indexOf(nonHostChars[p]);f!==-1&&(d===-1||f<d)&&(d=f)}d===-1&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var y=this.hostname.split(/\./),p=0,A=y.length;p<A;p++){var x=y[p];if(x&&!x.match(hostnamePartPattern)){for(var S="",E=0,w=x.length;E<w;E++)x.charCodeAt(E)>127?S+="x":S+=x[E];if(!S.match(hostnamePartPattern)){var k=y.slice(0,p),Z=y.slice(p+1),L=x.match(hostnamePartStart);L&&(k.push(L[1]),Z.unshift(L[2])),Z.length&&(a="/"+Z.join(".")+a),this.hostname=k.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=punycode.toASCII(this.hostname));var G=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+G,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!unsafeProtocol[u])for(var p=0,A=autoEscape.length;p<A;p++){var M=autoEscape[p];if(a.indexOf(M)!==-1){var T=encodeURIComponent(M);T===M&&(T=escape(M)),a=a.split(M).join(T)}}var P=a.indexOf("#");P!==-1&&(this.hash=a.substr(P),a=a.slice(0,P));var U=a.indexOf("?");if(U!==-1?(this.search=a.substr(U),this.query=a.substr(U+1),e&&(this.query=querystring.parse(this.query)),a=a.slice(0,U)):e&&(this.search="",this.query={}),a&&(this.pathname=a),slashedProtocol[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var G=this.pathname||"",N=this.search||"";this.path=G+N}return this.href=this.format(),this};function urlFormat(n){return util.isString(n)&&(n=urlParse(n)),n instanceof Url?n.format():Url.prototype.format.call(n)}Url.prototype.format=function(){var n=this.auth||"";n&&(n=encodeURIComponent(n),n=n.replace(/%3A/i,":"),n+="@");var e=this.protocol||"",t=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=n+this.host:this.hostname&&(i=n+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(o=querystring.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||slashedProtocol[e])&&i!==!1?(i="//"+(i||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),s&&s.charAt(0)!=="?"&&(s="?"+s),t=t.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),s=s.replace("#","%23"),e+i+t+s+r};function urlResolve(n,e){return urlParse(n,!1,!0).resolve(e)}Url.prototype.resolve=function(n){return this.resolveObject(urlParse(n,!1,!0)).format()};Url.prototype.resolveObject=function(n){if(util.isString(n)){var e=new Url;e.parse(n,!1,!0),n=e}for(var t=new Url,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];t[o]=this[o]}if(t.hash=n.hash,n.href==="")return t.href=t.format(),t;if(n.slashes&&!n.protocol){for(var s=Object.keys(n),a=0;a<s.length;a++){var c=s[a];c!=="protocol"&&(t[c]=n[c])}return slashedProtocol[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(n.protocol&&n.protocol!==t.protocol){if(!slashedProtocol[n.protocol]){for(var l=Object.keys(n),u=0;u<l.length;u++){var h=l[u];t[h]=n[h]}return t.href=t.format(),t}if(t.protocol=n.protocol,!n.host&&!hostlessProtocol[n.protocol]){for(var A=(n.pathname||"").split("/");A.length&&!(n.host=A.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),A[0]!==""&&A.unshift(""),A.length<2&&A.unshift(""),t.pathname=A.join("/")}else t.pathname=n.pathname;if(t.search=n.search,t.query=n.query,t.host=n.host||"",t.auth=n.auth,t.hostname=n.hostname||n.host,t.port=n.port,t.pathname||t.search){var d=t.pathname||"",p=t.search||"";t.path=d+p}return t.slashes=t.slashes||n.slashes,t.href=t.format(),t}var f=t.pathname&&t.pathname.charAt(0)==="/",m=n.host||n.pathname&&n.pathname.charAt(0)==="/",g=m||f||t.host&&n.pathname,v=g,y=t.pathname&&t.pathname.split("/")||[],A=n.pathname&&n.pathname.split("/")||[],x=t.protocol&&!slashedProtocol[t.protocol];if(x&&(t.hostname="",t.port=null,t.host&&(y[0]===""?y[0]=t.host:y.unshift(t.host)),t.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(A[0]===""?A[0]=n.host:A.unshift(n.host)),n.host=null),g=g&&(A[0]===""||y[0]==="")),m)t.host=n.host||n.host===""?n.host:t.host,t.hostname=n.hostname||n.hostname===""?n.hostname:t.hostname,t.search=n.search,t.query=n.query,y=A;else if(A.length)y||(y=[]),y.pop(),y=y.concat(A),t.search=n.search,t.query=n.query;else if(!util.isNullOrUndefined(n.search)){if(x){t.hostname=t.host=y.shift();var S=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;S&&(t.auth=S.shift(),t.host=t.hostname=S.shift())}return t.search=n.search,t.query=n.query,(!util.isNull(t.pathname)||!util.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!y.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var E=y.slice(-1)[0],w=(t.host||n.host||y.length>1)&&(E==="."||E==="..")||E==="",k=0,Z=y.length;Z>=0;Z--)E=y[Z],E==="."?y.splice(Z,1):E===".."?(y.splice(Z,1),k++):k&&(y.splice(Z,1),k--);if(!g&&!v)for(;k--;k)y.unshift("..");g&&y[0]!==""&&(!y[0]||y[0].charAt(0)!=="/")&&y.unshift(""),w&&y.join("/").substr(-1)!=="/"&&y.push("");var L=y[0]===""||y[0]&&y[0].charAt(0)==="/";if(x){t.hostname=t.host=L?"":y.length?y.shift():"";var S=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;S&&(t.auth=S.shift(),t.host=t.hostname=S.shift())}return g=g||t.host&&y.length,g&&!L&&y.unshift(""),y.length?t.pathname=y.join("/"):(t.pathname=null,t.path=null),(!util.isNull(t.pathname)||!util.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=n.auth||t.auth,t.slashes=t.slashes||n.slashes,t.href=t.format(),t};Url.prototype.parseHost=function(){var n=this.host,e=portPattern.exec(n);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),n=n.substr(0,n.length-e.length)),n&&(this.hostname=n)};const url={parse,format,resolve};function assertPath(n){if(typeof n!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(n)}`)}function removeUrlParams(n){return n.split("?")[0].split("#")[0]}function escapeRegExp(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function replaceAll(n,e,t){return n.replace(new RegExp(escapeRegExp(e),"g"),t)}function normalizeStringPosix(n,e){let t="",r=0,i=-1,o=0,s=-1;for(let a=0;a<=n.length;++a){if(a<n.length)s=n.charCodeAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const c=t.lastIndexOf("/");if(c!==t.length-1){c===-1?(t="",r=0):(t=t.slice(0,c),r=t.length-1-t.lastIndexOf("/")),i=a,o=0;continue}}else if(t.length===2||t.length===1){t="",r=0,i=a,o=0;continue}}e&&(t.length>0?t+="/..":t="..",r=2)}else t.length>0?t+=`/${n.slice(i+1,a)}`:t=n.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o!==-1?++o:o=-1}return t}const path={toPosix(n){return replaceAll(n,"\\","/")},isUrl(n){return/^https?:/.test(this.toPosix(n))},isDataUrl(n){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(n)},hasProtocol(n){return/^[^/:]+:\//.test(this.toPosix(n))},getProtocol(n){assertPath(n),n=this.toPosix(n);let e="";const t=/^file:\/\/\//.exec(n),r=/^[^/:]+:\/\//.exec(n),i=/^[^/:]+:\//.exec(n);if(t||r||i){const o=(t==null?void 0:t[0])||(r==null?void 0:r[0])||(i==null?void 0:i[0]);e=o,n=n.slice(o.length)}return e},toAbsolute(n,e,t){if(this.isDataUrl(n))return n;const r=removeUrlParams(this.toPosix(e??settings.ADAPTER.getBaseUrl())),i=removeUrlParams(this.toPosix(t??this.rootname(r)));return assertPath(n),n=this.toPosix(n),n.startsWith("/")?path.join(i,n.slice(1)):this.isAbsolute(n)?n:this.join(r,n)},normalize(n){if(n=this.toPosix(n),assertPath(n),n.length===0)return".";let e="";const t=n.startsWith("/");this.hasProtocol(n)&&(e=this.rootname(n),n=n.slice(e.length));const r=n.endsWith("/");return n=normalizeStringPosix(n,!1),n.length>0&&r&&(n+="/"),t?`/${n}`:e+n},isAbsolute(n){return assertPath(n),n=this.toPosix(n),this.hasProtocol(n)?!0:n.startsWith("/")},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){const r=n[t];if(assertPath(r),r.length>0)if(e===void 0)e=r;else{const i=n[t-1]??"";this.extname(i)?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(n){if(assertPath(n),n.length===0)return".";n=this.toPosix(n);let e=n.charCodeAt(0);const t=e===47;let r=-1,i=!0;const o=this.getProtocol(n),s=n;n=n.slice(o.length);for(let a=n.length-1;a>=1;--a)if(e=n.charCodeAt(a),e===47){if(!i){r=a;break}}else i=!1;return r===-1?t?"/":this.isUrl(s)?o+n:o:t&&r===1?"//":o+n.slice(0,r)},rootname(n){assertPath(n),n=this.toPosix(n);let e="";if(n.startsWith("/")?e="/":e=this.getProtocol(n),this.isUrl(n)){const t=n.indexOf("/",e.length);t!==-1?e=n.slice(0,t):e=n,e.endsWith("/")||(e+="/")}return e},basename(n,e){assertPath(n),e&&assertPath(e),n=removeUrlParams(this.toPosix(n));let t=0,r=-1,i=!0,o;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e.length===n.length&&e===n)return"";let s=e.length-1,a=-1;for(o=n.length-1;o>=0;--o){const c=n.charCodeAt(o);if(c===47){if(!i){t=o+1;break}}else a===-1&&(i=!1,a=o+1),s>=0&&(c===e.charCodeAt(s)?--s===-1&&(r=o):(s=-1,r=a))}return t===r?r=a:r===-1&&(r=n.length),n.slice(t,r)}for(o=n.length-1;o>=0;--o)if(n.charCodeAt(o)===47){if(!i){t=o+1;break}}else r===-1&&(i=!1,r=o+1);return r===-1?"":n.slice(t,r)},extname(n){assertPath(n),n=removeUrlParams(this.toPosix(n));let e=-1,t=0,r=-1,i=!0,o=0;for(let s=n.length-1;s>=0;--s){const a=n.charCodeAt(s);if(a===47){if(!i){t=s+1;break}continue}r===-1&&(i=!1,r=s+1),a===46?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||r===-1||o===0||o===1&&e===r-1&&e===t+1?"":n.slice(e,r)},parse(n){assertPath(n);const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;n=removeUrlParams(this.toPosix(n));let t=n.charCodeAt(0);const r=this.isAbsolute(n);let i;e.root=this.rootname(n),r||this.hasProtocol(n)?i=1:i=0;let o=-1,s=0,a=-1,c=!0,l=n.length-1,u=0;for(;l>=i;--l){if(t=n.charCodeAt(l),t===47){if(!c){s=l+1;break}continue}a===-1&&(c=!1,a=l+1),t===46?o===-1?o=l:u!==1&&(u=1):o!==-1&&(u=-1)}return o===-1||a===-1||u===0||u===1&&o===a-1&&o===s+1?a!==-1&&(s===0&&r?e.base=e.name=n.slice(1,a):e.base=e.name=n.slice(s,a)):(s===0&&r?(e.name=n.slice(1,o),e.base=n.slice(1,a)):(e.name=n.slice(s,o),e.base=n.slice(s,a)),e.ext=n.slice(o,a)),e.dir=this.dirname(n),e},sep:"/",delimiter:":"},warnings={};function deprecation(n,e,t=3){if(warnings[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${n}`):(r=r.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${n}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${n}`),console.warn(r))),warnings[e]=!0}let supported;function isWebGLSupported(){return typeof supported>"u"&&(supported=function(){var t;const e={stencil:!0,failIfMajorPerformanceCaveat:settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!settings.ADAPTER.getWebGLRenderingContext())return!1;const r=settings.ADAPTER.createCanvas();let i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const o=!!((t=i==null?void 0:i.getContextAttributes())!=null&&t.stencil);if(i){const s=i.getExtension("WEBGL_lose_context");s&&s.loseContext()}return i=null,o}catch{return!1}}()),supported}var aliceblue="#f0f8ff",antiquewhite="#faebd7",aqua="#00ffff",aquamarine="#7fffd4",azure="#f0ffff",beige="#f5f5dc",bisque="#ffe4c4",black="#000000",blanchedalmond="#ffebcd",blue="#0000ff",blueviolet="#8a2be2",brown="#a52a2a",burlywood="#deb887",cadetblue="#5f9ea0",chartreuse="#7fff00",chocolate="#d2691e",coral="#ff7f50",cornflowerblue="#6495ed",cornsilk="#fff8dc",crimson="#dc143c",cyan="#00ffff",darkblue="#00008b",darkcyan="#008b8b",darkgoldenrod="#b8860b",darkgray="#a9a9a9",darkgreen="#006400",darkgrey="#a9a9a9",darkkhaki="#bdb76b",darkmagenta="#8b008b",darkolivegreen="#556b2f",darkorange="#ff8c00",darkorchid="#9932cc",darkred="#8b0000",darksalmon="#e9967a",darkseagreen="#8fbc8f",darkslateblue="#483d8b",darkslategray="#2f4f4f",darkslategrey="#2f4f4f",darkturquoise="#00ced1",darkviolet="#9400d3",deeppink="#ff1493",deepskyblue="#00bfff",dimgray="#696969",dimgrey="#696969",dodgerblue="#1e90ff",firebrick="#b22222",floralwhite="#fffaf0",forestgreen="#228b22",fuchsia="#ff00ff",gainsboro="#dcdcdc",ghostwhite="#f8f8ff",goldenrod="#daa520",gold="#ffd700",gray="#808080",green="#008000",greenyellow="#adff2f",grey="#808080",honeydew="#f0fff0",hotpink="#ff69b4",indianred="#cd5c5c",indigo="#4b0082",ivory="#fffff0",khaki="#f0e68c",lavenderblush="#fff0f5",lavender="#e6e6fa",lawngreen="#7cfc00",lemonchiffon="#fffacd",lightblue="#add8e6",lightcoral="#f08080",lightcyan="#e0ffff",lightgoldenrodyellow="#fafad2",lightgray="#d3d3d3",lightgreen="#90ee90",lightgrey="#d3d3d3",lightpink="#ffb6c1",lightsalmon="#ffa07a",lightseagreen="#20b2aa",lightskyblue="#87cefa",lightslategray="#778899",lightslategrey="#778899",lightsteelblue="#b0c4de",lightyellow="#ffffe0",lime="#00ff00",limegreen="#32cd32",linen="#faf0e6",magenta="#ff00ff",maroon="#800000",mediumaquamarine="#66cdaa",mediumblue="#0000cd",mediumorchid="#ba55d3",mediumpurple="#9370db",mediumseagreen="#3cb371",mediumslateblue="#7b68ee",mediumspringgreen="#00fa9a",mediumturquoise="#48d1cc",mediumvioletred="#c71585",midnightblue="#191970",mintcream="#f5fffa",mistyrose="#ffe4e1",moccasin="#ffe4b5",navajowhite="#ffdead",navy="#000080",oldlace="#fdf5e6",olive="#808000",olivedrab="#6b8e23",orange="#ffa500",orangered="#ff4500",orchid="#da70d6",palegoldenrod="#eee8aa",palegreen="#98fb98",paleturquoise="#afeeee",palevioletred="#db7093",papayawhip="#ffefd5",peachpuff="#ffdab9",peru="#cd853f",pink="#ffc0cb",plum="#dda0dd",powderblue="#b0e0e6",purple="#800080",rebeccapurple="#663399",red="#ff0000",rosybrown="#bc8f8f",royalblue="#4169e1",saddlebrown="#8b4513",salmon="#fa8072",sandybrown="#f4a460",seagreen="#2e8b57",seashell="#fff5ee",sienna="#a0522d",silver="#c0c0c0",skyblue="#87ceeb",slateblue="#6a5acd",slategray="#708090",slategrey="#708090",snow="#fffafa",springgreen="#00ff7f",steelblue="#4682b4",tan="#d2b48c",teal="#008080",thistle="#d8bfd8",tomato="#ff6347",turquoise="#40e0d0",violet="#ee82ee",wheat="#f5deb3",white="#ffffff",whitesmoke="#f5f5f5",yellow="#ffff00",yellowgreen="#9acd32",cssColorNames={aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,goldenrod,gold,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavenderblush,lavender,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow,yellowgreen};function hex2rgb(n,e=[]){return e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255,e}function hex2string(n){let e=n.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function string2hex(n){if(typeof n=="string"&&(n=cssColorNames[n.toLowerCase()]||n,n[0]==="#"&&(n=n.slice(1)),n.length===3)){const[e,t,r]=n;n=e+e+t+t+r+r}return parseInt(n,16)}function mapPremultipliedBlendModes(){const n=[],e=[];for(let r=0;r<32;r++)n[r]=r,e[r]=r;n[BLEND_MODES.NORMAL_NPM]=BLEND_MODES.NORMAL,n[BLEND_MODES.ADD_NPM]=BLEND_MODES.ADD,n[BLEND_MODES.SCREEN_NPM]=BLEND_MODES.SCREEN,e[BLEND_MODES.NORMAL]=BLEND_MODES.NORMAL_NPM,e[BLEND_MODES.ADD]=BLEND_MODES.ADD_NPM,e[BLEND_MODES.SCREEN]=BLEND_MODES.SCREEN_NPM;const t=[];return t.push(e),t.push(n),t}const premultiplyBlendMode=mapPremultipliedBlendModes();function correctBlendMode(n,e){return premultiplyBlendMode[e?1:0][n]}function premultiplyRgba(n,e,t,r){return t=t||new Float32Array(4),r||r===void 0?(t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e):(t[0]=n[0],t[1]=n[1],t[2]=n[2]),t[3]=e,t}function premultiplyTint(n,e){if(e===1)return(e*255<<24)+n;if(e===0)return 0;let t=n>>16&255,r=n>>8&255,i=n&255;return t=t*e+.5|0,r=r*e+.5|0,i=i*e+.5|0,(e*255<<24)+(t<<16)+(r<<8)+i}function premultiplyTintToRgba(n,e,t,r){return t=t||new Float32Array(4),t[0]=(n>>16&255)/255,t[1]=(n>>8&255)/255,t[2]=(n&255)/255,(r||r===void 0)&&(t[0]*=e,t[1]*=e,t[2]*=e),t[3]=e,t}function createIndicesForQuads(n,e=null){const t=n*6;if(e=e||new Uint16Array(t),e.length!==t)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);for(let r=0,i=0;r<t;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function getBufferType(n){if(n.BYTES_PER_ELEMENT===4)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(n.BYTES_PER_ELEMENT===2){if(n instanceof Uint16Array)return"Uint16Array"}else if(n.BYTES_PER_ELEMENT===1&&n instanceof Uint8Array)return"Uint8Array";return null}function nextPow2(n){return n+=n===0?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1}function isPow2(n){return!(n&n-1)&&!!n}function log2(n){let e=(n>65535?1:0)<<4;n>>>=e;let t=(n>255?1:0)<<3;return n>>>=t,e|=t,t=(n>15?1:0)<<2,n>>>=t,e|=t,t=(n>3?1:0)<<1,n>>>=t,e|=t,e|n>>1}function removeItems(n,e,t){const r=n.length;let i;if(e>=r||t===0)return;t=e+t>r?r-e:t;const o=r-t;for(i=e;i<o;++i)n[i]=n[i+t];n.length=o}function sign(n){return n===0?0:n<0?-1:1}let nextUid=0;function uid(){return++nextUid}const _BoundingBox=class{constructor(n,e,t,r){this.left=n,this.top=e,this.right=t,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let BoundingBox=_BoundingBox;BoundingBox.EMPTY=new _BoundingBox(0,0,0,0);const ProgramCache={},TextureCache=Object.create(null),BaseTextureCache=Object.create(null);class CanvasRenderTarget{constructor(e,t,r){this._canvas=settings.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||settings.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function checkRow(n,e,t){for(let r=0,i=4*t*e;r<e;++r,i+=4)if(n[i+3]!==0)return!1;return!0}function checkColumn(n,e,t,r,i){const o=4*e;for(let s=r,a=r*o+4*t;s<=i;++s,a+=o)if(n[a+3]!==0)return!1;return!0}function getCanvasBoundingBox(n){const{width:e,height:t}=n,r=n.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const o=r.getImageData(0,0,e,t).data;let s=0,a=0,c=e-1,l=t-1;for(;a<t&&checkRow(o,e,a);)++a;if(a===t)return BoundingBox.EMPTY;for(;checkRow(o,e,l);)--l;for(;checkColumn(o,e,s,a,l);)++s;for(;checkColumn(o,e,c,a,l);)--c;return++c,++l,new BoundingBox(s,a,c,l)}function trimCanvas(n){const e=getCanvasBoundingBox(n),{width:t,height:r}=e;let i=null;if(!e.isEmpty()){const o=n.getContext("2d");if(o===null)throw new TypeError("Failed to get canvas 2D context");i=o.getImageData(e.left,e.top,t,r)}return{width:t,height:r,data:i}}let tempAnchor;function determineCrossOrigin(n,e=globalThis.location){if(n.startsWith("data:"))return"";e=e||globalThis.location,tempAnchor||(tempAnchor=document.createElement("a")),tempAnchor.href=n;const t=url.parse(tempAnchor.href),r=!t.port&&e.port===""||t.port===e.port;return t.hostname!==e.hostname||!r||t.protocol!==e.protocol?"anonymous":""}function getResolutionOfUrl(n,e=1){var r;const t=(r=settings.RETINA_PREFIX)==null?void 0:r.exec(n);return t?parseFloat(t[1]):e}var ExtensionType=(n=>(n.Renderer="renderer",n.Application="application",n.RendererSystem="renderer-webgl-system",n.RendererPlugin="renderer-webgl-plugin",n.CanvasRendererSystem="renderer-canvas-system",n.CanvasRendererPlugin="renderer-canvas-plugin",n.Asset="asset",n.LoadParser="load-parser",n.ResolveParser="resolve-parser",n.CacheParser="cache-parser",n.DetectionParser="detection-parser",n))(ExtensionType||{});const normalizeExtension=n=>{if(typeof n=="function"||typeof n=="object"&&n.extension){if(!n.extension)throw new Error("Extension class must have an extension object");n={...typeof n.extension!="object"?{type:n.extension}:n.extension,ref:n}}if(typeof n=="object")n={...n};else throw new Error("Invalid extension type");return typeof n.type=="string"&&(n.type=[n.type]),n},normalizePriority=(n,e)=>normalizeExtension(n).priority??e,extensions$1={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...n){return n.map(normalizeExtension).forEach(e=>{e.type.forEach(t=>{var r,i;return(i=(r=this._removeHandlers)[t])==null?void 0:i.call(r,e)})}),this},add(...n){return n.map(normalizeExtension).forEach(e=>{e.type.forEach(t=>{const r=this._addHandlers,i=this._queue;r[t]?r[t](e):(i[t]=i[t]||[],i[t].push(e))})}),this},handle(n,e,t){const r=this._addHandlers,i=this._removeHandlers;if(r[n]||i[n])throw new Error(`Extension type ${n} already has a handler`);r[n]=e,i[n]=t;const o=this._queue;return o[n]&&(o[n].forEach(s=>e(s)),delete o[n]),this},handleByMap(n,e){return this.handle(n,t=>{e[t.name]=t.ref},t=>{delete e[t.name]})},handleByList(n,e,t=-1){return this.handle(n,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,o)=>normalizePriority(o,t)-normalizePriority(i,t)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})}};class ViewableBuffer{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const fragTemplate$1=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function generateIfTestSrc(n){let e="";for(let t=0;t<n;++t)t>0&&(e+=`
else `),t<n-1&&(e+=`if(test == ${t}.0){}`);return e}function checkMaxIfStatementsInShader(n,e){if(n===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=fragTemplate$1.replace(/%forloop%/gi,generateIfTestSrc(n));if(e.shaderSource(t,r),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))n=n/2|0;else break}return n}const BLEND$1=0,OFFSET$1=1,CULLING$1=2,DEPTH_TEST$1=3,WINDING$1=4,DEPTH_MASK$1=5;class State{constructor(){this.data=0,this.blendMode=BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<BLEND$1)}set blend(e){!!(this.data&1<<BLEND$1)!==e&&(this.data^=1<<BLEND$1)}get offsets(){return!!(this.data&1<<OFFSET$1)}set offsets(e){!!(this.data&1<<OFFSET$1)!==e&&(this.data^=1<<OFFSET$1)}get culling(){return!!(this.data&1<<CULLING$1)}set culling(e){!!(this.data&1<<CULLING$1)!==e&&(this.data^=1<<CULLING$1)}get depthTest(){return!!(this.data&1<<DEPTH_TEST$1)}set depthTest(e){!!(this.data&1<<DEPTH_TEST$1)!==e&&(this.data^=1<<DEPTH_TEST$1)}get depthMask(){return!!(this.data&1<<DEPTH_MASK$1)}set depthMask(e){!!(this.data&1<<DEPTH_MASK$1)!==e&&(this.data^=1<<DEPTH_MASK$1)}get clockwiseFrontFace(){return!!(this.data&1<<WINDING$1)}set clockwiseFrontFace(e){!!(this.data&1<<WINDING$1)!==e&&(this.data^=1<<WINDING$1)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==BLEND_MODES.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new State;return e.depthTest=!1,e.blend=!0,e}}const INSTALLED=[];function autoDetectResource(n,e){if(!n)return null;let t="";if(typeof n=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);r&&(t=r[1].toLowerCase())}for(let r=INSTALLED.length-1;r>=0;--r){const i=INSTALLED[r];if(i.test&&i.test(n,t))return new i(n,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Runner{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,r,i,o,s,a,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:l,items:u}=this;this._aliasCount++;for(let h=0,d=u.length;h<d;h++)u[h][l](e,t,r,i,o,s,a,c);return u===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Runner.prototype,{dispatch:{value:Runner.prototype.emit},run:{value:Runner.prototype.emit}});class Resource{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Runner("setRealSize"),this.onUpdate=new Runner("update"),this.onError=new Runner("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class BufferResource extends Resource{constructor(e,t){const{width:r,height:i}=t||{};if(!r||!i)throw new Error("BufferResource width or height invalid");super(r,i),this.data=e}upload(e,t,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ALPHA_MODES.UNPACK);const o=t.realWidth,s=t.realHeight;return r.width===o&&r.height===s?i.texSubImage2D(t.target,0,0,0,o,s,t.format,r.type,this.data):(r.width=o,r.height=s,i.texImage2D(t.target,0,r.internalFormat,o,s,0,t.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const defaultBufferOptions={scaleMode:SCALE_MODES.NEAREST,format:FORMATS.RGBA,alphaMode:ALPHA_MODES.NPM},_BaseTexture=class extends eventemitter3Exports{constructor(n=null,e=null){super(),e=Object.assign({},_BaseTexture.defaultOptions,e);const{alphaMode:t,mipmap:r,anisotropicLevel:i,scaleMode:o,width:s,height:a,wrapMode:c,format:l,type:u,target:h,resolution:d,resourceOptions:p}=e;n&&!(n instanceof Resource)&&(n=autoDetectResource(n,p),n.internal=!0),this.resolution=d||settings.RESOLUTION,this.width=Math.round((s||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=i,this._wrapMode=c,this._scaleMode=o,this.format=l,this.type=u,this.target=h,this.alphaMode=t,this.uid=uid(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=s>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(n)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(n){this._mipmap!==n&&(this._mipmap=n,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(n){this._scaleMode!==n&&(this._scaleMode=n,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(n){this._wrapMode!==n&&(this._wrapMode=n,this.dirtyStyleId++)}setStyle(n,e){let t;return n!==void 0&&n!==this.scaleMode&&(this.scaleMode=n,t=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,t=!0),t&&this.dirtyStyleId++,this}setSize(n,e,t){return t=t||this.resolution,this.setRealSize(n*t,e*t,t)}setRealSize(n,e,t){return this.resolution=t||this.resolution,this.width=Math.round(n)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=isPow2(this.realWidth)&&isPow2(this.realHeight)}setResolution(n){const e=this.resolution;return e===n?this:(this.resolution=n,this.valid&&(this.width=Math.round(this.width*e)/n,this.height=Math.round(this.height*e)/n,this.emit("update",this)),this._refreshPOT(),this)}setResource(n){if(this.resource===n)return this;if(this.resource)throw new Error("Resource can be set only once");return n.bind(this),this.resource=n,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(n){this.emit("error",this,n)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete BaseTextureCache[this.cacheId],delete TextureCache[this.cacheId],this.cacheId=null),this.dispose(),_BaseTexture.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(n,e,t=settings.STRICT_TEXTURE_CACHE){const r=typeof n=="string";let i=null;if(r)i=n;else{if(!n._pixiId){const s=(e==null?void 0:e.pixiIdPrefix)||"pixiid";n._pixiId=`${s}_${uid()}`}i=n._pixiId}let o=BaseTextureCache[i];if(r&&t&&!o)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return o||(o=new _BaseTexture(n,e),o.cacheId=i,_BaseTexture.addToCache(o,i)),o}static fromBuffer(n,e,t,r){n=n||new Float32Array(e*t*4);const i=new BufferResource(n,{width:e,height:t}),o=n instanceof Float32Array?TYPES.FLOAT:TYPES.UNSIGNED_BYTE;return new _BaseTexture(i,Object.assign({},defaultBufferOptions,r||{width:e,height:t,type:o}))}static addToCache(n,e){e&&(n.textureCacheIds.includes(e)||n.textureCacheIds.push(e),BaseTextureCache[e]&&BaseTextureCache[e]!==n&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),BaseTextureCache[e]=n)}static removeFromCache(n){if(typeof n=="string"){const e=BaseTextureCache[n];if(e){const t=e.textureCacheIds.indexOf(n);return t>-1&&e.textureCacheIds.splice(t,1),delete BaseTextureCache[n],e}}else if(n!=null&&n.textureCacheIds){for(let e=0;e<n.textureCacheIds.length;++e)delete BaseTextureCache[n.textureCacheIds[e]];return n.textureCacheIds.length=0,n}return null}};let BaseTexture=_BaseTexture;BaseTexture.defaultOptions={mipmap:MIPMAP_MODES.POW2,anisotropicLevel:0,scaleMode:SCALE_MODES.LINEAR,wrapMode:WRAP_MODES.CLAMP,alphaMode:ALPHA_MODES.UNPACK,target:TARGETS.TEXTURE_2D,format:FORMATS.RGBA,type:TYPES.UNSIGNED_BYTE};BaseTexture._globalBatch=0;class BatchDrawCall{constructor(){this.texArray=null,this.blend=0,this.type=DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null}}let UID$4=0,Buffer$1=class Li{constructor(e,t=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=UID$4++,this.disposeRunner=new Runner("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?BUFFER_TYPE.ELEMENT_ARRAY_BUFFER:BUFFER_TYPE.ARRAY_BUFFER}get index(){return this.type===BUFFER_TYPE.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Li(e)}};class Attribute{constructor(e,t=0,r=!1,i=TYPES.FLOAT,o,s,a,c=1){this.buffer=e,this.size=t,this.normalized=r,this.type=i,this.stride=o,this.start=s,this.instance=a,this.divisor=c}destroy(){this.buffer=null}static from(e,t,r,i,o){return new Attribute(e,t,r,i,o)}}const map$1={Float32Array,Uint32Array,Int32Array,Uint8Array};function interleaveTypedArrays(n,e){let t=0,r=0;const i={};for(let c=0;c<n.length;c++)r+=e[c],t+=n[c].length;const o=new ArrayBuffer(t*4);let s=null,a=0;for(let c=0;c<n.length;c++){const l=e[c],u=n[c],h=getBufferType(u);i[h]||(i[h]=new map$1[h](o)),s=i[h];for(let d=0;d<u.length;d++){const p=(d/l|0)*r+a,f=d%l;s[p+f]=u[d]}a+=l}return new Float32Array(o)}const byteSizeMap$1={5126:4,5123:2,5121:1};let UID$3=0;const map={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Geometry{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=UID$3++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Runner("disposeGeometry"),this.refCount=0}addAttribute(e,t,r=0,i=!1,o,s,a,c=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof Buffer$1||(t instanceof Array&&(t=new Float32Array(t)),t=new Buffer$1(t));const l=e.split("|");if(l.length>1){for(let h=0;h<l.length;h++)this.addAttribute(l[h],t,r,i,o);return this}let u=this.buffers.indexOf(t);return u===-1&&(this.buffers.push(t),u=this.buffers.length-1),this.attributes[e]=new Attribute(u,r,i,o,s,a,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Buffer$1||(e instanceof Array&&(e=new Uint16Array(e)),e=new Buffer$1(e)),e.type=BUFFER_TYPE.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],t=[],r=new Buffer$1;let i;for(i in this.attributes){const o=this.attributes[i],s=this.buffers[o.buffer];e.push(s.data),t.push(o.size*byteSizeMap$1[o.type]/4),o.buffer=0}for(r.data=interleaveTypedArrays(e,t),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Geometry;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new Buffer$1(this.buffers[t].data.slice(0));for(const t in this.attributes){const r=this.attributes[t];e.attributes[t]=new Attribute(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=BUFFER_TYPE.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new Geometry,r=[],i=[],o=[];let s;for(let a=0;a<e.length;a++){s=e[a];for(let c=0;c<s.buffers.length;c++)i[c]=i[c]||0,i[c]+=s.buffers[c].data.length,o[c]=0}for(let a=0;a<s.buffers.length;a++)r[a]=new map[getBufferType(s.buffers[a].data)](i[a]),t.buffers[a]=new Buffer$1(r[a]);for(let a=0;a<e.length;a++){s=e[a];for(let c=0;c<s.buffers.length;c++)r[c].set(s.buffers[c].data,o[c]),o[c]+=s.buffers[c].data.length}if(t.attributes=s.attributes,s.indexBuffer){t.indexBuffer=t.buffers[s.buffers.indexOf(s.indexBuffer)],t.indexBuffer.type=BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;let a=0,c=0,l=0,u=0;for(let h=0;h<s.buffers.length;h++)if(s.buffers[h]!==s.indexBuffer){u=h;break}for(const h in s.attributes){const d=s.attributes[h];(d.buffer|0)===u&&(c+=d.size*byteSizeMap$1[d.type]/4)}for(let h=0;h<e.length;h++){const d=e[h].indexBuffer.data;for(let p=0;p<d.length;p++)t.indexBuffer.data[p+l]+=a;a+=e[h].buffers[u].data.length/c,l+=d.length}}return t}}class BatchGeometry extends Geometry{constructor(e=!1){super(),this._buffer=new Buffer$1(null,e,!1),this._indexBuffer=new Buffer$1(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,TYPES.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,TYPES.FLOAT).addAttribute("aColor",this._buffer,4,!0,TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,TYPES.FLOAT).addIndex(this._indexBuffer)}}const PI_2=Math.PI*2,RAD_TO_DEG=180/Math.PI,DEG_TO_RAD=Math.PI/180;var SHAPES=(n=>(n[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC",n))(SHAPES||{});class Point{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new Point(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const tempPoints$1=[new Point,new Point,new Point,new Point];class Rectangle{constructor(e=0,t=0,r=0,i=0){this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(i),this.type=SHAPES.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Rectangle(0,0,0,0)}clone(){return new Rectangle(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){const k=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=k)return!1;const L=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>L}const r=this.left,i=this.right,o=this.top,s=this.bottom;if(i<=r||s<=o)return!1;const a=tempPoints$1[0].set(e.left,e.top),c=tempPoints$1[1].set(e.left,e.bottom),l=tempPoints$1[2].set(e.right,e.top),u=tempPoints$1[3].set(e.right,e.bottom);if(l.x<=a.x||c.y<=a.y)return!1;const h=Math.sign(t.a*t.d-t.b*t.c);if(h===0||(t.apply(a,a),t.apply(c,c),t.apply(l,l),t.apply(u,u),Math.max(a.x,c.x,l.x,u.x)<=r||Math.min(a.x,c.x,l.x,u.x)>=i||Math.max(a.y,c.y,l.y,u.y)<=o||Math.min(a.y,c.y,l.y,u.y)>=s))return!1;const d=h*(c.y-a.y),p=h*(a.x-c.x),f=d*r+p*o,m=d*i+p*o,g=d*r+p*s,v=d*i+p*s;if(Math.max(f,m,g,v)<=d*a.x+p*a.y||Math.min(f,m,g,v)>=d*u.x+p*u.y)return!1;const y=h*(a.y-l.y),A=h*(l.x-a.x),x=y*r+A*o,S=y*i+A*o,E=y*r+A*s,w=y*i+A*s;return!(Math.max(x,S,E,w)<=y*a.x+A*a.y||Math.min(x,S,E,w)>=y*u.x+A*u.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=i,this.height=Math.max(o-i,0),this}ceil(e=1,t=.001){const r=Math.ceil((this.x+this.width-t)*e)/e,i=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=i,this.height=o-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Circle{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.radius=r,this.type=SHAPES.CIRC}clone(){return new Circle(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,o=this.y-t;return i*=i,o*=o,i+o<=r}getBounds(){return new Rectangle(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Ellipse{constructor(e=0,t=0,r=0,i=0){this.x=e,this.y=t,this.width=r,this.height=i,this.type=SHAPES.ELIP}clone(){return new Ellipse(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,i=(t-this.y)/this.height;return r*=r,i*=i,r+i<=1}getBounds(){return new Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Polygon{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const r=[];for(let i=0,o=t.length;i<o;i++)r.push(t[i].x,t[i].y);t=r}this.points=t,this.type=SHAPES.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new Polygon(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let r=!1;const i=this.points.length/2;for(let o=0,s=i-1;o<i;s=o++){const a=this.points[o*2],c=this.points[o*2+1],l=this.points[s*2],u=this.points[s*2+1];c>t!=u>t&&e<(l-a)*((t-c)/(u-c))+a&&(r=!r)}return r}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,t)=>`${e}, ${t}`,"")}]`}}class RoundedRectangle{constructor(e=0,t=0,r=0,i=0,o=20){this.x=e,this.y=t,this.width=r,this.height=i,this.radius=o,this.type=SHAPES.RREC}clone(){return new RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+r&&t<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),o=t-(this.y+r);const s=r*r;if(i*i+o*o<=s||(i=e-(this.x+this.width-r),i*i+o*o<=s)||(o=t-(this.y+this.height-r),i*i+o*o<=s)||(i=e-(this.x+r),i*i+o*o<=s))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class Matrix{constructor(e=1,t=0,r=0,i=1,o=0,s=0){this.array=null,this.a=e,this.b=t,this.c=r,this.d=i,this.tx=o,this.ty=s}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,r,i,o,s){return this.a=e,this.b=t,this.c=r,this.d=i,this.tx=o,this.ty=s,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,t){t=t||new Point;const r=e.x,i=e.y;return t.x=this.a*r+this.c*i+this.tx,t.y=this.b*r+this.d*i+this.ty,t}applyInverse(e,t){t=t||new Point;const r=1/(this.a*this.d+this.c*-this.b),i=e.x,o=e.y;return t.x=this.d*r*i+-this.c*r*o+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*o+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.a,o=this.c,s=this.tx;return this.a=i*t-this.b*r,this.b=i*r+this.b*t,this.c=o*t-this.d*r,this.d=o*r+this.d*t,this.tx=s*t-this.ty*r,this.ty=s*r+this.ty*t,this}append(e){const t=this.a,r=this.b,i=this.c,o=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*r+e.b*o,this.c=e.c*t+e.d*i,this.d=e.c*r+e.d*o,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*o+this.ty,this}setTransform(e,t,r,i,o,s,a,c,l){return this.a=Math.cos(a+l)*o,this.b=Math.sin(a+l)*o,this.c=-Math.sin(a-c)*s,this.d=Math.cos(a-c)*s,this.tx=e-(r*this.a+i*this.c),this.ty=t-(r*this.b+i*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,r=this.b,i=this.c,o=this.d,s=e.pivot,a=-Math.atan2(-i,o),c=Math.atan2(r,t),l=Math.abs(a+c);return l<1e-5||Math.abs(PI_2-l)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=c),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(i*i+o*o),e.position.x=this.tx+(s.x*t+s.y*i),e.position.y=this.ty+(s.x*r+s.y*o),e}invert(){const e=this.a,t=this.b,r=this.c,i=this.d,o=this.tx,s=e*i-t*r;return this.a=i/s,this.b=-t/s,this.c=-r/s,this.d=e/s,this.tx=(r*this.ty-i*o)/s,this.ty=-(e*this.ty-t*o)/s,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Matrix;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new Matrix}static get TEMP_MATRIX(){return new Matrix}}const ux=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uy=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vx=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vy=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rotationCayley=[],rotationMatrices=[],signum=Math.sign;function init(){for(let n=0;n<16;n++){const e=[];rotationCayley.push(e);for(let t=0;t<16;t++){const r=signum(ux[n]*ux[t]+vx[n]*uy[t]),i=signum(uy[n]*ux[t]+vy[n]*uy[t]),o=signum(ux[n]*vx[t]+vx[n]*vy[t]),s=signum(uy[n]*vx[t]+vy[n]*vy[t]);for(let a=0;a<16;a++)if(ux[a]===r&&uy[a]===i&&vx[a]===o&&vy[a]===s){e.push(a);break}}}for(let n=0;n<16;n++){const e=new Matrix;e.set(ux[n],uy[n],vx[n],vy[n],0,0),rotationMatrices.push(e)}}init();const groupD8={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:n=>ux[n],uY:n=>uy[n],vX:n=>vx[n],vY:n=>vy[n],inv:n=>n&8?n&15:-n&7,add:(n,e)=>rotationCayley[n][e],sub:(n,e)=>rotationCayley[n][groupD8.inv(e)],rotate180:n=>n^4,isVertical:n=>(n&3)===2,byDirection:(n,e)=>Math.abs(n)*2<=Math.abs(e)?e>=0?groupD8.S:groupD8.N:Math.abs(e)*2<=Math.abs(n)?n>0?groupD8.E:groupD8.W:e>0?n>0?groupD8.SE:groupD8.SW:n>0?groupD8.NE:groupD8.NW,matrixAppendRotationInv:(n,e,t=0,r=0)=>{const i=rotationMatrices[groupD8.inv(e)];i.tx=t,i.ty=r,n.append(i)}};class ObservablePoint{constructor(e,t,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new ObservablePoint(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const _Transform=class{constructor(){this.worldTransform=new Matrix,this.localTransform=new Matrix,this.position=new ObservablePoint(this.onChange,this,0,0),this.scale=new ObservablePoint(this.onChange,this,1,1),this.pivot=new ObservablePoint(this.onChange,this,0,0),this.skew=new ObservablePoint(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const n=this.localTransform;this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale.x,n.b=this._sx*this.scale.x,n.c=this._cy*this.scale.y,n.d=this._sy*this.scale.y,n.tx=this.position.x-(this.pivot.x*n.a+this.pivot.y*n.c),n.ty=this.position.y-(this.pivot.x*n.b+this.pivot.y*n.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(n){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==n._worldID){const t=n.worldTransform,r=this.worldTransform;r.a=e.a*t.a+e.b*t.c,r.b=e.a*t.b+e.b*t.d,r.c=e.c*t.a+e.d*t.c,r.d=e.c*t.b+e.d*t.d,r.tx=e.tx*t.a+e.ty*t.c+t.tx,r.ty=e.tx*t.b+e.ty*t.d+t.ty,this._parentID=n._worldID,this._worldID++}}setFromMatrix(n){n.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(n){this._rotation!==n&&(this._rotation=n,this.updateSkew())}};let Transform=_Transform;Transform.IDENTITY=new _Transform;var defaultFragment$2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,defaultVertex$3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function compileShader(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}function booleanArray(n){const e=new Array(n);for(let t=0;t<e.length;t++)e[t]=!1;return e}function defaultValue(n,e){switch(n){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return booleanArray(2*e);case"bvec3":return booleanArray(3*e);case"bvec4":return booleanArray(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const uniformParsers=[{test:n=>n.type==="float"&&n.size===1&&!n.isArray,code:n=>`
            if(uv["${n}"] !== ud["${n}"].value)
            {
                ud["${n}"].value = uv["${n}"]
                gl.uniform1f(ud["${n}"].location, uv["${n}"])
            }
            `},{test:(n,e)=>(n.type==="sampler2D"||n.type==="samplerCube"||n.type==="sampler2DArray")&&n.size===1&&!n.isArray&&(e==null||e.castToBaseTexture!==void 0),code:n=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${n}"], t);

            if(ud["${n}"].value !== t)
            {
                ud["${n}"].value = t;
                gl.uniform1i(ud["${n}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(n,e)=>n.type==="mat3"&&n.size===1&&!n.isArray&&e.a!==void 0,code:n=>`
            gl.uniformMatrix3fv(ud["${n}"].location, false, uv["${n}"].toArray(true));
            `,codeUbo:n=>`
                var ${n}_matrix = uv.${n}.toArray(true);

                data[offset] = ${n}_matrix[0];
                data[offset+1] = ${n}_matrix[1];
                data[offset+2] = ${n}_matrix[2];
        
                data[offset + 4] = ${n}_matrix[3];
                data[offset + 5] = ${n}_matrix[4];
                data[offset + 6] = ${n}_matrix[5];
        
                data[offset + 8] = ${n}_matrix[6];
                data[offset + 9] = ${n}_matrix[7];
                data[offset + 10] = ${n}_matrix[8];
            `},{test:(n,e)=>n.type==="vec2"&&n.size===1&&!n.isArray&&e.x!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${n}"].location, v.x, v.y);
                }`,codeUbo:n=>`
                v = uv.${n};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:n=>n.type==="vec2"&&n.size===1&&!n.isArray,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${n}"].location, v[0], v[1]);
                }
            `},{test:(n,e)=>n.type==="vec4"&&n.size===1&&!n.isArray&&e.width!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${n}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:n=>`
                    v = uv.${n};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:n=>n.type==="vec4"&&n.size===1&&!n.isArray,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${n}"].location, v[0], v[1], v[2], v[3])
                }`}],GLSL_TO_SINGLE_SETTERS_CACHED={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},GLSL_TO_ARRAY_SETTERS={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function generateUniformsSync(n,e){var r;const t=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in n.uniforms){const o=e[i];if(!o){(r=n.uniforms[i])!=null&&r.group&&(n.uniforms[i].ubo?t.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):t.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const s=n.uniforms[i];let a=!1;for(let c=0;c<uniformParsers.length;c++)if(uniformParsers[c].test(o,s)){t.push(uniformParsers[c].code(i,s)),a=!0;break}if(!a){const l=(o.size===1&&!o.isArray?GLSL_TO_SINGLE_SETTERS_CACHED:GLSL_TO_ARRAY_SETTERS)[o.type].replace("location",`ud["${i}"].location`);t.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${l};`)}}return new Function("ud","uv","renderer","syncData",t.join(`
`))}const unknownContext={};let context=unknownContext;function getTestContext(){if(context===unknownContext||context!=null&&context.isContextLost()){const n=settings.ADAPTER.createCanvas();let e;settings.PREFER_ENV>=ENV.WEBGL2&&(e=n.getContext("webgl2",{})),e||(e=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),context=e}return context}let maxFragmentPrecision;function getMaxFragmentPrecision(){if(!maxFragmentPrecision){maxFragmentPrecision=PRECISION.MEDIUM;const n=getTestContext();n&&n.getShaderPrecisionFormat&&(maxFragmentPrecision=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision?PRECISION.HIGH:PRECISION.MEDIUM)}return maxFragmentPrecision}function logPrettyShaderError(n,e){const t=n.getShaderSource(e).split(`
`).map((l,u)=>`${u}: ${l}`),r=n.getShaderInfoLog(e),i=r.split(`
`),o={},s=i.map(l=>parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(l=>l&&!o[l]?(o[l]=!0,!0):!1),a=[""];s.forEach(l=>{t[l-1]=`%c${t[l-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=t.join(`
`);a[0]=c,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function logProgramError(n,e,t,r){n.getProgramParameter(e,n.LINK_STATUS)||(n.getShaderParameter(t,n.COMPILE_STATUS)||logPrettyShaderError(n,t),n.getShaderParameter(r,n.COMPILE_STATUS)||logPrettyShaderError(n,r),console.error("PixiJS Error: Could not initialize shader."),n.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(e)))}const GLSL_TO_SIZE={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function mapSize(n){return GLSL_TO_SIZE[n]}let GL_TABLE=null;const GL_TO_GLSL_TYPES={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function mapType(n,e){if(!GL_TABLE){const t=Object.keys(GL_TO_GLSL_TYPES);GL_TABLE={};for(let r=0;r<t.length;++r){const i=t[r];GL_TABLE[n[i]]=GL_TO_GLSL_TYPES[i]}}return GL_TABLE[e]}function setPrecision(n,e,t){if(n.substring(0,9)!=="precision"){let r=e;return e===PRECISION.HIGH&&t!==PRECISION.HIGH&&(r=PRECISION.MEDIUM),`precision ${r} float;
${n}`}else if(t!==PRECISION.HIGH&&n.substring(0,15)==="precision highp")return n.replace("precision highp","precision mediump");return n}let unsafeEval;function unsafeEvalSupported(){if(typeof unsafeEval=="boolean")return unsafeEval;try{unsafeEval=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{unsafeEval=!1}return unsafeEval}let UID$2=0;const nameCache={},_Program=class{constructor(n,e,t="pixi-shader",r={}){this.extra={},this.id=UID$2++,this.vertexSrc=n||_Program.defaultVertexSrc,this.fragmentSrc=e||_Program.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=r,this.vertexSrc.substring(0,8)!=="#version"&&(t=t.replace(/\s+/g,"-"),nameCache[t]?(nameCache[t]++,t+=`-${nameCache[t]}`):nameCache[t]=1,this.vertexSrc=`#define SHADER_NAME ${t}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${t}
${this.fragmentSrc}`,this.vertexSrc=setPrecision(this.vertexSrc,_Program.defaultVertexPrecision,PRECISION.HIGH),this.fragmentSrc=setPrecision(this.fragmentSrc,_Program.defaultFragmentPrecision,getMaxFragmentPrecision())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return defaultVertex$3}static get defaultFragmentSrc(){return defaultFragment$2}static from(n,e,t){const r=n+e;let i=ProgramCache[r];return i||(ProgramCache[r]=i=new _Program(n,e,t)),i}};let Program=_Program;Program.defaultVertexPrecision=PRECISION.HIGH;Program.defaultFragmentPrecision=isMobile.apple.device?PRECISION.HIGH:PRECISION.MEDIUM;let UID$1=0;class UniformGroup{constructor(e,t,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=UID$1++,this.static=!!t,this.ubo=!!r,e instanceof Buffer$1?(this.buffer=e,this.buffer.type=BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Buffer$1(new Float32Array(1)),this.buffer.type=BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,r){if(!this.ubo)this.uniforms[e]=new UniformGroup(t,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,t,r){return new UniformGroup(e,t,r)}static uboFrom(e,t){return new UniformGroup(e,t??!0,!0)}}class Shader{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof UniformGroup?this.uniformGroup=t:this.uniformGroup=new UniformGroup(t):this.uniformGroup=new UniformGroup({}),this.disposeRunner=new Runner("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const r in t.uniforms){const i=t.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,r){const i=Program.from(e,t);return new Shader(i,r)}}class BatchShaderGenerator{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let o=0;o<e;o++)r[o]=o;this.defaultGroupCache[e]=UniformGroup.from({uSamplers:r},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Program(this.vertexSrc,i)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix,default:this.defaultGroupCache[e]};return new Shader(this.programCache[e],t)}generateSampleSrc(e){let t="";t+=`
`,t+=`
`;for(let r=0;r<e;r++)r>0&&(t+=`
else `),r<e-1&&(t+=`if(vTextureId < ${r}.5)`),t+=`
{`,t+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,t+=`
}`;return t+=`
`,t+=`
`,t}}class BatchTextureArray{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function canUploadSameBuffer(){return!isMobile.apple.device}function maxRecommendedTextures(n){let e=!0;const t=settings.ADAPTER.getNavigator();if(isMobile.tablet||isMobile.phone){if(isMobile.apple.device){const r=t.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(isMobile.android.device){const r=t.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?n:4}class ObjectRenderer{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var defaultFragment$1=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,defaultVertex$2=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const _BatchRenderer=class extends ObjectRenderer{constructor(n){super(n),this.setShaderGenerator(),this.geometryClass=BatchGeometry,this.vertexSize=6,this.state=State.for2d(),this.size=_BatchRenderer.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),n.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??maxRecommendedTextures(32),this._defaultMaxTextures}static set defaultMaxTextures(n){this._defaultMaxTextures=n}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??canUploadSameBuffer(),this._canUploadSameBuffer}static set canUploadSameBuffer(n){this._canUploadSameBuffer=n}get MAX_TEXTURES(){return deprecation("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return defaultVertex$2}static get defaultFragmentTemplate(){return defaultFragment$1}setShaderGenerator({vertex:n=_BatchRenderer.defaultVertexSrc,fragment:e=_BatchRenderer.defaultFragmentTemplate}={}){this.shaderGenerator=new BatchShaderGenerator(n,e)}contextChange(){const n=this.renderer.gl;settings.PREFER_ENV===ENV.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),_BatchRenderer.defaultMaxTextures),this.maxTextures=checkMaxIfStatementsInShader(this.maxTextures,n)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:n,_textureArrayPool:e}=_BatchRenderer,t=this.size/4,r=Math.floor(t/this.maxTextures)+1;for(;n.length<t;)n.push(new BatchDrawCall);for(;e.length<r;)e.push(new BatchTextureArray);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(n){n._texture.valid&&(this._vertexCount+n.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=n.vertexData.length/2,this._indexCount+=n.indices.length,this._bufferedTextures[this._bufferSize]=n._texture.baseTexture,this._bufferedElements[this._bufferSize++]=n)}buildTexturesAndDrawCalls(){const{_bufferedTextures:n,maxTextures:e}=this,t=_BatchRenderer._textureArrayPool,r=this.renderer.batch,i=this._tempBoundTextures,o=this.renderer.textureGC.count;let s=++BaseTexture._globalBatch,a=0,c=t[0],l=0;r.copyBoundTextures(i,e);for(let u=0;u<this._bufferSize;++u){const h=n[u];n[u]=null,h._batchEnabled!==s&&(c.count>=e&&(r.boundArray(c,i,s,e),this.buildDrawCalls(c,l,u),l=u,c=t[++a],++s),h._batchEnabled=s,h.touched=o,c.elements[c.count++]=h)}c.count>0&&(r.boundArray(c,i,s,e),this.buildDrawCalls(c,l,this._bufferSize),++a,++s);for(let u=0;u<i.length;u++)i[u]=null;BaseTexture._globalBatch=s}buildDrawCalls(n,e,t){const{_bufferedElements:r,_attributeBuffer:i,_indexBuffer:o,vertexSize:s}=this,a=_BatchRenderer._drawCallPool;let c=this._dcIndex,l=this._aIndex,u=this._iIndex,h=a[c];h.start=this._iIndex,h.texArray=n;for(let d=e;d<t;++d){const p=r[d],f=p._texture.baseTexture,m=premultiplyBlendMode[f.alphaMode?1:0][p.blendMode];r[d]=null,e<d&&h.blend!==m&&(h.size=u-h.start,e=d,h=a[++c],h.texArray=n,h.start=u),this.packInterleavedGeometry(p,i,o,l,u),l+=p.vertexData.length/2*s,u+=p.indices.length,h.blend=m}e<t&&(h.size=u-h.start,++c),this._dcIndex=c,this._aIndex=l,this._iIndex=u}bindAndClearTexArray(n){const e=this.renderer.texture;for(let t=0;t<n.count;t++)e.bind(n.elements[t],n.ids[t]),n.elements[t]=null;n.count=0}updateGeometry(){const{_packedGeometries:n,_attributeBuffer:e,_indexBuffer:t}=this;_BatchRenderer.canUploadSameBuffer?(n[this._flushId]._buffer.update(e.rawBinaryData),n[this._flushId]._indexBuffer.update(t),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(e.rawBinaryData),n[this._flushId]._indexBuffer.update(t),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const n=this._dcIndex,{gl:e,state:t}=this.renderer,r=_BatchRenderer._drawCallPool;let i=null;for(let o=0;o<n;o++){const{texArray:s,type:a,size:c,start:l,blend:u}=r[o];i!==s&&(i=s,this.bindAndClearTexArray(s)),this.state.blendMode=u,t.set(this.state),e.drawElements(a,c,e.UNSIGNED_SHORT,l*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),_BatchRenderer.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]&&this._packedGeometries[n].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(n){const e=nextPow2(Math.ceil(n/8)),t=log2(e),r=e*8;this._aBuffers.length<=t&&(this._iBuffers.length=t+1);let i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new ViewableBuffer(r*this.vertexSize*4)),i}getIndexBuffer(n){const e=nextPow2(Math.ceil(n/12)),t=log2(e),r=e*12;this._iBuffers.length<=t&&(this._iBuffers.length=t+1);let i=this._iBuffers[t];return i||(this._iBuffers[t]=i=new Uint16Array(r)),i}packInterleavedGeometry(n,e,t,r,i){const{uint32View:o,float32View:s}=e,a=r/this.vertexSize,c=n.uvs,l=n.indices,u=n.vertexData,h=n._texture.baseTexture._batchLocation,d=Math.min(n.worldAlpha,1),p=d<1&&n._texture.baseTexture.alphaMode?premultiplyTint(n._tintRGB,d):n._tintRGB+(d*255<<24);for(let f=0;f<u.length;f+=2)s[r++]=u[f],s[r++]=u[f+1],s[r++]=c[f],s[r++]=c[f+1],o[r++]=p,s[r++]=h;for(let f=0;f<l.length;f++)t[i++]=a+l[f]}};let BatchRenderer=_BatchRenderer;BatchRenderer.defaultBatchSize=4096;BatchRenderer.extension={name:"batch",type:ExtensionType.RendererPlugin};BatchRenderer._drawCallPool=[];BatchRenderer._textureArrayPool=[];extensions$1.add(BatchRenderer);var defaultFragment=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,defaultVertex$1=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const _Filter=class extends Shader{constructor(n,e,t){const r=Program.from(n||_Filter.defaultVertexSrc,e||_Filter.defaultFragmentSrc);super(r,t),this.padding=0,this.resolution=_Filter.defaultResolution,this.multisample=_Filter.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new State}apply(n,e,t,r,i){n.applyFilter(this,e,t,r)}get blendMode(){return this.state.blendMode}set blendMode(n){this.state.blendMode=n}get resolution(){return this._resolution}set resolution(n){this._resolution=n}static get defaultVertexSrc(){return defaultVertex$1}static get defaultFragmentSrc(){return defaultFragment}};let Filter=_Filter;Filter.defaultResolution=1;Filter.defaultMultisample=MSAA_QUALITY.NONE;class BackgroundSystem{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?string2hex(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=hex2string(e),hex2rgb(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}BackgroundSystem.extension={type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem],name:"background"};extensions$1.add(BackgroundSystem);class BatchSystem{constructor(e){this.renderer=e,this.emptyRenderer=new ObjectRenderer(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:r}=this.renderer.texture;for(let i=t-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,t,r,i){const{elements:o,ids:s,count:a}=e;let c=0;for(let l=0;l<a;l++){const u=o[l],h=u._batchLocation;if(h>=0&&h<i&&t[h]===u){s[l]=h;continue}for(;c<i;){const d=t[c];if(d&&d._batchEnabled===r&&d._batchLocation===c){c++;continue}s[l]=c,u._batchLocation=c,t[c]=u;break}}}destroy(){this.renderer=null}}BatchSystem.extension={type:ExtensionType.RendererSystem,name:"batch"};extensions$1.add(BatchSystem);let CONTEXT_UID_COUNTER=0;class ContextSystem{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;t.addEventListener!==void 0&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let r;if(settings.PREFER_ENV>=ENV.WEBGL2&&(r=e.getContext("webgl2",t)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}ContextSystem.extension={type:ExtensionType.RendererSystem,name:"context"};extensions$1.add(ContextSystem);class DepthResource extends BufferResource{upload(e,t,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ALPHA_MODES.UNPACK);const o=t.realWidth,s=t.realHeight;return r.width===o&&r.height===s?i.texSubImage2D(t.target,0,0,0,o,s,t.format,r.type,this.data):(r.width=o,r.height=s,i.texImage2D(t.target,0,r.internalFormat,o,s,0,t.format,r.type,this.data)),!0}}class Framebuffer{constructor(e,t){this.width=Math.round(e||100),this.height=Math.round(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Runner("disposeFramebuffer"),this.multisample=MSAA_QUALITY.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new BaseTexture(null,{scaleMode:SCALE_MODES.NEAREST,resolution:1,mipmap:MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new BaseTexture(new DepthResource(null,{width:this.width,height:this.height}),{scaleMode:SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:MIPMAP_MODES.OFF,format:FORMATS.DEPTH_COMPONENT,type:TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const i=this.colorTextures[r],o=i.resolution;i.setSize(e/o,t/o)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,t/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class BaseRenderTexture extends BaseTexture{constructor(e={}){if(typeof e=="number"){const t=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];e={width:t,height:r,scaleMode:i,resolution:o}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=MSAA_QUALITY.NONE),super(null,e),this.mipmap=MIPMAP_MODES.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new Framebuffer(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class BaseImageResource extends Resource{constructor(e){const t=e,r=t.naturalWidth||t.videoWidth||t.width,i=t.naturalHeight||t.videoHeight||t.height;super(r,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,r){r===void 0&&!t.startsWith("data:")?e.crossOrigin=determineCrossOrigin(t):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,t,r,i){const o=e.gl,s=t.realWidth,a=t.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ALPHA_MODES.UNPACK),!this.noSubImage&&t.target===o.TEXTURE_2D&&r.width===s&&r.height===a?o.texSubImage2D(o.TEXTURE_2D,0,0,0,t.format,r.type,i):(r.width=s,r.height=a,o.texImage2D(t.target,0,r.internalFormat,t.format,r.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(t,r),super.update()}dispose(){this.source=null}}class ImageResource extends BaseImageResource{constructor(e,t){if(t=t||{},typeof e=="string"){const r=new Image;BaseImageResource.crossOrigin(r,e,t.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??settings.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.bitmap=null,this._load=null,t.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((t,r)=>{const i=this.source;this.url=i.src;const o=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?t(this.process()):t(this))};i.complete&&i.src?o():(i.onload=o,i.onerror=s=>{r(s),this.onError.emit(s)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(i=>i.blob()).then(i=>t(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ALPHA_MODES.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,r){if(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,r,this.bitmap),!this.preserveBitmap){let i=!0;const o=t._glTextures;for(const s in o){const a=o[s];if(a!==r&&a.dirtyId!==t.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class TextureUvs{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,r){const i=t.width,o=t.height;if(r){const s=e.width/2/i,a=e.height/2/o,c=e.x/i+s,l=e.y/o+a;r=groupD8.add(r,groupD8.NW),this.x0=c+s*groupD8.uX(r),this.y0=l+a*groupD8.uY(r),r=groupD8.add(r,2),this.x1=c+s*groupD8.uX(r),this.y1=l+a*groupD8.uY(r),r=groupD8.add(r,2),this.x2=c+s*groupD8.uX(r),this.y2=l+a*groupD8.uY(r),r=groupD8.add(r,2),this.x3=c+s*groupD8.uX(r),this.y3=l+a*groupD8.uY(r)}else this.x0=e.x/i,this.y0=e.y/o,this.x1=(e.x+e.width)/i,this.y1=e.y/o,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/o,this.x3=e.x/i,this.y3=(e.y+e.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const DEFAULT_UVS=new TextureUvs;function removeAllHandlers(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}class Texture extends eventemitter3Exports{constructor(e,t,r,i,o,s){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new Rectangle(0,0,1,1)),e instanceof Texture&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=i,this.valid=!1,this._uvs=DEFAULT_UVS,this.uvMatrix=null,this.orig=r||t,this._rotate=Number(o||0),o===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=s?new Point(s.x,s.y):new Point(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:t}=this.baseTexture;t!=null&&t.url&&TextureCache[t.url]&&Texture.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Texture.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),r=new Texture(this.baseTexture,!this.noFrame&&e,t,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===DEFAULT_UVS&&(this._uvs=new TextureUvs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},r=settings.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let o=null;if(i)o=e;else if(e instanceof BaseTexture){if(!e.cacheId){const a=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${uid()}`,BaseTexture.addToCache(e,e.cacheId)}o=e.cacheId}else{if(!e._pixiId){const a=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${uid()}`}o=e._pixiId}let s=TextureCache[o];if(i&&r&&!s)throw new Error(`The cacheId "${o}" does not exist in TextureCache.`);return!s&&!(e instanceof BaseTexture)?(t.resolution||(t.resolution=getResolutionOfUrl(e)),s=new Texture(new BaseTexture(e,t)),s.baseTexture.cacheId=o,BaseTexture.addToCache(s.baseTexture,o),Texture.addToCache(s,o)):!s&&e instanceof BaseTexture&&(s=new Texture(e),Texture.addToCache(s,o)),s}static fromURL(e,t){const r=Object.assign({autoLoad:!1},t==null?void 0:t.resourceOptions),i=Texture.from(e,Object.assign({resourceOptions:r},t),!1),o=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):o.load().then(()=>Promise.resolve(i))}static fromBuffer(e,t,r,i){return new Texture(BaseTexture.fromBuffer(e,t,r,i))}static fromLoader(e,t,r,i){const o=new BaseTexture(e,Object.assign({scaleMode:BaseTexture.defaultOptions.scaleMode,resolution:getResolutionOfUrl(t)},i)),{resource:s}=o;s instanceof ImageResource&&(s.url=t);const a=new Texture(o);return r||(r=t),BaseTexture.addToCache(a.baseTexture,r),Texture.addToCache(a,r),r!==t&&(BaseTexture.addToCache(a.baseTexture,t),Texture.addToCache(a,t)),a.baseTexture.valid?Promise.resolve(a):new Promise(c=>{a.baseTexture.once("loaded",()=>c(a))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),TextureCache[t]&&TextureCache[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),TextureCache[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=TextureCache[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete TextureCache[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)TextureCache[e.textureCacheIds[t]]===e&&delete TextureCache[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:r,width:i,height:o}=e,s=t+i>this.baseTexture.width,a=r+o>this.baseTexture.height;if(s||a){const c=s&&a?"and":"or",l=`X: ${t} + ${i} = ${t+i} > ${this.baseTexture.width}`,u=`Y: ${r} + ${o} = ${r+o} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${l} ${c} ${u}`)}this.valid=i&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Texture._EMPTY||(Texture._EMPTY=new Texture(new BaseTexture),removeAllHandlers(Texture._EMPTY),removeAllHandlers(Texture._EMPTY.baseTexture)),Texture._EMPTY}static get WHITE(){if(!Texture._WHITE){const e=settings.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),Texture._WHITE=new Texture(BaseTexture.from(e)),removeAllHandlers(Texture._WHITE),removeAllHandlers(Texture._WHITE.baseTexture)}return Texture._WHITE}}class RenderTexture extends Texture{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,r=!0){const i=this.baseTexture.resolution,o=Math.round(e*i)/i,s=Math.round(t*i)/i;this.valid=o>0&&s>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=s,r&&this.baseTexture.resize(o,s),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new RenderTexture(new BaseRenderTexture(e))}}class RenderTexturePool{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,r=MSAA_QUALITY.NONE){const i=new BaseRenderTexture(Object.assign({width:e,height:t,resolution:1,multisample:r},this.textureOptions));return new RenderTexture(i)}getOptimalTexture(e,t,r=1,i=MSAA_QUALITY.NONE){let o;e=Math.ceil(e*r-1e-6),t=Math.ceil(t*r-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||t!==this._pixelsHeight?(e=nextPow2(e),t=nextPow2(t),o=((e&65535)<<16|t&65535)>>>0,i>1&&(o+=i*4294967296)):o=i>1?-i:-1,this.texturePool[o]||(this.texturePool[o]=[]);let s=this.texturePool[o].pop();return s||(s=this.createTexture(e,t,i)),s.filterPoolKey=o,s.setResolution(r),s}getFilterTexture(e,t,r){const i=this.getOptimalTexture(e.width,e.height,t||e.resolution,r||MSAA_QUALITY.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const t in this.texturePool){const r=this.texturePool[t];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const t in this.texturePool){if(!(Number(t)<0))continue;const r=this.texturePool[t];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}RenderTexturePool.SCREEN_KEY=-1;class Quad extends Geometry{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class QuadUv extends Geometry{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Buffer$1(this.vertices),this.uvBuffer=new Buffer$1(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+t.width/e.width,this.uvs[3]=i,this.uvs[4]=r+t.width/e.width,this.uvs[5]=i+t.height/e.height,this.uvs[6]=r,this.uvs[7]=i+t.height/e.height,r=t.x,i=t.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+t.width,this.vertices[3]=i,this.vertices[4]=r+t.width,this.vertices[5]=i+t.height,this.vertices[6]=r,this.vertices[7]=i+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class FilterState{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=MSAA_QUALITY.NONE,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.bindingSourceFrame=new Rectangle,this.bindingDestinationFrame=new Rectangle,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const tempPoints=[new Point,new Point,new Point,new Point],tempMatrix$2=new Matrix;class FilterSystem{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new RenderTexturePool,this.statePool=[],this.quad=new Quad,this.quadUv=new QuadUv,this.tempRect=new Rectangle,this.activeState={},this.globalUniforms=new UniformGroup({outputFrame:new Rectangle,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){const r=this.renderer,i=this.defaultFilterStack,o=this.statePool.pop()||new FilterState,s=this.renderer.renderTexture;let a=t[0].resolution,c=t[0].multisample,l=t[0].padding,u=t[0].autoFit,h=t[0].legacy??!0;for(let f=1;f<t.length;f++){const m=t[f];a=Math.min(a,m.resolution),c=Math.min(c,m.multisample),l=this.useMaxPadding?Math.max(l,m.padding):l+m.padding,u=u&&m.autoFit,h=h||(m.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=s.current),i.push(o),o.resolution=a,o.multisample=c,o.legacy=h,o.target=e,o.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),o.sourceFrame.pad(l);const d=this.tempRect.copyFrom(s.sourceFrame);r.projection.transform&&this.transformAABB(tempMatrix$2.copyFrom(r.projection.transform).invert(),d),u?(o.sourceFrame.fit(d),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(d)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,s.current?s.current.resolution:r.resolution,s.sourceFrame,s.destinationFrame,r.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,a,c),o.filters=t,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;const p=this.tempRect;p.x=0,p.y=0,p.width=o.sourceFrame.width,p.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(s.sourceFrame),o.bindingDestinationFrame.copyFrom(s.destinationFrame),o.transform=r.projection.transform,r.projection.transform=null,s.bind(o.renderTexture,o.sourceFrame,p),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),r=t.filters;this.activeState=t;const i=this.globalUniforms.uniforms;i.outputFrame=t.sourceFrame,i.resolution=t.resolution;const o=i.inputSize,s=i.inputPixel,a=i.inputClamp;if(o[0]=t.destinationFrame.width,o[1]=t.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=Math.round(o[0]*t.resolution),s[1]=Math.round(o[1]*t.resolution),s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=t.sourceFrame.width*o[2]-.5*s[2],a[3]=t.sourceFrame.height*o[3]-.5*s[3],t.legacy){const l=i.filterArea;l[0]=t.destinationFrame.width,l[1]=t.destinationFrame.height,l[2]=t.sourceFrame.x,l[3]=t.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,t.renderTexture,c.renderTexture,CLEAR_MODES.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let l=t.renderTexture,u=this.getOptimalFilterTexture(l.width,l.height,t.resolution);u.filterFrame=l.filterFrame;let h=0;for(h=0;h<r.length-1;++h){h===1&&t.multisample>1&&(u=this.getOptimalFilterTexture(l.width,l.height,t.resolution),u.filterFrame=l.filterFrame),r[h].apply(this,l,u,CLEAR_MODES.CLEAR,t);const d=l;l=u,u=d}r[h].apply(this,l,c.renderTexture,CLEAR_MODES.BLEND,t),h>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(l),this.returnFilterTexture(u)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=CLEAR_MODES.CLEAR){const{renderTexture:r,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const s=this.tempRect;s.x=0,s.y=0,s.width=e.filterFrame.width,s.height=e.filterFrame.height,r.bind(e,e.filterFrame,s)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const o=i.stateId&1||this.forceClear;(t===CLEAR_MODES.CLEAR||t===CLEAR_MODES.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,r,i){const o=this.renderer;o.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(DRAW_MODES.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(DRAW_MODES.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:o}=t._texture,s=e.set(i.width,0,0,i.height,r.x,r.y),a=t.worldTransform.copyTo(Matrix.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(t.anchor.x,t.anchor.y),s}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,r=1,i=MSAA_QUALITY.NONE){return this.texturePool.getOptimalTexture(e,t,r,i)}getFilterTexture(e,t,r){if(typeof e=="number"){const o=e;e=t,t=o}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,r||MSAA_QUALITY.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const r=tempPoints[0],i=tempPoints[1],o=tempPoints[2],s=tempPoints[3];r.set(t.left,t.top),i.set(t.left,t.bottom),o.set(t.right,t.top),s.set(t.right,t.bottom),e.apply(r,r),e.apply(i,i),e.apply(o,o),e.apply(s,s);const a=Math.min(r.x,i.x,o.x,s.x),c=Math.min(r.y,i.y,o.y,s.y),l=Math.max(r.x,i.x,o.x,s.x),u=Math.max(r.y,i.y,o.y,s.y);t.x=a,t.y=c,t.width=l-a,t.height=u-c}roundFrame(e,t,r,i,o){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(o){const{a:s,b:a,c,d:l}=o;if((Math.abs(a)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(l)>1e-4))return}o=o?tempMatrix$2.copyFrom(o):tempMatrix$2.identity(),o.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(o,e),e.ceil(t),this.transformAABB(o.invert(),e)}}}FilterSystem.extension={type:ExtensionType.RendererSystem,name:"filter"};extensions$1.add(FilterSystem);class GLFramebuffer{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const tempRectangle=new Rectangle;class FramebufferSystem{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Framebuffer(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let t=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;settings.PREFER_ENV===ENV.WEBGL_LEGACY&&(t=null,r=null),t?e.drawBuffers=i=>t.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,r=0){const{gl:i}=this;if(e){const o=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,o.mipLevel=r),o.dirtyId!==e.dirtyId&&(o.dirtyId=e.dirtyId,o.dirtyFormat!==e.dirtyFormat?(o.dirtyFormat=e.dirtyFormat,o.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):o.dirtySize!==e.dirtySize&&(o.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let s=0;s<e.colorTextures.length;s++){const a=e.colorTextures[s];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const s=t.width>>r,a=t.height>>r,c=s/t.width;this.setViewport(t.x*c,t.y*c,s,a)}else{const s=e.width>>r,a=e.height>>r;this.setViewport(0,0,s,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,r,i){const o=this.viewport;e=Math.round(e),t=Math.round(t),r=Math.round(r),i=Math.round(i),(o.width!==r||o.height!==i||o.x!==e||o.y!==t)&&(o.x=e,o.y=t,o.width=r,o.height=i,this.gl.viewport(e,t,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,r,i,o=BUFFER_BITS.COLOR|BUFFER_BITS.DEPTH){const{gl:s}=this;s.clearColor(e,t,r,i),s.clear(o)}initFramebuffer(e){const{gl:t}=this,r=new GLFramebuffer(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:t}=this,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,r.stencil),r.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,t.DEPTH24_STENCIL8,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let o=i.length;t.drawBuffers||(o=Math.min(o,1));for(let s=0;s<o;s++){const a=i[s],c=a.parentTextureArray||a;this.renderer.texture.bind(c,0),s===0&&r.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID],o=e.colorTextures;let s=o.length;r.drawBuffers||(s=Math.min(s,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let c=0;c<s;c++){const l=o[c],u=l.parentTextureArray||l;this.renderer.texture.bind(u,0),c===0&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+c,l.target,u._glTextures[this.CONTEXT_UID].texture,t),a.push(r.COLOR_ATTACHMENT0+c))}if(a.length>1&&r.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const l=e.depthTexture;this.renderer.texture.bind(l,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,l._glTextures[this.CONTEXT_UID].texture,t)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil)):i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let r=MSAA_QUALITY.NONE;if(e<=1||t===null)return r;for(let i=0;i<t.length;i++)if(t[i]<=e){r=t[i];break}return r===1&&(r=MSAA_QUALITY.NONE),r}blit(e,t,r){const{current:i,renderer:o,gl:s,CONTEXT_UID:a}=this;if(o.context.webGLVersion!==2||!i)return;const c=i.glFramebuffers[a];if(!c)return;if(!e){if(!c.msaaBuffer)return;const u=i.colorTextures[0];if(!u)return;c.blitFramebuffer||(c.blitFramebuffer=new Framebuffer(i.width,i.height),c.blitFramebuffer.addColorTexture(0,u)),e=c.blitFramebuffer,e.colorTextures[0]!==u&&(e.colorTextures[0]=u,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}t||(t=tempRectangle,t.width=i.width,t.height=i.height),r||(r=t);const l=t.width===r.width&&t.height===r.height;this.bind(e),s.bindFramebuffer(s.READ_FRAMEBUFFER,c.framebuffer),s.blitFramebuffer(t.left,t.top,t.right,t.bottom,r.left,r.top,r.right,r.bottom,s.COLOR_BUFFER_BIT,l?s.NEAREST:s.LINEAR)}disposeFramebuffer(e,t){const r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const o=this.managedFramebuffers.indexOf(e);o>=0&&this.managedFramebuffers.splice(o,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil)return;e.stencil=!0;const r=e.width,i=e.height,o=this.gl,s=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,s),t.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,t.multisample,o.DEPTH24_STENCIL8,r,i):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,r,i),t.stencil=s,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,s)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Rectangle}destroy(){this.renderer=null}}FramebufferSystem.extension={type:ExtensionType.RendererSystem,name:"framebuffer"};extensions$1.add(FramebufferSystem);const byteSizeMap={5126:4,5123:2,5121:1};class GeometrySystem{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;settings.PREFER_ENV===ENV.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(t.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(i,o)=>r.vertexAttribDivisorANGLE(i,o),e.drawElementsInstanced=(i,o,s,a,c)=>r.drawElementsInstancedANGLE(i,o,s,a,c),e.drawArraysInstanced=(i,o,s,a)=>r.drawArraysInstancedANGLE(i,o,s,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=t.webGLVersion===2||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:r}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],o=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},o=!0);const s=i[t.program.id]||this.initGeometryVao(e,t,o);this._activeGeometry=e,this._activeVao!==s&&(this._activeVao=s,this.hasVao?r.bindVertexArray(s):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];t.update(i)}}checkCompatibility(e,t){const r=e.attributes,i=t.attributeData;for(const o in i)if(!r[o])throw new Error(`shader and geometry incompatible, geometry missing the "${o}" attribute`)}getSignature(e,t){const r=e.attributes,i=t.attributeData,o=["g",e.id];for(const s in r)i[s]&&o.push(s,i[s].location);return o.join("-")}initGeometryVao(e,t,r=!0){const i=this.gl,o=this.CONTEXT_UID,s=this.renderer.buffer,a=t.program;a.glPrograms[o]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,a);const c=this.getSignature(e,a),l=e.glVertexArrayObjects[this.CONTEXT_UID];let u=l[c];if(u)return l[a.id]=u,u;const h=e.buffers,d=e.attributes,p={},f={};for(const m in h)p[m]=0,f[m]=0;for(const m in d)!d[m].size&&a.attributeData[m]?d[m].size=a.attributeData[m].size:d[m].size||console.warn(`PIXI Geometry attribute '${m}' size cannot be determined (likely the bound shader does not have the attribute)`),p[d[m].buffer]+=d[m].size*byteSizeMap[d[m].type];for(const m in d){const g=d[m],v=g.size;g.stride===void 0&&(p[g.buffer]===v*byteSizeMap[g.type]?g.stride=0:g.stride=p[g.buffer]),g.start===void 0&&(g.start=f[g.buffer],f[g.buffer]+=v*byteSizeMap[g.type])}u=i.createVertexArray(),i.bindVertexArray(u);for(let m=0;m<h.length;m++){const g=h[m];s.bind(g),r&&g._glBuffers[o].refCount++}return this.activateVao(e,a),l[a.id]=u,l[c]=u,i.bindVertexArray(null),s.unbind(BUFFER_TYPE.ARRAY_BUFFER),u}disposeGeometry(e,t){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,o=e.buffers,s=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!r){if(s)for(let c=0;c<o.length;c++){const l=o[c]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!t&&s.dispose(o[c],t))}if(!t){for(const c in r)if(c[0]==="g"){const l=r[c];this._activeVao===l&&this.unbind(),i.deleteVertexArray(l)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e)}activateVao(e,t){const r=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,s=e.buffers,a=e.attributes;e.indexBuffer&&o.bind(e.indexBuffer);let c=null;for(const l in a){const u=a[l],h=s[u.buffer],d=h._glBuffers[i];if(t.attributeData[l]){c!==d&&(o.bind(h),c=d);const p=t.attributeData[l].location;if(r.enableVertexAttribArray(p),r.vertexAttribPointer(p,u.size,u.type||r.FLOAT,u.normalized,u.stride,u.start),u.instance)if(this.hasInstance)r.vertexAttribDivisor(p,u.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,t,r,i){const{gl:o}=this,s=this._activeGeometry;if(s.indexBuffer){const a=s.indexBuffer.data.BYTES_PER_ELEMENT,c=a===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?s.instanced?o.drawElementsInstanced(e,t||s.indexBuffer.data.length,c,(r||0)*a,i||1):o.drawElements(e,t||s.indexBuffer.data.length,c,(r||0)*a):console.warn("unsupported index buffer type: uint32")}else s.instanced?o.drawArraysInstanced(e,r,t||s.getSize(),i||1):o.drawArrays(e,r,t||s.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}GeometrySystem.extension={type:ExtensionType.RendererSystem,name:"geometry"};extensions$1.add(GeometrySystem);const tempMat$1=new Matrix;class TextureMatrix{constructor(e,t){this._texture=e,this.mapCoord=new Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){t===void 0&&(t=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const o=e[i],s=e[i+1];t[i]=o*r.a+s*r.c+r.tx,t[i+1]=o*r.b+s*r.d+r.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const i=t.orig,o=t.trim;o&&(tempMat$1.set(i.width/o.width,0,0,i.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(tempMat$1));const s=t.baseTexture,a=this.uClampFrame,c=this.clampMargin/s.resolution,l=this.clampOffset;return a[0]=(t._frame.x+c+l)/s.width,a[1]=(t._frame.y+c+l)/s.height,a[2]=(t._frame.x+t._frame.width-c+l)/s.width,a[3]=(t._frame.y+t._frame.height-c+l)/s.height,this.uClampOffset[0]=l/s.realWidth,this.uClampOffset[1]=l/s.realHeight,this.isSimple=t._frame.width===s.width&&t._frame.height===s.height&&t.rotate===0,!0}}var fragment$7=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,vertex$4=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class SpriteMaskFilter extends Filter{constructor(e,t,r){let i=null;typeof e!="string"&&t===void 0&&r===void 0&&(i=e,e=void 0,t=void 0,r=void 0),super(e||vertex$4,t||fragment$7,r),this.maskSprite=i,this.maskMatrix=new Matrix}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,r,i){const o=this._maskSprite,s=o._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new TextureMatrix(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,o).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,e.applyFilter(this,t,r,i))}}class MaskData{constructor(e=null){this.type=MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Filter.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=MASK_TYPES.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class MaskSystem{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let r=t;if(!r.isMaskData){const o=this.maskDataPool.pop()||new MaskData;o.pooled=!0,o.maskObject=t,r=o}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==MASK_TYPES.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case MASK_TYPES.SCISSOR:this.renderer.scissor.push(r);break;case MASK_TYPES.STENCIL:this.renderer.stencil.push(r);break;case MASK_TYPES.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case MASK_TYPES.COLOR:this.pushColorMask(r);break}r.type===MASK_TYPES.SPRITE&&this.maskStack.push(r)}pop(e){const t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case MASK_TYPES.SCISSOR:this.renderer.scissor.pop(t);break;case MASK_TYPES.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case MASK_TYPES.SPRITE:this.popSpriteMask(t);break;case MASK_TYPES.COLOR:this.popColorMask(t);break}if(t.reset(),t.pooled&&this.maskDataPool.push(t),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===MASK_TYPES.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=MASK_TYPES.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=MASK_TYPES.SCISSOR:e.type=MASK_TYPES.STENCIL:e.type=MASK_TYPES.COLOR}pushSpriteMask(e){const{maskObject:t}=e,r=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new SpriteMaskFilter]));const o=this.renderer,s=o.renderTexture;let a,c;if(s.current){const u=s.current;a=e.resolution||u.resolution,c=e.multisample??u.multisample}else a=e.resolution||o.resolution,c=e.multisample??o.multisample;i[0].resolution=a,i[0].multisample=c,i[0].maskSprite=t;const l=r.filterArea;r.filterArea=t.getBounds(!0),o.filter.push(r,i),r.filterArea=l,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,r=e._colorMask=t&e.colorMask;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const t=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}MaskSystem.extension={type:ExtensionType.RendererSystem,name:"mask"};extensions$1.add(MaskSystem);class AbstractMaskSystem{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,r=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==r&&(i===0?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const tempMatrix$1=new Matrix,rectPool=[],_ScissorSystem=class extends AbstractMaskSystem{constructor(n){super(n),this.glConst=settings.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const n=this.maskStack[this.maskStack.length-1];return n?n._scissorCounter:0}calcScissorRect(n){if(n._scissorRectLocal)return;const e=n._scissorRect,{maskObject:t}=n,{renderer:r}=this,i=r.renderTexture,o=t.getBounds(!0,rectPool.pop()??new Rectangle);this.roundFrameToPixels(o,i.current?i.current.resolution:r.resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),e&&o.fit(e),n._scissorRectLocal=o}static isMatrixRotated(n){if(!n)return!1;const{a:e,b:t,c:r,d:i}=n;return(Math.abs(t)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(n){const{maskObject:e}=n;if(!e.isFastRect||!e.isFastRect()||_ScissorSystem.isMatrixRotated(e.worldTransform)||_ScissorSystem.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(n);const t=n._scissorRectLocal;return t.width>0&&t.height>0}roundFrameToPixels(n,e,t,r,i){_ScissorSystem.isMatrixRotated(i)||(i=i?tempMatrix$1.copyFrom(i):tempMatrix$1.identity(),i.translate(-t.x,-t.y).scale(r.width/t.width,r.height/t.height).translate(r.x,r.y),this.renderer.filter.transformAABB(i,n),n.fit(r),n.x=Math.round(n.x*e),n.y=Math.round(n.y*e),n.width=Math.round(n.width*e),n.height=Math.round(n.height*e))}push(n){n._scissorRectLocal||this.calcScissorRect(n);const{gl:e}=this.renderer;n._scissorRect||e.enable(e.SCISSOR_TEST),n._scissorCounter++,n._scissorRect=n._scissorRectLocal,this._useCurrent()}pop(n){const{gl:e}=this.renderer;n&&rectPool.push(n._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const n=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=n.y:e=this.renderer.height-n.height-n.y,this.renderer.gl.scissor(n.x,e,n.width,n.height)}};let ScissorSystem=_ScissorSystem;ScissorSystem.extension={type:ExtensionType.RendererSystem,name:"scissor"};extensions$1.add(ScissorSystem);class StencilSystem extends AbstractMaskSystem{constructor(e){super(e),this.glConst=settings.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:r}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const o=e._colorMask;o!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,o!==0&&(e._colorMask=o,r.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}pop(e){const t=this.renderer.gl;if(this.getStackLength()===0)t.disable(t.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;i!==0&&(r._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(r._colorMask=i,t.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}StencilSystem.extension={type:ExtensionType.RendererSystem,name:"stencil"};extensions$1.add(StencilSystem);class PluginSystem{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return deprecation("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return deprecation("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return deprecation("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}PluginSystem.extension={type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem],name:"_plugin"};extensions$1.add(PluginSystem);class ProjectionSystem{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Matrix,this.transform=null}update(e,t,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);const o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)}calculateProjection(e,t,r,i){const o=this.projectionMatrix,s=i?-1:1;o.identity(),o.a=1/t.width*2,o.d=s*(1/t.height*2),o.tx=-1-t.x*o.a,o.ty=-s-t.y*o.d}setTransform(e){}destroy(){this.renderer=null}}ProjectionSystem.extension={type:ExtensionType.RendererSystem,name:"projection"};extensions$1.add(ProjectionSystem);const tempTransform=new Transform;class GenerateTextureSystem{constructor(e){this.renderer=e,this._tempMatrix=new Matrix}generateTexture(e,t){const{region:r,...i}=t||{},o=r||e.getLocalBounds(null,!0);o.width===0&&(o.width=1),o.height===0&&(o.height=1);const s=RenderTexture.create({width:o.width,height:o.height,...i});this._tempMatrix.tx=-o.x,this._tempMatrix.ty=-o.y;const a=e.transform;return e.transform=tempTransform,this.renderer.render(e,{renderTexture:s,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,s}destroy(){}}GenerateTextureSystem.extension={type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem],name:"textureGenerator"};extensions$1.add(GenerateTextureSystem);const tempRect=new Rectangle,tempRect2=new Rectangle;class RenderTextureSystem{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.viewportFrame=new Rectangle}bind(e=null,t,r){const i=this.renderer;this.current=e;let o,s,a;e?(o=e.baseTexture,a=o.resolution,t||(tempRect.width=e.frame.width,tempRect.height=e.frame.height,t=tempRect),r||(tempRect2.x=e.frame.x,tempRect2.y=e.frame.y,tempRect2.width=t.width,tempRect2.height=t.height,r=tempRect2),s=o.framebuffer):(a=i.resolution,t||(tempRect.width=i._view.screen.width,tempRect.height=i._view.screen.height,t=tempRect),r||(r=tempRect,r.width=t.width,r.height=t.height));const c=this.viewportFrame;c.x=r.x*a,c.y=r.y*a,c.width=r.width*a,c.height=r.height*a,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(s,c),this.renderer.projection.update(r,t,a,!s),e?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)}clear(e,t){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer._view.screen,o=r.width!==i.width||r.height!==i.height;if(o){let{x:s,y:a,width:c,height:l}=this.viewportFrame;s=Math.round(s),a=Math.round(a),c=Math.round(c),l=Math.round(l),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,a,c,l)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t),o&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}RenderTextureSystem.extension={type:ExtensionType.RendererSystem,name:"renderTexture"};extensions$1.add(RenderTextureSystem);class GLProgram{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function getAttributeData(n,e){const t={},r=e.getProgramParameter(n,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=e.getActiveAttrib(n,i);if(o.name.startsWith("gl_"))continue;const s=mapType(e,o.type),a={type:s,name:o.name,size:mapSize(s),location:e.getAttribLocation(n,o.name)};t[o.name]=a}return t}function getUniformData(n,e){const t={},r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){const o=e.getActiveUniform(n,i),s=o.name.replace(/\[.*?\]$/,""),a=!!o.name.match(/\[.*?\]$/),c=mapType(e,o.type);t[s]={name:s,index:i,type:c,size:o.size,isArray:a,value:defaultValue(c,o.size)}}return t}function generateProgram(n,e){var c;const t=compileShader(n,n.VERTEX_SHADER,e.vertexSrc),r=compileShader(n,n.FRAGMENT_SHADER,e.fragmentSrc),i=n.createProgram();n.attachShader(i,t),n.attachShader(i,r);const o=(c=e.extra)==null?void 0:c.transformFeedbackVaryings;if(o&&(typeof n.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):n.transformFeedbackVaryings(i,o.names,o.bufferMode==="separate"?n.SEPARATE_ATTRIBS:n.INTERLEAVED_ATTRIBS)),n.linkProgram(i),n.getProgramParameter(i,n.LINK_STATUS)||logProgramError(n,i,t,r),e.attributeData=getAttributeData(i,n),e.uniformData=getUniformData(i,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const l=Object.keys(e.attributeData);l.sort((u,h)=>u>h?1:-1);for(let u=0;u<l.length;u++)e.attributeData[l[u]].location=u,n.bindAttribLocation(i,u,l[u]);n.linkProgram(i)}n.deleteShader(t),n.deleteShader(r);const s={};for(const l in e.uniformData){const u=e.uniformData[l];s[l]={location:n.getUniformLocation(i,l),value:defaultValue(u.type,u.size)}}return new GLProgram(i,s)}function uboUpdate(n,e,t,r,i){t.buffer.update(i)}const UBO_TO_SINGLE_SETTERS={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},GLSL_TO_STD40_SIZE={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function createUBOElements(n){const e=n.map(o=>({data:o,offset:0,dataLen:0,dirty:0}));let t=0,r=0,i=0;for(let o=0;o<e.length;o++){const s=e[o];if(t=GLSL_TO_STD40_SIZE[s.data.type],s.data.size>1&&(t=Math.max(t,16)*s.data.size),s.dataLen=t,r%t!==0&&r<16){const a=r%t%16;r+=a,i+=a}r+t>16?(i=Math.ceil(i/16)*16,s.offset=i,i+=t,r=t):(s.offset=i,r+=t,i+=t)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function getUBOData(n,e){const t=[];for(const r in n)e[r]&&t.push(e[r]);return t.sort((r,i)=>r.index-i.index),t}function generateUniformBufferSync(n,e){if(!n.autoManage)return{size:0,syncFunc:uboUpdate};const t=getUBOData(n.uniforms,e),{uboElements:r,size:i}=createUBOElements(t),o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let s=0;s<r.length;s++){const a=r[s],c=n.uniforms[a.data.name],l=a.data.name;let u=!1;for(let h=0;h<uniformParsers.length;h++){const d=uniformParsers[h];if(d.codeUbo&&d.test(a.data,c)){o.push(`offset = ${a.offset/4};`,uniformParsers[h].codeUbo(a.data.name,c)),u=!0;break}}if(!u)if(a.data.size>1){const h=mapSize(a.data.type),d=Math.max(GLSL_TO_STD40_SIZE[a.data.type]/16,1),p=h/d,f=(4-p%4)%4;o.push(`
                cv = ud.${l}.value;
                v = uv.${l};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*d}; i++)
                {
                    for(var j = 0; j < ${p}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${f};
                }

                `)}else{const h=UBO_TO_SINGLE_SETTERS[a.data.type];o.push(`
                cv = ud.${l}.value;
                v = uv.${l};
                offset = ${a.offset/4};
                ${h};
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}let UID=0;const defaultSyncData={textureCount:0,uboCount:0};class ShaderSystem{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=UID++}systemCheck(){if(!unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),t||(defaultSyncData.textureCount=0,defaultSyncData.uboCount=0,this.syncUniformGroup(e.uniformGroup,defaultSyncData)),i}setUniforms(e){const t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,t){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))}syncUniforms(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=generateUniformsSync(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,t);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,defaultSyncData,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[t])}createSyncBufferGroup(e,t,r){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const o=this.gl.getUniformBlockIndex(t.program,r);t.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(t.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;const s=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[s];if(a||(a=this._uboCache[s]=generateUniformBufferSync(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(a.size/4);e.buffer.update(c)}return t.uniformGroups[e.id]=a.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,r){const i=e.uniforms,o=[`${r}-`];for(const s in i)o.push(s),t[s]&&o.push(t[s].type);return o.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,r=e.program,i=generateProgram(t,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}ShaderSystem.extension={type:ExtensionType.RendererSystem,name:"shader"};extensions$1.add(ShaderSystem);class StartupSystem{constructor(e){this.renderer=e}run(e){const t=this.renderer;t.emitWithCustomOptions(t.runners.init,e),e.hello&&console.log(`PixiJS 7.1.2 - ${t.rendererLogId} - https://pixijs.com`),t.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}StartupSystem.extension={type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem],name:"startup"};extensions$1.add(StartupSystem);function mapWebGLBlendModesToPixi(n,e=[]){return e[BLEND_MODES.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.ADD]=[n.ONE,n.ONE],e[BLEND_MODES.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.NONE]=[0,0],e[BLEND_MODES.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],e[BLEND_MODES.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.SRC_IN]=[n.DST_ALPHA,n.ZERO],e[BLEND_MODES.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],e[BLEND_MODES.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],e[BLEND_MODES.DST_IN]=[n.ZERO,n.SRC_ALPHA],e[BLEND_MODES.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],e[BLEND_MODES.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],e[BLEND_MODES.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],e}const BLEND=0,OFFSET=1,CULLING=2,DEPTH_TEST=3,WINDING=4,DEPTH_MASK=5,_StateSystem=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=BLEND_MODES.NONE,this._blendEq=!1,this.map=[],this.map[BLEND]=this.setBlend,this.map[OFFSET]=this.setOffset,this.map[CULLING]=this.setCullFace,this.map[DEPTH_TEST]=this.setDepthTest,this.map[WINDING]=this.setFrontFace,this.map[DEPTH_MASK]=this.setDepthMask,this.checks=[],this.defaultState=new State,this.defaultState.blend=!0}contextChange(n){this.gl=n,this.blendModes=mapWebGLBlendModesToPixi(n),this.set(this.defaultState),this.reset()}set(n){if(n=n||this.defaultState,this.stateId!==n.data){let e=this.stateId^n.data,t=0;for(;e;)e&1&&this.map[t].call(this,!!(n.data&1<<t)),e=e>>1,t++;this.stateId=n.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,n)}forceState(n){n=n||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(n.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,n);this.stateId=n.data}setBlend(n){this.updateCheck(_StateSystem.checkBlendMode,n),this.gl[n?"enable":"disable"](this.gl.BLEND)}setOffset(n){this.updateCheck(_StateSystem.checkPolygonOffset,n),this.gl[n?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(n){this.gl[n?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(n){this.gl.depthMask(n)}setCullFace(n){this.gl[n?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(n){this.gl.frontFace(this.gl[n?"CW":"CCW"])}setBlendMode(n){if(n===this.blendMode)return;this.blendMode=n;const e=this.blendModes[n],t=this.gl;e.length===2?t.blendFunc(e[0],e[1]):t.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,t.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD))}setPolygonOffset(n,e){this.gl.polygonOffset(n,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(n,e){const t=this.checks.indexOf(n);e&&t===-1?this.checks.push(n):!e&&t!==-1&&this.checks.splice(t,1)}static checkBlendMode(n,e){n.setBlendMode(e.blendMode)}static checkPolygonOffset(n,e){n.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let StateSystem=_StateSystem;StateSystem.extension={type:ExtensionType.RendererSystem,name:"state"};extensions$1.add(StateSystem);class SystemManager extends eventemitter3Exports{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const t=(e.priority??[]).filter(i=>e.systems[i]),r=[...t,...Object.keys(e.systems).filter(i=>!t.includes(i))];for(const i of r)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(t=>{this.runners[t]=new Runner(t)})}addSystem(e,t){const r=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=r,this._systemsHash[t]=r;for(const i in this.runners)this.runners[i].add(r);return this}emitWithCustomOptions(e,t){const r=Object.keys(this._systemsHash);e.items.forEach(i=>{const o=r.find(s=>this._systemsHash[s]===i);i[e.name](t[o])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const _TextureGCSystem=class{constructor(n){this.renderer=n,this.count=0,this.checkCount=0,this.maxIdle=_TextureGCSystem.defaultMaxIdle,this.checkCountMax=_TextureGCSystem.defaultCheckCountMax,this.mode=_TextureGCSystem.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const n=this.renderer.texture,e=n.managedTextures;let t=!1;for(let r=0;r<e.length;r++){const i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(n.destroyTexture(i,!0),e[r]=null,t=!0)}if(t){let r=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[r++]=e[i]);e.length=r}}unload(n){const e=this.renderer.texture,t=n._texture;t&&!t.framebuffer&&e.destroyTexture(t);for(let r=n.children.length-1;r>=0;r--)this.unload(n.children[r])}destroy(){this.renderer=null}};let TextureGCSystem=_TextureGCSystem;TextureGCSystem.defaultMode=GC_MODES.AUTO;TextureGCSystem.defaultMaxIdle=60*60;TextureGCSystem.defaultCheckCountMax=60*10;TextureGCSystem.extension={type:ExtensionType.RendererSystem,name:"textureGC"};extensions$1.add(TextureGCSystem);class GLTexture{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=TYPES.UNSIGNED_BYTE,this.internalFormat=FORMATS.RGBA,this.samplerType=0}}function mapTypeAndFormatToInternalFormat(n){let e;return"WebGL2RenderingContext"in globalThis&&n instanceof globalThis.WebGL2RenderingContext?e={[TYPES.UNSIGNED_BYTE]:{[FORMATS.RGBA]:n.RGBA8,[FORMATS.RGB]:n.RGB8,[FORMATS.RG]:n.RG8,[FORMATS.RED]:n.R8,[FORMATS.RGBA_INTEGER]:n.RGBA8UI,[FORMATS.RGB_INTEGER]:n.RGB8UI,[FORMATS.RG_INTEGER]:n.RG8UI,[FORMATS.RED_INTEGER]:n.R8UI,[FORMATS.ALPHA]:n.ALPHA,[FORMATS.LUMINANCE]:n.LUMINANCE,[FORMATS.LUMINANCE_ALPHA]:n.LUMINANCE_ALPHA},[TYPES.BYTE]:{[FORMATS.RGBA]:n.RGBA8_SNORM,[FORMATS.RGB]:n.RGB8_SNORM,[FORMATS.RG]:n.RG8_SNORM,[FORMATS.RED]:n.R8_SNORM,[FORMATS.RGBA_INTEGER]:n.RGBA8I,[FORMATS.RGB_INTEGER]:n.RGB8I,[FORMATS.RG_INTEGER]:n.RG8I,[FORMATS.RED_INTEGER]:n.R8I},[TYPES.UNSIGNED_SHORT]:{[FORMATS.RGBA_INTEGER]:n.RGBA16UI,[FORMATS.RGB_INTEGER]:n.RGB16UI,[FORMATS.RG_INTEGER]:n.RG16UI,[FORMATS.RED_INTEGER]:n.R16UI,[FORMATS.DEPTH_COMPONENT]:n.DEPTH_COMPONENT16},[TYPES.SHORT]:{[FORMATS.RGBA_INTEGER]:n.RGBA16I,[FORMATS.RGB_INTEGER]:n.RGB16I,[FORMATS.RG_INTEGER]:n.RG16I,[FORMATS.RED_INTEGER]:n.R16I},[TYPES.UNSIGNED_INT]:{[FORMATS.RGBA_INTEGER]:n.RGBA32UI,[FORMATS.RGB_INTEGER]:n.RGB32UI,[FORMATS.RG_INTEGER]:n.RG32UI,[FORMATS.RED_INTEGER]:n.R32UI,[FORMATS.DEPTH_COMPONENT]:n.DEPTH_COMPONENT24},[TYPES.INT]:{[FORMATS.RGBA_INTEGER]:n.RGBA32I,[FORMATS.RGB_INTEGER]:n.RGB32I,[FORMATS.RG_INTEGER]:n.RG32I,[FORMATS.RED_INTEGER]:n.R32I},[TYPES.FLOAT]:{[FORMATS.RGBA]:n.RGBA32F,[FORMATS.RGB]:n.RGB32F,[FORMATS.RG]:n.RG32F,[FORMATS.RED]:n.R32F,[FORMATS.DEPTH_COMPONENT]:n.DEPTH_COMPONENT32F},[TYPES.HALF_FLOAT]:{[FORMATS.RGBA]:n.RGBA16F,[FORMATS.RGB]:n.RGB16F,[FORMATS.RG]:n.RG16F,[FORMATS.RED]:n.R16F},[TYPES.UNSIGNED_SHORT_5_6_5]:{[FORMATS.RGB]:n.RGB565},[TYPES.UNSIGNED_SHORT_4_4_4_4]:{[FORMATS.RGBA]:n.RGBA4},[TYPES.UNSIGNED_SHORT_5_5_5_1]:{[FORMATS.RGBA]:n.RGB5_A1},[TYPES.UNSIGNED_INT_2_10_10_10_REV]:{[FORMATS.RGBA]:n.RGB10_A2,[FORMATS.RGBA_INTEGER]:n.RGB10_A2UI},[TYPES.UNSIGNED_INT_10F_11F_11F_REV]:{[FORMATS.RGB]:n.R11F_G11F_B10F},[TYPES.UNSIGNED_INT_5_9_9_9_REV]:{[FORMATS.RGB]:n.RGB9_E5},[TYPES.UNSIGNED_INT_24_8]:{[FORMATS.DEPTH_STENCIL]:n.DEPTH24_STENCIL8},[TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[FORMATS.DEPTH_STENCIL]:n.DEPTH32F_STENCIL8}}:e={[TYPES.UNSIGNED_BYTE]:{[FORMATS.RGBA]:n.RGBA,[FORMATS.RGB]:n.RGB,[FORMATS.ALPHA]:n.ALPHA,[FORMATS.LUMINANCE]:n.LUMINANCE,[FORMATS.LUMINANCE_ALPHA]:n.LUMINANCE_ALPHA},[TYPES.UNSIGNED_SHORT_5_6_5]:{[FORMATS.RGB]:n.RGB},[TYPES.UNSIGNED_SHORT_4_4_4_4]:{[FORMATS.RGBA]:n.RGBA},[TYPES.UNSIGNED_SHORT_5_5_5_1]:{[FORMATS.RGBA]:n.RGBA}},e}class TextureSystem{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new BaseTexture,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=mapTypeAndFormatToInternalFormat(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let i=0;i<t;i++)this.boundTextures[i]=null;this.emptyTextures={};const r=new GLTexture(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new GLTexture(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,t=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(t.activeTexture(t.TEXTURE0+i),this.currentLocation=i),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:r,CONTEXT_UID:i}=this;if(r)for(let o=e-1;o>=0;--o){const s=t[o];s&&s._glTextures[i].samplerType!==SAMPLER_TYPES.FLOAT&&this.renderer.texture.unbind(s)}}initTexture(e){const t=new GLTexture(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){var r;t.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,this.webGLVersion===2&&e.type===TYPES.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){var i;const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const r=this.renderer;if(this.initTextureType(e,t),(i=e.resource)!=null&&i.upload(r,e,t))t.samplerType!==SAMPLER_TYPES.FLOAT&&(this.hasIntegerTextures=!0);else{const o=e.realWidth,s=e.realHeight,a=r.gl;(t.width!==o||t.height!==s||t.dirtyId<0)&&(t.width=o,t.height=s,a.texImage2D(e.target,0,t.internalFormat,o,s,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const i=this.managedTextures.indexOf(e);i!==-1&&removeItems(this.managedTextures,i,1)}}updateTextureStyle(e){var r;const t=e._glTextures[this.CONTEXT_UID];t&&((e.mipmap===MIPMAP_MODES.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?t.mipmap=!1:t.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?t.wrapMode=WRAP_MODES.CLAMP:t.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const r=this.gl;if(t.mipmap&&e.mipmap!==MIPMAP_MODES.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===SCALE_MODES.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===SCALE_MODES.LINEAR){const o=Math.min(e.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===SCALE_MODES.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===SCALE_MODES.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}TextureSystem.extension={type:ExtensionType.RendererSystem,name:"texture"};extensions$1.add(TextureSystem);class TransformFeedbackSystem{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,i=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:r,renderer:i}=this;t&&i.shader.bind(t),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:r,CONTEXT_UID:i}=this,o=t.createTransformFeedback();e._glTransformFeedbacks[i]=o,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,o);for(let s=0;s<e.buffers.length;s++){const a=e.buffers[s];a&&(r.buffer.update(a),a._glBuffers[i].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,s,a._glBuffers[i].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),o}disposeTransformFeedback(e,t){const r=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const o=this.renderer.buffer;if(o)for(let s=0;s<e.buffers.length;s++){const a=e.buffers[s];if(!a)continue;const c=a._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!t&&o.dispose(a,t))}r&&(t||i.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}TransformFeedbackSystem.extension={type:ExtensionType.RendererSystem,name:"transformFeedback"};extensions$1.add(TransformFeedbackSystem);class ViewSystem{constructor(e){this.renderer=e}init(e){this.screen=new Rectangle(0,0,e.width,e.height),this.element=e.view||settings.ADAPTER.createCanvas(),this.resolution=e.resolution||settings.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var t;e&&((t=this.element.parentNode)==null||t.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}ViewSystem.extension={type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem],name:"_view"};extensions$1.add(ViewSystem);settings.PREFER_ENV=ENV.WEBGL2;settings.STRICT_TEXTURE_CACHE=!1;Object.defineProperties(settings,{WRAP_MODE:{get(){return BaseTexture.defaultOptions.wrapMode},set(n){deprecation("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),BaseTexture.defaultOptions.wrapMode=n}},SCALE_MODE:{get(){return BaseTexture.defaultOptions.scaleMode},set(n){deprecation("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),BaseTexture.defaultOptions.scaleMode=n}},MIPMAP_TEXTURES:{get(){return BaseTexture.defaultOptions.mipmap},set(n){deprecation("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),BaseTexture.defaultOptions.mipmap=n}},ANISOTROPIC_LEVEL:{get(){return BaseTexture.defaultOptions.anisotropicLevel},set(n){deprecation("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),BaseTexture.defaultOptions.anisotropicLevel=n}},FILTER_RESOLUTION:{get(){return deprecation("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Filter.defaultResolution},set(n){Filter.defaultResolution=n}},FILTER_MULTISAMPLE:{get(){return deprecation("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Filter.defaultMultisample},set(n){Filter.defaultMultisample=n}},SPRITE_MAX_TEXTURES:{get(){return BatchRenderer.defaultMaxTextures},set(n){deprecation("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),BatchRenderer.defaultMaxTextures=n}},SPRITE_BATCH_SIZE:{get(){return BatchRenderer.defaultBatchSize},set(n){deprecation("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),BatchRenderer.defaultBatchSize=n}},CAN_UPLOAD_SAME_BUFFER:{get(){return BatchRenderer.canUploadSameBuffer},set(n){deprecation("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),BatchRenderer.canUploadSameBuffer=n}},GC_MODE:{get(){return TextureGCSystem.defaultMode},set(n){deprecation("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),TextureGCSystem.defaultMode=n}},GC_MAX_IDLE:{get(){return TextureGCSystem.defaultMaxIdle},set(n){deprecation("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),TextureGCSystem.defaultMaxIdle=n}},GC_MAX_CHECK_COUNT:{get(){return TextureGCSystem.defaultCheckCountMax},set(n){deprecation("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),TextureGCSystem.defaultCheckCountMax=n}},PRECISION_VERTEX:{get(){return Program.defaultVertexPrecision},set(n){deprecation("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Program.defaultVertexPrecision=n}},PRECISION_FRAGMENT:{get(){return Program.defaultFragmentPrecision},set(n){deprecation("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Program.defaultFragmentPrecision=n}}});var UPDATE_PRIORITY=(n=>(n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",n))(UPDATE_PRIORITY||{});class TickerListener{constructor(e,t=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=r,this.once=i}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const _Ticker=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener(null,null,1/0),this.deltaMS=1/_Ticker.targetFPMS,this.elapsedMS=1/_Ticker.targetFPMS,this._tick=n=>{this._requestId=null,this.started&&(this.update(n),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(n,e,t=UPDATE_PRIORITY.NORMAL){return this._addListener(new TickerListener(n,e,t))}addOnce(n,e,t=UPDATE_PRIORITY.NORMAL){return this._addListener(new TickerListener(n,e,t,!0))}_addListener(n){let e=this._head.next,t=this._head;if(!e)n.connect(t);else{for(;e;){if(n.priority>e.priority){n.connect(t);break}t=e,e=e.next}n.previous||n.connect(t)}return this._startIfPossible(),this}remove(n,e){let t=this._head.next;for(;t;)t.match(n,e)?t=t.destroy():t=t.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let n=0,e=this._head;for(;e=e.next;)n++;return n}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let n=this._head.next;for(;n;)n=n.destroy(!0);this._head.destroy(),this._head=null}}update(n=performance.now()){let e;if(n>this.lastTime){if(e=this.elapsedMS=n-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=n-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=n-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*_Ticker.targetFPMS;const t=this._head;let r=t.next;for(;r;)r=r.emit(this.deltaTime);t.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=n}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(n){const e=Math.min(this.maxFPS,n),t=Math.min(Math.max(0,e)/1e3,_Ticker.targetFPMS);this._maxElapsedMS=1/t}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(n){if(n===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,n);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!_Ticker._shared){const n=_Ticker._shared=new _Ticker;n.autoStart=!0,n._protected=!0}return _Ticker._shared}static get system(){if(!_Ticker._system){const n=_Ticker._system=new _Ticker;n.autoStart=!0,n._protected=!0}return _Ticker._system}};let Ticker=_Ticker;Ticker.targetFPMS=.06;Object.defineProperties(settings,{TARGET_FPMS:{get(){return Ticker.targetFPMS},set(n){deprecation("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Ticker.targetFPMS=n}}});class TickerPlugin{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,UPDATE_PRIORITY.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Ticker.shared:new Ticker,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}TickerPlugin.extension=ExtensionType.Application;extensions$1.add(TickerPlugin);const renderers=[];extensions$1.handleByList(ExtensionType.Renderer,renderers);function autoDetectRenderer(n){for(const e of renderers)if(e.test(n))return new e(n);throw new Error("Unable to auto-detect a suitable renderer.")}var $defaultVertex=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$defaultFilterVertex=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const defaultVertex=$defaultVertex,defaultFilterVertex=$defaultFilterVertex;class MultisampleSystem{constructor(e){this.renderer=e}contextChange(e){let t;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}t>=MSAA_QUALITY.HIGH?this.multisample=MSAA_QUALITY.HIGH:t>=MSAA_QUALITY.MEDIUM?this.multisample=MSAA_QUALITY.MEDIUM:t>=MSAA_QUALITY.LOW?this.multisample=MSAA_QUALITY.LOW:this.multisample=MSAA_QUALITY.NONE}destroy(){}}MultisampleSystem.extension={type:ExtensionType.RendererSystem,name:"_multisample"};extensions$1.add(MultisampleSystem);class GLBuffer{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class BufferSystem{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);t.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[t]!==e){const o=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[t]=e,r.bindBufferBase(r.UNIFORM_BUFFER,t,o.buffer)}}bindBufferRange(e,t,r){const{gl:i,CONTEXT_UID:o}=this;r=r||0;const s=e._glBuffers[o]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,t||0,s.buffer,r*256,256)}update(e){const{gl:t,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,t.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const o=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,o)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(t||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let r=0;r<t.length;r++)this.dispose(this.managedBuffers[t[r]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:r}=this;return e._glBuffers[t]=new GLBuffer(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}BufferSystem.extension={type:ExtensionType.RendererSystem,name:"buffer"};extensions$1.add(BufferSystem);class ObjectRendererSystem{constructor(e){this.renderer=e}render(e,t){const r=this.renderer;let i,o,s,a;if(t&&(i=t.renderTexture,o=t.clear,s=t.transform,a=t.skipUpdateTransform),this.renderingToScreen=!i,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=s,!r.context.isLost){if(i||(this.lastObjectRendered=e),!a){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}r.renderTexture.bind(i),r.batch.currentRenderer.start(),(o??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),i&&(t.blit&&r.framebuffer.blit(),i.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}ObjectRendererSystem.extension={type:ExtensionType.RendererSystem,name:"objectRenderer"};extensions$1.add(ObjectRendererSystem);const _Renderer=class extends SystemManager{constructor(n){super(),n=Object.assign({},settings.RENDER_OPTIONS,n),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new UniformGroup({projectionMatrix:new Matrix},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:_Renderer.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in n&&(deprecation("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),n.premultipliedAlpha=n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",n.backgroundAlpha=n.useContextAlpha===!1?1:n.backgroundAlpha);const t={hello:n.hello,_plugin:_Renderer.__plugins,background:{alpha:n.backgroundAlpha,color:n.background??n.backgroundColor,clearBeforeRender:n.clearBeforeRender},_view:{height:n.height,width:n.width,autoDensity:n.autoDensity,resolution:n.resolution,view:n.view},context:{antialias:n.antialias,context:n.context,powerPreference:n.powerPreference,premultipliedAlpha:n.premultipliedAlpha,preserveDrawingBuffer:n.preserveDrawingBuffer}};this.options=n,this.startup.run(t)}static test(n){return n!=null&&n.forceCanvas?!1:isWebGLSupported()}render(n,e){this.objectRenderer.render(n,e)}resize(n,e){this._view.resizeView(n,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(n=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:n}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(n){this._view.resolution=n,this.runners.resolutionChange.emit(n)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return deprecation("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return deprecation("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return deprecation("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(n){deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=n}get backgroundAlpha(){return deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(n){deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=n}get powerPreference(){return deprecation("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(n,e){return this.textureGenerator.generateTexture(n,e)}};let Renderer=_Renderer;Renderer.extension={type:ExtensionType.Renderer,priority:1};Renderer.__plugins={};Renderer.__systems={};extensions$1.handleByMap(ExtensionType.RendererPlugin,Renderer.__plugins);extensions$1.handleByMap(ExtensionType.RendererSystem,Renderer.__systems);extensions$1.add(Renderer);class AbstractMultiResource extends Resource{constructor(e,t){const{width:r,height:i}=t||{};super(r,i),this.items=[],this.itemDirtyIds=[];for(let o=0;o<e;o++){const s=new BaseTexture;this.items.push(s),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof Resource?this.addResourceAt(e[r],r):this.addResourceAt(autoDetectResource(e[r],t),r))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const t=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(t).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),Promise.resolve(this)}),this._load}}class ArrayResource extends AbstractMultiResource{constructor(e,t){const{width:r,height:i}=t||{};let o,s;Array.isArray(e)?(o=e,s=e.length):s=e,super(s,{width:r,height:i}),o&&this.initFromArray(o,t)}addBaseTextureAt(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=TARGETS.TEXTURE_2D_ARRAY}upload(e,t,r){const{length:i,itemDirtyIds:o,items:s}=this,{gl:a}=e;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,t.format,r.type,null);for(let c=0;c<i;c++){const l=s[c];o[c]<l.dirtyId&&(o[c]=l.dirtyId,l.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,c,l.resource.width,l.resource.height,1,t.format,r.type,l.resource.source))}return!0}}class CanvasResource extends BaseImageResource{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return t&&e instanceof t?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const _CubeResource=class extends AbstractMultiResource{constructor(n,e){const{width:t,height:r,autoLoad:i,linkBaseTexture:o}=e||{};if(n&&n.length!==_CubeResource.SIDES)throw new Error(`Invalid length. Got ${n.length}, expected 6`);super(6,{width:t,height:r});for(let s=0;s<_CubeResource.SIDES;s++)this.items[s].target=TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+s;this.linkBaseTexture=o!==!1,n&&this.initFromArray(n,e),i!==!1&&this.load()}bind(n){super.bind(n),n.target=TARGETS.TEXTURE_CUBE_MAP}addBaseTextureAt(n,e,t){if(t===void 0&&(t=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||n.parentTextureArray||Object.keys(n._glTextures).length>0)if(n.resource)this.addResourceAt(n.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else n.target=TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+e,n.parentTextureArray=this.baseTexture,this.items[e]=n;return n.valid&&!this.valid&&this.resize(n.realWidth,n.realHeight),this.items[e]=n,this}upload(n,e,t){const r=this.itemDirtyIds;for(let i=0;i<_CubeResource.SIDES;i++){const o=this.items[i];(r[i]<o.dirtyId||t.dirtyId<e.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(n,o,t),r[i]=o.dirtyId):r[i]<-1&&(n.gl.texImage2D(o.target,0,t.internalFormat,e.realWidth,e.realHeight,0,e.format,t.type,null),r[i]=-1))}return!0}static test(n){return Array.isArray(n)&&n.length===_CubeResource.SIDES}};let CubeResource=_CubeResource;CubeResource.SIDES=6;class ImageBitmapResource extends BaseImageResource{constructor(e,t){t=t||{};let r,i;typeof e=="string"?(r=ImageBitmapResource.EMPTY,i=e):(r=e,i=null),super(r),this.url=i,this.crossOrigin=t.crossOrigin??!0,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,t)=>{if(this.url===null){e(this);return}try{const r=await settings.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await r.blob();if(this.destroyed)return;const o=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ALPHA_MODES.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=o,this.update(),e(this)}catch(r){if(this.destroyed)return;t(r),this.onError.emit(r)}}),this._load)}upload(e,t,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),super.upload(e,t,r)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return ImageBitmapResource._EMPTY=ImageBitmapResource._EMPTY??settings.ADAPTER.createCanvas(0,0),ImageBitmapResource._EMPTY}}const _SVGResource=class extends BaseImageResource{constructor(n,e){e=e||{},super(settings.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=n,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(n=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),n(this)},_SVGResource.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const n=new Image;BaseImageResource.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=e=>{this._resolve&&(n.onerror=null,this.onError.emit(e))},n.onload=()=>{if(!this._resolve)return;const e=n.width,t=n.height;if(!e||!t)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let r=e*this.scale,i=t*this.scale;(this._overrideWidth||this._overrideHeight)&&(r=this._overrideWidth||this._overrideHeight/t*e,i=this._overrideHeight||this._overrideWidth/e*t),r=Math.round(r),i=Math.round(i);const o=this.source;o.width=r,o.height=i,o._pixiId=`canvas_${uid()}`,o.getContext("2d").drawImage(n,0,0,e,t,0,0,r,i),this._resolve(),this._resolve=null}}static getSize(n){const e=_SVGResource.SVG_SIZE.exec(n),t={};return e&&(t[e[1]]=Math.round(parseFloat(e[3])),t[e[5]]=Math.round(parseFloat(e[7]))),t}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(n,e){return e==="svg"||typeof n=="string"&&n.startsWith("data:image/svg+xml")||typeof n=="string"&&_SVGResource.SVG_XML.test(n)}};let SVGResource=_SVGResource;SVGResource.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;SVGResource.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const _VideoResource=class extends BaseImageResource{constructor(n,e){if(e=e||{},!(n instanceof HTMLVideoElement)){const t=document.createElement("video");t.setAttribute("preload","auto"),t.setAttribute("webkit-playsinline",""),t.setAttribute("playsinline",""),typeof n=="string"&&(n=[n]);const r=n[0].src||n[0];BaseImageResource.crossOrigin(t,r,e.crossorigin);for(let i=0;i<n.length;++i){const o=document.createElement("source");let{src:s,mime:a}=n[i];s=s||n[i];const c=s.split("?").shift().toLowerCase(),l=c.slice(c.lastIndexOf(".")+1);a=a||_VideoResource.MIME_TYPES[l]||`video/${l}`,o.src=s,o.type=a,t.appendChild(o)}n=t}super(n),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(n=0){if(!this.destroyed){const e=Ticker.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,n.load())}),this._load}_onError(n){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(n)}_isSourcePlaying(){const n=this.source;return!n.paused&&!n.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const n=this.source;n.removeEventListener("canplay",this._onCanPlay),n.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(n.videoWidth,n.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&n.play()}dispose(){this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1);const n=this.source;n&&(n.removeEventListener("error",this._onError,!0),n.pause(),n.src="",n.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(n){n!==this._autoUpdate&&(this._autoUpdate=n,!this._autoUpdate&&this._isConnectedToTicker?(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(n){n!==this._updateFPS&&(this._updateFPS=n)}static test(n,e){return globalThis.HTMLVideoElement&&n instanceof HTMLVideoElement||_VideoResource.TYPES.includes(e)}};let VideoResource=_VideoResource;VideoResource.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];VideoResource.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};INSTALLED.push(ImageBitmapResource,ImageResource,CanvasResource,VideoResource,SVGResource,BufferResource,CubeResource,ArrayResource);class Bounds{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Rectangle.EMPTY:(e=e||new Rectangle(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:r,b:i,c:o,d:s,tx:a,ty:c}=e,l=r*t.x+o*t.y+a,u=i*t.x+s*t.y+c;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)}addQuad(e){let t=this.minX,r=this.minY,i=this.maxX,o=this.maxY,s=e[0],a=e[1];t=s<t?s:t,r=a<r?a:r,i=s>i?s:i,o=a>o?a:o,s=e[2],a=e[3],t=s<t?s:t,r=a<r?a:r,i=s>i?s:i,o=a>o?a:o,s=e[4],a=e[5],t=s<t?s:t,r=a<r?a:r,i=s>i?s:i,o=a>o?a:o,s=e[6],a=e[7],t=s<t?s:t,r=a<r?a:r,i=s>i?s:i,o=a>o?a:o,this.minX=t,this.minY=r,this.maxX=i,this.maxY=o}addFrame(e,t,r,i,o){this.addFrameMatrix(e.worldTransform,t,r,i,o)}addFrameMatrix(e,t,r,i,o){const s=e.a,a=e.b,c=e.c,l=e.d,u=e.tx,h=e.ty;let d=this.minX,p=this.minY,f=this.maxX,m=this.maxY,g=s*t+c*r+u,v=a*t+l*r+h;d=g<d?g:d,p=v<p?v:p,f=g>f?g:f,m=v>m?v:m,g=s*i+c*r+u,v=a*i+l*r+h,d=g<d?g:d,p=v<p?v:p,f=g>f?g:f,m=v>m?v:m,g=s*t+c*o+u,v=a*t+l*o+h,d=g<d?g:d,p=v<p?v:p,f=g>f?g:f,m=v>m?v:m,g=s*i+c*o+u,v=a*i+l*o+h,d=g<d?g:d,p=v<p?v:p,f=g>f?g:f,m=v>m?v:m,this.minX=d,this.minY=p,this.maxX=f,this.maxY=m}addVertexData(e,t,r){let i=this.minX,o=this.minY,s=this.maxX,a=this.maxY;for(let c=t;c<r;c+=2){const l=e[c],u=e[c+1];i=l<i?l:i,o=u<o?u:o,s=l>s?l:s,a=u>a?u:a}this.minX=i,this.minY=o,this.maxX=s,this.maxY=a}addVertices(e,t,r,i){this.addVerticesMatrix(e.worldTransform,t,r,i)}addVerticesMatrix(e,t,r,i,o=0,s=o){const a=e.a,c=e.b,l=e.c,u=e.d,h=e.tx,d=e.ty;let p=this.minX,f=this.minY,m=this.maxX,g=this.maxY;for(let v=r;v<i;v+=2){const y=t[v],A=t[v+1],x=a*y+l*A+h,S=u*A+c*y+d;p=Math.min(p,x-o),m=Math.max(m,x+o),f=Math.min(f,S-s),g=Math.max(g,S+s)}this.minX=p,this.minY=f,this.maxX=m,this.maxY=g}addBounds(e){const t=this.minX,r=this.minY,i=this.maxX,o=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>o?e.maxY:o}addBoundsMask(e,t){const r=e.minX>t.minX?e.minX:t.minX,i=e.minY>t.minY?e.minY:t.minY,o=e.maxX<t.maxX?e.maxX:t.maxX,s=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=o&&i<=s){const a=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=r<a?r:a,this.minY=i<c?i:c,this.maxX=o>l?o:l,this.maxY=s>u?s:u}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const r=e.minX>t.x?e.minX:t.x,i=e.minY>t.y?e.minY:t.y,o=e.maxX<t.x+t.width?e.maxX:t.x+t.width,s=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=o&&i<=s){const a=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=r<a?r:a,this.minY=i<c?i:c,this.maxX=o>l?o:l,this.maxY=s>u?s:u}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,r,i,o,s){e-=o,t-=s,r+=o,i+=s,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>i?this.maxY:i}}class DisplayObject extends eventemitter3Exports{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Transform,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Bounds,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let r=0;r<t.length;++r){const i=t[r];Object.defineProperty(DisplayObject.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new Rectangle),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Bounds);const t=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,o=this._boundsID;this._bounds=this._localBounds;const s=this.getBounds(!1,e);return this.parent=r,this.transform=t,this._bounds=i,this._bounds.updateID+=this._boundsID-o,s}toGlobal(e,t,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,r,i){return t&&(e=t.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,t=0,r=1,i=1,o=0,s=0,a=0,c=0,l=0){return this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=i||1,this.rotation=o,this.skew.x=s,this.skew.y=a,this.pivot.x=c,this.pivot.y=l,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new TemporaryDisplayObject),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*RAD_TO_DEG}set angle(e){this.transform.rotation=e*DEG_TO_RAD}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,t._maskRefCount===0&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount===0&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}}class TemporaryDisplayObject extends DisplayObject{constructor(){super(...arguments),this.sortDirty=null}}DisplayObject.prototype.displayObjectUpdateTransform=DisplayObject.prototype.updateTransform;const tempMatrix=new Matrix;function sortChildren(n,e){return n.zIndex===e.zIndex?n._lastSortedIndex-e._lastSortedIndex:n.zIndex-e.zIndex}const _Container=class extends DisplayObject{constructor(){super(),this.children=[],this.sortableChildren=_Container.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(n){}addChild(...n){if(n.length>1)for(let e=0;e<n.length;e++)this.addChild(n[e]);else{const e=n[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return n[0]}addChildAt(n,e){if(e<0||e>this.children.length)throw new Error(`${n}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.splice(e,0,n),this._boundsID++,this.onChildrenChange(e),n.emit("added",this),this.emit("childAdded",n,this,e),n}swapChildren(n,e){if(n===e)return;const t=this.getChildIndex(n),r=this.getChildIndex(e);this.children[t]=e,this.children[r]=n,this.onChildrenChange(t<r?t:r)}getChildIndex(n){const e=this.children.indexOf(n);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(n,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const t=this.getChildIndex(n);removeItems(this.children,t,1),this.children.splice(e,0,n),this.onChildrenChange(e)}getChildAt(n){if(n<0||n>=this.children.length)throw new Error(`getChildAt: Index (${n}) does not exist.`);return this.children[n]}removeChild(...n){if(n.length>1)for(let e=0;e<n.length;e++)this.removeChild(n[e]);else{const e=n[0],t=this.children.indexOf(e);if(t===-1)return null;e.parent=null,e.transform._parentID=-1,removeItems(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t)}return n[0]}removeChildAt(n){const e=this.getChildAt(n);return e.parent=null,e.transform._parentID=-1,removeItems(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this),this.emit("childRemoved",e,this,n),e}removeChildren(n=0,e=this.children.length){const t=n,r=e,i=r-t;let o;if(i>0&&i<=r){o=this.children.splice(t,i);for(let s=0;s<o.length;++s)o[s].parent=null,o[s].transform&&(o[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(n);for(let s=0;s<o.length;++s)o[s].emit("removed",this),this.emit("childRemoved",o[s],this,s);return o}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let n=!1;for(let e=0,t=this.children.length;e<t;++e){const r=this.children[e];r._lastSortedIndex=e,!n&&r.zIndex!==0&&(n=!0)}n&&this.children.length>1&&this.children.sort(sortChildren),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let n=0,e=this.children.length;n<e;++n){const t=this.children[n];t.visible&&t.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let n=0;n<this.children.length;n++){const e=this.children[n];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const t=e._mask.isMaskData?e._mask.maskObject:e._mask;t?(t.calculateBounds(),this._bounds.addBoundsMask(e._bounds,t._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(n,e=!1){const t=super.getLocalBounds(n);if(!e)for(let r=0,i=this.children.length;r<i;++r){const o=this.children[r];o.visible&&o.updateTransform()}return t}_calculateBounds(){}_renderWithCulling(n){const e=n.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let t,r;this.cullArea?(t=this.cullArea,r=this.worldTransform):this._render!==_Container.prototype._render&&(t=this.getBounds(!0));const i=n.projection.transform;if(i&&(r?(r=tempMatrix.copyFrom(r),r.prepend(i)):r=i),t&&e.intersects(t,r))this._render(n);else if(this.cullArea)return;for(let o=0,s=this.children.length;o<s;++o){const a=this.children[o],c=a.cullable;a.cullable=c||!this.cullArea,a.render(n),a.cullable=c}}render(n){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(n);else if(this.cullable)this._renderWithCulling(n);else{this._render(n);for(let t=0,r=this.children.length;t<r;++t)this.children[t].render(n)}}renderAdvanced(n){var i,o,s;const e=this.filters,t=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const r=e&&((i=this._enabledFilters)==null?void 0:i.length)||t&&(!t.isMaskData||t.enabled&&(t.autoDetect||t.type!==MASK_TYPES.NONE));if(r&&n.batch.flush(),e&&((o=this._enabledFilters)!=null&&o.length)&&n.filter.push(this,this._enabledFilters),t&&n.mask.push(this,this._mask),this.cullable)this._renderWithCulling(n);else{this._render(n);for(let a=0,c=this.children.length;a<c;++a)this.children[a].render(n)}r&&n.batch.flush(),t&&n.mask.pop(this),e&&((s=this._enabledFilters)!=null&&s.length)&&n.filter.pop()}_render(n){}destroy(n){super.destroy(),this.sortDirty=!1;const e=typeof n=="boolean"?n:n==null?void 0:n.children,t=this.removeChildren(0,this.children.length);if(e)for(let r=0;r<t.length;++r)t[r].destroy(n)}get width(){return this.scale.x*this.getLocalBounds().width}set width(n){const e=this.getLocalBounds().width;e!==0?this.scale.x=n/e:this.scale.x=1,this._width=n}get height(){return this.scale.y*this.getLocalBounds().height}set height(n){const e=this.getLocalBounds().height;e!==0?this.scale.y=n/e:this.scale.y=1,this._height=n}};let Container=_Container;Container.defaultSortableChildren=!1;Container.prototype.containerUpdateTransform=Container.prototype.updateTransform;Object.defineProperties(settings,{SORTABLE_CHILDREN:{get(){return Container.defaultSortableChildren},set(n){deprecation("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Container.defaultSortableChildren=n}}});const tempPoint$1=new Point,indices=new Uint16Array([0,1,2,0,2,3]);class Sprite extends Container{constructor(e){super(),this._anchor=new ObservablePoint(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=BLEND_MODES.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||Texture.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=indices,this.pluginName="batch",this.isSprite=!0,this._roundPixels=settings.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=sign(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,r=t.a,i=t.b,o=t.c,s=t.d,a=t.tx,c=t.ty,l=this.vertexData,u=e.trim,h=e.orig,d=this._anchor;let p=0,f=0,m=0,g=0;if(u?(f=u.x-d._x*h.width,p=f+u.width,g=u.y-d._y*h.height,m=g+u.height):(f=-d._x*h.width,p=f+h.width,g=-d._y*h.height,m=g+h.height),l[0]=r*f+o*g+a,l[1]=s*g+i*f+c,l[2]=r*p+o*g+a,l[3]=s*g+i*p+c,l[4]=r*p+o*m+a,l[5]=s*m+i*p+c,l[6]=r*f+o*m+a,l[7]=s*m+i*f+c,this._roundPixels){const v=settings.RESOLUTION;for(let y=0;y<l.length;++y)l[y]=Math.round(l[y]*v)/v}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,r=e.orig,i=this._anchor,o=this.transform.worldTransform,s=o.a,a=o.b,c=o.c,l=o.d,u=o.tx,h=o.ty,d=-i._x*r.width,p=d+r.width,f=-i._y*r.height,m=f+r.height;t[0]=s*d+c*f+u,t[1]=l*f+a*d+h,t[2]=s*p+c*f+u,t[3]=l*f+a*p+h,t[4]=s*p+c*m+u,t[5]=l*m+a*p+h,t[6]=s*d+c*m+u,t[7]=l*m+a*d+h}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Bounds),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,tempPoint$1);const t=this._texture.orig.width,r=this._texture.orig.height,i=-t*this.anchor.x;let o=0;return tempPoint$1.x>=i&&tempPoint$1.x<i+t&&(o=-r*this.anchor.y,tempPoint$1.y>=o&&tempPoint$1.y<o+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,t){const r=e instanceof Texture?e:Texture.from(e,t);return new Sprite(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Texture.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const _tempMatrix=new Matrix;DisplayObject.prototype._cacheAsBitmap=!1;DisplayObject.prototype._cacheData=null;DisplayObject.prototype._cacheAsBitmapResolution=null;DisplayObject.prototype._cacheAsBitmapMultisample=null;class CacheData{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(DisplayObject.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(n){n!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(n){n!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(n){if(this._cacheAsBitmap===n)return;this._cacheAsBitmap=n;let e;n?(this._cacheData||(this._cacheData=new CacheData),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});DisplayObject.prototype._renderCached=function n(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};DisplayObject.prototype._initCachedDisplayObject=function n(e){var d,p;if((d=this._cacheData)!=null&&d.sprite)return;const t=this.alpha;this.alpha=1,e.batch.flush();const r=this.getLocalBounds(null,!0).clone();if((p=this.filters)!=null&&p.length){const f=this.filters[0].padding;r.pad(f)}r.ceil(settings.RESOLUTION);const i=e.renderTexture.current,o=e.renderTexture.sourceFrame.clone(),s=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,c=RenderTexture.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),l=`cacheAsBitmap_${uid()}`;this._cacheData.textureCacheId=l,BaseTexture.addToCache(c.baseTexture,l),Texture.addToCache(c,l);const u=this.transform.localTransform.copyTo(_tempMatrix).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:c,clear:!0,transform:u,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,o,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const h=new Sprite(c);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=t,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)};DisplayObject.prototype._renderCachedCanvas=function n(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};DisplayObject.prototype._initCachedDisplayObjectCanvas=function n(e){var u;if((u=this._cacheData)!=null&&u.sprite)return;const t=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,o=e._projTransform;t.ceil(settings.RESOLUTION);const s=RenderTexture.create({width:t.width,height:t.height}),a=`cacheAsBitmap_${uid()}`;this._cacheData.textureCacheId=a,BaseTexture.addToCache(s.baseTexture,a),Texture.addToCache(s,a);const c=_tempMatrix;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=t.x,c.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:s,clear:!0,transform:c,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const l=new Sprite(s);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(t.x/t.width),l.anchor.y=-(t.y/t.height),l.alpha=r,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)};DisplayObject.prototype._calculateCachedBounds=function n(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};DisplayObject.prototype._getCachedLocalBounds=function n(){return this._cacheData.sprite.getLocalBounds(null)};DisplayObject.prototype._destroyCachedDisplayObject=function n(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,BaseTexture.removeFromCache(this._cacheData.textureCacheId),Texture.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};DisplayObject.prototype._cacheAsBitmapDestroy=function n(e){this.cacheAsBitmap=!1,this.destroy(e)};DisplayObject.prototype.name=null;Container.prototype.getChildByName=function n(e,t){for(let r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(t)for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r];if(!o.getChildByName)continue;const s=o.getChildByName(e,!0);if(s)return s}return null};DisplayObject.prototype.getGlobalPosition=function n(e=new Point,t=!1){return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};var fragment$6=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class AlphaFilter extends Filter{constructor(e=1){super(defaultVertex,fragment$6,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const GAUSSIAN_VALUES={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},fragTemplate=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function generateBlurFragSource(n){const e=GAUSSIAN_VALUES[n],t=e.length;let r=fragTemplate,i="";const o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let s;for(let a=0;a<n;a++){let c=o.replace("%index%",a.toString());s=a,a>=t&&(s=n-a-1),c=c.replace("%value%",e[s].toString()),i+=c,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",n.toString()),r}const vertTemplate=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function generateBlurVertSource(n,e){const t=Math.ceil(n/2);let r=vertTemplate,i="",o;e?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let s=0;s<n;s++){let a=o.replace("%index%",s.toString());a=a.replace("%sampleIndex%",`${s-(t-1)}.0`),i+=a,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",n.toString()),r}class BlurFilterPass extends Filter{constructor(e,t=8,r=4,i=Filter.defaultResolution,o=5){const s=generateBlurVertSource(o,e),a=generateBlurFragSource(o);super(s,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=r,this.blur=t}apply(e,t,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/t.width):this.uniforms.strength=1/r.height*(r.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,t,r,i);else{const o=e.getFilterTexture(),s=e.renderer;let a=t,c=o;this.state.blend=!1,e.applyFilter(this,a,c,CLEAR_MODES.CLEAR);for(let l=1;l<this.passes-1;l++){e.bindAndClear(a,CLEAR_MODES.BLIT),this.uniforms.uSampler=c;const u=c;c=a,a=u,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,r,i),e.returnFilterTexture(o)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class BlurFilter extends Filter{constructor(e=8,t=4,r=Filter.defaultResolution,i=5){super(),this.blurXFilter=new BlurFilterPass(!0,e,t,r,i),this.blurYFilter=new BlurFilterPass(!1,e,t,r,i),this.resolution=r,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,r,i){const o=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(o&&s){const a=e.getFilterTexture();this.blurXFilter.apply(e,t,a,CLEAR_MODES.CLEAR),this.blurYFilter.apply(e,a,r,i),e.returnFilterTexture(a)}else s?this.blurYFilter.apply(e,t,r,i):this.blurXFilter.apply(e,t,r,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var fragment$5=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class ColorMatrixFilter extends Filter{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(defaultFilterVertex,fragment$5,e),this.alpha=1}_loadMatrix(e,t=!1){let r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}tint(e,t){const r=e>>16&255,i=e>>8&255,o=e&255,s=[r/255,0,0,0,0,0,i/255,0,0,0,0,0,o/255,0,0,0,0,0,1,0];this._loadMatrix(s,t)}greyscale(e,t){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}blackAndWhite(e){const t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)}hue(e,t){e=(e||0)/180*Math.PI;const r=Math.cos(e),i=Math.sin(e),o=Math.sqrt,s=1/3,a=o(s),c=r+(1-r)*s,l=s*(1-r)-a*i,u=s*(1-r)+a*i,h=s*(1-r)+a*i,d=r+s*(1-r),p=s*(1-r)-a*i,f=s*(1-r)-a*i,m=s*(1-r)+a*i,g=r+s*(1-r),v=[c,l,u,0,0,h,d,p,0,0,f,m,g,0,0,0,0,0,1,0];this._loadMatrix(v,t)}contrast(e,t){const r=(e||0)+1,i=-.5*(r-1),o=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(o,t)}saturate(e=0,t){const r=e*2/3+1,i=(r-1)*-.5,o=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(o,t)}desaturate(){this.saturate(-1)}negative(e){const t=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(t,e)}sepia(e){const t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)}technicolor(e){const t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)}polaroid(e){const t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)}toBGR(e){const t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)}kodachrome(e){const t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)}browni(e){const t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)}vintage(e){const t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)}colorTone(e,t,r,i,o){e=e||.2,t=t||.15,r=r||16770432,i=i||3375104;const s=(r>>16&255)/255,a=(r>>8&255)/255,c=(r&255)/255,l=(i>>16&255)/255,u=(i>>8&255)/255,h=(i&255)/255,d=[.3,.59,.11,0,0,s,a,c,e,0,l,u,h,t,0,s-l,a-u,c-h,0,0];this._loadMatrix(d,o)}night(e,t){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,t)}predator(e,t){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,t)}lsd(e){const t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}ColorMatrixFilter.prototype.grayscale=ColorMatrixFilter.prototype.greyscale;var fragment$4=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,vertex$3=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class DisplacementFilter extends Filter{constructor(e,t){const r=new Matrix;e.renderable=!1,super(vertex$3,fragment$4,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,t==null&&(t=20),this.scale=new Point(t,t)}apply(e,t,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const o=this.maskSprite.worldTransform,s=Math.sqrt(o.a*o.a+o.b*o.b),a=Math.sqrt(o.c*o.c+o.d*o.d);s!==0&&a!==0&&(this.uniforms.rotation[0]=o.a/s,this.uniforms.rotation[1]=o.b/s,this.uniforms.rotation[2]=o.c/a,this.uniforms.rotation[3]=o.d/a),e.applyFilter(this,t,r,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var fragment$3=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,vertex$2=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class FXAAFilter extends Filter{constructor(){super(vertex$2,fragment$3)}}var fragment$2=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class NoiseFilter extends Filter{constructor(e=.5,t=Math.random()){super(defaultFilterVertex,fragment$2,{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const filters={AlphaFilter,BlurFilter,BlurFilterPass,ColorMatrixFilter,DisplacementFilter,FXAAFilter,NoiseFilter};Object.entries(filters).forEach(([n,e])=>{Object.defineProperty(filters,n,{get(){return deprecation("7.1.0",`filters.${n} has moved to ${n}`),e}})});class FederatedEvent{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=FederatedEvent.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Point,this.page=new Point,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,r,i,o){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class FederatedMouseEvent extends FederatedEvent{constructor(){super(...arguments),this.client=new Point,this.movement=new Point,this.offset=new Point,this.global=new Point,this.screen=new Point}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,r,i,o,s,a,c,l,u,h,d,p,f,m){throw new Error("Method not implemented.")}}class FederatedPointerEvent extends FederatedMouseEvent{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class FederatedWheelEvent extends FederatedMouseEvent{constructor(){super(...arguments),this.DOM_DELTA_LINE=0,this.DOM_DELTA_PAGE=1,this.DOM_DELTA_PIXEL=2}}const PROPAGATION_LIMIT=2048,tempHitLocation=new Point,tempLocalMapping=new Point;class EventBoundary{constructor(e){this.dispatch=new eventemitter3Exports,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((r,i)=>r.priority-i.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let r=0,i=t.length;r<i;r++)t[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){const r=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,tempHitLocation.set(e,t),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,t){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,o=r.length-1;i<o;i++)if(e.currentTarget=r[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(e.currentTarget=r[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,r=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const i=r.children;if(i)for(let o=0;o<i.length;o++)this.all(e,t,i[o]);e.currentTarget=r,this.notifyTarget(e,t)}propagationPath(e){const t=[e];for(let r=0;r<PROPAGATION_LIMIT&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestRecursive(e,t,r,i,o){if(!e||!e.visible||o(e,r))return null;if(e.interactiveChildren&&e.children){const s=e.children;for(let a=s.length-1;a>=0;a--){const c=s[a],l=this.hitTestRecursive(c,t||c.interactive,r,i,o);if(l){if(l.length>0&&!l[l.length-1].parent)continue;return(l.length>0||e.interactive)&&l.push(e),l}}}return t&&i(e,r)?e.interactive?[e]:[]:null}hitPruneFn(e,t){var r;if(e.hitArea&&(e.worldTransform.applyInverse(t,tempLocalMapping),!e.hitArea.contains(tempLocalMapping.x,tempLocalMapping.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((r=i.containsPoint)!=null&&r.call(i,t)))return!0}return!1}hitTestFn(e,t){return e.hitArea?!0:e.containsPoint?e.containsPoint(t):!1}notifyTarget(e,t){var o,s;t=t??e.type;const r=`on${t}`;(s=(o=e.currentTarget)[r])==null||s.call(o,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),t.pointerType==="touch")this.dispatchEvent(t,"touchstart");else if(t.pointerType==="mouse"||t.pointerType==="pen"){const i=t.button===2;this.dispatchEvent(t,i?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){var a,c;if(!(e instanceof FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.createPointerEvent(e),r=t.pointerType==="mouse"||t.pointerType==="pen",i=this.trackingData(e.pointerId),o=this.findMountedTarget(i.overTargets);if(((a=i.overTargets)==null?void 0:a.length)>0&&o!==t.target){const l=e.type==="mousemove"?"mouseout":"pointerout",u=this.createPointerEvent(e,l,o);if(this.dispatchEvent(u,"pointerout"),r&&this.dispatchEvent(u,"mouseout"),!t.composedPath().includes(o)){const h=this.createPointerEvent(e,"pointerleave",o);for(h.eventPhase=h.AT_TARGET;h.target&&!t.composedPath().includes(h.target);)h.currentTarget=h.target,this.notifyTarget(h),r&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;this.freeEvent(h)}this.freeEvent(u)}if(o!==t.target){const l=e.type==="mousemove"?"mouseover":"pointerover",u=this.clonePointerEvent(t,l);this.dispatchEvent(u,"pointerover"),r&&this.dispatchEvent(u,"mouseover");let h=o==null?void 0:o.parent;for(;h&&h!==this.rootTarget.parent&&h!==t.target;)h=h.parent;if(!h||h===this.rootTarget.parent){const p=this.clonePointerEvent(t,"pointerenter");for(p.eventPhase=p.AT_TARGET;p.target&&p.target!==o&&p.target!==this.rootTarget.parent;)p.currentTarget=p.target,this.notifyTarget(p),r&&this.notifyTarget(p,"mouseenter"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(u)}const s=this.moveOnAll?"all":"dispatchEvent";this[s](t,"pointermove"),this.all(t,"globalpointermove"),t.pointerType==="touch"&&(this[s](t,"touchmove"),this.all(t,"globaltouchmove")),r&&(this[s](t,"mousemove"),this.all(t,"globalmousemove"),this.cursor=(c=t.target)==null?void 0:c.cursor),i.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){var s;if(!(e instanceof FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(s=r.target)==null?void 0:s.cursor);const o=this.clonePointerEvent(r,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),i&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;t.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(o)}mapPointerOut(e){if(!(e instanceof FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId);if(t.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(t.overTargets),o=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(o),r&&this.dispatchEvent(o,"mouseout");const s=this.createPointerEvent(e,"pointerleave",i);for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),r&&this.notifyTarget(s,"mouseleave"),s.target=s.target.parent;t.overTargets=null,this.freeEvent(o),this.freeEvent(s)}this.cursor=null}mapPointerUp(e){if(!(e instanceof FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const a=r.button===2;this.dispatchEvent(r,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),o=this.findMountedTarget(i.pressTargetsByButton[e.button]);let s=o;if(o&&!r.composedPath().includes(o)){let a=o;for(;a&&!r.composedPath().includes(a);){if(r.currentTarget=a,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const c=r.button===2;this.notifyTarget(r,c?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],s=a}if(s){const a=this.clonePointerEvent(r,"click");a.target=s,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:t});const c=i.clicksByButton[e.button];c.target===a.target&&t-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=a.target,c.timeStamp=t,a.detail=c.clickCount,a.pointerType==="mouse"?this.dispatchEvent(a,"click"):a.pointerType==="touch"&&this.dispatchEvent(a,"tap"),this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.findMountedTarget(t.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(r){let o=r;for(;o;)i.currentTarget=o,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),o=o.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof FederatedWheelEvent)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let r=1;r<e.length&&e[r].parent===t;r++)t=e[r];return t}createPointerEvent(e,t,r){const i=this.allocateEvent(FederatedPointerEvent);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=r??this.hitTest(i.global.x,i.global.y),typeof t=="string"&&(i.type=t),i}createWheelEvent(e){const t=this.allocateEvent(FederatedWheelEvent);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const r=this.allocateEvent(FederatedPointerEvent);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=t??r.type,r}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof FederatedPointerEvent&&t instanceof FederatedPointerEvent&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof FederatedMouseEvent&&t instanceof FederatedMouseEvent&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const r=e.currentTarget._events[t];if(r)if("fn"in r)r.fn.call(r.context,e);else for(let i=0,o=r.length;i<o&&!e.propagationImmediatelyStopped;i++)r[i].fn.call(r[i].context,e)}}const MOUSE_POINTER_ID=1,TOUCH_TO_POINTER={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class EventSystem{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new EventBoundary(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new FederatedPointerEvent(null),this.rootWheelEvent=new FederatedWheelEvent(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:t}=this.renderer;this.setTargetElement(e),this.resolution=t}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":t&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":t&&Object.assign(this.domElement.style,r);break}else t&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,i=t.length;r<i;r++){const o=t[r],s=this.bootstrapEvent(this.rootPointerEvent,o);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const t=this.normalizeToPointerData(e);for(let r=0,i=t.length;r<i;r++){const o=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const r=t!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let o=0,s=i.length;o<s;o++){const a=this.bootstrapEvent(this.rootPointerEvent,i[o]);a.type+=r,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const t=this.normalizeToPointerData(e);for(let r=0,i=t.length;r<i;r++){const o=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,r){let i;this.domElement.parentElement?i=this.domElement.getBoundingClientRect():i={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const o=1/this.resolution;e.x=(t-i.left)*(this.domElement.width/i.width)*o,e.y=(r-i.top)*(this.domElement.height/i.height)*o}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,i=e.changedTouches.length;r<i;r++){const o=e.changedTouches[r];typeof o.button>"u"&&(o.button=0),typeof o.buttons>"u"&&(o.buttons=1),typeof o.isPrimary>"u"&&(o.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,o.type=e.type,t.push(o)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=MOUSE_POINTER_ID),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,t.push(r)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=TOUCH_TO_POINTER[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}}EventSystem.extension={name:"events",type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem]};extensions$1.add(EventSystem);const FederatedDisplayObject={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(n,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,i=typeof e=="function"?void 0:e;n=r?`${n}capture`:n,e=typeof e=="function"?e:e.handleEvent,this.on(n,e,i)},removeEventListener(n,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,i=typeof e=="function"?void 0:e;n=r?`${n}capture`:n,e=typeof e=="function"?e:e.handleEvent,this.off(n,e,i)},dispatchEvent(n){if(!(n instanceof FederatedEvent))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return n.defaultPrevented=!1,n.path=null,n.target=this,n.manager.dispatchEvent(n),!n.defaultPrevented}};DisplayObject.mixin(FederatedDisplayObject);const accessibleTarget={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};DisplayObject.mixin(accessibleTarget);const KEY_CODE_TAB=9,DIV_TOUCH_SIZE=100,DIV_TOUCH_POS_X=0,DIV_TOUCH_POS_Y=0,DIV_TOUCH_ZINDEX=2,DIV_HOOK_SIZE=1,DIV_HOOK_POS_X=-1e3,DIV_HOOK_POS_Y=-1e3,DIV_HOOK_ZINDEX=2;class AccessibilityManager{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(isMobile.tablet||isMobile.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width=`${DIV_TOUCH_SIZE}px`,t.style.height=`${DIV_TOUCH_SIZE}px`,t.style.position="absolute",t.style.top=`${DIV_TOUCH_POS_X}px`,t.style.left=`${DIV_TOUCH_POS_Y}px`,t.style.zIndex=DIV_TOUCH_ZINDEX.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${DIV_HOOK_SIZE}px`,e.style.height=`${DIV_HOOK_SIZE}px`,e.style.position="absolute",e.style.top=`${DIV_HOOK_POS_X}px`,e.style.left=`${DIV_HOOK_POS_Y}px`,e.style.zIndex=DIV_HOOK_ZINDEX.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let r=0;r<t.length;r++)this.updateAccessibleObjects(t[r])}update(){const e=performance.now();if(isMobile.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:r,width:i,height:o}=this.renderer.view.getBoundingClientRect(),{width:s,height:a,resolution:c}=this.renderer,l=i/s*c,u=o/a*c;let h=this.div;h.style.left=`${t}px`,h.style.top=`${r}px`,h.style.width=`${s}px`,h.style.height=`${a}px`;for(let d=0;d<this.children.length;d++){const p=this.children[d];if(p.renderId!==this.renderId)p._accessibleActive=!1,removeItems(this.children,d,1),this.div.removeChild(p._accessibleDiv),this.pool.push(p._accessibleDiv),p._accessibleDiv=null,d--;else{h=p._accessibleDiv;let f=p.hitArea;const m=p.worldTransform;p.hitArea?(h.style.left=`${(m.tx+f.x*m.a)*l}px`,h.style.top=`${(m.ty+f.y*m.d)*u}px`,h.style.width=`${f.width*m.a*l}px`,h.style.height=`${f.height*m.d*u}px`):(f=p.getBounds(),this.capHitArea(f),h.style.left=`${f.x*l}px`,h.style.top=`${f.y*u}px`,h.style.width=`${f.width*l}px`,h.style.height=`${f.height*u}px`,h.title!==p.accessibleTitle&&p.accessibleTitle!==null&&(h.title=p.accessibleTitle),h.getAttribute("aria-label")!==p.accessibleHint&&p.accessibleHint!==null&&h.setAttribute("aria-label",p.accessibleHint)),(p.accessibleTitle!==h.title||p.tabIndex!==h.tabIndex)&&(h.title=p.accessibleTitle,h.tabIndex=p.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:r}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=`${DIV_TOUCH_SIZE}px`,t.style.height=`${DIV_TOUCH_SIZE}px`,t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=DIV_TOUCH_ZINDEX.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?t.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:r}=e.target,i=this.renderer.events.rootBoundary,o=Object.assign(new FederatedEvent(i),{target:r});i.rootTarget=this.renderer.lastObjectRendered,t.forEach(s=>i.dispatchEvent(o,s))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===KEY_CODE_TAB&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}AccessibilityManager.extension={name:"accessibility",type:[ExtensionType.RendererPlugin,ExtensionType.CanvasRendererPlugin]};extensions$1.add(AccessibilityManager);const _Application=class{constructor(n){this.stage=new Container,n=Object.assign({forceCanvas:!1},n),this.renderer=autoDetectRenderer(n),_Application._plugins.forEach(e=>{e.init.call(this,n)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(n,e){const t=_Application._plugins.slice(0);t.reverse(),t.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(n),this.renderer=null}};let Application=_Application;Application._plugins=[];extensions$1.handleByList(ExtensionType.Application,Application._plugins);class ResizePlugin{static init(e){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let t,r;if(this._resizeTo===globalThis.window)t=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:o}=this._resizeTo;t=i,r=o}this.renderer.resize(t,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}ResizePlugin.extension=ExtensionType.Application;extensions$1.add(ResizePlugin);const assetKeyMap={loader:ExtensionType.LoadParser,resolver:ExtensionType.ResolveParser,cache:ExtensionType.CacheParser,detection:ExtensionType.DetectionParser};extensions$1.handle(ExtensionType.Asset,n=>{const e=n.ref;Object.entries(assetKeyMap).filter(([t])=>!!e[t]).forEach(([t,r])=>extensions$1.add(Object.assign(e[t],{extension:e[t].extension??r})))},n=>{const e=n.ref;Object.keys(assetKeyMap).filter(t=>!!e[t]).forEach(t=>extensions$1.remove(e[t]))});class BackgroundLoader{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<t;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function checkDataUrl(n,e){if(Array.isArray(e)){for(const t of e)if(n.startsWith(`data:${t}`))return!0;return!1}return n.startsWith(`data:${e}`)}function checkExtension(n,e){const t=n.split("?")[0],r=path.extname(t).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const convertToList=(n,e)=>(Array.isArray(n)||(n=[n]),e?n.map(t=>typeof t=="string"?e(t):t):n),copySearchParams=(n,e)=>{const t=e.split("?")[1];return t&&(n+=`?${t}`),n};function processX(n,e,t,r,i){const o=e[t];for(let s=0;s<o.length;s++){const a=o[s];t<e.length-1?processX(n.replace(r[t],a),e,t+1,r,i):i.push(n.replace(r[t],a))}}function createStringVariations(n){const e=/\{(.*?)\}/g,t=n.match(e),r=[];if(t){const i=[];t.forEach(o=>{const s=o.substring(1,o.length-1).split(",");i.push(s)}),processX(n,i,0,t,r)}else r.push(n);return r}const isSingleItem=n=>!Array.isArray(n);class CacheClass{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const r=convertToList(e);let i;for(let a=0;a<this.parsers.length;a++){const c=this.parsers[a];if(c.test(t)){i=c.getCacheableAssets(r,t);break}}i||(i={},r.forEach(a=>{i[a]=t}));const o=Object.keys(i),s={cacheKeys:o,keys:r};if(r.forEach(a=>{this._cacheMap.set(a,s)}),o.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==t&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),t instanceof Texture){const a=t;r.forEach(c=>{a.baseTexture!==Texture.EMPTY.baseTexture&&BaseTexture.addToCache(a.baseTexture,c),Texture.addToCache(a,c)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(i=>{this._cache.delete(i)}),t.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Cache=new CacheClass;class Loader{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,t){const r={promise:null,parser:null};return r.promise=(async()=>{var o,s;let i=null;for(let a=0;a<this.parsers.length;a++){const c=this.parsers[a];if(c.load&&((o=c.test)!=null&&o.call(c,e,t,this))){i=await c.load(e,t,this),r.parser=c;break}}if(!r.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let a=0;a<this.parsers.length;a++){const c=this.parsers[a];c.parse&&c.parse&&await((s=c.testParse)==null?void 0:s.call(c,i,t,this))&&(i=await c.parse(i,t,this)||i,r.parser=c)}return i})(),r}async load(e,t){let r=0;const i={},o=isSingleItem(e),s=convertToList(e,l=>({src:l})),a=s.length,c=s.map(async l=>{const u=path.toAbsolute(l.src);if(!i[l.src])try{this.promiseCache[u]||(this.promiseCache[u]=this._getLoadPromiseAndParser(u,l)),i[l.src]=await this.promiseCache[u].promise,t&&t(++r/a)}catch(h){throw delete this.promiseCache[u],delete i[l.src],new Error(`[Loader.load] Failed to load ${u}.
${h}`)}});return await Promise.all(c),o?i[s[0].src]:i}async unload(e){const r=convertToList(e,i=>({src:i})).map(async i=>{var a,c;const o=path.toAbsolute(i.src),s=this.promiseCache[o];if(s){const l=await s.promise;(c=(a=s.parser)==null?void 0:a.unload)==null||c.call(a,l,i,this),delete this.promiseCache[o]}});await Promise.all(r)}get parsers(){return this._parsers}}var LoaderParserPriority=(n=>(n[n.Low=0]="Low",n[n.Normal=1]="Normal",n[n.High=2]="High",n))(LoaderParserPriority||{});const loadJson={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Low},test(n){return path.extname(n).toLowerCase()===".json"},async load(n){return await(await settings.ADAPTER.fetch(n)).json()}};extensions$1.add(loadJson);const loadTxt={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Low},test(n){return path.extname(n).toLowerCase()===".txt"},async load(n){return await(await settings.ADAPTER.fetch(n)).text()}};extensions$1.add(loadTxt);const validWeights=["normal","bold","100","200","300","400","500","600","700","800","900"],validFontExtensions=[".ttf",".otf",".woff",".woff2"],validFontMIMEs=["font/ttf","font/otf","font/woff","font/woff2"];function getFontFamilyName(n){const e=path.extname(n);return path.basename(n,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}const loadWebFont={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Low},test(n){return checkDataUrl(n,validFontMIMEs)||checkExtension(n,validFontExtensions)},async load(n,e){var r,i,o;const t=settings.ADAPTER.getFontFaceSet();if(t){const s=[],a=((r=e.data)==null?void 0:r.family)??getFontFamilyName(n),c=((o=(i=e.data)==null?void 0:i.weights)==null?void 0:o.filter(u=>validWeights.includes(u)))??["normal"],l=e.data??{};for(let u=0;u<c.length;u++){const h=c[u],d=new FontFace(a,`url(${encodeURI(n)})`,{...l,weight:h});await d.load(),t.add(d),s.push(d)}return s.length===1?s[0]:s}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(n){(Array.isArray(n)?n:[n]).forEach(e=>settings.ADAPTER.getFontFaceSet().delete(e))}};extensions$1.add(loadWebFont);let UUID=0,MAX_WORKERS;const WHITE_PNG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",checkImageBitmapCode={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${WHITE_PNG}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},workerCode={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let workerURL;class WorkerManagerClass{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const t=URL.createObjectURL(new Blob([checkImageBitmapCode.code],{type:"application/javascript"})),r=new Worker(t);r.addEventListener("message",i=>{r.terminate(),URL.revokeObjectURL(t),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){MAX_WORKERS===void 0&&(MAX_WORKERS=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<MAX_WORKERS&&(workerURL||(workerURL=URL.createObjectURL(new Blob([workerCode.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(workerURL),e.addEventListener("message",t=>{this.complete(t.data),this.returnWorker(t.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const r=new Promise((i,o)=>{this.queue.push({id:e,arguments:t,resolve:i,reject:o})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),r=t.id;this.resolveHash[UUID]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:UUID++,id:r})}}const WorkerManager=new WorkerManagerClass;function createTexture(n,e,t){const r=new Texture(n);return r.baseTexture.on("dispose",()=>{delete e.promiseCache[t]}),r}const validImageExtensions=[".jpeg",".jpg",".png",".webp",".avif"],validImageMIMEs=["image/jpeg","image/png","image/webp","image/avif"];async function loadImageBitmap(n){const e=await settings.ADAPTER.fetch(n);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${n}: ${e.status} ${e.statusText}`);const t=await e.blob();return await createImageBitmap(t)}const loadTextures={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.High},config:{preferWorkers:!0},test(n){return checkDataUrl(n,validImageMIMEs)||checkExtension(n,validImageExtensions)},async load(n,e,t){let r=null;globalThis.createImageBitmap?this.config.preferWorkers&&await WorkerManager.isImageBitmapSupported()?r=await WorkerManager.loadImageBitmap(n):r=await loadImageBitmap(n):r=await new Promise(o=>{r=new Image,r.crossOrigin="anonymous",r.src=n,r.complete?o(r):r.onload=()=>{o(r)}});const i=new BaseTexture(r,{resolution:getResolutionOfUrl(n),...e.data});return i.resource.src=n,createTexture(i,t,n)},unload(n){n.destroy(!0)}};extensions$1.add(loadTextures);const loadSVG={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.High},test(n){return path.extname(n).toLowerCase()===".svg"},async testParse(n){return SVGResource.test(n)},async parse(n,e,t){var s,a,c;const r=new SVGResource(n,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions),i=new BaseTexture(r,{resolution:getResolutionOfUrl(n),...e==null?void 0:e.data});i.resource.src=n;const o=createTexture(i,t,n);return(c=(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions)!=null&&c.autoLoad||await r.load(),o},async load(n,e){return(await settings.ADAPTER.fetch(n)).text()},unload:loadTextures.unload};extensions$1.add(loadSVG);class Resolver{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const r=[];Array.isArray(t)?t.forEach(i=>{if(typeof i.name=="string"){const o=this._createBundleAssetId(e,i.name);r.push(o),this.add([i.name,o],i.srcs,i.data)}else{const o=i.name.map(s=>this._createBundleAssetId(e,s));o.forEach(s=>{r.push(s)}),this.add([...i.name,...o],i.srcs)}}):Object.keys(t).forEach(i=>{r.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],t[i])}),this._bundles[e]=r}add(e,t,r){const i=convertToList(e);i.forEach(s=>{this.hasKey(s)&&console.warn(`[Resolver] already has key: ${s} overwriting`)}),Array.isArray(t)||(typeof t=="string"?t=createStringVariations(t):t=[t]);const o=t.map(s=>{let a=s;if(typeof s=="string"){let c=!1;for(let l=0;l<this._parsers.length;l++){const u=this._parsers[l];if(u.test(s)){a=u.parse(s),c=!0;break}}c||(a={src:s})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=path.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??r,a});i.forEach(s=>{this._assetMap[s]=o})}resolveBundle(e){const t=isSingleItem(e);e=convertToList(e);const r={};return e.forEach(i=>{const o=this._bundles[i];if(o){const s=this.resolve(o),a={};for(const c in s){const l=s[c];a[this._extractAssetIdFromBundle(i,c)]=l}r[i]=a}}),t?r[e[0]]:r}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const r={};for(const i in t)r[i]=t[i].src;return r}return t.src}resolve(e){const t=isSingleItem(e);e=convertToList(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let o=this._assetMap[i];const s=this._getPreferredOrder(o),a=o[0];s==null||s.priority.forEach(c=>{s.params[c].forEach(l=>{const u=o.filter(h=>h[c]?h[c]===l:!1);u.length&&(o=u)})}),this._resolverHash[i]=o[0]??a}else{let o=i;(this._basePath||this._rootPath)&&(o=path.toAbsolute(o,this._basePath,this._rootPath)),o=this._appendDefaultSearchParams(o),this._resolverHash[i]={src:o}}r[i]=this._resolverHash[i]}),t?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const r=e[0],i=this._preferredOrder.find(o=>o.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}}class AssetsClass{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Resolver,this.loader=new Loader,this.cache=Cache,this._backgroundLoader=new BackgroundLoader(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var o,s,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let c=e.manifest;typeof c=="string"&&(c=await this.load(c)),this.resolver.addManifest(c)}const t=((o=e.texturePreference)==null?void 0:o.resolution)??1,r=typeof t=="number"?[t]:t;let i=[];if((s=e.texturePreference)!=null&&s.format){const c=(a=e.texturePreference)==null?void 0:a.format;i=typeof c=="string"?[c]:c;for(const l of this._detections)await l.test()||(i=await l.remove(i))}else for(const c of this._detections)await c.test()&&(i=await c.add(i));this.resolver.prefer({params:{format:i,resolution:r}})}add(e,t,r){this.resolver.add(e,t,r)}async load(e,t){this._initialized||await this.init();const r=isSingleItem(e),i=convertToList(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),o=this.resolver.resolve(i),s=await this._mapLoadToResolve(o,t);return r?s[i[0]]:s}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),o={},s=Object.keys(i);let a=0,c=0;const l=()=>{t==null||t(++a/c)},u=s.map(h=>{const d=i[h];return c+=Object.keys(d).length,this._mapLoadToResolve(d,l).then(p=>{o[h]=p})});return await Promise.all(u),r?o[e[0]]:o}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Cache.get(e);const t={};for(let r=0;r<e.length;r++)t[r]=Cache.get(e[r]);return t}async _mapLoadToResolve(e,t){const r=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const o=await this.loader.load(r,t);this._backgroundLoader.active=!0;const s={};return r.forEach((a,c)=>{const l=o[a.src],u=[a.src];a.alias&&u.push(...a.alias),s[i[c]]=l,Cache.set(u,l)}),s}async unload(e){this._initialized||await this.init();const t=convertToList(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(t);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=convertToList(e);const t=this.resolver.resolveBundle(e),r=Object.keys(t).map(i=>this._unloadFromResolved(t[i]));await Promise.all(r)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(r=>{Cache.remove(r.src)}),await this.loader.unload(t)}get detections(){return this._detections}get preferWorkers(){return loadTextures.config.preferWorkers}set preferWorkers(e){loadTextures.config.preferWorkers=e}}const Assets=new AssetsClass;extensions$1.handleByList(ExtensionType.LoadParser,Assets.loader.parsers).handleByList(ExtensionType.ResolveParser,Assets.resolver.parsers).handleByList(ExtensionType.CacheParser,Assets.cache.parsers).handleByList(ExtensionType.DetectionParser,Assets.detections);const cacheTextureArray={extension:ExtensionType.CacheParser,test:n=>Array.isArray(n)&&n.every(e=>e instanceof Texture),getCacheableAssets:(n,e)=>{const t={};return n.forEach(r=>{e.forEach((i,o)=>{t[r+(o===0?"":o+1)]=i})}),t}};extensions$1.add(cacheTextureArray);const detectAvif={extension:{type:ExtensionType.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const n="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await settings.ADAPTER.fetch(n).then(t=>t.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async n=>[...n,"avif"],remove:async n=>n.filter(e=>e!=="avif")};extensions$1.add(detectAvif);const detectWebp={extension:{type:ExtensionType.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const n="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await settings.ADAPTER.fetch(n).then(t=>t.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async n=>[...n,"webp"],remove:async n=>n.filter(e=>e!=="webp")};extensions$1.add(detectWebp);const imageFormats=["png","jpg","jpeg"],detectDefaults={extension:{type:ExtensionType.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async n=>[...n,...imageFormats],remove:async n=>n.filter(e=>!imageFormats.includes(e))};extensions$1.add(detectDefaults);const resolveTextureUrl={extension:ExtensionType.ResolveParser,test:loadTextures.test,parse:n=>{var e;return{resolution:parseFloat(((e=settings.RETINA_PREFIX.exec(n))==null?void 0:e[1])??"1"),format:n.split(".").pop(),src:n}}};extensions$1.add(resolveTextureUrl);var INTERNAL_FORMATS=(n=>(n[n.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",n[n.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",n[n.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",n[n.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",n[n.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",n[n.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",n[n.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",n[n.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",n[n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",n[n.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",n[n.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",n[n.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",n))(INTERNAL_FORMATS||{});const INTERNAL_FORMAT_TO_BYTES_PER_PIXEL={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1};let storedGl,extensions;function getCompressedTextureExtensions(){extensions={s3tc:storedGl.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:storedGl.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:storedGl.getExtension("WEBGL_compressed_texture_etc"),etc1:storedGl.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:storedGl.getExtension("WEBGL_compressed_texture_pvrtc")||storedGl.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:storedGl.getExtension("WEBGL_compressed_texture_atc"),astc:storedGl.getExtension("WEBGL_compressed_texture_astc")}}const detectCompressedTextures={extension:{type:ExtensionType.DetectionParser,priority:2},test:async()=>{const e=settings.ADAPTER.createCanvas().getContext("webgl");return e?(storedGl=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async n=>{extensions||getCompressedTextureExtensions();const e=[];for(const t in extensions)extensions[t]&&e.push(t);return[...e,...n]},remove:async n=>(extensions||getCompressedTextureExtensions(),n.filter(e=>!(e in extensions)))};extensions$1.add(detectCompressedTextures);class BlobResource extends BufferResource{constructor(e,t={width:1,height:1,autoLoad:!0}){let r,i;typeof e=="string"?(r=e,i=new Uint8Array):(r=null,i=e),super(i,t),this.origin=r,this.buffer=i?new ViewableBuffer(i):null,this.origin&&t.autoLoad!==!1&&this.load(),i!=null&&i.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const r=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(r),this.buffer=new ViewableBuffer(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),this}}class CompressedTextureResource extends BlobResource{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=CompressedTextureResource._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||CompressedTextureResource._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,r){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let s=0,a=this.levels;s<a;s++){const{levelID:c,levelWidth:l,levelHeight:u,levelBuffer:h}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,c,this.format,l,u,0,h)}return!0}onBlobLoaded(){this._levelBuffers=CompressedTextureResource._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,t,r,i,o,s,a){const c=new Array(r);let l=e.byteOffset,u=s,h=a,d=u+i-1&~(i-1),p=h+o-1&~(o-1),f=d*p*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t];for(let m=0;m<r;m++)c[m]={levelID:m,levelWidth:r>1?u:d,levelHeight:r>1?h:p,levelBuffer:new Uint8Array(e.buffer,l,f)},l+=f,u=u>>1||1,h=h>>1||1,d=u+i-1&~(i-1),p=h+o-1&~(o-1),f=d*p*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t];return c}}const DDS_MAGIC_SIZE=4,DDS_HEADER_SIZE=124,DDS_HEADER_PF_SIZE=32,DDS_HEADER_DX10_SIZE=20,DDS_MAGIC=542327876,DDS_FIELDS={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},DDS_PF_FIELDS={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},DDS_DX10_FIELDS={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},PF_FLAGS=1,DDPF_ALPHA=2,DDPF_FOURCC=4,DDPF_RGB=64,DDPF_YUV=512,DDPF_LUMINANCE=131072,FOURCC_DXT1=827611204,FOURCC_DXT3=861165636,FOURCC_DXT5=894720068,FOURCC_DX10=808540228,DDS_RESOURCE_MISC_TEXTURECUBE=4,FOURCC_TO_FORMAT={[FOURCC_DXT1]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,[FOURCC_DXT3]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,[FOURCC_DXT5]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT},DXGI_TO_FORMAT={[70]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,[77]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function parseDDS(n){const e=new Uint32Array(n);if(e[0]!==DDS_MAGIC)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(n,0,DDS_HEADER_SIZE/Uint32Array.BYTES_PER_ELEMENT),i=r[DDS_FIELDS.HEIGHT],o=r[DDS_FIELDS.WIDTH],s=r[DDS_FIELDS.MIPMAP_COUNT],a=new Uint32Array(n,DDS_FIELDS.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,DDS_HEADER_PF_SIZE/Uint32Array.BYTES_PER_ELEMENT),c=a[PF_FLAGS];if(c&DDPF_FOURCC){const l=a[DDS_PF_FIELDS.FOURCC];if(l!==FOURCC_DX10){const A=FOURCC_TO_FORMAT[l],x=DDS_MAGIC_SIZE+DDS_HEADER_SIZE,S=new Uint8Array(n,x);return[new CompressedTextureResource(S,{format:A,width:o,height:i,levels:s})]}const u=DDS_MAGIC_SIZE+DDS_HEADER_SIZE,h=new Uint32Array(e.buffer,u,DDS_HEADER_DX10_SIZE/Uint32Array.BYTES_PER_ELEMENT),d=h[DDS_DX10_FIELDS.DXGI_FORMAT],p=h[DDS_DX10_FIELDS.RESOURCE_DIMENSION],f=h[DDS_DX10_FIELDS.MISC_FLAG],m=h[DDS_DX10_FIELDS.ARRAY_SIZE],g=DXGI_TO_FORMAT[d];if(g===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${d}`);if(f===DDS_RESOURCE_MISC_TEXTURECUBE)throw new Error("DDSParser does not support cubemap textures");if(p===6)throw new Error("DDSParser does not supported 3D texture data");const v=new Array,y=DDS_MAGIC_SIZE+DDS_HEADER_SIZE+DDS_HEADER_DX10_SIZE;if(m===1)v.push(new Uint8Array(n,y));else{const A=INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[g];let x=0,S=o,E=i;for(let k=0;k<s;k++){const Z=Math.max(1,S+3&-4),L=Math.max(1,E+3&-4),G=Z*L*A;x+=G,S=S>>>1,E=E>>>1}let w=y;for(let k=0;k<m;k++)v.push(new Uint8Array(n,w,x)),w+=x}return v.map(A=>new CompressedTextureResource(A,{format:g,width:o,height:i,levels:s}))}throw c&DDPF_RGB?new Error("DDSParser does not support uncompressed texture data."):c&DDPF_YUV?new Error("DDSParser does not supported YUV uncompressed texture data."):c&DDPF_LUMINANCE?new Error("DDSParser does not support single-channel (lumninance) texture data!"):c&DDPF_ALPHA?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const FILE_IDENTIFIER=[171,75,84,88,32,49,49,187,13,10,26,10],ENDIANNESS=67305985,KTX_FIELDS={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},FILE_HEADER_SIZE=64,TYPES_TO_BYTES_PER_COMPONENT={[TYPES.UNSIGNED_BYTE]:1,[TYPES.UNSIGNED_SHORT]:2,[TYPES.INT]:4,[TYPES.UNSIGNED_INT]:4,[TYPES.FLOAT]:4,[TYPES.HALF_FLOAT]:8},FORMATS_TO_COMPONENTS={[FORMATS.RGBA]:4,[FORMATS.RGB]:3,[FORMATS.RG]:2,[FORMATS.RED]:1,[FORMATS.LUMINANCE]:1,[FORMATS.LUMINANCE_ALPHA]:2,[FORMATS.ALPHA]:1},TYPES_TO_BYTES_PER_PIXEL={[TYPES.UNSIGNED_SHORT_4_4_4_4]:2,[TYPES.UNSIGNED_SHORT_5_5_5_1]:2,[TYPES.UNSIGNED_SHORT_5_6_5]:2};function parseKTX(n,e,t=!1){const r=new DataView(e);if(!validate(n,r))return null;const i=r.getUint32(KTX_FIELDS.ENDIANNESS,!0)===ENDIANNESS,o=r.getUint32(KTX_FIELDS.GL_TYPE,i),s=r.getUint32(KTX_FIELDS.GL_FORMAT,i),a=r.getUint32(KTX_FIELDS.GL_INTERNAL_FORMAT,i),c=r.getUint32(KTX_FIELDS.PIXEL_WIDTH,i),l=r.getUint32(KTX_FIELDS.PIXEL_HEIGHT,i)||1,u=r.getUint32(KTX_FIELDS.PIXEL_DEPTH,i)||1,h=r.getUint32(KTX_FIELDS.NUMBER_OF_ARRAY_ELEMENTS,i)||1,d=r.getUint32(KTX_FIELDS.NUMBER_OF_FACES,i),p=r.getUint32(KTX_FIELDS.NUMBER_OF_MIPMAP_LEVELS,i),f=r.getUint32(KTX_FIELDS.BYTES_OF_KEY_VALUE_DATA,i);if(l===0||u!==1)throw new Error("Only 2D textures are supported");if(d!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(h!==1)throw new Error("WebGL does not support array textures");const m=4,g=4,v=c+3&-4,y=l+3&-4,A=new Array(h);let x=c*l;o===0&&(x=v*y);let S;if(o!==0?TYPES_TO_BYTES_PER_COMPONENT[o]?S=TYPES_TO_BYTES_PER_COMPONENT[o]*FORMATS_TO_COMPONENTS[s]:S=TYPES_TO_BYTES_PER_PIXEL[o]:S=INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[a],S===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const E=t?parseKvData(r,f,i):null;let k=x*S,Z=c,L=l,G=v,j=y,M=FILE_HEADER_SIZE+f;for(let T=0;T<p;T++){const P=r.getUint32(M,i);let U=M+4;for(let N=0;N<h;N++){let $=A[N];$||($=A[N]=new Array(p)),$[T]={levelID:T,levelWidth:p>1||o!==0?Z:G,levelHeight:p>1||o!==0?L:j,levelBuffer:new Uint8Array(e,U,k)},U+=k}M+=P+4,M=M%4!==0?M+4-M%4:M,Z=Z>>1||1,L=L>>1||1,G=Z+m-1&~(m-1),j=L+g-1&~(g-1),k=G*j*S}return o!==0?{uncompressed:A.map(T=>{let P=T[0].levelBuffer,U=!1;return o===TYPES.FLOAT?P=new Float32Array(T[0].levelBuffer.buffer,T[0].levelBuffer.byteOffset,T[0].levelBuffer.byteLength/4):o===TYPES.UNSIGNED_INT?(U=!0,P=new Uint32Array(T[0].levelBuffer.buffer,T[0].levelBuffer.byteOffset,T[0].levelBuffer.byteLength/4)):o===TYPES.INT&&(U=!0,P=new Int32Array(T[0].levelBuffer.buffer,T[0].levelBuffer.byteOffset,T[0].levelBuffer.byteLength/4)),{resource:new BufferResource(P,{width:T[0].levelWidth,height:T[0].levelHeight}),type:o,format:U?convertFormatToInteger(s):s}}),kvData:E}:{compressed:A.map(T=>new CompressedTextureResource(null,{format:a,width:c,height:l,levels:p,levelBuffers:T})),kvData:E}}function validate(n,e){for(let t=0;t<FILE_IDENTIFIER.length;t++)if(e.getUint8(t)!==FILE_IDENTIFIER[t])return console.error(`${n} is not a valid *.ktx file!`),!1;return!0}function convertFormatToInteger(n){switch(n){case FORMATS.RGBA:return FORMATS.RGBA_INTEGER;case FORMATS.RGB:return FORMATS.RGB_INTEGER;case FORMATS.RG:return FORMATS.RG_INTEGER;case FORMATS.RED:return FORMATS.RED_INTEGER;default:return n}}function parseKvData(n,e,t){const r=new Map;let i=0;for(;i<e;){const o=n.getUint32(FILE_HEADER_SIZE+i,t),s=FILE_HEADER_SIZE+i+4,a=3-(o+3)%4;if(o===0||o>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let c=0;for(;c<o&&n.getUint8(s+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const l=new TextDecoder().decode(new Uint8Array(n.buffer,s,c)),u=new DataView(n.buffer,s+c+1,o-c-1);r.set(l,u),i+=4+o+a}return r}const loadDDS={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.High},test(n){return checkExtension(n,".dds")},async load(n,e,t){const i=await(await settings.ADAPTER.fetch(n)).arrayBuffer(),s=parseDDS(i).map(a=>{const c=new BaseTexture(a,{mipmap:MIPMAP_MODES.OFF,alphaMode:ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:getResolutionOfUrl(n),...e.data});return createTexture(c,t,n)});return s.length===1?s[0]:s},unload(n){Array.isArray(n)?n.forEach(e=>e.destroy(!0)):n.destroy(!0)}};extensions$1.add(loadDDS);const loadKTX={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.High},test(n){return checkExtension(n,".ktx")},async load(n,e,t){const i=await(await settings.ADAPTER.fetch(n)).arrayBuffer(),{compressed:o,uncompressed:s,kvData:a}=parseKTX(n,i),c=o??s,l={mipmap:MIPMAP_MODES.OFF,alphaMode:ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:getResolutionOfUrl(n),...e.data},u=c.map(h=>{c===s&&Object.assign(l,{type:h.type,format:h.format});const d=new BaseTexture(h,l);return d.ktxKeyValueData=a,createTexture(d,t,n)});return u.length===1?u[0]:u},unload(n){Array.isArray(n)?n.forEach(e=>e.destroy(!0)):n.destroy(!0)}};extensions$1.add(loadKTX);const resolveCompressedTextureUrl={extension:ExtensionType.ResolveParser,test:n=>{const t=n.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(t)},parse:n=>{var r,i;if(n.split("?")[0].split(".").pop()==="ktx"){const o=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(o.some(s=>n.endsWith(s)))return{resolution:parseFloat(((r=settings.RETINA_PREFIX.exec(n))==null?void 0:r[1])??"1"),format:o.find(s=>n.endsWith(s)),src:n}}return{resolution:parseFloat(((i=settings.RETINA_PREFIX.exec(n))==null?void 0:i[1])??"1"),format:n.split(".").pop(),src:n}}};extensions$1.add(resolveCompressedTextureUrl);const TEMP_RECT=new Rectangle,BYTES_PER_PIXEL=4,_Extract=class{constructor(n){this.renderer=n}async image(n,e,t){const r=new Image;return r.src=await this.base64(n,e,t),r}async base64(n,e,t){const r=this.canvas(n);if(r.toDataURL!==void 0)return r.toDataURL(e,t);if(r.convertToBlob!==void 0){const i=await r.convertToBlob({type:e,quality:t});return await new Promise(o=>{const s=new FileReader;s.onload=()=>o(s.result),s.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(n,e){const{pixels:t,width:r,height:i,flipY:o}=this._rawPixels(n,e);let s=new CanvasRenderTarget(r,i,1);const a=s.context.getImageData(0,0,r,i);if(_Extract.arrayPostDivide(t,a.data),s.context.putImageData(a,0,0),o){const c=new CanvasRenderTarget(s.width,s.height,1);c.context.scale(1,-1),c.context.drawImage(s.canvas,0,-i),s.destroy(),s=c}return s.canvas}pixels(n,e){const{pixels:t}=this._rawPixels(n,e);return _Extract.arrayPostDivide(t,t),t}_rawPixels(n,e){const t=this.renderer;let r,i=!1,o,s=!1;if(n)if(n instanceof RenderTexture)o=n;else{const h=t.context.webGLVersion>=2?t.multisample:MSAA_QUALITY.NONE;if(o=this.renderer.generateTexture(n,{multisample:h}),h!==MSAA_QUALITY.NONE){const d=RenderTexture.create({width:o.width,height:o.height});t.framebuffer.bind(o.framebuffer),t.framebuffer.blit(d.framebuffer),t.framebuffer.bind(null),o.destroy(!0),o=d}s=!0}o?(r=o.baseTexture.resolution,e=e??o.frame,i=!1,t.renderTexture.bind(o)):(r=t.resolution,e||(e=TEMP_RECT,e.width=t.width,e.height=t.height),i=!0,t.renderTexture.bind(null));const a=Math.round(e.width*r),c=Math.round(e.height*r),l=new Uint8Array(BYTES_PER_PIXEL*a*c),u=t.gl;return u.readPixels(Math.round(e.x*r),Math.round(e.y*r),a,c,u.RGBA,u.UNSIGNED_BYTE,l),s&&o.destroy(!0),{pixels:l,width:a,height:c,flipY:i}}destroy(){this.renderer=null}static arrayPostDivide(n,e){for(let t=0;t<n.length;t+=4){const r=e[t+3]=n[t+3];r!==0?(e[t]=Math.round(Math.min(n[t]*255/r,255)),e[t+1]=Math.round(Math.min(n[t+1]*255/r,255)),e[t+2]=Math.round(Math.min(n[t+2]*255/r,255))):(e[t]=n[t],e[t+1]=n[t+1],e[t+2]=n[t+2])}}};let Extract=_Extract;Extract.extension={name:"extract",type:ExtensionType.RendererSystem};extensions$1.add(Extract);const buildCircle={build(n){const e=n.points;let t,r,i,o,s,a;if(n.type===SHAPES.CIRC){const f=n.shape;t=f.x,r=f.y,s=a=f.radius,i=o=0}else if(n.type===SHAPES.ELIP){const f=n.shape;t=f.x,r=f.y,s=f.width,a=f.height,i=o=0}else{const f=n.shape,m=f.width/2,g=f.height/2;t=f.x+m,r=f.y+g,s=a=Math.max(0,Math.min(f.radius,Math.min(m,g))),i=m-s,o=g-a}if(!(s>=0&&a>=0&&i>=0&&o>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(s+a)),l=c*8+(i?4:0)+(o?4:0);if(e.length=l,l===0)return;if(c===0){e.length=8,e[0]=e[6]=t+i,e[1]=e[3]=r+o,e[2]=e[4]=t-i,e[5]=e[7]=r-o;return}let u=0,h=c*4+(i?2:0)+2,d=h,p=l;{const f=i+s,m=o,g=t+f,v=t-f,y=r+m;if(e[u++]=g,e[u++]=y,e[--h]=y,e[--h]=v,o){const A=r-m;e[d++]=v,e[d++]=A,e[--p]=A,e[--p]=g}}for(let f=1;f<c;f++){const m=Math.PI/2*(f/c),g=i+Math.cos(m)*s,v=o+Math.sin(m)*a,y=t+g,A=t-g,x=r+v,S=r-v;e[u++]=y,e[u++]=x,e[--h]=x,e[--h]=A,e[d++]=A,e[d++]=S,e[--p]=S,e[--p]=y}{const f=i,m=o+a,g=t+f,v=t-f,y=r+m,A=r-m;e[u++]=g,e[u++]=y,e[--p]=A,e[--p]=g,i&&(e[u++]=v,e[u++]=y,e[--p]=A,e[--p]=v)}},triangulate(n,e){const t=n.points,r=e.points,i=e.indices;if(t.length===0)return;let o=r.length/2;const s=o;let a,c;if(n.type!==SHAPES.RREC){const u=n.shape;a=u.x,c=u.y}else{const u=n.shape;a=u.x+u.width/2,c=u.y+u.height/2}const l=n.matrix;r.push(n.matrix?l.a*a+l.c*c+l.tx:a,n.matrix?l.b*a+l.d*c+l.ty:c),o++,r.push(t[0],t[1]);for(let u=2;u<t.length;u+=2)r.push(t[u],t[u+1]),i.push(o++,s,o);i.push(s+1,s,o)}};function fixOrientation(n,e=!1){const t=n.length;if(t<6)return;let r=0;for(let i=0,o=n[t-2],s=n[t-1];i<t;i+=2){const a=n[i],c=n[i+1];r+=(a-o)*(c+s),o=a,s=c}if(!e&&r>0||e&&r<=0){const i=t/2;for(let o=i+i%2;o<t;o+=2){const s=t-o-2,a=t-o-1,c=o,l=o+1;[n[s],n[c]]=[n[c],n[s]],[n[a],n[l]]=[n[l],n[a]]}}}const buildPoly={build(n){n.points=n.shape.points.slice()},triangulate(n,e){let t=n.points;const r=n.holes,i=e.points,o=e.indices;if(t.length>=6){fixOrientation(t,!1);const s=[];for(let l=0;l<r.length;l++){const u=r[l];fixOrientation(u.points,!0),s.push(t.length/2),t=t.concat(u.points)}const a=earcutExports(t,s,2);if(!a)return;const c=i.length/2;for(let l=0;l<a.length;l+=3)o.push(a[l]+c),o.push(a[l+1]+c),o.push(a[l+2]+c);for(let l=0;l<t.length;l++)i.push(t[l])}}},buildRectangle={build(n){const e=n.shape,t=e.x,r=e.y,i=e.width,o=e.height,s=n.points;s.length=0,i>=0&&o>=0&&s.push(t,r,t+i,r,t+i,r+o,t,r+o)},triangulate(n,e){const t=n.points,r=e.points;if(t.length===0)return;const i=r.length/2;r.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},buildRoundedRectangle={build(n){buildCircle.build(n)},triangulate(n,e){buildCircle.triangulate(n,e)}};var LINE_JOIN=(n=>(n.MITER="miter",n.BEVEL="bevel",n.ROUND="round",n))(LINE_JOIN||{}),LINE_CAP=(n=>(n.BUTT="butt",n.ROUND="round",n.SQUARE="square",n))(LINE_CAP||{});const curves={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(n,e=20){if(!this.adaptive||!n||isNaN(n))return e;let t=Math.ceil(n/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}};class ArcUtils{static curveTo(e,t,r,i,o,s){const a=s[s.length-2],l=s[s.length-1]-t,u=a-e,h=i-t,d=r-e,p=Math.abs(l*d-u*h);if(p<1e-8||o===0)return(s[s.length-2]!==e||s[s.length-1]!==t)&&s.push(e,t),null;const f=l*l+u*u,m=h*h+d*d,g=l*h+u*d,v=o*Math.sqrt(f)/p,y=o*Math.sqrt(m)/p,A=v*g/f,x=y*g/m,S=v*d+y*u,E=v*h+y*l,w=u*(y+A),k=l*(y+A),Z=d*(v+x),L=h*(v+x),G=Math.atan2(k-E,w-S),j=Math.atan2(L-E,Z-S);return{cx:S+e,cy:E+t,radius:o,startAngle:G,endAngle:j,anticlockwise:u*h>d*l}}static arc(e,t,r,i,o,s,a,c,l){const u=a-s,h=curves._segmentsCount(Math.abs(u)*o,Math.ceil(Math.abs(u)/PI_2)*40),d=u/(h*2),p=d*2,f=Math.cos(d),m=Math.sin(d),g=h-1,v=g%1/g;for(let y=0;y<=g;++y){const A=y+v*y,x=d+s+p*A,S=Math.cos(x),E=-Math.sin(x);l.push((f*S+m*E)*o+r,(f*-E+m*S)*o+i)}}}class BatchPart{constructor(){this.reset()}begin(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class BezierUtils{static curveLength(e,t,r,i,o,s,a,c){let u=0,h=0,d=0,p=0,f=0,m=0,g=0,v=0,y=0,A=0,x=0,S=e,E=t;for(let w=1;w<=10;++w)h=w/10,d=h*h,p=d*h,f=1-h,m=f*f,g=m*f,v=g*e+3*m*h*r+3*f*d*o+p*a,y=g*t+3*m*h*i+3*f*d*s+p*c,A=S-v,x=E-y,S=v,E=y,u+=Math.sqrt(A*A+x*x);return u}static curveTo(e,t,r,i,o,s,a){const c=a[a.length-2],l=a[a.length-1];a.length-=2;const u=curves._segmentsCount(BezierUtils.curveLength(c,l,e,t,r,i,o,s));let h=0,d=0,p=0,f=0,m=0;a.push(c,l);for(let g=1,v=0;g<=u;++g)v=g/u,h=1-v,d=h*h,p=d*h,f=v*v,m=f*v,a.push(p*c+3*d*v*e+3*h*f*r+m*o,p*l+3*d*v*t+3*h*f*i+m*s)}}function square(n,e,t,r,i,o,s,a){const c=n-t*i,l=e-r*i,u=n+t*o,h=e+r*o;let d,p;s?(d=r,p=-t):(d=-r,p=t);const f=c+d,m=l+p,g=u+d,v=h+p;return a.push(f,m),a.push(g,v),2}function round(n,e,t,r,i,o,s,a){const c=t-n,l=r-e;let u=Math.atan2(c,l),h=Math.atan2(i-n,o-e);a&&u<h?u+=Math.PI*2:!a&&u>h&&(h+=Math.PI*2);let d=u;const p=h-u,f=Math.abs(p),m=Math.sqrt(c*c+l*l),g=(15*f*Math.sqrt(m)/Math.PI>>0)+1,v=p/g;if(d+=v,a){s.push(n,e),s.push(t,r);for(let y=1,A=d;y<g;y++,A+=v)s.push(n,e),s.push(n+Math.sin(A)*m,e+Math.cos(A)*m);s.push(n,e),s.push(i,o)}else{s.push(t,r),s.push(n,e);for(let y=1,A=d;y<g;y++,A+=v)s.push(n+Math.sin(A)*m,e+Math.cos(A)*m),s.push(n,e);s.push(i,o),s.push(n,e)}return g*2}function buildNonNativeLine(n,e){const t=n.shape;let r=n.points||t.points.slice();const i=e.closePointEps;if(r.length===0)return;const o=n.lineStyle,s=new Point(r[0],r[1]),a=new Point(r[r.length-2],r[r.length-1]),c=t.type!==SHAPES.POLY||t.closeStroke,l=Math.abs(s.x-a.x)<i&&Math.abs(s.y-a.y)<i;if(c){r=r.slice(),l&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));const N=(s.x+a.x)*.5,$=(a.y+s.y)*.5;r.unshift(N,$),r.push(N,$)}const u=e.points,h=r.length/2;let d=r.length;const p=u.length/2,f=o.width/2,m=f*f,g=o.miterLimit*o.miterLimit;let v=r[0],y=r[1],A=r[2],x=r[3],S=0,E=0,w=-(y-x),k=v-A,Z=0,L=0,G=Math.sqrt(w*w+k*k);w/=G,k/=G,w*=f,k*=f;const j=o.alignment,M=(1-j)*2,T=j*2;c||(o.cap===LINE_CAP.ROUND?d+=round(v-w*(M-T)*.5,y-k*(M-T)*.5,v-w*M,y-k*M,v+w*T,y+k*T,u,!0)+2:o.cap===LINE_CAP.SQUARE&&(d+=square(v,y,w,k,M,T,!0,u))),u.push(v-w*M,y-k*M),u.push(v+w*T,y+k*T);for(let N=1;N<h-1;++N){v=r[(N-1)*2],y=r[(N-1)*2+1],A=r[N*2],x=r[N*2+1],S=r[(N+1)*2],E=r[(N+1)*2+1],w=-(y-x),k=v-A,G=Math.sqrt(w*w+k*k),w/=G,k/=G,w*=f,k*=f,Z=-(x-E),L=A-S,G=Math.sqrt(Z*Z+L*L),Z/=G,L/=G,Z*=f,L*=f;const $=A-v,D=y-x,z=A-S,Y=E-x,rt=$*z+D*Y,ot=D*z-Y*$,st=ot<0;if(Math.abs(ot)<.001*Math.abs(rt)){u.push(A-w*M,x-k*M),u.push(A+w*T,x+k*T),rt>=0&&(o.join===LINE_JOIN.ROUND?d+=round(A,x,A-w*M,x-k*M,A-Z*M,x-L*M,u,!1)+4:d+=2,u.push(A-Z*T,x-L*T),u.push(A+Z*M,x+L*M));continue}const tt=(-w+v)*(-k+x)-(-w+A)*(-k+y),nt=(-Z+S)*(-L+x)-(-Z+A)*(-L+E),Tt=($*nt-z*tt)/ot,At=(Y*tt-D*nt)/ot,Gt=(Tt-A)*(Tt-A)+(At-x)*(At-x),Nt=A+(Tt-A)*M,jt=x+(At-x)*M,kt=A-(Tt-A)*T,Dt=x-(At-x)*T,Ct=Math.min($*$+D*D,z*z+Y*Y),q=st?M:T,ft=Ct+q*q*m;Gt<=ft?o.join===LINE_JOIN.BEVEL||Gt/m>g?(st?(u.push(Nt,jt),u.push(A+w*T,x+k*T),u.push(Nt,jt),u.push(A+Z*T,x+L*T)):(u.push(A-w*M,x-k*M),u.push(kt,Dt),u.push(A-Z*M,x-L*M),u.push(kt,Dt)),d+=2):o.join===LINE_JOIN.ROUND?st?(u.push(Nt,jt),u.push(A+w*T,x+k*T),d+=round(A,x,A+w*T,x+k*T,A+Z*T,x+L*T,u,!0)+4,u.push(Nt,jt),u.push(A+Z*T,x+L*T)):(u.push(A-w*M,x-k*M),u.push(kt,Dt),d+=round(A,x,A-w*M,x-k*M,A-Z*M,x-L*M,u,!1)+4,u.push(A-Z*M,x-L*M),u.push(kt,Dt)):(u.push(Nt,jt),u.push(kt,Dt)):(u.push(A-w*M,x-k*M),u.push(A+w*T,x+k*T),o.join===LINE_JOIN.ROUND?st?d+=round(A,x,A+w*T,x+k*T,A+Z*T,x+L*T,u,!0)+2:d+=round(A,x,A-w*M,x-k*M,A-Z*M,x-L*M,u,!1)+2:o.join===LINE_JOIN.MITER&&Gt/m<=g&&(st?(u.push(kt,Dt),u.push(kt,Dt)):(u.push(Nt,jt),u.push(Nt,jt)),d+=2),u.push(A-Z*M,x-L*M),u.push(A+Z*T,x+L*T),d+=2)}v=r[(h-2)*2],y=r[(h-2)*2+1],A=r[(h-1)*2],x=r[(h-1)*2+1],w=-(y-x),k=v-A,G=Math.sqrt(w*w+k*k),w/=G,k/=G,w*=f,k*=f,u.push(A-w*M,x-k*M),u.push(A+w*T,x+k*T),c||(o.cap===LINE_CAP.ROUND?d+=round(A-w*(M-T)*.5,x-k*(M-T)*.5,A-w*M,x-k*M,A+w*T,x+k*T,u,!1)+2:o.cap===LINE_CAP.SQUARE&&(d+=square(A,x,w,k,M,T,!1,u)));const P=e.indices,U=curves.epsilon*curves.epsilon;for(let N=p;N<d+p-2;++N)v=u[N*2],y=u[N*2+1],A=u[(N+1)*2],x=u[(N+1)*2+1],S=u[(N+2)*2],E=u[(N+2)*2+1],!(Math.abs(v*(x-E)+A*(E-y)+S*(y-x))<U)&&P.push(N,N+1,N+2)}function buildNativeLine(n,e){let t=0;const r=n.shape,i=n.points||r.points,o=r.type!==SHAPES.POLY||r.closeStroke;if(i.length===0)return;const s=e.points,a=e.indices,c=i.length/2,l=s.length/2;let u=l;for(s.push(i[0],i[1]),t=1;t<c;t++)s.push(i[t*2],i[t*2+1]),a.push(u,u+1),u++;o&&a.push(u,l)}function buildLine(n,e){n.lineStyle.native?buildNativeLine(n,e):buildNonNativeLine(n,e)}class QuadraticUtils{static curveLength(e,t,r,i,o,s){const a=e-2*r+o,c=t-2*i+s,l=2*r-2*e,u=2*i-2*t,h=4*(a*a+c*c),d=4*(a*l+c*u),p=l*l+u*u,f=2*Math.sqrt(h+d+p),m=Math.sqrt(h),g=2*h*m,v=2*Math.sqrt(p),y=d/m;return(g*f+m*d*(f-v)+(4*p*h-d*d)*Math.log((2*m+y+f)/(y+v)))/(4*g)}static curveTo(e,t,r,i,o){const s=o[o.length-2],a=o[o.length-1],c=curves._segmentsCount(QuadraticUtils.curveLength(s,a,e,t,r,i));let l=0,u=0;for(let h=1;h<=c;++h){const d=h/c;l=s+(e-s)*d,u=a+(t-a)*d,o.push(l+(e+(r-e)*d-l)*d,u+(t+(i-t)*d-u)*d)}}}const FILL_COMMANDS={[SHAPES.POLY]:buildPoly,[SHAPES.CIRC]:buildCircle,[SHAPES.ELIP]:buildCircle,[SHAPES.RECT]:buildRectangle,[SHAPES.RREC]:buildRoundedRectangle},BATCH_POOL=[],DRAW_CALL_POOL=[];class GraphicsData{constructor(e,t=null,r=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=i,this.type=e.type}clone(){return new GraphicsData(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const tmpPoint=new Point,_GraphicsGeometry=class extends BatchGeometry{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Bounds,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[n]);this.drawCalls.length=0;for(let n=0;n<this.batches.length;n++){const e=this.batches[n];e.reset(),BATCH_POOL.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(n,e=null,t=null,r=null){const i=new GraphicsData(n,e,t,r);return this.graphicsData.push(i),this.dirty++,this}drawHole(n,e=null){if(!this.graphicsData.length)return null;const t=new GraphicsData(n,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return t.lineStyle=r.lineStyle,r.holes.push(t),this.dirty++,this}destroy(){super.destroy();for(let n=0;n<this.graphicsData.length;++n)this.graphicsData[n].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(n){const e=this.graphicsData;for(let t=0;t<e.length;++t){const r=e[t];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(n,tmpPoint):tmpPoint.copyFrom(n),r.shape.contains(tmpPoint.x,tmpPoint.y))){let i=!1;if(r.holes){for(let o=0;o<r.holes.length;o++)if(r.holes[o].shape.contains(tmpPoint.x,tmpPoint.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const n=this.uvs,e=this.graphicsData;let t=null,r=null;this.batches.length>0&&(t=this.batches[this.batches.length-1],r=t.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const c=e[a],l=c.fillStyle,u=c.lineStyle;FILL_COMMANDS[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(l.visible||u.visible)&&this.processHoles(c.holes);for(let d=0;d<2;d++){const p=d===0?l:u;if(!p.visible)continue;const f=p.texture.baseTexture,m=this.indices.length,g=this.points.length/2;f.wrapMode=WRAP_MODES.REPEAT,d===0?this.processFill(c):this.processLine(c);const v=this.points.length/2-g;v!==0&&(t&&!this._compareStyles(r,p)&&(t.end(m,g),t=null),t||(t=BATCH_POOL.pop()||new BatchPart,t.begin(p,m,g),this.batches.push(t),r=p),this.addUvs(this.points,n,p.texture,g,v,p.matrix))}}const i=this.indices.length,o=this.points.length/2;if(t&&t.end(i,o),this.batches.length===0){this.batchable=!0;return}const s=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&s===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=s?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(n,e){return!(!n||!e||n.texture.baseTexture!==e.texture.baseTexture||n.color+n.alpha!==e.color+e.alpha||!!n.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let n=0,e=this.graphicsData.length;n<e;n++){const t=this.graphicsData[n],r=t.fillStyle,i=t.lineStyle;if(r&&!r.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const n=this.batches;for(let e=0,t=n.length;e<t;e++){const r=n[e];for(let i=0;i<r.size;i++){const o=r.start+i;this.indicesUint16[o]=this.indicesUint16[o]-r.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const n=this.batches;for(let e=0;e<n.length;e++)if(n[e].style.native)return!1;return this.points.length<_GraphicsGeometry.BATCHABLE_SIZE*2}buildDrawCalls(){let n=++BaseTexture._globalBatch;for(let u=0;u<this.drawCalls.length;u++)this.drawCalls[u].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[u]);this.drawCalls.length=0;const e=this.colors,t=this.textureIds;let r=DRAW_CALL_POOL.pop();r||(r=new BatchDrawCall,r.texArray=new BatchTextureArray),r.texArray.count=0,r.start=0,r.size=0,r.type=DRAW_MODES.TRIANGLES;let i=0,o=null,s=0,a=!1,c=DRAW_MODES.TRIANGLES,l=0;this.drawCalls.push(r);for(let u=0;u<this.batches.length;u++){const h=this.batches[u],d=8,p=h.style,f=p.texture.baseTexture;a!==!!p.native&&(a=!!p.native,c=a?DRAW_MODES.LINES:DRAW_MODES.TRIANGLES,o=null,i=d,n++),o!==f&&(o=f,f._batchEnabled!==n&&(i===d&&(n++,i=0,r.size>0&&(r=DRAW_CALL_POOL.pop(),r||(r=new BatchDrawCall,r.texArray=new BatchTextureArray),this.drawCalls.push(r)),r.start=l,r.size=0,r.texArray.count=0,r.type=c),f.touched=1,f._batchEnabled=n,f._batchLocation=i,f.wrapMode=WRAP_MODES.REPEAT,r.texArray.elements[r.texArray.count++]=f,i++)),r.size+=h.size,l+=h.size,s=f._batchLocation,this.addColors(e,p.color,p.alpha,h.attribSize,h.attribStart),this.addTextureIds(t,s,h.attribSize,h.attribStart)}BaseTexture._globalBatch=n,this.packAttributes()}packAttributes(){const n=this.points,e=this.uvs,t=this.colors,r=this.textureIds,i=new ArrayBuffer(n.length*3*4),o=new Float32Array(i),s=new Uint32Array(i);let a=0;for(let c=0;c<n.length/2;c++)o[a++]=n[c*2],o[a++]=n[c*2+1],o[a++]=e[c*2],o[a++]=e[c*2+1],s[a++]=t[c],o[a++]=r[c];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(n){n.holes.length?buildPoly.triangulate(n,this):FILL_COMMANDS[n.type].triangulate(n,this)}processLine(n){buildLine(n,this);for(let e=0;e<n.holes.length;e++)buildLine(n.holes[e],this)}processHoles(n){for(let e=0;e<n.length;e++){const t=n[e];FILL_COMMANDS[t.type].build(t),t.matrix&&this.transformPoints(t.points,t.matrix)}}calculateBounds(){const n=this._bounds;n.clear(),n.addVertexData(this.points,0,this.points.length),n.pad(this.boundsPadding,this.boundsPadding)}transformPoints(n,e){for(let t=0;t<n.length/2;t++){const r=n[t*2],i=n[t*2+1];n[t*2]=e.a*r+e.c*i+e.tx,n[t*2+1]=e.b*r+e.d*i+e.ty}}addColors(n,e,t,r,i=0){const o=(e>>16)+(e&65280)+((e&255)<<16),s=premultiplyTint(o,t);n.length=Math.max(n.length,i+r);for(let a=0;a<r;a++)n[i+a]=s}addTextureIds(n,e,t,r=0){n.length=Math.max(n.length,r+t);for(let i=0;i<t;i++)n[r+i]=e}addUvs(n,e,t,r,i,o=null){let s=0;const a=e.length,c=t.frame;for(;s<i;){let u=n[(r+s)*2],h=n[(r+s)*2+1];if(o){const d=o.a*u+o.c*h+o.tx;h=o.b*u+o.d*h+o.ty,u=d}s++,e.push(u/c.width,h/c.height)}const l=t.baseTexture;(c.width<l.width||c.height<l.height)&&this.adjustUvs(e,t,a,i)}adjustUvs(n,e,t,r){const i=e.baseTexture,o=1e-6,s=t+r*2,a=e.frame,c=a.width/i.width,l=a.height/i.height;let u=a.x/a.width,h=a.y/a.height,d=Math.floor(n[t]+o),p=Math.floor(n[t+1]+o);for(let f=t+2;f<s;f+=2)d=Math.min(d,Math.floor(n[f]+o)),p=Math.min(p,Math.floor(n[f+1]+o));u-=d,h-=p;for(let f=t;f<s;f+=2)n[f]=(n[f]+u)*c,n[f+1]=(n[f+1]+h)*l}};let GraphicsGeometry=_GraphicsGeometry;GraphicsGeometry.BATCHABLE_SIZE=100;class FillStyle{constructor(){this.color=16777215,this.alpha=1,this.texture=Texture.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new FillStyle;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=Texture.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class LineStyle extends FillStyle{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=LINE_CAP.BUTT,this.join=LINE_JOIN.MITER,this.miterLimit=10}clone(){const e=new LineStyle;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const temp=new Float32Array(3),DEFAULT_SHADERS={},_Graphics=class extends Container{constructor(n=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new FillStyle,this._lineStyle=new LineStyle,this._matrix=null,this._holeMode=!1,this.state=State.for2d(),this._geometry=n||new GraphicsGeometry,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=BLEND_MODES.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new _Graphics(this._geometry)}set blendMode(n){this.state.blendMode=n}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(n){this._tint=n}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(n=null,e=0,t=1,r=.5,i=!1){return typeof n=="number"&&(n={width:n,color:e,alpha:t,alignment:r,native:i}),this.lineTextureStyle(n)}lineTextureStyle(n){n=Object.assign({width:0,texture:Texture.WHITE,color:n!=null&&n.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:LINE_CAP.BUTT,join:LINE_JOIN.MITER,miterLimit:10},n),this.currentPath&&this.startPoly();const e=n.width>0&&n.alpha>0;return e?(n.matrix&&(n.matrix=n.matrix.clone(),n.matrix.invert()),Object.assign(this._lineStyle,{visible:e},n)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const n=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(n[e-2],n[e-1]))}else this.currentPath=new Polygon,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(n,e){return this.startPoly(),this.currentPath.points[0]=n,this.currentPath.points[1]=e,this}lineTo(n,e){this.currentPath||this.moveTo(0,0);const t=this.currentPath.points,r=t[t.length-2],i=t[t.length-1];return(r!==n||i!==e)&&t.push(n,e),this}_initCurve(n=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[n,e]):this.moveTo(n,e)}quadraticCurveTo(n,e,t,r){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),QuadraticUtils.curveTo(n,e,t,r,i),this}bezierCurveTo(n,e,t,r,i,o){return this._initCurve(),BezierUtils.curveTo(n,e,t,r,i,o,this.currentPath.points),this}arcTo(n,e,t,r,i){this._initCurve(n,e);const o=this.currentPath.points,s=ArcUtils.curveTo(n,e,t,r,i,o);if(s){const{cx:a,cy:c,radius:l,startAngle:u,endAngle:h,anticlockwise:d}=s;this.arc(a,c,l,u,h,d)}return this}arc(n,e,t,r,i,o=!1){if(r===i)return this;if(!o&&i<=r?i+=PI_2:o&&r<=i&&(r+=PI_2),i-r===0)return this;const a=n+Math.cos(r)*t,c=e+Math.sin(r)*t,l=this._geometry.closePointEps;let u=this.currentPath?this.currentPath.points:null;if(u){const h=Math.abs(u[u.length-2]-a),d=Math.abs(u[u.length-1]-c);h<l&&d<l||u.push(a,c)}else this.moveTo(a,c),u=this.currentPath.points;return ArcUtils.arc(a,c,n,e,t,r,i,o,u),this}beginFill(n=0,e=1){return this.beginTextureFill({texture:Texture.WHITE,color:n,alpha:e})}beginTextureFill(n){n=Object.assign({texture:Texture.WHITE,color:16777215,alpha:1,matrix:null},n),this.currentPath&&this.startPoly();const e=n.alpha>0;return e?(n.matrix&&(n.matrix=n.matrix.clone(),n.matrix.invert()),Object.assign(this._fillStyle,{visible:e},n)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(n,e,t,r){return this.drawShape(new Rectangle(n,e,t,r))}drawRoundedRect(n,e,t,r,i){return this.drawShape(new RoundedRectangle(n,e,t,r,i))}drawCircle(n,e,t){return this.drawShape(new Circle(n,e,t))}drawEllipse(n,e,t,r){return this.drawShape(new Ellipse(n,e,t,r))}drawPolygon(...n){let e,t=!0;const r=n[0];r.points?(t=r.closeStroke,e=r.points):Array.isArray(n[0])?e=n[0]:e=n;const i=new Polygon(e);return i.closeStroke=t,this.drawShape(i),this}drawShape(n){return this._holeMode?this._geometry.drawHole(n,this._matrix):this._geometry.drawShape(n,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const n=this._geometry.graphicsData;return n.length===1&&n[0].shape.type===SHAPES.RECT&&!n[0].matrix&&!n[0].holes.length&&!(n[0].lineStyle.visible&&n[0].lineStyle.width)}_render(n){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(n)):(n.batch.flush(),this._renderDirect(n))}_populateBatches(){const n=this._geometry,e=this.blendMode,t=n.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=n.batchDirty,this.batches.length=t,this.vertexData=new Float32Array(n.points);for(let r=0;r<t;r++){const i=n.batches[r],o=i.style.color,s=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(n.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),c=new Uint16Array(n.indicesUint16.buffer,i.start*2,i.size),l={vertexData:s,blendMode:e,indices:c,uvs:a,_batchRGB:hex2rgb(o),_tintRGB:o,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=l}}_renderBatched(n){if(this.batches.length){n.batch.setObjectRenderer(n.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,t=this.batches.length;e<t;e++){const r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,n.plugins[this.pluginName].render(r)}}}_renderDirect(n){const e=this._resolveDirectShader(n),t=this._geometry,r=this.tint,i=this.worldAlpha,o=e.uniforms,s=t.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(r>>16&255)/255*i,o.tint[1]=(r>>8&255)/255*i,o.tint[2]=(r&255)/255*i,o.tint[3]=i,n.shader.bind(e),n.geometry.bind(t,e),n.state.set(this.state);for(let a=0,c=s.length;a<c;a++)this._renderDrawCallDirect(n,t.drawCalls[a])}_renderDrawCallDirect(n,e){const{texArray:t,type:r,size:i,start:o}=e,s=t.count;for(let a=0;a<s;a++)n.texture.bind(t.elements[a],a);n.geometry.draw(r,i,o)}_resolveDirectShader(n){let e=this.shader;const t=this.pluginName;if(!e){if(!DEFAULT_SHADERS[t]){const{maxTextures:r}=n.plugins[t],i=new Int32Array(r);for(let a=0;a<r;a++)i[a]=a;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix,default:UniformGroup.from({uSamplers:i},!0)},s=n.plugins[t]._shader.program;DEFAULT_SHADERS[t]=new Shader(s,o)}e=DEFAULT_SHADERS[t]}return e}_calculateBounds(){this.finishPoly();const n=this._geometry;if(!n.graphicsData.length)return;const{minX:e,minY:t,maxX:r,maxY:i}=n.bounds;this._bounds.addFrame(this.transform,e,t,r,i)}containsPoint(n){return this.worldTransform.applyInverse(n,_Graphics._TEMP_POINT),this._geometry.containsPoint(_Graphics._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const n=hex2rgb(this.tint,temp);for(let e=0;e<this.batches.length;e++){const t=this.batches[e],r=t._batchRGB,i=n[0]*r[0]*255,o=n[1]*r[1]*255,s=n[2]*r[2]*255,a=(i<<16)+(o<<8)+(s|0);t._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}}}calculateVertices(){const n=this.transform._worldID;if(this._transformID===n)return;this._transformID=n;const e=this.transform.worldTransform,t=e.a,r=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty,c=this._geometry.points,l=this.vertexData;let u=0;for(let h=0;h<c.length;h+=2){const d=c[h],p=c[h+1];l[u++]=t*d+i*p+s,l[u++]=o*p+r*d+a}}closePath(){const n=this.currentPath;return n&&(n.closeStroke=!0,this.finishPoly()),this}setMatrix(n){return this._matrix=n,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(n){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(n)}};let Graphics=_Graphics;Graphics.curves=curves;Graphics._TEMP_POINT=new Point;class MeshBatchUvs{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const tempPoint=new Point,tempPolygon=new Polygon,_Mesh=class extends Container{constructor(n,e,t,r=DRAW_MODES.TRIANGLES){super(),this.geometry=n,this.shader=e,this.state=t||State.for2d(),this.drawMode=r,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=settings.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(n){this._geometry!==n&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=n,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(n){this.shader=n}get material(){return this.shader}set blendMode(n){this.state.blendMode=n}get blendMode(){return this.state.blendMode}set roundPixels(n){this._roundPixels!==n&&(this._transformID=-1),this._roundPixels=n}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(n){this.shader.tint=n}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(n){this.shader.texture=n}_render(n){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===DRAW_MODES.TRIANGLES&&e.length<_Mesh.BATCHABLE_SIZE*2?this._renderToBatch(n):this._renderDefault(n)}_renderDefault(n){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),n.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),n.shader.bind(e),n.state.set(this.state),n.geometry.bind(this.geometry,e),n.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(n){const e=this.geometry,t=this.shader;t.uvMatrix&&(t.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=t._tintRGB,this._texture=t.texture;const r=this.material.pluginName;n.batch.setObjectRenderer(n.plugins[r]),n.plugins[r].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,c=i.d,l=i.tx,u=i.ty,h=this.vertexData;for(let d=0;d<h.length/2;d++){const p=t[d*2],f=t[d*2+1];h[d*2]=o*p+a*f+l,h[d*2+1]=s*p+c*f+u}if(this._roundPixels){const d=settings.RESOLUTION;for(let p=0;p<h.length;++p)h[p]=Math.round(h[p]*d)/d}this.vertexDirty=r}calculateUvs(){const n=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=n.data:(this.batchUvs||(this.batchUvs=new MeshBatchUvs(n,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(n){if(!this.getBounds().contains(n.x,n.y))return!1;this.worldTransform.applyInverse(n,tempPoint);const e=this.geometry.getBuffer("aVertexPosition").data,t=tempPolygon.points,r=this.geometry.getIndex().data,i=r.length,o=this.drawMode===4?3:1;for(let s=0;s+2<i;s+=o){const a=r[s]*2,c=r[s+1]*2,l=r[s+2]*2;if(t[0]=e[a],t[1]=e[a+1],t[2]=e[c],t[3]=e[c+1],t[4]=e[l],t[5]=e[l+1],tempPolygon.contains(tempPoint.x,tempPoint.y))return!0}return!1}destroy(n){super.destroy(n),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let Mesh=_Mesh;Mesh.BATCHABLE_SIZE=100;class MeshGeometry extends Geometry{constructor(e,t,r){super();const i=new Buffer$1(e),o=new Buffer$1(t,!0),s=new Buffer$1(r,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,TYPES.FLOAT).addAttribute("aTextureCoord",o,2,!1,TYPES.FLOAT).addIndex(s),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var fragment$1=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,vertex$1=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class MeshMaterial extends Shader{constructor(e,t){const r={uSampler:e,alpha:1,uTextureMatrix:Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t),t.uniforms&&Object.assign(r,t.uniforms),super(t.program||Program.from(vertex$1,fragment$1),r),this._colorDirty=!1,this.uvMatrix=new TextureMatrix(e),this.batchable=t.program===void 0,this.pluginName=t.pluginName,this.tint=t.tint,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture;premultiplyTintToRgba(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class ParticleBuffer{constructor(e,t,r){this.geometry=new Geometry,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let o=e[i];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||TYPES.FLOAT,offset:o.offset},t[i]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new Buffer$1(createIndicesForQuads(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let s=0;s<this.dynamicProperties.length;++s){const a=this.dynamicProperties[s];a.offset=t,t+=a.size,this.dynamicStride+=a.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new Buffer$1(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let s=0;s<this.staticProperties.length;++s){const a=this.staticProperties[s];a.offset=i,i+=a.size,this.staticStride+=a.size}const o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new Buffer$1(this.staticData,!0,!1);for(let s=0;s<this.dynamicProperties.length;++s){const a=this.dynamicProperties[s];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===TYPES.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let s=0;s<this.staticProperties.length;++s){const a=this.staticProperties[s];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===TYPES.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,t,r){for(let i=0;i<this.dynamicProperties.length;i++){const o=this.dynamicProperties[i];o.uploadFunction(e,t,r,o.type===TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,r){for(let i=0;i<this.staticProperties.length;i++){const o=this.staticProperties[i];o.uploadFunction(e,t,r,o.type===TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var fragment=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,vertex=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class ParticleRenderer extends ObjectRenderer{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Matrix,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:TYPES.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Shader.from(vertex,fragment,{}),this.state=State.for2d()}render(e){const t=e.children,r=e._maxSize,i=e._batchSize,o=this.renderer;let s=t.length;if(s===0)return;s>r&&!e.autoResize&&(s=r);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const c=t[0]._texture.baseTexture,l=c.alphaMode>0;this.state.blendMode=correctBlendMode(e.blendMode,l),o.state.set(this.state);const u=o.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=premultiplyRgba(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,l),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let d=!1;for(let p=0,f=0;p<s;p+=i,f+=1){let m=s-p;m>i&&(m=i),f>=a.length&&a.push(this._generateOneMoreBuffer(e));const g=a[f];g.uploadDynamic(t,p,m);const v=e._bufferUpdateIDs[f]||0;d=d||g._updateID<v,d&&(g._updateID=e._updateID,g.uploadStatic(t,p,m)),o.geometry.bind(g.geometry),u.drawElements(u.TRIANGLES,m*6,u.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],r=e._maxSize,i=e._batchSize,o=e._properties;for(let s=0;s<r;s+=i)t.push(new ParticleBuffer(this.properties,o,i));return t}_generateOneMoreBuffer(e){const t=e._batchSize,r=e._properties;return new ParticleBuffer(this.properties,r,t)}uploadVertices(e,t,r,i,o,s){let a=0,c=0,l=0,u=0;for(let h=0;h<r;++h){const d=e[t+h],p=d._texture,f=d.scale.x,m=d.scale.y,g=p.trim,v=p.orig;g?(c=g.x-d.anchor.x*v.width,a=c+g.width,u=g.y-d.anchor.y*v.height,l=u+g.height):(a=v.width*(1-d.anchor.x),c=v.width*-d.anchor.x,l=v.height*(1-d.anchor.y),u=v.height*-d.anchor.y),i[s]=c*f,i[s+1]=u*m,i[s+o]=a*f,i[s+o+1]=u*m,i[s+o*2]=a*f,i[s+o*2+1]=l*m,i[s+o*3]=c*f,i[s+o*3+1]=l*m,s+=o*4}}uploadPosition(e,t,r,i,o,s){for(let a=0;a<r;a++){const c=e[t+a].position;i[s]=c.x,i[s+1]=c.y,i[s+o]=c.x,i[s+o+1]=c.y,i[s+o*2]=c.x,i[s+o*2+1]=c.y,i[s+o*3]=c.x,i[s+o*3+1]=c.y,s+=o*4}}uploadRotation(e,t,r,i,o,s){for(let a=0;a<r;a++){const c=e[t+a].rotation;i[s]=c,i[s+o]=c,i[s+o*2]=c,i[s+o*3]=c,s+=o*4}}uploadUvs(e,t,r,i,o,s){for(let a=0;a<r;++a){const c=e[t+a]._texture._uvs;c?(i[s]=c.x0,i[s+1]=c.y0,i[s+o]=c.x1,i[s+o+1]=c.y1,i[s+o*2]=c.x2,i[s+o*2+1]=c.y2,i[s+o*3]=c.x3,i[s+o*3+1]=c.y3,s+=o*4):(i[s]=0,i[s+1]=0,i[s+o]=0,i[s+o+1]=0,i[s+o*2]=0,i[s+o*2+1]=0,i[s+o*3]=0,i[s+o*3+1]=0,s+=o*4)}}uploadTint(e,t,r,i,o,s){for(let a=0;a<r;++a){const c=e[t+a],l=c._texture.baseTexture.alphaMode>0,u=c.alpha,h=u<1&&l?premultiplyTint(c._tintRGB,u):c._tintRGB+(u*255<<24);i[s]=h,i[s+o]=h,i[s+o*2]=h,i[s+o*3]=h,s+=o*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}ParticleRenderer.extension={name:"particle",type:ExtensionType.RendererPlugin};extensions$1.add(ParticleRenderer);var TEXT_GRADIENT=(n=>(n[n.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",n[n.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",n))(TEXT_GRADIENT||{});const contextSettings={willReadFrequently:!0},_TextMetrics=class{static get experimentalLetterSpacingSupported(){let n=_TextMetrics._experimentalLetterSpacingSupported;if(n!==void 0){const e=settings.ADAPTER.getCanvasRenderingContext2D().prototype;n=_TextMetrics._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return n}constructor(n,e,t,r,i,o,s,a,c){this.text=n,this.style=e,this.width=t,this.height=r,this.lines=i,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=c}static measureText(n,e,t,r=_TextMetrics._canvas){t=t??e.wordWrap;const i=e.toFontString(),o=_TextMetrics.measureFont(i);o.fontSize===0&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);const s=r.getContext("2d",contextSettings);s.font=i;const c=(t?_TextMetrics.wordWrap(n,e,r):n).split(/(?:\r\n|\r|\n)/),l=new Array(c.length);let u=0;for(let f=0;f<c.length;f++){const m=_TextMetrics._measureText(c[f],e.letterSpacing,s);l[f]=m,u=Math.max(u,m)}let h=u+e.strokeThickness;e.dropShadow&&(h+=e.dropShadowDistance);const d=e.lineHeight||o.fontSize+e.strokeThickness;let p=Math.max(d,o.fontSize+e.strokeThickness*2)+(c.length-1)*(d+e.leading);return e.dropShadow&&(p+=e.dropShadowDistance),new _TextMetrics(n,e,h,p,c,l,d+e.leading,u,o)}static _measureText(n,e,t){let r=!1;_TextMetrics.experimentalLetterSpacingSupported&&(_TextMetrics.experimentalLetterSpacing?(t.letterSpacing=`${e}px`,t.textLetterSpacing=`${e}px`,r=!0):(t.letterSpacing="0px",t.textLetterSpacing="0px"));let i=t.measureText(n).width;return i>0&&(r?i-=e:i+=(_TextMetrics.graphemeSegmenter(n).length-1)*e),i}static wordWrap(n,e,t=_TextMetrics._canvas){const r=t.getContext("2d",contextSettings);let i=0,o="",s="";const a=Object.create(null),{letterSpacing:c,whiteSpace:l}=e,u=_TextMetrics.collapseSpaces(l),h=_TextMetrics.collapseNewlines(l);let d=!u;const p=e.wordWrapWidth+c,f=_TextMetrics.tokenize(n);for(let m=0;m<f.length;m++){let g=f[m];if(_TextMetrics.isNewline(g)){if(!h){s+=_TextMetrics.addLine(o),d=!u,o="",i=0;continue}g=" "}if(u){const y=_TextMetrics.isBreakingSpace(g),A=_TextMetrics.isBreakingSpace(o[o.length-1]);if(y&&A)continue}const v=_TextMetrics.getFromCache(g,c,a,r);if(v>p)if(o!==""&&(s+=_TextMetrics.addLine(o),o="",i=0),_TextMetrics.canBreakWords(g,e.breakWords)){const y=_TextMetrics.wordWrapSplit(g);for(let A=0;A<y.length;A++){let x=y[A],S=x,E=1;for(;y[A+E];){const k=y[A+E];if(!_TextMetrics.canBreakChars(S,k,g,A,e.breakWords))x+=k;else break;S=k,E++}A+=E-1;const w=_TextMetrics.getFromCache(x,c,a,r);w+i>p&&(s+=_TextMetrics.addLine(o),d=!1,o="",i=0),o+=x,i+=w}}else{o.length>0&&(s+=_TextMetrics.addLine(o),o="",i=0);const y=m===f.length-1;s+=_TextMetrics.addLine(g,!y),d=!1,o="",i=0}else v+i>p&&(d=!1,s+=_TextMetrics.addLine(o),o="",i=0),(o.length>0||!_TextMetrics.isBreakingSpace(g)||d)&&(o+=g,i+=v)}return s+=_TextMetrics.addLine(o,!1),s}static addLine(n,e=!0){return n=_TextMetrics.trimRight(n),n=e?`${n}
`:n,n}static getFromCache(n,e,t,r){let i=t[n];return typeof i!="number"&&(i=_TextMetrics._measureText(n,e,r)+e,t[n]=i),i}static collapseSpaces(n){return n==="normal"||n==="pre-line"}static collapseNewlines(n){return n==="normal"}static trimRight(n){if(typeof n!="string")return"";for(let e=n.length-1;e>=0;e--){const t=n[e];if(!_TextMetrics.isBreakingSpace(t))break;n=n.slice(0,-1)}return n}static isNewline(n){return typeof n!="string"?!1:_TextMetrics._newlines.includes(n.charCodeAt(0))}static isBreakingSpace(n,e){return typeof n!="string"?!1:_TextMetrics._breakingSpaces.includes(n.charCodeAt(0))}static tokenize(n){const e=[];let t="";if(typeof n!="string")return e;for(let r=0;r<n.length;r++){const i=n[r],o=n[r+1];if(_TextMetrics.isBreakingSpace(i,o)||_TextMetrics.isNewline(i)){t!==""&&(e.push(t),t=""),e.push(i);continue}t+=i}return t!==""&&e.push(t),e}static canBreakWords(n,e){return e}static canBreakChars(n,e,t,r,i){return!0}static wordWrapSplit(n){return _TextMetrics.graphemeSegmenter(n)}static measureFont(n){if(_TextMetrics._fonts[n])return _TextMetrics._fonts[n];const e={ascent:0,descent:0,fontSize:0},t=_TextMetrics._canvas,r=_TextMetrics._context;r.font=n;const i=_TextMetrics.METRICS_STRING+_TextMetrics.BASELINE_SYMBOL,o=Math.ceil(r.measureText(i).width);let s=Math.ceil(r.measureText(_TextMetrics.BASELINE_SYMBOL).width);const a=Math.ceil(_TextMetrics.HEIGHT_MULTIPLIER*s);if(s=s*_TextMetrics.BASELINE_MULTIPLIER|0,o===0||a===0)return _TextMetrics._fonts[n]=e,e;t.width=o,t.height=a,r.fillStyle="#f00",r.fillRect(0,0,o,a),r.font=n,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,s);const c=r.getImageData(0,0,o,a).data,l=c.length,u=o*4;let h=0,d=0,p=!1;for(h=0;h<s;++h){for(let f=0;f<u;f+=4)if(c[d+f]!==255){p=!0;break}if(!p)d+=u;else break}for(e.ascent=s-h,d=l-u,p=!1,h=a;h>s;--h){for(let f=0;f<u;f+=4)if(c[d+f]!==255){p=!0;break}if(!p)d-=u;else break}return e.descent=h-s,e.fontSize=e.ascent+e.descent,_TextMetrics._fonts[n]=e,e}static clearMetrics(n=""){n?delete _TextMetrics._fonts[n]:_TextMetrics._fonts={}}static get _canvas(){if(!_TextMetrics.__canvas){let n;try{const e=new OffscreenCanvas(0,0),t=e.getContext("2d",contextSettings);if(t!=null&&t.measureText)return _TextMetrics.__canvas=e,e;n=settings.ADAPTER.createCanvas()}catch{n=settings.ADAPTER.createCanvas()}n.width=n.height=10,_TextMetrics.__canvas=n}return _TextMetrics.__canvas}static get _context(){return _TextMetrics.__context||(_TextMetrics.__context=_TextMetrics._canvas.getContext("2d",contextSettings)),_TextMetrics.__context}};let TextMetrics=_TextMetrics;TextMetrics.METRICS_STRING="|ÉqÅ";TextMetrics.BASELINE_SYMBOL="M";TextMetrics.BASELINE_MULTIPLIER=1.4;TextMetrics.HEIGHT_MULTIPLIER=2;TextMetrics.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const n=new Intl.Segmenter;return e=>[...n.segment(e)].map(t=>t.segment)}return n=>[...n]})();TextMetrics.experimentalLetterSpacing=!1;TextMetrics._fonts={};TextMetrics._newlines=[10,13];TextMetrics._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const genericFontFamilies=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],_TextStyle=class{constructor(n){this.styleID=0,this.reset(),deepCopyProperties(this,n,n)}clone(){const n={};return deepCopyProperties(n,this,_TextStyle.defaultStyle),new _TextStyle(n)}reset(){deepCopyProperties(this,_TextStyle.defaultStyle,_TextStyle.defaultStyle)}get align(){return this._align}set align(n){this._align!==n&&(this._align=n,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(n){this._breakWords!==n&&(this._breakWords=n,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(n){this._dropShadow!==n&&(this._dropShadow=n,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(n){this._dropShadowAlpha!==n&&(this._dropShadowAlpha=n,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(n){this._dropShadowAngle!==n&&(this._dropShadowAngle=n,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(n){this._dropShadowBlur!==n&&(this._dropShadowBlur=n,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(n){const e=getColor(n);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(n){this._dropShadowDistance!==n&&(this._dropShadowDistance=n,this.styleID++)}get fill(){return this._fill}set fill(n){const e=getColor(n);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(n){this._fillGradientType!==n&&(this._fillGradientType=n,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(n){areArraysEqual(this._fillGradientStops,n)||(this._fillGradientStops=n,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(n){this.fontFamily!==n&&(this._fontFamily=n,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(n){this._fontSize!==n&&(this._fontSize=n,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(n){this._fontStyle!==n&&(this._fontStyle=n,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(n){this._fontVariant!==n&&(this._fontVariant=n,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(n){this._fontWeight!==n&&(this._fontWeight=n,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(n){this._letterSpacing!==n&&(this._letterSpacing=n,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(n){this._lineHeight!==n&&(this._lineHeight=n,this.styleID++)}get leading(){return this._leading}set leading(n){this._leading!==n&&(this._leading=n,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(n){this._lineJoin!==n&&(this._lineJoin=n,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(n){this._miterLimit!==n&&(this._miterLimit=n,this.styleID++)}get padding(){return this._padding}set padding(n){this._padding!==n&&(this._padding=n,this.styleID++)}get stroke(){return this._stroke}set stroke(n){const e=getColor(n);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(n){this._strokeThickness!==n&&(this._strokeThickness=n,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(n){this._textBaseline!==n&&(this._textBaseline=n,this.styleID++)}get trim(){return this._trim}set trim(n){this._trim!==n&&(this._trim=n,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(n){this._whiteSpace!==n&&(this._whiteSpace=n,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(n){this._wordWrap!==n&&(this._wordWrap=n,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(n){this._wordWrapWidth!==n&&(this._wordWrapWidth=n,this.styleID++)}toFontString(){const n=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let t=e.length-1;t>=0;t--){let r=e[t].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!genericFontFamilies.includes(r)&&(r=`"${r}"`),e[t]=r}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${n} ${e.join(",")}`}};let TextStyle=_TextStyle;TextStyle.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function getSingleColor(n){return typeof n=="number"?hex2string(n):(typeof n=="string"&&n.startsWith("0x")&&(n=n.replace("0x","#")),n)}function getColor(n){if(Array.isArray(n)){for(let e=0;e<n.length;++e)n[e]=getSingleColor(n[e]);return n}else return getSingleColor(n)}function areArraysEqual(n,e){if(!Array.isArray(n)||!Array.isArray(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(n[t]!==e[t])return!1;return!0}function deepCopyProperties(n,e,t){for(const r in t)Array.isArray(e[r])?n[r]=e[r].slice():n[r]=e[r]}const defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},_Text=class extends Sprite{constructor(n,e,t){let r=!1;t||(t=settings.ADAPTER.createCanvas(),r=!0),t.width=3,t.height=3;const i=Texture.from(t);i.orig=new Rectangle,i.trim=new Rectangle,super(i),this._ownCanvas=r,this.canvas=t,this.context=t.getContext("2d",{willReadFrequently:!0}),this._resolution=_Text.defaultResolution??settings.RESOLUTION,this._autoResolution=_Text.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=n,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return TextMetrics.experimentalLetterSpacing}static set experimentalLetterSpacing(n){deprecation("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),TextMetrics.experimentalLetterSpacing=n}updateText(n){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&n)return;this._font=this._style.toFontString();const t=this.context,r=TextMetrics.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=r.width,o=r.height,s=r.lines,a=r.lineHeight,c=r.lineWidths,l=r.maxLineWidth,u=r.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+e.padding*2)*this._resolution),t.scale(this._resolution,this._resolution),t.clearRect(0,0,this.canvas.width,this.canvas.height),t.font=this._font,t.lineWidth=e.strokeThickness,t.textBaseline=e.textBaseline,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit;let h,d;const p=e.dropShadow?2:1;for(let f=0;f<p;++f){const m=e.dropShadow&&f===0,g=m?Math.ceil(Math.max(1,o)+e.padding*2):0,v=g*this._resolution;if(m){t.fillStyle="black",t.strokeStyle="black";const A=e.dropShadowColor,x=hex2rgb(typeof A=="number"?A:string2hex(A)),S=e.dropShadowBlur*this._resolution,E=e.dropShadowDistance*this._resolution;t.shadowColor=`rgba(${x[0]*255},${x[1]*255},${x[2]*255},${e.dropShadowAlpha})`,t.shadowBlur=S,t.shadowOffsetX=Math.cos(e.dropShadowAngle)*E,t.shadowOffsetY=Math.sin(e.dropShadowAngle)*E+v}else t.fillStyle=this._generateFillStyle(e,s,r),t.strokeStyle=e.stroke,t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;let y=(a-u.fontSize)/2;a-u.fontSize<0&&(y=0);for(let A=0;A<s.length;A++)h=e.strokeThickness/2,d=e.strokeThickness/2+A*a+u.ascent+y,e.align==="right"?h+=l-c[A]:e.align==="center"&&(h+=(l-c[A])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(s[A],h+e.padding,d+e.padding-g,!0),e.fill&&this.drawLetterSpacing(s[A],h+e.padding,d+e.padding-g)}this.updateTexture()}drawLetterSpacing(n,e,t,r=!1){const o=this._style.letterSpacing;let s=!1;if(TextMetrics.experimentalLetterSpacingSupported&&(TextMetrics.experimentalLetterSpacing?(this.context.letterSpacing=`${o}px`,this.context.textLetterSpacing=`${o}px`,s=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),o===0||s){r?this.context.strokeText(n,e,t):this.context.fillText(n,e,t);return}let a=e;const c=TextMetrics.graphemeSegmenter(n);let l=this.context.measureText(n).width,u=0;for(let h=0;h<c.length;++h){const d=c[h];r?this.context.strokeText(d,a,t):this.context.fillText(d,a,t);let p="";for(let f=h+1;f<c.length;++f)p+=c[f];u=this.context.measureText(p).width,a+=l-u+o,l=u}}updateTexture(){const n=this.canvas;if(this._style.trim){const o=trimCanvas(n);o.data&&(n.width=o.width,n.height=o.height,this.context.putImageData(o.data,0,0))}const e=this._texture,t=this._style,r=t.trim?0:t.padding,i=e.baseTexture;e.trim.width=e._frame.width=n.width/this._resolution,e.trim.height=e._frame.height=n.height/this._resolution,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-r*2,e.orig.height=e._frame.height-r*2,this._onTextureUpdate(),i.setRealSize(n.width,n.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(n){this._autoResolution&&this._resolution!==n.resolution&&(this._resolution=n.resolution,this.dirty=!0),this.updateText(!0),super._render(n)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(n,e){return this.updateText(!0),this._textureID===-1&&(n=!1),super.getBounds(n,e)}getLocalBounds(n){return this.updateText(!0),super.getLocalBounds.call(this,n)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(n,e,t){const r=n.fill;if(Array.isArray(r)){if(r.length===1)return r[0]}else return r;let i;const o=n.dropShadow?n.dropShadowDistance:0,s=n.padding||0,a=this.canvas.width/this._resolution-o-s*2,c=this.canvas.height/this._resolution-o-s*2,l=r.slice(),u=n.fillGradientStops.slice();if(!u.length){const h=l.length+1;for(let d=1;d<h;++d)u.push(d/h)}if(l.unshift(r[0]),u.unshift(0),l.push(r[r.length-1]),u.push(1),n.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,s,a/2,c+s);const h=t.fontProperties.fontSize+n.strokeThickness;for(let d=0;d<e.length;d++){const p=t.lineHeight*(d-1)+h,f=t.lineHeight*d;let m=f;d>0&&p>f&&(m=(f+p)/2);const g=f+h,v=t.lineHeight*(d+1);let y=g;d+1<e.length&&v<g&&(y=(g+v)/2);const A=(y-m)/c;for(let x=0;x<l.length;x++){let S=0;typeof u[x]=="number"?S=u[x]:S=x/l.length;let E=Math.min(1,Math.max(0,m/c+S*A));E=Number(E.toFixed(5)),i.addColorStop(E,l[x])}}}else{i=this.context.createLinearGradient(s,c/2,a+s,c/2);const h=l.length+1;let d=1;for(let p=0;p<l.length;p++){let f;typeof u[p]=="number"?f=u[p]:f=d/h,i.addColorStop(f,l[p]),d++}}return i}destroy(n){typeof n=="boolean"&&(n={children:n}),n=Object.assign({},defaultDestroyOptions,n),super.destroy(n),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(n){this.updateText(!0);const e=sign(this.scale.x)||1;this.scale.x=e*n/this._texture.orig.width,this._width=n}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(n){this.updateText(!0);const e=sign(this.scale.y)||1;this.scale.y=e*n/this._texture.orig.height,this._height=n}get style(){return this._style}set style(n){n=n||{},n instanceof TextStyle?this._style=n:this._style=new TextStyle(n),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(n){n=String(n??""),this._text!==n&&(this._text=n,this.dirty=!0)}get resolution(){return this._resolution}set resolution(n){this._autoResolution=!1,this._resolution!==n&&(this._resolution=n,this.dirty=!0)}};let Text$1=_Text;Text$1.defaultAutoResolution=!0;class CountLimiter{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function findMultipleBaseTextures(n,e){var r;let t=!1;if((r=n==null?void 0:n._textures)!=null&&r.length){for(let i=0;i<n._textures.length;i++)if(n._textures[i]instanceof Texture){const o=n._textures[i].baseTexture;e.includes(o)||(e.push(o),t=!0)}}return t}function findBaseTexture(n,e){if(n.baseTexture instanceof BaseTexture){const t=n.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function findTexture(n,e){if(n._texture&&n._texture instanceof Texture){const t=n._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function drawText(n,e){return e instanceof Text$1?(e.updateText(!0),!0):!1}function calculateTextStyle(n,e){if(e instanceof TextStyle){const t=e.toFontString();return TextMetrics.measureFont(t),!0}return!1}function findText(n,e){if(n instanceof Text$1){e.includes(n.style)||e.push(n.style),e.includes(n)||e.push(n);const t=n._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function findTextStyle(n,e){return n instanceof TextStyle?(e.includes(n)||e.push(n),!0):!1}const _BasePrepare=class{constructor(n){this.limiter=new CountLimiter(_BasePrepare.uploadsPerFrame),this.renderer=n,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(findText),this.registerFindHook(findTextStyle),this.registerFindHook(findMultipleBaseTextures),this.registerFindHook(findBaseTexture),this.registerFindHook(findTexture),this.registerUploadHook(drawText),this.registerUploadHook(calculateTextStyle)}upload(n){return new Promise(e=>{n&&this.add(n),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,Ticker.system.addOnce(this.tick,this,UPDATE_PRIORITY.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const n=this.queue[0];let e=!1;if(n&&!n._destroyed){for(let t=0,r=this.uploadHooks.length;t<r;t++)if(this.uploadHooks[t](this.uploadHookHelper,n)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)Ticker.system.addOnce(this.tick,this,UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;const n=this.completes.slice(0);this.completes.length=0;for(let e=0,t=n.length;e<t;e++)n[e]()}}registerFindHook(n){return n&&this.addHooks.push(n),this}registerUploadHook(n){return n&&this.uploadHooks.push(n),this}add(n){for(let e=0,t=this.addHooks.length;e<t&&!this.addHooks[e](n,this.queue);e++);if(n instanceof Container)for(let e=n.children.length-1;e>=0;e--)this.add(n.children[e]);return this}destroy(){this.ticking&&Ticker.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let BasePrepare=_BasePrepare;BasePrepare.uploadsPerFrame=4;Object.defineProperties(settings,{UPLOADS_PER_FRAME:{get(){return BasePrepare.uploadsPerFrame},set(n){deprecation("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),BasePrepare.uploadsPerFrame=n}}});function uploadBaseTextures(n,e){return e instanceof BaseTexture?(e._glTextures[n.CONTEXT_UID]||n.texture.bind(e),!0):!1}function uploadGraphics(n,e){if(!(e instanceof Graphics))return!1;const{geometry:t}=e;e.finishPoly(),t.updateBatches();const{batches:r}=t;for(let i=0;i<r.length;i++){const{texture:o}=r[i].style;o&&uploadBaseTextures(n,o.baseTexture)}return t.batchable||n.geometry.bind(t,e._resolveDirectShader(n)),!0}function findGraphics(n,e){return n instanceof Graphics?(e.push(n),!0):!1}class Prepare extends BasePrepare{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(findGraphics),this.registerUploadHook(uploadBaseTextures),this.registerUploadHook(uploadGraphics)}}Prepare.extension={name:"prepare",type:ExtensionType.RendererSystem};extensions$1.add(Prepare);var gl2FragmentSrc=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,gl2VertexSrc=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,gl1FragmentSrc=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,gl1VertexSrc=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,fragmentSimpleSrc=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const tempMat=new Matrix;class TilingSpriteRenderer extends ObjectRenderer{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new QuadUv,this.state=State.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=Shader.from(gl1VertexSrc,fragmentSimpleSrc,t),this.shader=e.context.webGLVersion>1?Shader.from(gl2VertexSrc,gl2FragmentSrc,t):Shader.from(gl1VertexSrc,gl1FragmentSrc,t)}render(e){const t=this.renderer,r=this.quad;let i=r.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const o=e.uvRespectAnchor?e.anchor.x:0,s=e.uvRespectAnchor?e.anchor.y:0;i=r.uvs,i[0]=i[6]=-o,i[1]=i[3]=-s,i[2]=i[4]=1-o,i[5]=i[7]=1-s,r.invalidate();const a=e._texture,c=a.baseTexture,l=c.alphaMode>0,u=e.tileTransform.localTransform,h=e.uvMatrix;let d=c.isPowerOfTwo&&a.frame.width===c.width&&a.frame.height===c.height;d&&(c._glTextures[t.CONTEXT_UID]?d=c.wrapMode!==WRAP_MODES.CLAMP:c.wrapMode===WRAP_MODES.CLAMP&&(c.wrapMode=WRAP_MODES.REPEAT));const p=d?this.simpleShader:this.shader,f=a.width,m=a.height,g=e._width,v=e._height;tempMat.set(u.a*f/g,u.b*f/v,u.c*m/g,u.d*m/v,u.tx/g,u.ty/v),tempMat.invert(),d?tempMat.prepend(h.mapCoord):(p.uniforms.uMapCoord=h.mapCoord.toArray(!0),p.uniforms.uClampFrame=h.uClampFrame,p.uniforms.uClampOffset=h.uClampOffset),p.uniforms.uTransform=tempMat.toArray(!0),p.uniforms.uColor=premultiplyTintToRgba(e.tint,e.worldAlpha,p.uniforms.uColor,l),p.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),p.uniforms.uSampler=a,t.shader.bind(p),t.geometry.bind(r),this.state.blendMode=correctBlendMode(e.blendMode,l),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}TilingSpriteRenderer.extension={name:"tilingSprite",type:ExtensionType.RendererPlugin};extensions$1.add(TilingSpriteRenderer);const _Spritesheet=class{constructor(n,e,t=null){this.linkedSheets=[],this._texture=n instanceof Texture?n:null,this.baseTexture=n instanceof BaseTexture?n:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const r=this.baseTexture.resource;this.resolution=this._updateResolution(t||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(n=null){const{scale:e}=this.data.meta;let t=getResolutionOfUrl(n,null);return t===null&&(t=parseFloat(e??"1")),t!==1&&this.baseTexture.setResolution(t),t}parse(){return new Promise(n=>{this._callback=n,this._batchIndex=0,this._frameKeys.length<=_Spritesheet.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(n){let e=n;const t=_Spritesheet.BATCH_SIZE;for(;e-n<t&&e<this._frameKeys.length;){const r=this._frameKeys[e],i=this._frames[r],o=i.frame;if(o){let s=null,a=null;const c=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,l=new Rectangle(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);i.rotated?s=new Rectangle(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):s=new Rectangle(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new Rectangle(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[r]=new Texture(this.baseTexture,s,l,a,i.rotated?2:0,i.anchor),Texture.addToCache(this.textures[r],r)}e++}}_processAnimations(){const n=this.data.animations||{};for(const e in n){this.animations[e]=[];for(let t=0;t<n[e].length;t++){const r=n[e][t];this.animations[e].push(this.textures[r])}}}_parseComplete(){const n=this._callback;this._callback=null,this._batchIndex=0,n.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*_Spritesheet.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*_Spritesheet.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(n=!1){var e;for(const t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,n&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let Spritesheet=_Spritesheet;Spritesheet.BATCH_SIZE=1e3;const validImages=["jpg","png","jpeg","avif","webp"];function getCacheableAssets(n,e,t){const r={};if(n.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[i]=e.textures[i]}),!t){const i=path.dirname(n[0]);e.linkedSheets.forEach((o,s)=>{const a=getCacheableAssets([`${i}/${e.data.meta.related_multi_packs[s]}`],o,!0);Object.assign(r,a)})}return r}const spritesheetAsset={extension:ExtensionType.Asset,cache:{test:n=>n instanceof Spritesheet,getCacheableAssets:(n,e)=>getCacheableAssets(n,e,!1)},resolver:{test:n=>{const t=n.split("?")[0].split("."),r=t.pop(),i=t.pop();return r==="json"&&validImages.includes(i)},parse:n=>{var t;const e=n.split(".");return{resolution:parseFloat(((t=settings.RETINA_PREFIX.exec(n))==null?void 0:t[1])??"1"),format:e[e.length-2],src:n}}},loader:{extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Normal},async testParse(n,e){return path.extname(e.src).toLowerCase()===".json"&&!!n.frames},async parse(n,e,t){var l,u;let r=path.dirname(e.src);r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");let i=r+n.meta.image;i=copySearchParams(i,e.src);const s=(await t.load([i]))[i],a=new Spritesheet(s.baseTexture,n,e.src);await a.parse();const c=(l=n==null?void 0:n.meta)==null?void 0:l.related_multi_packs;if(Array.isArray(c)){const h=[];for(const p of c){if(typeof p!="string")continue;let f=r+p;(u=e.data)!=null&&u.ignoreMultiPack||(f=copySearchParams(f,e.src),h.push(t.load({src:f,data:{ignoreMultiPack:!0}})))}const d=await Promise.all(h);a.linkedSheets=d,d.forEach(p=>{p.linkedSheets=[a].concat(a.linkedSheets.filter(f=>f!==p))})}return a},unload(n){n.destroy(!0)}}};extensions$1.add(spritesheetAsset);class BitmapFontData{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class TextFormat{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const o in t){const s=t[o].match(/^[a-z]+/gm)[0],a=t[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const l in a){const u=a[l].split("="),h=u[0],d=u[1].replace(/"/gm,""),p=parseFloat(d),f=isNaN(p)?d:p;c[h]=f}r[s].push(c)}const i=new BitmapFontData;return r.info.forEach(o=>i.info.push({face:o.face,size:parseInt(o.size,10)})),r.common.forEach(o=>i.common.push({lineHeight:parseInt(o.lineHeight,10)})),r.page.forEach(o=>i.page.push({id:parseInt(o.id,10),file:o.file})),r.char.forEach(o=>i.char.push({id:parseInt(o.id,10),page:parseInt(o.page,10),x:parseInt(o.x,10),y:parseInt(o.y,10),width:parseInt(o.width,10),height:parseInt(o.height,10),xoffset:parseInt(o.xoffset,10),yoffset:parseInt(o.yoffset,10),xadvance:parseInt(o.xadvance,10)})),r.kerning.forEach(o=>i.kerning.push({first:parseInt(o.first,10),second:parseInt(o.second,10),amount:parseInt(o.amount,10)})),r.distanceField.forEach(o=>i.distanceField.push({distanceRange:parseInt(o.distanceRange,10),fieldType:o.fieldType})),i}}class XMLFormat{static test(e){const t=e;return"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const t=new BitmapFontData,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),o=e.getElementsByTagName("page"),s=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let l=0;l<r.length;l++)t.info.push({face:r[l].getAttribute("face"),size:parseInt(r[l].getAttribute("size"),10)});for(let l=0;l<i.length;l++)t.common.push({lineHeight:parseInt(i[l].getAttribute("lineHeight"),10)});for(let l=0;l<o.length;l++)t.page.push({id:parseInt(o[l].getAttribute("id"),10)||0,file:o[l].getAttribute("file")});for(let l=0;l<s.length;l++){const u=s[l];t.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(let l=0;l<a.length;l++)t.kerning.push({first:parseInt(a[l].getAttribute("first"),10),second:parseInt(a[l].getAttribute("second"),10),amount:parseInt(a[l].getAttribute("amount"),10)});for(let l=0;l<c.length;l++)t.distanceField.push({fieldType:c[l].getAttribute("fieldType"),distanceRange:parseInt(c[l].getAttribute("distanceRange"),10)});return t}}class XMLStringFormat{static test(e){return typeof e=="string"&&e.includes("<font>")?XMLFormat.test(settings.ADAPTER.parseXML(e)):!1}static parse(e){return XMLFormat.parse(settings.ADAPTER.parseXML(e))}}const formats=[TextFormat,XMLFormat,XMLStringFormat];function autoDetectFormat(n){for(let e=0;e<formats.length;e++)if(formats[e].test(n))return formats[e];return null}function generateFillStyle(n,e,t,r,i,o){const s=t.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;let a;const c=t.dropShadow?t.dropShadowDistance:0,l=t.padding||0,u=n.width/r-c-l*2,h=n.height/r-c-l*2,d=s.slice(),p=t.fillGradientStops.slice();if(!p.length){const f=d.length+1;for(let m=1;m<f;++m)p.push(m/f)}if(d.unshift(s[0]),p.unshift(0),d.push(s[s.length-1]),p.push(1),t.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL){a=e.createLinearGradient(u/2,l,u/2,h+l);let f=0;const g=(o.fontProperties.fontSize+t.strokeThickness)/h;for(let v=0;v<i.length;v++){const y=o.lineHeight*v;for(let A=0;A<d.length;A++){let x=0;typeof p[A]=="number"?x=p[A]:x=A/d.length;const S=y/h+x*g;let E=Math.max(f,S);E=Math.min(E,1),a.addColorStop(E,d[A]),f=E}}}else{a=e.createLinearGradient(l,h/2,u+l,h/2);const f=d.length+1;let m=1;for(let g=0;g<d.length;g++){let v;typeof p[g]=="number"?v=p[g]:v=m/f,a.addColorStop(v,d[g]),m++}}return a}function drawGlyph(n,e,t,r,i,o,s){const a=t.text,c=t.fontProperties;e.translate(r,i),e.scale(o,o);const l=s.strokeThickness/2,u=-(s.strokeThickness/2);if(e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=generateFillStyle(n,e,s,o,[a],t),e.strokeStyle=s.stroke,s.dropShadow){const h=s.dropShadowColor,d=hex2rgb(typeof h=="number"?h:string2hex(h)),p=s.dropShadowBlur*o,f=s.dropShadowDistance*o;e.shadowColor=`rgba(${d[0]*255},${d[1]*255},${d[2]*255},${s.dropShadowAlpha})`,e.shadowBlur=p,e.shadowOffsetX=Math.cos(s.dropShadowAngle)*f,e.shadowOffsetY=Math.sin(s.dropShadowAngle)*f}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;s.stroke&&s.strokeThickness&&e.strokeText(a,l,u+t.lineHeight-c.descent),s.fill&&e.fillText(a,l,u+t.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function extractCharCode(n){return n.codePointAt?n.codePointAt(0):n.charCodeAt(0)}function splitTextToCharacters(n){return Array.from?Array.from(n):n.split("")}function resolveCharacters(n){typeof n=="string"&&(n=[n]);const e=[];for(let t=0,r=n.length;t<r;t++){const i=n[t];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const o=i[0].charCodeAt(0),s=i[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(let a=o,c=s;a<=c;a++)e.push(String.fromCharCode(a))}else e.push(...splitTextToCharacters(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const _BitmapFont=class{constructor(n,e,t){var l;const[r]=n.info,[i]=n.common,[o]=n.page,[s]=n.distanceField,a=getResolutionOfUrl(o.file),c={};this._ownsTextures=t,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=c;for(let u=0;u<n.page.length;u++){const{id:h,file:d}=n.page[u];c[h]=e instanceof Array?e[u]:e[d],s!=null&&s.fieldType&&s.fieldType!=="none"&&(c[h].baseTexture.alphaMode=ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,c[h].baseTexture.mipmap=MIPMAP_MODES.OFF)}for(let u=0;u<n.char.length;u++){const{id:h,page:d}=n.char[u];let{x:p,y:f,width:m,height:g,xoffset:v,yoffset:y,xadvance:A}=n.char[u];p/=a,f/=a,m/=a,g/=a,v/=a,y/=a,A/=a;const x=new Rectangle(p+c[d].frame.x/a,f+c[d].frame.y/a,m,g);this.chars[h]={xOffset:v,yOffset:y,xAdvance:A,kerning:{},texture:new Texture(c[d].baseTexture,x),page:d}}for(let u=0;u<n.kerning.length;u++){let{first:h,second:d,amount:p}=n.kerning[u];h/=a,d/=a,p/=a,this.chars[d]&&(this.chars[d].kerning[h]=p)}this.distanceFieldRange=s==null?void 0:s.distanceRange,this.distanceFieldType=((l=s==null?void 0:s.fieldType)==null?void 0:l.toLowerCase())??"none"}destroy(){for(const n in this.chars)this.chars[n].texture.destroy(),this.chars[n].texture=null;for(const n in this.pageTextures)this._ownsTextures&&this.pageTextures[n].destroy(!0),this.pageTextures[n]=null;this.chars=null,this.pageTextures=null}static install(n,e,t){let r;if(n instanceof BitmapFontData)r=n;else{const o=autoDetectFormat(n);if(!o)throw new Error("Unrecognized data format for font.");r=o.parse(n)}e instanceof Texture&&(e=[e]);const i=new _BitmapFont(r,e,t);return _BitmapFont.available[i.font]=i,i}static uninstall(n){const e=_BitmapFont.available[n];if(!e)throw new Error(`No font found named '${n}'`);e.destroy(),delete _BitmapFont.available[n]}static from(n,e,t){if(!n)throw new Error("[BitmapFont] Property `name` is required.");const{chars:r,padding:i,resolution:o,textureWidth:s,textureHeight:a,...c}=Object.assign({},_BitmapFont.defaultOptions,t),l=resolveCharacters(r),u=e instanceof TextStyle?e:new TextStyle(e),h=s,d=new BitmapFontData;d.info[0]={face:u.fontFamily,size:u.fontSize},d.common[0]={lineHeight:u.fontSize};let p=0,f=0,m,g,v,y=0;const A=[];for(let S=0;S<l.length;S++){m||(m=settings.ADAPTER.createCanvas(),m.width=s,m.height=a,g=m.getContext("2d"),v=new BaseTexture(m,{resolution:o,...c}),A.push(new Texture(v)),d.page.push({id:A.length-1,file:""}));const E=l[S],w=TextMetrics.measureText(E,u,!1,m),k=w.width,Z=Math.ceil(w.height),L=Math.ceil((u.fontStyle==="italic"?2:1)*k);if(f>=a-Z*o){if(f===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${u.fontFamily}', fontSize: ${u.fontSize}px, char: '${E}')`);--S,m=null,g=null,v=null,f=0,p=0,y=0;continue}if(y=Math.max(Z+w.fontProperties.descent,y),L*o+p>=h){if(p===0)throw new Error(`[BitmapFont] textureWidth ${s}px is too small (fontFamily: '${u.fontFamily}', fontSize: ${u.fontSize}px, char: '${E}')`);--S,f+=y*o,f=Math.ceil(f),p=0,y=0;continue}drawGlyph(m,g,w,p,f,o,u);const G=extractCharCode(w.text);d.char.push({id:G,page:A.length-1,x:p/o,y:f/o,width:L,height:Z,xoffset:0,yoffset:0,xadvance:k-(u.dropShadow?u.dropShadowDistance:0)-(u.stroke?u.strokeThickness:0)}),p+=(L+2*i)*o,p=Math.ceil(p)}for(let S=0,E=l.length;S<E;S++){const w=l[S];for(let k=0;k<E;k++){const Z=l[k],L=g.measureText(w).width,G=g.measureText(Z).width,M=g.measureText(w+Z).width-(L+G);M&&d.kerning.push({first:extractCharCode(w),second:extractCharCode(Z),amount:M})}}const x=new _BitmapFont(d,A,!0);return _BitmapFont.available[n]!==void 0&&_BitmapFont.uninstall(n),_BitmapFont.available[n]=x,x}};let BitmapFont=_BitmapFont;BitmapFont.ALPHA=[["a","z"],["A","Z"]," "];BitmapFont.NUMERIC=[["0","9"]];BitmapFont.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];BitmapFont.ASCII=[[" ","~"]];BitmapFont.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:_BitmapFont.ALPHANUMERIC};BitmapFont.available={};var msdfFrag=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,msdfVert=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const pageMeshDataDefaultPageMeshData=[],pageMeshDataMSDFPageMeshData=[],charRenderDataPool=[],_BitmapText=class extends Container{constructor(n,e={}){super(),this._tint=16777215;const{align:t,tint:r,maxWidth:i,letterSpacing:o,fontName:s,fontSize:a}=Object.assign({},_BitmapText.styleDefaults,e);if(!BitmapFont.available[s])throw new Error(`Missing BitmapFont "${s}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=t,this._tint=r,this._font=void 0,this._fontName=s,this._fontSize=a,this.text=n,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new ObservablePoint(()=>{this.dirty=!0},this,0,0),this._roundPixels=settings.ROUND_PIXELS,this.dirty=!0,this._resolution=settings.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var L;const n=BitmapFont.available[this._fontName],e=this.fontSize,t=e/n.size,r=new Point,i=[],o=[],s=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",c=splitTextToCharacters(a),l=this._maxWidth*n.size/e,u=n.distanceFieldType==="none"?pageMeshDataDefaultPageMeshData:pageMeshDataMSDFPageMeshData;let h=null,d=0,p=0,f=0,m=-1,g=0,v=0,y=0,A=0;for(let G=0;G<c.length;G++){const j=c[G],M=extractCharCode(j);if(/(?:\s)/.test(j)&&(m=G,g=d,A++),j==="\r"||j===`
`){o.push(d),s.push(-1),p=Math.max(p,d),++f,++v,r.x=0,r.y+=n.lineHeight,h=null,A=0;continue}const T=n.chars[M];if(!T)continue;h&&T.kerning[h]&&(r.x+=T.kerning[h]);const P=charRenderDataPool.pop()||{texture:Texture.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Point};P.texture=T.texture,P.line=f,P.charCode=M,P.position.x=Math.round(r.x+T.xOffset+this._letterSpacing/2),P.position.y=Math.round(r.y+T.yOffset),P.prevSpaces=A,i.push(P),d=P.position.x+Math.max(T.xAdvance-T.xOffset,T.texture.orig.width),r.x+=T.xAdvance+this._letterSpacing,y=Math.max(y,T.yOffset+T.texture.height),h=M,m!==-1&&l>0&&r.x>l&&(++v,removeItems(i,1+m-v,1+G-m),G=m,m=-1,o.push(g),s.push(i.length>0?i[i.length-1].prevSpaces:0),p=Math.max(p,g),f++,r.x=0,r.y+=n.lineHeight,h=null,A=0)}const x=c[c.length-1];x!=="\r"&&x!==`
`&&(/(?:\s)/.test(x)&&(d=g),o.push(d),p=Math.max(p,d),s.push(-1));const S=[];for(let G=0;G<=f;G++){let j=0;this._align==="right"?j=p-o[G]:this._align==="center"?j=(p-o[G])/2:this._align==="justify"&&(j=s[G]<0?0:(p-o[G])/s[G]),S.push(j)}const E=i.length,w={},k=[],Z=this._activePagesMeshData;u.push(...Z);for(let G=0;G<E;G++){const j=i[G].texture,M=j.baseTexture.uid;if(!w[M]){let T=u.pop();if(!T){const U=new MeshGeometry;let N,$;n.distanceFieldType==="none"?(N=new MeshMaterial(Texture.EMPTY),$=BLEND_MODES.NORMAL):(N=new MeshMaterial(Texture.EMPTY,{program:Program.from(msdfVert,msdfFrag),uniforms:{uFWidth:0}}),$=BLEND_MODES.NORMAL_NPM);const D=new Mesh(U,N);D.blendMode=$,T={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:D,vertices:null,uvs:null,indices:null}}T.index=0,T.indexCount=0,T.vertexCount=0,T.uvsCount=0,T.total=0;const{_textureCache:P}=this;P[M]=P[M]||new Texture(j.baseTexture),T.mesh.texture=P[M],T.mesh.tint=this._tint,k.push(T),w[M]=T}w[M].total++}for(let G=0;G<Z.length;G++)k.includes(Z[G])||this.removeChild(Z[G].mesh);for(let G=0;G<k.length;G++)k[G].mesh.parent!==this&&this.addChild(k[G].mesh);this._activePagesMeshData=k;for(const G in w){const j=w[G],M=j.total;if(!(((L=j.indices)==null?void 0:L.length)>6*M)||j.vertices.length<Mesh.BATCHABLE_SIZE*2)j.vertices=new Float32Array(4*2*M),j.uvs=new Float32Array(4*2*M),j.indices=new Uint16Array(6*M);else{const T=j.total,P=j.vertices;for(let U=T*4*2;U<P.length;U++)P[U]=0}j.mesh.size=6*M}for(let G=0;G<E;G++){const j=i[G];let M=j.position.x+S[j.line]*(this._align==="justify"?j.prevSpaces:1);this._roundPixels&&(M=Math.round(M));const T=M*t,P=j.position.y*t,U=j.texture,N=w[U.baseTexture.uid],$=U.frame,D=U._uvs,z=N.index++;N.indices[z*6+0]=0+z*4,N.indices[z*6+1]=1+z*4,N.indices[z*6+2]=2+z*4,N.indices[z*6+3]=0+z*4,N.indices[z*6+4]=2+z*4,N.indices[z*6+5]=3+z*4,N.vertices[z*8+0]=T,N.vertices[z*8+1]=P,N.vertices[z*8+2]=T+$.width*t,N.vertices[z*8+3]=P,N.vertices[z*8+4]=T+$.width*t,N.vertices[z*8+5]=P+$.height*t,N.vertices[z*8+6]=T,N.vertices[z*8+7]=P+$.height*t,N.uvs[z*8+0]=D.x0,N.uvs[z*8+1]=D.y0,N.uvs[z*8+2]=D.x1,N.uvs[z*8+3]=D.y1,N.uvs[z*8+4]=D.x2,N.uvs[z*8+5]=D.y2,N.uvs[z*8+6]=D.x3,N.uvs[z*8+7]=D.y3}this._textWidth=p*t,this._textHeight=(r.y+n.lineHeight)*t;for(const G in w){const j=w[G];if(this.anchor.x!==0||this.anchor.y!==0){let U=0;const N=this._textWidth*this.anchor.x,$=this._textHeight*this.anchor.y;for(let D=0;D<j.total;D++)j.vertices[U++]-=N,j.vertices[U++]-=$,j.vertices[U++]-=N,j.vertices[U++]-=$,j.vertices[U++]-=N,j.vertices[U++]-=$,j.vertices[U++]-=N,j.vertices[U++]-=$}this._maxLineHeight=y*t;const M=j.mesh.geometry.getBuffer("aVertexPosition"),T=j.mesh.geometry.getBuffer("aTextureCoord"),P=j.mesh.geometry.getIndex();M.data=j.vertices,T.data=j.uvs,P.data=j.indices,M.update(),T.update(),P.update()}for(let G=0;G<i.length;G++)charRenderDataPool.push(i[G]);this._font=n,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(n){this._autoResolution&&this._resolution!==n.resolution&&(this._resolution=n.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:t,size:r}=BitmapFont.available[this._fontName];if(t!=="none"){const{a:i,b:o,c:s,d:a}=this.worldTransform,c=Math.sqrt(i*i+o*o),l=Math.sqrt(s*s+a*a),u=(Math.abs(c)+Math.abs(l))/2,h=this.fontSize/r,d=n._view.resolution;for(const p of this._activePagesMeshData)p.mesh.shader.uniforms.uFWidth=u*e*h*d}super._render(n)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const n=BitmapFont.available[this._fontName];if(!n)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==n&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(n){if(this._tint!==n){this._tint=n;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=n}}get align(){return this._align}set align(n){this._align!==n&&(this._align=n,this.dirty=!0)}get fontName(){return this._fontName}set fontName(n){if(!BitmapFont.available[n])throw new Error(`Missing BitmapFont "${n}"`);this._fontName!==n&&(this._fontName=n,this.dirty=!0)}get fontSize(){return this._fontSize??BitmapFont.available[this._fontName].size}set fontSize(n){this._fontSize!==n&&(this._fontSize=n,this.dirty=!0)}get anchor(){return this._anchor}set anchor(n){typeof n=="number"?this._anchor.set(n):this._anchor.copyFrom(n)}get text(){return this._text}set text(n){n=String(n??""),this._text!==n&&(this._text=n,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(n){this._maxWidth!==n&&(this._maxWidth=n,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(n){this._letterSpacing!==n&&(this._letterSpacing=n,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(n){n!==this._roundPixels&&(this._roundPixels=n,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(n){this._autoResolution=!1,this._resolution!==n&&(this._resolution=n,this.dirty=!0)}destroy(n){const{_textureCache:e}=this,r=BitmapFont.available[this._fontName].distanceFieldType==="none"?pageMeshDataDefaultPageMeshData:pageMeshDataMSDFPageMeshData;r.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],r.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=Texture.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._textureCache=null,super.destroy(n)}};let BitmapText=_BitmapText;BitmapText.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const validExtensions=[".xml",".fnt"],loadBitmapFont={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Normal},test(n){return validExtensions.includes(path.extname(n).toLowerCase())},async testParse(n){return TextFormat.test(n)||XMLStringFormat.test(n)},async parse(n,e,t){const r=TextFormat.test(n)?TextFormat.parse(n):XMLStringFormat.parse(n),{src:i}=e,{page:o}=r,s=[];for(let l=0;l<o.length;++l){const u=o[l].file;let h=path.join(path.dirname(i),u);h=copySearchParams(h,i),s.push(h)}const a=await t.load(s),c=s.map(l=>a[l]);return BitmapFont.install(r,c,!0)},async load(n,e){return(await settings.ADAPTER.fetch(n)).text()},unload(n){n.destroy()}};extensions$1.add(loadBitmapFont);const Textures={pipeTop:Texture.from("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAAMZCAYAAADfnawUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowMTgwMTE3NDA3MjA2ODExODE0NUY0MkQ5OEE1OTg3NiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3Mzg1MThFNjg5NDgxMUUzOTkzRkJDMEM4MDJDNEY2OCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3Mzg1MThFNTg5NDgxMUUzOTkzRkJDMEM4MDJDNEY2OCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDQ4MDExNzQwNzIwNjgxMTgxNDVGNDJEOThBNTk4NzYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDE4MDExNzQwNzIwNjgxMTgxNDVGNDJEOThBNTk4NzYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5S8yE6AAAIiUlEQVR42uzdy24bVQCA4XPGuUI3SCAQVTdIFVXZAAtAArFCVN0j8TQ8Du/ARWJBWcECsgmqIItWAikLVk3iOKnn4MuMY3vG6Ti3OvH3SeklHdfTyZ9zjifpTPzqkwcpwAtkDgFCQSgIhQW0ErNhKyml/g8h28jDnW92Q8h774zFW8+7d++PHhTj8J1fvvn+yfvKDZfID7t/jH6dwvA1wUZrNXz++nuV4/L97u+jX5fbXqXHf22f7GsaPv/TR/uDvZmWfnonhKPW6SNKXPMiaLkUo0Eq3tqrIax2TT2cceqpDaxMaGzqGfxRVk49Y6VlcWmnnvFjMv37uuMSX/anZTaaJ8d2eGoGialhKC8apcJkPEvax+x/fzzluMQbNKJkvexHC9d48lnw4K0PKgu0H3e3Kou5eRZTdQvkWdsuqrq92wpbjbY7r6eP9ipP0FqP4fZHr1bifPLLs+rOxOY7VhkMW62WCRmLWS5qMTs+DcTJhSs3zBzzoREFoSAUhIJQEApCgbAyOk+SQvANBswcUaa+QAymHoSCUBAKQkEoCAWEglAQCkJhgfX/I9jYfwYTCkYUhIJQEApCQSggFITCBZrrikvlBXTGLzdVXkCnyZUOy4vijF8cZ/pxoysn1my7iNIFbzf385fHp/wphdnHLZ19Z4woCAWhIBSEglAQCggFoXCZoTw/6joqVMSvP304OKGb52l42nfjecg+/jeEV46LLYbne2fdPaPpTYpmnYqPNVc8XvTT9gul7lDFhtvVOVwJ6bfbIRysFo+Lph6aq/2iYOqNLiFPEyPKZd3ezOhxRaOMxSwvZ0TJe3PSf5sh7K1NjCgsif5NJ7tZg1B6G6Y/33DAlnrqiqYeLnAxW1cUy82IQrMRZfPW5nANW5xw67912p3hS+QxrbUY4up0ZTG0pu7R2n9UN+Wj12hzL4UHr8zzsQcWJ/yyrHpyrreveX6ObwS9TsuG/OT7Yct/av/Q190iN+82fKncnzm6k8e0f4zXN9d7f2+sTD2VeWZwT+0sGzxL+YH44tvXQip2IBb3p3z49oe1z//z7nY46HaK/ZzvA9j/u3d2/g7Hx0dFC8PH37t3/+T5i2Ae72z3jkqY2O6m6t+RtG5BcOezW6MPWl+3k8I/v+43D/C7u1OfeynUNVHp8ajdMc4uucODw9PXKJ2aDVhO7b12fSiH+21Hh5mxDEI5eHbgqHBqLJlIaBKL8yg0IhSEglAQCkJBKAgFhIJQEApC4XqFEn1/NUYUhIJQEApCQSgIBYSCUBAKQkEoCAWhgFAQCkJBKCy8lYXcqxhCiHNsu8zijJ+NKCz+iNK02nhJZV/yZw1GFISCUBAKQkEoCAWEwnk54YYRBaGw0FPPVfHV47NPx756zLUZUa5qLRutZa1REAqmniuee877/BhREApCQSgIBYSCUBAKQkEoCAWhgFAQCkJBKAgFoSAUEApCQSgIBaEgFIQCQkEoCAWhIBSEglBAKAgFoSAUhIJQEAoIBaEgFISCUBAKQgGhIBSEglAQCkJBKCAUhIJQEApCQSgIBYSCUBAKQkEoCAWhgFAQCkJBKAgFoSAUEApCQSgIBaEgFIQCQkEoCAWhIBSEglBAKAgFoSAUhIJQEAoIBaEgFISCUBAKQgGhIBSEglAQCkJBKCAUhIJQEApCQSgIBYSCUBAKQkEoCAWhgFAQCkJBKAgFoSAUEApCQSgIBaEgFIQCQkEoCAWhIBSEglBAKAgFoSAUhIJQEAoIBaEgFISCUBAKQgGhIBSEglAQCkJBKCAUhIJQEApCQSgIBYSCUBAKQkEoCAWhgFAQCkJBKAgFoSAUEApCQSgIBaEgFIQCQkEoCAWhIBSEglAcAoSCUBAKQkEoCAWEglAQCkJBKAgFoYBQEApCQSgIBaEgFBAKQkEoCAWhIBSEAkJBKAgFoSAUhIJQQCgIBaEgFISCUBAKCAWhIBSEglAQCkIBoSAUhIJQEApCQSggFISCUBAKQkEoCAWEglAQCkJBKAgFoYBQEApCQSgIBaEgFBAKQkEoCAWhIBSEAkJBKAgFoSAUhIJQQCgIBaEgFISCUBAKCAWhIBSEglAQCkIBoSAUhIJQEApCQSggFISCUBAKQkEoCAWEglAQCkJBKAgFoYBQEApCQSgIBaEgFBAKQkEoCAWhIBSEAkJBKAgFoSAUhIJQQCgIBaEgFISCUBAKCAWhIBSEglAQCkIBoSAUhIJQEApCQSggFISCUBAKQkEoCAWEglAQCkJBKAgFoYBQEApCQSgIBaEgFBAKQkEoCAWhIBSEAkJBKAgFoSAUhIJQQCgIBaEgFISCUBAKCAWhIBSEglAQCkIBoSAUhIJQEApCQSggFISCUBAKQkEoCAWEglAQCkJBKAgFoYBQEApCQSgIBaEgFBAKQkEoCAWhIBSEAkJBKAgFoSAUhIJQHAKEglAQCkJBKAgFhIJQEApCQSgIBaGAUBAKQkEoCAWhIBQQCkJBKAgFoSAUhAJCQSgIBaEgFISCUEAoCAWhIBSEglAQCggFoSAUhIJQEApCAaEgFISCUBAKQkEoIBSEglAQCkJBKAgFhIJQEApCQSgIBaGAUBAKQkEoCAWhIBQQCkJBKAgFoSAUhAJCQSgIBaEgFISCUEAoCAWhIBSEglAQCggFoSAUhIJQEApCAaEgFISCUBAKQkEoIBSEglAQCkJBKAgFhIJQEApCQSgIBaGAUBAKQkEoCAWhIBQQCkJBKAgFoSAUhAJCQSgIBaEgFISCUEAoCAWhIBSEglAQCggFoSAUhIJQEApCAaEgFISCUBAKQkEoIBSEglAQCkJBKAgFhIJQEApCQSgIBaGAUBAKQkEoCAWhIBQQCkJBKAgFoSAUhAJCQSgIBaEgFISCUEAoCAWhIBSEglAQCggFoSAUhMK1878AAwDAUxw9p1dTiwAAAABJRU5ErkJggg=="),pipeBottom:Texture.from("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAAMZCAYAAADfnawUAAAAAXNSR0IArs4c6QAAE91JREFUeF7t3UtvpYdBx+H32M2FNtCSFLW0IQtoLppsQiUoSmkqhGCSLYKw5VPAqp8DxIIv0O6bgITUhEW4qGk3Q9JMEnWqpJoAKzqBmeA56Fxtn3M8/nnszPjyWIom8vyPL69/ft7Xxx6f0bDh6eXnXxyPRqNhPB4Pt2+Pp4vL3310uRxtz/73xS99fdPNh9f/88rw8c7N6d+Nh9ntj/L03vtXh1uf3Jrdfjy7/TNPXdp9/aPR9P/f+smV5fMWu6O8nrO0vfaDX2x8c5944ZHZ82eHZNi5OR4+eONGftfGrzy5tv3eG6/OX9ruX609Y/JXQsnH+Z4NhbLhUBNl/aAIRShJJaEIRSjTi1EXsymEw0ZEIcphjUz/XihCEYpTT2ogjYhCFKEQJTWQRkQhilCIkhpII6IQRShESQ2kEVGIIhSipAbSiChEEQpRUgNpRBSiCIUoqYE0IgpRhEKU1EAaEYUoQiFKaiCNiEIUoRAlNZBGRCGKUIiSGkgjohBFKERJDaQRUYgiFKKkBtKIKEQRClFSA2lEFKIIhSipgTQiClGEQpTUQBoRhShCIUpqII2IQhShECU1kEZEIYpQiJIaSCOiEEUoREkNpBFRiCIUoqQG0ogoRBEKUVIDaUQUogiFKKmBNCIKUYRClNRAGhGFKEIhSmogjYhCFKEQJTWQRkQhilCIkhpII6IQRShESQ2kEVGIIhSipAbSiChEEQpRUgNpRBSiCIUoqYE0IgpRhEKU1EAaEYUoQiFKaiCNiEIUoRAlNZBGRCGKUIiSGkgjohBFKERJDaQRUYgiFKKkBtKIKEQRClFSA2lEFKIIhSipgTQiClGEQpTUQBoRhShCIUpqII2IQhShECU1kEZEIYpQiJIaSCOiEEUoREkNpBFRiCIUoqQG0ogoRBEKUVIDaUQUogiFKKmBNCIKUYRClNRAGhGFKEIhSmogjYhCFKEQJTWQRkQhilCIkhpII6IQRShESQ2kEVGIIhSipAbSiChEEQpRUgNpRBSiCIUoqYE0IgpRhEKU1EAaEYUoQiFKaiCNiEIUoRAlNZBGRCGKUIiSGkgjohBFKERJDaQRUYgiFKKkBtKIKEQRClFSA2lEFKIIhSipgTQiClGEQpTUQBoRhShCIUpqII2IQhShECU1kEZEIYpQiJIaSCOiEEUoREkNpBFRiCIUoqQG0ogoRBEKUVIDaUQUogiFKKmBNCIKUYRClNRAGhGFKEIhSmogjYhCFKEQJTWQRkQhilCIkhpII6IQRShESQ2kEVGIIhSipAbSiChEEQpRUgNpRBSiCIUoqYE0IgpRhEKU1EAaEYUoQiFKaiCNiEIUoRAlNZBGRCGKUIiSGkgjohBFKERJDaQRUYgiFKKkBtKIKEQRClFSA2lEFKIIhSipgTQiClGEQpTUQBoRhShCIUpqII2IQhShECU1kEZEIYpQiJIaSCOiEEUoREkNpBFRiCIUoqQG0ogoRBEKUVIDaUQUogiFKKmBNCIKUYRClNRAGhGFKEIhSmogjYhCFKEQJTWQRkQhilCIkhpII6IQRShESQ2kEVGIIhSipAbSiChEEQpRUgNpRBSiCIUoqYE0IgpRhEKU1EAaEYUoQiFKaiCNiEIUoRAlNZBGRCGKUIiSGkgjohBFKERJDaQRUYgiFKKkBtKIKEQRClFSA2lEFKIIhSipgTQiClGEQpTUQBoRhShCIUpqII2IQhShECU1kEZEIYpQiJIaSCOiEEUoREkNpBFRiCIUoqQG0ogoRBEKUVIDaUQUogiFKKmBNCIKUYRClNRAGhGFKEIhSmogjYhCFKEQJTWQRkQhilCIkhpII6IQRShESQ2kEVGIIhSipAbSiChEEQpRUgNpRBSiCIUoqYE0IgpRhEKU1EAaEYUoQiFKaiCNiEIUoRAlNZBGRCGKUIiSGkgjohBFKERJDaQRUYgiFKKkBtKIKEQRClFSA2lEFKIIhSipgTQiClGEQpTUQBoRhShCIUpqII2IQhShECU1kEZEIYpQiJIaSCOiEEUoREkNpBFRiCIUoqQG0ogoRBEKUVIDaUQUogiFKKmBNCIKUYRClNRAGhGFKEIhSmogjYhCFKEQJTWQRkQhilCIkhpII6IQRShESQ2kEVGIIhSipAbSiChEEQpRUgNpRBSiCIUoqYE0IgpRhEKU1EAaEYUoQiFKaiCNiEIUoRAlNZBGRCGKUIiSGkgjohBFKERJDaQRUYgiFKKkBtKIKEQRClFSA2lEFKIIhSipgTQiClGEQpTUQBoRhShCIUpqII2IQhShECU1kEZEIYpQiJIaSCOiEEUoREkNpBFRiCIUoqQG0ogoRBEKUVIDaUQUogiFKKmBNCIKUYRClNRAGhGFKEIhSmogjYhCFKEQJTWQRkQhilCIkhpII6IQRShESQ2kEVGIIhSipAbSiChEEQpRUgNpRBSiCIUoqYE0IgpRhEKU1EAaEYUoQiFKaiCNiEIUoRAlNZBGRCGKUIiSGkgjohBFKERJDaQRUYgiFKKkBtKIKEQRClFSA2lEFKIIhSipgTQiClGEQpTUQBoRhShCIUpqII2IQhShECU1kEZEIYpQiJIaSCOiEEUoREkNpBFRiCIUoqQG0ogoRBEKUVIDaUQUogiFKKmBNCIKUYRClNRAGhGFKEIhSmogjYhCFKEQJTWQRkQhilCIkhpII6IQRShESQ2kEVGIIhSipAbSiChEEQpRUgNpRBSiCIUoqYE0IgpRhEKU1EAaEYUoQiFKaiCNiEIUoRAlNZBGRCGKUIiSGkgjohBFKERJDaQRUYgiFKKkBtKIKEQRClFSA2lEFKIIhSipgTQiClGEQpTUQBoRhShCIUpqII2IQhShECU1kEZEIYpQiJIaSCOiEEUoREkNpBFRiCIUoqQG0ogoRBEKUVIDaUQUogiFKKmBNCIKUYRClNRAGhGFKEIhSmogjYhCFKEQJTWQRkQhilCIkhpII6IQRShESQ2kEVGIIhSipAbSiChEEQpRUgNpRBSiCIUoqYE0IgpRhEKU1EAaEYUoQiFKaiCNiEIUoRAlNZBGRCGKUIiSGkgjohBFKERJDaQRUYgiFKKkBtKIKEQRClFSA2lEFKIIhSipgTQiClGEQpTUQBoRhShCIUpqII2IQhShECU1kEZEIYpQiJIaSCOiEEUoREkNpBFRiCIUoqQG0ogoRBEKUVIDaUQUogiFKKmBNCIKUYRClNRAGhGFKEIhSmogjYhCFKEQJTWQRkQhilCIkhpII6IQRShESQ2kEVGIIhSipAbSiChEEQpRUgNpRBSiCIUoqYE0IgpRhEKU1EAaEYUoQiFKaiCNiEIUoRAlNZBGRCGKUIiSGkgjohBFKERJDaQRUYgiFKKkBtKIKEQRClFSA2lEFKIIhSipgTQiClGEQpTUQBoRhShCIUpqII2IQhShECU1kEZEIYpQiJIaSCOiEEUoREkNpBFRiCIUoqQG0ogoRBEKUVIDaUQUogiFKKmBNCIKUYRClNRAGhGFKEIhSmogjYhCFKEQJTWQRkQhilCIkhpII6IQRShESQ2kEVGIIhSipAbSiChEEQpRUgNpRBSiCIUoqYE0IgpRhEKU1EAaEYUoQiFKaiCNiEIUoRAlNZBGRCGKUIiSGkgjohBFKERJDaQRUYgiFKKkBtKIKEQRClFSA2lEFKIIhSipgTQiClGEQpTUQBoRhShCIUpqII2IQhShECU1kEZEIYpQiJIaSCOiEEUoREkNpBFRiCIUoqQG0ogoRBEKUVIDaUQUogiFKKmBNCIKUYRClNRAGhGFKEIhSmogjYhCFKEQJTWQRkQhilCIkhpII6IQRShESQ2kEVGIIhSipAbSiChEEQpRUgNpRBSiCIUoqYE0IgpRhEKU1EAaEYUoQiFKaiCNiEIUoRAlNZBGRCGKUIiSGkgjohBFKERJDaQRUYgiFKKkBtKIKEQRClFSA2lEFKIIhSipgTQiClGEQpTUQBoRhShCIUpqII2IQhShECU1kEZEIYpQiJIaSCOiEEUoREkNpBFRiCIUoqQG0ogoRBEKUVIDaUQUogiFKKmBNCIKUYRClNRAGhGFKEIhSmogjYhCFKEQJTWQRkQhilCIkhpII6IQRShESQ2kEVGIIhSipAbSiChEEQpRUgNpRBSiCIUoqYE0IgpRhEKU1EAaEYUoQiFKaiCNiEIUoRAlNZBGRCGKUIiSGkgjohBFKERJDaQRUYgiFKKkBtKIKEQRClFSA2lEFKIIhSipgTQiClGEQpTUQBoRhShCIUpqII2IQhShECU1kEZEIYpQiJIaSCOiEEUoREkNpBFRiCIUoqQG0uhsiTKevU+j7dmfL3756xvfydf/48rw8c7N6d+Nh/mN0uGYvPBheO/9q8OtT27Nbj+e3f6Zpy5NXtjs9Y9G0z/feufK8qUudvXVnLWdUFY/YkLZ2LBQhJJwO1OhzM8Cy1PPSwecel47xqlnclZ59/2rwycbTj3L1z8/9bzt1DM88cIj8/Px7I+dm+PhgzdupPimp/ZXnlzbfu+NV2fn9j1Pa8+Y/N3Lz784nlwHTM77t2/PLgwuf/fRQSj5+J/4kCir5U5EeW+DKE9f2g11ryjzC9xzfzH72i82xvfEtzaI8s8XRRShrEVxTSgr50KibP6q50yFcnt+3TS/H+WlX998P8prH939/SijrTucehavf3HquXpled+KU8+ei9n7fuoRyolfpNYXeLZOPUKpH9cT3wll9asepx7XKOXTzDXK5qNEFKKUz59BKEIRyvR7CUf8MQOnHqee9JkjlPMQys7KHW5fOeAOt+vHuMNt+w53uC1e/+IOt3fd4XY6v9cjlKTipzE6Wxez9yqUdzd89/iZS8N4kyjzOwHP/V34rx/w3ePf3/Dd43+53989FsqngUV6mdeEsvLd48k1ClHWf8xAKEIppBBl9Q43omz+Xg9RiEKUu7lnlihEKZ85k3+F6GJ2/Ui5RnGNUj5/BqEIRSh39d1jpx7XKOVTxzXKAd899uWxL4/LJ5BrFNcopRMXs6tHyanHqSd95ghFKEJJR0Ao6TARRShCSUfgjIUy/fWMw8pvXPITbsf4UB/vpqf2y2OhHO8De9K3For7UVJTQhGKUHxTMDWQRkQhilCIkhpII6IQRShESQ2kEVGIIhSipAbSiChEEQpRUgNpRBSiCIUoqYE0IgpRhEKU1EAaEYUoZyOUv7j8J9MHW5s8duDkF+ZN/rv5PzeH8fyxBBfvxfaDo2H0wP73aWsYDduTXwy752nywnbGk9/AN3sMtyM+6vH0Brcnt1/ecPY/o62t5eMdL1/dnsc8vIvXlD5Ap2U0PSSLY7J4/OetyXFZfwtvz38S8dAPwHg0DDv7H1Zy8liSD/3SQ8Noa+X5f/7Nl/aFcloOjLfjdB2BkVBO1wfktL41m0MZHfmEcVrfP2/X3RyBySlp9dpxoyhCuZvDe35uk0J5cGcYfe2/huGhxb/NoMv5KSC8J7e2h/HVx4bh5vwRRufRrJ96Hv6/YfQ7HwzDZz+ZvVS6hKN7jib/+5lh/K9fHYaP51/iCuUcfXBP8l05Sihb3/hwTZTR9F8Orj/VB2466EENJl+3rz6d9wdAOMmP68Y7qjZ9qOoVhFBO9MNzel7YpgDuRSif+eXx8Id/99j8+mT3nr8//tJzw0KVxZ9/f/1Hy4eCO0yWn7zz79N7fSdPiz+feerZ5e0Xskxe9tvvXFnbnp6PzP635KQ/Tkd5P3/2TzeWx2khy/ZDo+Hxbzyy+/x5NNPvFa3cs7vxdVVRHn5sa/j233xBKPEjJpTpVzxEOawXoQjlsEZmp9ENq+NcIqRXOh859bhGSb0IRShC8VVPaiCNiEIUoRAlNZBGRCGKUIiSGkijUyvK4q1f3IX/D9d/vHyHDrsLf3K3/OJpcRf+009eWj5v7zcHN23TkbsPo/t5P8q+f8Ixf0Mmd+F/9Xc/t3sk5nfq/PS1/9593p3uyj+Ju/CFsl6iUDbcMysUoSz/Xc+dvikoFKEI5S6vb5x6nHpSOkIRilCm92XMvmxa+yl81yipjz13C6zv79WPGfjyeMN9Lkf78N27tVOPU0+qTShCudih3Hhw3/vvGiXlcPDo3IoilGOWsXJzoTj1pKKEIhSh7DkCrlFSDq5RhCKU/Udg8fMoLmaPWYaL2dmvDnUX/tFCcjHrYjYVIxShCGXvVz0vz38h8eQ3VTv1pDb2jS6MKH/2/Ow3V09/Mt41ypFLEYpTT4pGKEIRyt5rFKee1MOBI6IQJRUkFKEIxaknNZBGRCGKUA4T5YW//vxssufXh17+8m8vb+a3GewewTMtyvQOtJXPh4O+e7zpqx6hJEymowsbygNfGA9/8LePEiW2cmFD2f78zvD4X360DGXxoBpP/9alYTR/rJ/FL735oy8+N2xtz//J4QGPvhGP95mcvfLhm8tjsvhFQg9vPzB861efXTsu3//wh8vnHfZLhz6Ng/HWW1eGYf6IpotfZHTtBzd2H49pUXw99dwxlPkrWobya88NW/OHPT3oYVo+jXf6tLzMV37+5vLhZPeF8uiza8fl+z//4fJ59yWUt086lF/ZGR7/q4+GYfLQxRMs5v+QdtOv0Zo84sbi6SKGMnl0kcXT3lBe+OKza8fl1etvLh+d5H6EsunXnV17/cb6VflElH/7yjCs/ijk6sXstlAyWBc6lK2Hbw+/8Z3rRAm5nI9Q1i/Hx//4m8Nwa35BOj8Ooz/9vcubLtzDYTK5SEdAKBfpo32M91Uoxzh4F+mmQrlIH+1jvK9COcbBu0g3/X+p8T2hCj3TjAAAAABJRU5ErkJggg=="),bg:Texture.from("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA8AAAAKECAYAAADIaFNVAAATO0lEQVR42u3dz4ocRRzAcQciZHGJ2UMgi0YQclAfwOMcAkEI5ORLeNOrT+DZmy/hSRAk4GHBiwfxtOYgCI5hgznsOqxuwMB6CcJU2Kmtre7qqq7P55Y/uztT/bPsb6abvvbZDz+dvwYAAAAzd80SAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAAAQwJYAAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAEAAA9CRzz/cHfX7f/HjqUUGAKo6PxHAAAAAdEEAAwAAIIABAABAAANQtbHvocn9+e4RBgDnJwIYAAAABDAAAAAIYAAAABDAQPs8t7bsekz9+t0jDID/Hzs/EcAAAAAggAEAAEAAAwAAIIDH45p4oJb9YuifX3r/af2e39z3a78HwPmJ85PqAxgAAAAEMAAAAAhgAAAAqCiAa78m3j1j8+KecsevpfeTO0+93fNrP8E8YH7Mj/MT5yfVBzAAAAAIYAAAABDAAAAAUFEAt36Nt3uE53W8zEtd6xlbj97vYU2dJ/f8pq1n7fNnPxl2P/H/F5yf2E+cnzg/KRLAAAAAIIABAABAAAMAAEDFAdzbNfGp95Qx7HrP7fWXnp/a70nC+lk/+8lU69HafLhH2H5iP3E8/fcwUQADAACAAAYAAAABDAAAABUHsGvkN7kneNz1ND/WD7Cf2A+dn5gn+wlMFsCWAAAAAAEMAAAAAhgAAAAE8Gy45yZvvaxH2vxYP8B+gvMT5yf2ExDAAAAAIIABAABAAAMAAIAAJpd7QqwXYD8B/31YLxDAAAAAIIABAABAAAMAAIAAntrYz90b+x4MzwkEAOcnzk8AAQwAAAACGAAAAAQwAAAACGA2Tf2ctdjPdw8OADg/cX4CCGAAAAAQwAAAACCAAQAAQAC3bup7ZrwfAMD5CYAABgAAAAEMAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAQAADAACAAAYAAAABDAAAAAIYAAAABDCX8fOfz5L+/mp9a9Cf//CuY2A+zId5MS/mw3xgXjAftDkvAhgAAIAuCGAAAAAEMAAAAAhgqvDuG9sP4Wq9+evl/nHS9z842rPI5sN8mBfzgvnAvGA+mMW8CGAAAAC6IIABAAAQwAAAACCAG/X89GzQ73d9d2fU1/vNr+HvbD7nKrzmPdVvf7/Y+HXsGnvzYT4wL+bFfJgP82JezIf5MC+tzotpAQAAoAsCGAAAAAEMAAAAArhSQ1/zXpvU56DF9HbPhPkwH+bFvJgP82FezIv5MB/mpd958QkwAAAAXRDAAAAACGAAAACYTQC/+tyl7R7eresNjH0N/KOnO0XfT+r6xp6DlvvnodbmxXyYD/NiXsyH+TAv5sV+Yj7sJ+bl/wD2bwAAAAD0QAADAAAggAEAAGA2AXznxrON3wivmT442qvqBU/93Kvc51KF16Cv1reaGpja58V8mA/zYl7Mh/kwL+bFfmI+7Cfm5cIA9m8AAAAA9EAAAwAAIIABAABgNgEcXpO9Wm//gtTnaIVqe65WrtTnkA0t9vNy/zxkXsyH+TAv5sV8mA/zYl7Mh/mwn7Q6Lz4BBgAAoAsCGAAAAAEMAAAAswng2HOxcoXP1Up9rtX13Z1BX8+jpzuDvp9Q7J6CocWuyc/981Bt82I+zIf9xLzYT8yH/cS82E/Mh/3EvFz2z30CDAAAQBcEMAAAAAIYAAAABPBMLPePR/3+4TXnofC5ZJgP82FezIv5MB+YF8wH5kUAAwAAgAAGAAAAAQwAAIAAjv2FoZ/DVZvSzyGLefW5Yduf4xX7ebl/Xno9zYf5sJ+YF/uJ+bCfmBfzYj7Mh3kZa158AgwAAEAXBDAAAAACGAAAAAQwo3j8z2nwOzsWBfOBecF8YF4wH5gXAQwAAAACGAAAAAQwAAAAAnhD6edwlTb0c6UOjvayXs9qfSvp79f2XK+5zYv5MB/mxbyYD/NhXsyL+TAf9pP5zItPgAEAAOiCAAYAAEAAAwAAQDcBXPoa/NKGvqY8tNw/zno9qdfIt76e5sN82E/Mi/3EfNhPzIt5MR/mw7xMFsAAAAAwBwIYAAAAAQwAAAACuJDnp2ezWvDanlvW+nPNzIf5MC/mxXyYD/NiXsyH+TAv5uWyf+4TYAAAALoggAEAABDAAAAA0E0Az/0a/KGvKV+ty77+oZ/rNfU1+ubDfNhPzIv9xHzYT8yLeTEf5sO8jDUvPgEGAACgCwIYAAAAAQwAAADdBHDpa/C/fPxt1td/+t6DpL8/9DXlMeHXf/XL90lff3iy+euP3lmOOiCHJ19v/fkxn7x/b9R5ae39xnz3+0HW61/u36t6w7Gf2E/sJ1d/vwdHe/aTLVLnP3T/9gP7if3E+YnzE+cnHewnPgEGAACgCwIYAAAAAQwAAAAC+Ipi17y/+da419R/cPPjou83ds177vuN3ZMR3vOR+vW5ry/2/mOvr7X5y73HofR6t/7cO/uJ/WRO+8lisbCfZLyem2+/bj+xn9hPnJ84P7GfRL/eJ8AAAAB0QQADAAAggAEAAKCbAE69Bn/sa8BjYt//8Mn256jF7kHIfc7g0O8/9v1qPx7x9dy8h+H+7bONX+c+R6308fjryYuq1zv23NHwOYShOzeW9hP7if3kis7Pz2e9n4TPkYzd0xV7zmnuPb8nf/xrP7GfOD9xfuL8pMP9xCfAAAAAdEEAAwAAIIABAABgNgEcuwcnFF4zHl5zPfY172Mb+zmD4T1Hoanv+Uj9+bn3jOTew+B4DHt8cue/t/0k954U82s/sZ+Mt97h9y99z6/zE/uJ4+H8xPlJnfPrE2AAAAC6IIABAAAQwAAAADCbAE69xjt2zfhisWh6QXKvec/9/qn3NA0tPH5jv56p329rx6O215f781rfT8yv/aTn/aT19W7tfMX82k+cnzg/Mb8DBbB/AwAAAKAHAhgAAAABDAAAAN0G8NjXdMe+PvX1hd+v9D0HY69v6vuJrW/pe2p6Px65x2vo41P7+tpP7CeOx3T7Se/rbT+xn9hPnJ84P5nHfuITYAAAALoggAEAABDAAAAAIIAvMPVzn3KvqW/d3J+L5/j0dXzsJ+YV819qf7Ge9hPHx/FxftLHvPoEGAAAgC4IYAAAAAQwAAAACOALTH2N/9TX5JdW+rlfva1v6nqYf/uJ/cT62k/aOD7m3fraTxwf5yd97ic+AQYAAKALAhgAAAABDAAAAAL4pdL3eORKvWZ+6vfT+vr2/pyy2o5X7fNvP7G+9hP7Sa/zbz3tJ/YT5yf2kzKvxyfAAAAAdEEAAwAAIIABAABAAL809+emeT3mw/GyfvYTr9/7Nf9ev/X0fp2fmId5vB6fAAMAANAFAQwAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAAOjZf9zVXwdwBghZAAAALXRFWHRTb2Z0d2FyZQBieS5ibG9vZGR5LmNyeXB0by5pbWFnZS5QTkcyNEVuY29kZXKoBn/uAAAAAElFTkSuQmCC"),player:Texture.from("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAAAwCAYAAACooNxlAAABb0lEQVR42u2ZIU5DQRBAf5MqBArBFSiiKIJBECq6SU/QK1SjKZoguQISRdIKmooaUlVE26QOh0AhcOSjd0J2Mpndj+CNm/R32rzMvM5u21XhuDg6rUvWn2+XrZz12hUBEIA0CURzxOShZ6oXhs9RPl0tks/3T87rnE6hQwACkLJApDM0R3zvHpOvD8b7JmfIkM97nUKHAAQgPiDWs4fcG57Gn64vtH5/ifLjwzNtD8nqFDoEIACxAZHOsO4B2kx7nUKHAAQg/wvIL3tA0ikyH/SvovxuepvcS7zOo0MAApC8QOrNTZS3OtemgvL91tCc4g25d8mzDR3CyADEBkTOUBhW4s7UVtB7PyLvWCdfr0UBBOEUOoSRAYgPiOYULe4vP6L8TTlqjGYHSWeEvW5RAOwhjAxAmgUiHeENWS/MukX3EM1JdAhAAJIXiPydHlXp/369jtGcknvvoEMYGYA0C0SbQc0xuT+PDgEIQP40fgDUyYOiZ1v97gAAAC10RVh0U29mdHdhcmUAYnkuYmxvb2RkeS5jcnlwdG8uaW1hZ2UuUE5HMjRFbmNvZGVyqAZ/7gAAAABJRU5ErkJggg==")};eruda.init();const app=new Application({width:600,height:550});document.body.appendChild(app.view);const bg=new Sprite(Textures.bg);bg.y=app.view.height-644;app.stage.addChild(bg);const uDied=new Text$1("You died",{align:"center"});uDied.x=app.view.width/2;uDied.y=100;class Player extends Sprite{constructor(){super(Textures.player);ti(this,"gravity");ti(this,"ySpeed");this.x=100,this.y=app.view.height/2,this.height=50,this.gravity=1,this.ySpeed=0,this.addEventListeners()}addEventListeners(){window.addEventListener("keydown",({key:t,repeat:r})=>{t==" "&&!r&&(this.ySpeed=-10)}),app.stage.on("mousedown",()=>{this.ySpeed=-10})}async update(){this.ySpeed+=this.gravity,this.ySpeed>10&&(this.ySpeed=10),this.y+=this.ySpeed,this.hasDied()&&(app.stage.addChild(uDied),await new Promise(t=>setTimeout(t,1e3)),app.stage.removeChild(uDied),this.y=app.view.height/2,pipes.forEach(t=>t.remove()),pipes=[])}hasDied(){return this.y>app.view.height-this.height||pipes.filter(t=>this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.height+this.y>t.y).length>0}}class Pipe extends Sprite{constructor(e,t){super(t),this.y=e,this.x=app.view.width+87,this.width=87,this.height=793}update(){this.x-=5,this.x<-87&&this.remove()}remove(){app.stage.removeChild(this)}}class PipeBottom extends Pipe{constructor(e){super(e,Textures.pipeTop)}}class PipeTop extends Pipe{constructor(e){super(e,Textures.pipeBottom)}}let pipes=[];const player=new Player;app.stage.addChild(player);async function frame(){await player.update(),pipes.forEach(n=>n.update()),requestAnimationFrame(frame)}frame();setInterval(()=>{const n=new PipeBottom(app.view.height-Math.floor(Math.random()*400)),e=new PipeTop(n.y-793-150);app.stage.addChild(n,e),pipes.push(n,e)},1500);
